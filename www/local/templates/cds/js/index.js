/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={3788:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},398:e=>{var t=-1;function n(e,d,p,v,y){if(e===d)return e?[[0,e]]:[];if(null!=p){var b=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,a=t.length;if(0===r.length&&(null===i||0===i.length)){var s=r.index,l=e.slice(0,s),u=e.slice(s),c=i?i.index:null,f=s+a-o;if((null===c||c===f)&&!(f<0||f>a)){var h=t.slice(0,f);if((v=t.slice(f))===u){var d=Math.min(s,f);if((b=l.slice(0,d))===(w=h.slice(0,d)))return m(b,l.slice(d),h.slice(d),u)}}if(null===c||c===s){var p=s,v=(h=t.slice(0,p),t.slice(p));if(h===l){var y=Math.min(o-p,a-p);if((g=u.slice(u.length-y))===(_=v.slice(v.length-y)))return m(l,u.slice(0,u.length-y),v.slice(0,v.length-y),g)}}}if(r.length>0&&i&&0===i.length){var b=e.slice(0,r.index),g=e.slice(r.index+r.length);if(!(a<(d=b.length)+(y=g.length))){var w=t.slice(0,d),_=t.slice(a-y);if(b===w&&g===_)return m(b,e.slice(d,o-y),t.slice(d,a-y),g)}}return null}(e,d,p);if(b)return b}var g=i(e,d),w=e.substring(0,g);g=a(e=e.substring(g),d=d.substring(g));var _=e.substring(e.length-g),k=function(e,o){var s;if(!e)return[[1,o]];if(!o)return[[t,e]];var l=e.length>o.length?e:o,u=e.length>o.length?o:e,c=l.indexOf(u);if(-1!==c)return s=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],e.length>o.length&&(s[0][0]=s[2][0]=t),s;if(1===u.length)return[[t,e],[1,o]];var f=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,s,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,f="";-1!==(c=t.indexOf(u,c+1));){var h=i(e.substring(n),t.substring(c)),d=a(e.substring(0,n),t.substring(0,c));f.length<d+h&&(f=t.substring(c-d,c)+t.substring(c,c+h),r=e.substring(0,n-d),o=e.substring(n+h),s=t.substring(0,c-d),l=t.substring(c+h))}return 2*f.length>=e.length?[r,o,s,l,f]:null}var s,l,u,c,f,h=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!h&&!d)return null;s=d?h&&h[4].length>d[4].length?h:d:h;e.length>t.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]);var p=s[4];return[l,u,c,f,p]}(e,o);if(f){var h=f[0],d=f[1],p=f[2],v=f[3],y=f[4],m=n(h,p),b=n(d,v);return m.concat([[0,y]],b)}return function(e,n){for(var i=e.length,o=n.length,a=Math.ceil((i+o)/2),s=a,l=2*a,u=new Array(l),c=new Array(l),f=0;f<l;f++)u[f]=-1,c[f]=-1;u[s+1]=0,c[s+1]=0;for(var h=i-o,d=h%2!=0,p=0,v=0,y=0,m=0,b=0;b<a;b++){for(var g=-b+p;g<=b-v;g+=2){for(var w=s+g,_=(S=g===-b||g!==b&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-g;S<i&&_<o&&e.charAt(S)===n.charAt(_);)S++,_++;if(u[w]=S,S>i)v+=2;else if(_>o)p+=2;else if(d){if((O=s+h-g)>=0&&O<l&&-1!==c[O])if(S>=(x=i-c[O]))return r(e,n,S,_)}}for(var k=-b+y;k<=b-m;k+=2){for(var x,O=s+k,P=(x=k===-b||k!==b&&c[O-1]<c[O+1]?c[O+1]:c[O-1]+1)-k;x<i&&P<o&&e.charAt(i-x-1)===n.charAt(o-P-1);)x++,P++;if(c[O]=x,x>i)m+=2;else if(P>o)y+=2;else if(!d){if((w=s+h-k)>=0&&w<l&&-1!==u[w]){var S;_=s+(S=u[w])-w;if(S>=(x=i-x))return r(e,n,S,_)}}}}return[[t,e],[1,n]]}(e,o)}(e=e.substring(0,e.length-g),d=d.substring(0,d.length-g));return w&&k.unshift([0,w]),_&&k.push([0,_]),h(k,y),v&&function(e){var n=!1,r=[],i=0,d=null,p=0,v=0,y=0,m=0,b=0;for(;p<e.length;)0==e[p][0]?(r[i++]=p,v=m,y=b,m=0,b=0,d=e[p][1]):(1==e[p][0]?m+=e[p][1].length:b+=e[p][1].length,d&&d.length<=Math.max(v,y)&&d.length<=Math.max(m,b)&&(e.splice(r[i-1],0,[t,d]),e[r[i-1]+1][0]=1,i--,p=--i>0?r[i-1]:-1,v=0,y=0,m=0,b=0,d=null,n=!0)),p++;n&&h(e);(function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(s),o=r.match(s),a=i&&n.match(l),h=o&&r.match(l),d=a&&n.match(u),p=h&&r.match(u),v=d&&e.match(c),y=p&&t.match(f);return v||y?5:d||p?4:i&&!a&&h?3:a||h?2:i||o?1:0}var n=1;for(;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],i=e[n][1],o=e[n+1][1],h=a(r,i);if(h){var d=i.substring(i.length-h);r=r.substring(0,r.length-h),i=d+i.substring(0,i.length-h),o=d+o}for(var p=r,v=i,y=o,m=t(r,i)+t(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var b=t(r,i)+t(i,o);b>=m&&(m=b,p=r,v=i,y=o)}e[n-1][1]!=p&&(p?e[n-1][1]=p:(e.splice(n-1,1),n--),e[n][1]=v,y?e[n+1][1]=y:(e.splice(n+1,1),n--))}n++}})(e),p=1;for(;p<e.length;){if(e[p-1][0]==t&&1==e[p][0]){var g=e[p-1][1],w=e[p][1],_=o(g,w),k=o(w,g);_>=k?(_>=g.length/2||_>=w.length/2)&&(e.splice(p,0,[0,w.substring(0,_)]),e[p-1][1]=g.substring(0,g.length-_),e[p+1][1]=w.substring(_),p++):(k>=g.length/2||k>=w.length/2)&&(e.splice(p,0,[0,g.substring(0,k)]),e[p-1][0]=1,e[p-1][1]=w.substring(0,w.length-k),e[p+1][0]=t,e[p+1][1]=g.substring(k),p++),p++}p++}}(k),k}function r(e,t,r,i){var o=e.substring(0,r),a=t.substring(0,i),s=e.substring(r),l=t.substring(i),u=n(o,a),c=n(s,l);return u.concat(c)}function i(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return d(e.charCodeAt(i-1))&&i--,i}function o(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var s=e.substring(i-a),l=t.indexOf(s);if(-1==l)return o;a+=l,0!=l&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}}function a(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return p(e.charCodeAt(e.length-i))&&i--,i}var s=/[^a-zA-Z0-9]/,l=/\s/,u=/[\r\n]/,c=/\n\r?\n$/,f=/^\r?\n\r?\n/;function h(e,n){e.push([0,""]);for(var r,o=0,s=0,l=0,u="",c="";o<e.length;)if(o<e.length-1&&!e[o][1])e.splice(o,1);else switch(e[o][0]){case 1:l++,c+=e[o][1],o++;break;case t:s++,u+=e[o][1],o++;break;case 0:var f=o-l-s-1;if(n){if(f>=0&&y(e[f][1])){var d=e[f][1].slice(-1);if(e[f][1]=e[f][1].slice(0,-1),u=d+u,c=d+c,!e[f][1]){e.splice(f,1),o--;var p=f-1;e[p]&&1===e[p][0]&&(l++,c=e[p][1]+c,p--),e[p]&&e[p][0]===t&&(s++,u=e[p][1]+u,p--),f=p}}if(v(e[o][1])){d=e[o][1].charAt(0);e[o][1]=e[o][1].slice(1),u+=d,c+=d}}if(o<e.length-1&&!e[o][1]){e.splice(o,1);break}if(u.length>0||c.length>0){u.length>0&&c.length>0&&(0!==(r=i(c,u))&&(f>=0?e[f][1]+=c.substring(0,r):(e.splice(0,0,[0,c.substring(0,r)]),o++),c=c.substring(r),u=u.substring(r)),0!==(r=a(c,u))&&(e[o][1]=c.substring(c.length-r)+e[o][1],c=c.substring(0,c.length-r),u=u.substring(0,u.length-r)));var m=l+s;0===u.length&&0===c.length?(e.splice(o-m,m),o-=m):0===u.length?(e.splice(o-m,m,[1,c]),o=o-m+1):0===c.length?(e.splice(o-m,m,[t,u]),o=o-m+1):(e.splice(o-m,m,[t,u],[1,c]),o=o-m+2)}0!==o&&0===e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,l=0,s=0,u="",c=""}""===e[e.length-1][1]&&e.pop();var b=!1;for(o=1;o<e.length-1;)0===e[o-1][0]&&0===e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)===e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),b=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),b=!0)),o++;b&&h(e,n)}function d(e){return e>=55296&&e<=56319}function p(e){return e>=56320&&e<=57343}function v(e){return p(e.charCodeAt(0))}function y(e){return d(e.charCodeAt(e.length-1))}function m(e,n,r,i){return y(e)||v(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,r],[0,i]])}function b(e,t,r,i){return n(e,t,r,i,!0)}b.INSERT=1,b.DELETE=t,b.EQUAL=0,e.exports=b},4534:function(e,t,n){var r,i,o,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}e=n.nmd(e),"undefined"!=typeof self&&self,a=function(){return function(){"use strict";var e={3976:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(e,t){return"function"==typeof t.onBeforeMask?t.onBeforeMask.call(this,e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===n)return e.__data?e.__data[t]:null;e.__data=e.__data||{},e.__data[t]=n}},3776:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0,t.off=function(e,t){var n,r;return c(this[0])&&e&&(n=this[0].eventRegistry,r=this[0],e.split(" ").forEach((function(e){var i=a(e.split("."),2);(function(e,r){var i,o,a=[];if(e.length>0)if(void 0===t)for(i=0,o=n[e][r].length;i<o;i++)a.push({ev:e,namespace:r&&r.length>0?r:"global",handler:n[e][r][i]});else a.push({ev:e,namespace:r&&r.length>0?r:"global",handler:t});else if(r.length>0)for(var s in n)for(var l in n[s])if(l===r)if(void 0===t)for(i=0,o=n[s][l].length;i<o;i++)a.push({ev:s,namespace:l,handler:n[s][l][i]});else a.push({ev:s,namespace:l,handler:t});return a})(i[0],i[1]).forEach((function(e){var t=e.ev,i=e.handler;!function(e,t,i){if(e in n==1)if(r.removeEventListener?r.removeEventListener(e,i,!1):r.detachEvent&&r.detachEvent("on".concat(e),i),"global"===t)for(var o in n[e])n[e][o].splice(n[e][o].indexOf(i),1);else n[e][t].splice(n[e][t].indexOf(i),1)}(t,e.namespace,i)}))}))),this},t.on=function(e,t){if(c(this[0])){var n=this[0].eventRegistry,r=this[0];e.split(" ").forEach((function(e){var i=a(e.split("."),2),o=i[0],s=i[1];!function(e,i){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on".concat(e),t),n[e]=n[e]||{},n[e][i]=n[e][i]||[],n[e][i].push(t)}(o,void 0===s?"global":s)}))}return this},t.trigger=function(e){var t=arguments;if(c(this[0]))for(var n=this[0].eventRegistry,r=this[0],a="string"==typeof e?e.split(" "):[e.type],s=0;s<a.length;s++){var l=a[s].split("."),f=l[0],h=l[1]||"global";if(void 0!==u&&"global"===h){var d,p={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(u.createEvent){try{"input"===f?(p.inputType="insertText",d=new InputEvent(f,p)):d=new CustomEvent(f,p)}catch(e){(d=u.createEvent("CustomEvent")).initCustomEvent(f,p.bubbles,p.cancelable,p.detail)}e.type&&(0,i.default)(d,e),r.dispatchEvent(d)}else(d=u.createEventObject()).eventType=f,d.detail=arguments[1],e.type&&(0,i.default)(d,e),r.fireEvent("on"+d.eventType,d)}else if(void 0!==n[f]){arguments[0]=arguments[0].type?arguments[0]:o.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var v=n[f];("global"===h?Object.values(v).flat():v[h]).forEach((function(e){return e.apply(r,t)}))}}return this};var r=l(n(9380)),i=l(n(600)),o=l(n(4963));function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return e&&e.__esModule?e:{default:e}}var u=r.default.document;function c(e){return e instanceof Element}var f=t.Event=void 0;"function"==typeof r.default.CustomEvent?t.Event=f=r.default.CustomEvent:r.default.Event&&u&&u.createEvent?(t.Event=f=function(e,t){t=t||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var n=u.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},f.prototype=r.default.Event.prototype):"undefined"!=typeof Event&&(t.Event=f=Event)},600:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){var t,r,i,o,a,s,l=arguments[0]||{},u=1,c=arguments.length,f=!1;for("boolean"==typeof l&&(f=l,l=arguments[u]||{},u++),"object"!==n(l)&&"function"!=typeof l&&(l={});u<c;u++)if(null!=(t=arguments[u]))for(r in t)i=l[r],l!==(o=t[r])&&(f&&o&&("[object Object]"===Object.prototype.toString.call(o)||(a=Array.isArray(o)))?(a?(a=!1,s=i&&Array.isArray(i)?i:[]):s=i&&"[object Object]"===Object.prototype.toString.call(i)?i:{},l[r]=e(f,s,o)):void 0!==o&&(l[r]=o));return l}},4963:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(9380)),i=s(n(253)),o=n(3776),a=s(n(600));function s(e){return e&&e.__esModule?e:{default:e}}var l=r.default.document;function u(e){return e instanceof u?e:this instanceof u?void(null!=e&&e!==r.default&&(this[0]=e.nodeName?e:void 0!==e[0]&&e[0].nodeName?e[0]:l.querySelector(e),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new u(e)}u.prototype={on:o.on,off:o.off,trigger:o.trigger},u.extend=a.default,u.data=i.default,u.Event=o.Event,t.default=u},9845:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mobile=t.iphone=t.ie=void 0;var r,i=(r=n(9380))&&r.__esModule?r:{default:r},o=i.default.navigator&&i.default.navigator.userAgent||"";t.ie=o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0,t.mobile=i.default.navigator&&i.default.navigator.userAgentData&&i.default.navigator.userAgentData.mobile||i.default.navigator&&i.default.navigator.maxTouchPoints||"ontouchstart"in i.default,t.iphone=/iphone/i.test(o)},7184:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,"\\$1")};var n=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandlers=void 0;var i,o=n(9845),a=(i=n(9380))&&i.__esModule?i:{default:i},l=n(7760),u=n(2839),c=n(8711),f=n(7215),h=n(4713);function d(){d=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new C(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function w(){}function _(){}var k={};c(k,s,(function(){return this}));var x=Object.getPrototypeOf,O=x&&x(x(M([])));O&&O!==n&&i.call(O,s)&&(k=O);var P=_.prototype=g.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,s,l){var u=h(e[o],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==r(f)&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function j(t,n,r){var i=p;return function(o,a){if(i===y)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=T(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=y;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?m:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return w.prototype=_,o(P,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=c(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(P),c(P,u,"Generator"),c(P,s,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var m,b,g=t.EventHandlers={keyEvent:function(e,t,n,r,i){var a=this.inputmask,s=a.opts,d=a.dependencyLib,p=a.maskset,v=this,y=d(v),m=e.key,b=c.caret.call(a,v),w=s.onKeyDown.call(this,e,c.getBuffer.call(a),b,s);if(void 0!==w)return w;if(m===u.keys.Backspace||m===u.keys.Delete||o.iphone&&m===u.keys.BACKSPACE_SAFARI||e.ctrlKey&&m===u.keys.x&&!("oncut"in v))e.preventDefault(),f.handleRemove.call(a,v,m,b),(0,l.writeBuffer)(v,c.getBuffer.call(a,!0),p.p,e,v.inputmask._valueGet()!==c.getBuffer.call(a).join(""));else if(m===u.keys.End||m===u.keys.PageDown){e.preventDefault();var _=c.seekNext.call(a,c.getLastValidPosition.call(a));c.caret.call(a,v,e.shiftKey?b.begin:_,_,!0)}else m===u.keys.Home&&!e.shiftKey||m===u.keys.PageUp?(e.preventDefault(),c.caret.call(a,v,0,e.shiftKey?b.begin:0,!0)):s.undoOnEscape&&m===u.keys.Escape&&!0!==e.altKey?((0,l.checkVal)(v,!0,!1,a.undoValue.split("")),y.trigger("click")):m!==u.keys.Insert||e.shiftKey||e.ctrlKey||void 0!==a.userOptions.insertMode?!0===s.tabThrough&&m===u.keys.Tab?!0===e.shiftKey?(b.end=c.seekPrevious.call(a,b.end,!0),!0===h.getTest.call(a,b.end-1).match.static&&b.end--,b.begin=c.seekPrevious.call(a,b.end,!0),b.begin>=0&&b.end>0&&(e.preventDefault(),c.caret.call(a,v,b.begin,b.end))):(b.begin=c.seekNext.call(a,b.begin,!0),b.end=c.seekNext.call(a,b.begin,!0),b.end<p.maskLength&&b.end--,b.begin<=p.maskLength&&(e.preventDefault(),c.caret.call(a,v,b.begin,b.end))):e.shiftKey||(s.insertModeVisual&&!1===s.insertMode?m===u.keys.ArrowRight?setTimeout((function(){var e=c.caret.call(a,v);c.caret.call(a,v,e.begin)}),0):m===u.keys.ArrowLeft&&setTimeout((function(){var e=c.translatePosition.call(a,v.inputmask.caretPos.begin);c.translatePosition.call(a,v.inputmask.caretPos.end),a.isRTL?c.caret.call(a,v,e+(e===p.maskLength?0:1)):c.caret.call(a,v,e-(0===e?0:1))}),0):void 0===a.keyEventHook||a.keyEventHook(e)):f.isSelection.call(a,b)?s.insertMode=!s.insertMode:(s.insertMode=!s.insertMode,c.caret.call(a,v,b.begin,b.begin));return a.isComposing=m==u.keys.Process||m==u.keys.Unidentified,a.ignorable=m.length>1&&!("textarea"===v.tagName.toLowerCase()&&m==u.keys.Enter),g.keypressEvent.call(this,e,t,n,r,i)},keypressEvent:function(e,t,n,r,i){var o=this.inputmask||this,a=o.opts,s=o.dependencyLib,h=o.maskset,d=o.el,p=s(d),v=e.key;if(!0===t||e.ctrlKey&&e.altKey&&!o.ignorable||!(e.ctrlKey||e.metaKey||o.ignorable)){if(v){var y,m=t?{begin:i,end:i}:c.caret.call(o,d);t||(v=a.substitutes[v]||v),h.writeOutBuffer=!0;var b=f.isValid.call(o,m,v,r,void 0,void 0,void 0,t);if(!1!==b&&(c.resetMaskSet.call(o,!0),y=void 0!==b.caret?b.caret:c.seekNext.call(o,b.pos.begin?b.pos.begin:b.pos),h.p=y),y=a.numericInput&&void 0===b.caret?c.seekPrevious.call(o,y):y,!1!==n&&(setTimeout((function(){a.onKeyValidation.call(d,v,b)}),0),h.writeOutBuffer&&!1!==b)){var g=c.getBuffer.call(o);(0,l.writeBuffer)(d,g,y,e,!0!==t)}if(e.preventDefault(),t)return!1!==b&&(b.forwardPosition=y),b}}else v===u.keys.Enter&&o.undoValue!==o._valueGet(!0)&&(o.undoValue=o._valueGet(!0),setTimeout((function(){p.trigger("change")}),0))},pasteEvent:(m=d().mark((function e(t){var n,r,i,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e,n,r,i,a){var s=c.caret.call(e,n,void 0,void 0,!0),u=r.substr(0,s.begin),f=r.substr(s.end,r.length);if(u==(e.isRTL?c.getBufferTemplate.call(e).slice().reverse():c.getBufferTemplate.call(e)).slice(0,s.begin).join("")&&(u=""),f==(e.isRTL?c.getBufferTemplate.call(e).slice().reverse():c.getBufferTemplate.call(e)).slice(s.end).join("")&&(f=""),i=u+i+f,e.isRTL&&!0!==o.numericInput){i=i.split("");var h,d=p(c.getBufferTemplate.call(e));try{for(d.s();!(h=d.n()).done;){var v=h.value;i[0]===v&&i.shift()}}catch(e){d.e(e)}finally{d.f()}i=i.reverse().join("")}var y=i;if("function"==typeof a){if(!1===(y=a.call(e,y,o)))return!1;y||(y=r)}(0,l.checkVal)(n,!0,!1,y.toString().split(""),t)},r=this,i=this.inputmask,o=i.opts,s=i._valueGet(!0),i.skipInputEvent=!0,t.clipboardData&&t.clipboardData.getData?u=t.clipboardData.getData("text/plain"):a.default.clipboardData&&a.default.clipboardData.getData&&(u=a.default.clipboardData.getData("Text")),n(i,r,s,u,o.onBeforePaste),t.preventDefault();case 7:case"end":return e.stop()}}),e,this)})),b=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=m.apply(e,t);function o(e){y(i,n,r,o,a,"next",e)}function a(e){y(i,n,r,o,a,"throw",e)}o(void 0)}))},function(e){return b.apply(this,arguments)}),inputFallBackEvent:function(e){var t,n=this.inputmask,r=n.opts,i=n.dependencyLib,a=this,s=a.inputmask._valueGet(!0),f=(n.isRTL?c.getBuffer.call(n).slice().reverse():c.getBuffer.call(n)).join(""),d=c.caret.call(n,a,void 0,void 0,!0);if(f!==s){if(t=function(e,t,i){for(var o,a,s,l=e.substr(0,i.begin).split(""),u=e.substr(i.begin).split(""),f=t.substr(0,i.begin).split(""),d=t.substr(i.begin).split(""),p=l.length>=f.length?l.length:f.length,v=u.length>=d.length?u.length:d.length,y="",m=[],b="~";l.length<p;)l.push(b);for(;f.length<p;)f.push(b);for(;u.length<v;)u.unshift(b);for(;d.length<v;)d.unshift(b);var g=l.concat(u),w=f.concat(d);for(a=0,o=g.length;a<o;a++)switch(s=h.getPlaceholder.call(n,c.translatePosition.call(n,a)),y){case"insertText":w[a-1]===g[a]&&i.begin==g.length-1&&m.push(g[a]),a=o;break;case"insertReplacementText":case"deleteContentBackward":g[a]===b?i.end++:a=o;break;default:g[a]!==w[a]&&(g[a+1]!==b&&g[a+1]!==s&&void 0!==g[a+1]||(w[a]!==s||w[a+1]!==b)&&w[a]!==b?w[a+1]===b&&w[a]===g[a+1]?(y="insertText",m.push(g[a]),i.begin--,i.end--):g[a]!==s&&g[a]!==b&&(g[a+1]===b||w[a]!==g[a]&&w[a+1]===g[a+1])?(y="insertReplacementText",m.push(g[a]),i.begin--):g[a]===b?(y="deleteContentBackward",(c.isMask.call(n,c.translatePosition.call(n,a),!0)||w[a]===r.radixPoint)&&i.end++):a=o:(y="insertText",m.push(g[a]),i.begin--,i.end--))}return{action:y,data:m,caret:i}}(s,f,d),(a.inputmask.shadowRoot||a.ownerDocument).activeElement!==a&&a.focus(),(0,l.writeBuffer)(a,c.getBuffer.call(n)),c.caret.call(n,a,d.begin,d.end,!0),!o.mobile&&n.skipNextInsert&&"insertText"===e.inputType&&"insertText"===t.action&&n.isComposing)return!1;switch("insertCompositionText"===e.inputType&&"insertText"===t.action&&n.isComposing?n.skipNextInsert=!0:n.skipNextInsert=!1,t.action){case"insertText":case"insertReplacementText":t.data.forEach((function(e,t){var r=new i.Event("keypress");r.key=e,n.ignorable=!1,g.keypressEvent.call(a,r)})),setTimeout((function(){n.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var p=new i.Event("keydown");p.key=u.keys.Backspace,g.keyEvent.call(a,p);break;default:(0,l.applyInputValue)(a,s),c.caret.call(n,a,d.begin,d.end,!0)}e.preventDefault()}},setValueEvent:function(e){var t=this.inputmask,n=t.dependencyLib,r=this,i=e&&e.detail?e.detail[0]:arguments[1];void 0===i&&(i=r.inputmask._valueGet(!0)),(0,l.applyInputValue)(r,i,new n.Event("input")),(e.detail&&void 0!==e.detail[1]||void 0!==arguments[2])&&c.caret.call(t,r,e.detail?e.detail[1]:arguments[2])},focusEvent:function(e){var t=this.inputmask,n=t.opts,r=t&&t._valueGet();n.showMaskOnFocus&&r!==c.getBuffer.call(t).join("")&&(0,l.writeBuffer)(this,c.getBuffer.call(t),c.seekNext.call(t,c.getLastValidPosition.call(t))),!0!==n.positionCaretOnTab||!1!==t.mouseEnter||f.isComplete.call(t,c.getBuffer.call(t))&&-1!==c.getLastValidPosition.call(t)||g.clickEvent.apply(this,[e,!0]),t.undoValue=t&&t._valueGet(!0)},invalidEvent:function(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var e=this.inputmask,t=e.opts,n=this;e.mouseEnter=!1,t.clearMaskOnLostFocus&&(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n&&(0,l.HandleNativePlaceholder)(n,e.originalPlaceholder)},clickEvent:function(e,t){var n=this.inputmask;n.clicked++;var r=this;if((r.inputmask.shadowRoot||r.ownerDocument).activeElement===r){var i=c.determineNewCaretPosition.call(n,c.caret.call(n,r),t);void 0!==i&&c.caret.call(n,r,i)}},cutEvent:function(e){var t=this.inputmask,n=t.maskset,r=this,i=c.caret.call(t,r),o=t.isRTL?c.getBuffer.call(t).slice(i.end,i.begin):c.getBuffer.call(t).slice(i.begin,i.end),s=t.isRTL?o.reverse().join(""):o.join("");a.default.navigator&&a.default.navigator.clipboard?a.default.navigator.clipboard.writeText(s):a.default.clipboardData&&a.default.clipboardData.getData&&a.default.clipboardData.setData("Text",s),f.handleRemove.call(t,r,u.keys.Delete,i),(0,l.writeBuffer)(r,c.getBuffer.call(t),n.p,e,t.undoValue!==t._valueGet(!0))},blurEvent:function(e){var t=this.inputmask,n=t.opts,r=t.dependencyLib;t.clicked=0;var i=r(this),o=this;if(o.inputmask){(0,l.HandleNativePlaceholder)(o,t.originalPlaceholder);var a=o.inputmask._valueGet(),s=c.getBuffer.call(t).slice();""!==a&&(n.clearMaskOnLostFocus&&(-1===c.getLastValidPosition.call(t)&&a===c.getBufferTemplate.call(t).join("")?s=[]:l.clearOptionalTail.call(t,s)),!1===f.isComplete.call(t,s)&&(setTimeout((function(){i.trigger("incomplete")}),0),n.clearIncomplete&&(c.resetMaskSet.call(t,!1),s=n.clearMaskOnLostFocus?[]:c.getBufferTemplate.call(t).slice())),(0,l.writeBuffer)(o,s,void 0,e)),a=t._valueGet(!0),t.undoValue!==a&&(""!=a||t.undoValue!=c.getBufferTemplate.call(t).join("")||t.undoValue==c.getBufferTemplate.call(t).join("")&&t.maskset.validPositions.length>0)&&(t.undoValue=a,i.trigger("change"))}},mouseenterEvent:function(){var e=this.inputmask,t=e.opts.showMaskOnHover,n=this;if(e.mouseEnter=!0,(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n){var r=(e.isRTL?c.getBufferTemplate.call(e).slice().reverse():c.getBufferTemplate.call(e)).join("");t&&(0,l.HandleNativePlaceholder)(n,r)}},submitEvent:function(){var e=this.inputmask,t=e.opts;e.undoValue!==e._valueGet(!0)&&e.$el.trigger("change"),-1===c.getLastValidPosition.call(e)&&e._valueGet&&e._valueGet()===c.getBufferTemplate.call(e).join("")&&e._valueSet(""),t.clearIncomplete&&!1===f.isComplete.call(e,c.getBuffer.call(e))&&e._valueSet(""),t.removeMaskOnSubmit&&(e._valueSet(e.unmaskedvalue(),!0),setTimeout((function(){(0,l.writeBuffer)(e.el,c.getBuffer.call(e))}),0))},resetEvent:function(){var e=this.inputmask;e.refreshValue=!0,setTimeout((function(){(0,l.applyInputValue)(e.el,e._valueGet(!0))}),0)}}},9716:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventRuler=void 0;var r,i=n(7760),o=(r=n(2394))&&r.__esModule?r:{default:r},a=n(2839),s=n(8711);t.EventRuler={on:function(e,t,n){var r=e.inputmask.dependencyLib,l=function(t){t.originalEvent&&(t=t.originalEvent||t,arguments[0]=t);var l,u=this,c=u.inputmask,f=c?c.opts:void 0;if(void 0===c&&"FORM"!==this.nodeName){var h=r.data(u,"_inputmask_opts");r(u).off(),h&&new o.default(h).mask(u)}else{if(["submit","reset","setvalue"].includes(t.type)||"FORM"===this.nodeName||!(u.disabled||u.readOnly&&!("keydown"===t.type&&t.ctrlKey&&t.key===a.keys.c||!1===f.tabThrough&&t.key===a.keys.Tab))){switch(t.type){case"input":if(!0===c.skipInputEvent)return c.skipInputEvent=!1,t.preventDefault();break;case"click":case"focus":return c.validationEvent?(c.validationEvent=!1,e.blur(),(0,i.HandleNativePlaceholder)(e,(c.isRTL?s.getBufferTemplate.call(c).slice().reverse():s.getBufferTemplate.call(c)).join("")),setTimeout((function(){e.focus()}),f.validationEventTimeOut),!1):(l=arguments,void setTimeout((function(){e.inputmask&&n.apply(u,l)}),0))}var d=n.apply(u,arguments);return!1===d&&(t.preventDefault(),t.stopPropagation()),d}t.preventDefault()}};["submit","reset"].includes(t)?(l=l.bind(e),null!==e.form&&r(e.form).on(t,l)):r(e).on(t,l),e.inputmask.events[t]=e.inputmask.events[t]||[],e.inputmask.events[t].push(l)},off:function(e,t){if(e.inputmask&&e.inputmask.events){var n=e.inputmask.dependencyLib,r=e.inputmask.events;for(var i in t&&((r=[])[t]=e.inputmask.events[t]),r){for(var o=r[i];o.length>0;){var a=o.pop();["submit","reset"].includes(i)?null!==e.form&&n(e.form).off(i,a):n(e).off(i,a)}delete e.inputmask.events[i]}}}}},219:function(e,t,n){var r=h(n(7184)),i=h(n(2394)),o=n(2839),a=n(8711),l=n(4713);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return c="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},c(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==c(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(i)?i:String(i)),r)}var i}function h(e){return e&&e.__esModule?e:{default:e}}n(1313);var d=i.default.dependencyLib,p=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mask=t,this.format=n,this.opts=r,this.inputmask=i,this._date=new Date(1,0,1),this.initDateObject(t,this.opts,this.inputmask)}var t,n;return t=e,(n=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(e,t,n){var r;for(x(t).lastIndex=0;r=x(t).exec(this.format);){var i=/\d+$/.exec(r[0]),o=i?r[0][0]+"x":r[0],a=void 0;if(void 0!==e){if(i){var s=x(t).lastIndex,u=T.call(n,r.index,t,n&&n.maskset);x(t).lastIndex=s,a=e.slice(0,e.indexOf(u.nextMatch[0]))}else{for(var c=r[0][0],f=r.index;n&&(t.placeholder[l.getTest.call(n,f).match.placeholder]||l.getTest.call(n,f).match.placeholder)===c;)f++;var h=f-r.index;a=e.slice(0,h||b[o]&&b[o][4]||o.length)}e=e.slice(a.length)}Object.prototype.hasOwnProperty.call(b,o)&&this.setValue(this,a,o,b[o][2],b[o][1])}}},{key:"setValue",value:function(e,t,n,r,i){if(void 0!==t)switch(r){case"ampm":e[r]=t,e["raw"+r]=t.replace(/\s/g,"_");break;case"month":if("mmm"===n||"mmmm"===n){e[r]=S("mmm"===n?y.monthNames.slice(0,12).findIndex((function(e){return t.toLowerCase()===e.toLowerCase()}))+1:y.monthNames.slice(12,24).findIndex((function(e){return t.toLowerCase()===e.toLowerCase()}))+1,2),e[r]="00"===e[r]?"":e[r].toString(),e["raw"+r]=e[r];break}default:e[r]=t.replace(/[^0-9]/g,"0"),e["raw"+r]=t.replace(/\s/g,"_")}if(void 0!==i){var o=e[r];("day"===r&&29===parseInt(o)||"month"===r&&2===parseInt(o))&&(29!==parseInt(e.day)||2!==parseInt(e.month)||""!==e.year&&void 0!==e.year||e._date.setFullYear(2012,1,29)),"day"===r&&(m=!0,0===parseInt(o)&&(o=1)),"month"===r&&(m=!0),"year"===r&&(m=!0,o.length<b[n][4]&&(o=S(o,b[n][4],!0))),(""!==o&&!isNaN(o)||"ampm"===r)&&i.call(e._date,o)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=(new Date).getFullYear(),y=i.default.prototype.i18n,m=!1,b={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return S(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(e){var t=e?parseInt(e):0;return t>0&&t--,Date.prototype.setMonth.call(this,t)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(e){var t=e?parseInt(e):0;return t>0&&t--,Date.prototype.setMonth.call(this,t)},"month",function(){return S(Date.prototype.getMonth.call(this)+1,2)}],mmm:[y.monthNames.slice(0,12).join("|"),function(e){var t=y.monthNames.slice(0,12).findIndex((function(t){return e.toLowerCase()===t.toLowerCase()}));return-1!==t&&Date.prototype.setMonth.call(this,t)},"month",function(){return y.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[y.monthNames.slice(12,24).join("|"),function(e){var t=y.monthNames.slice(12,24).findIndex((function(t){return e.toLowerCase()===t.toLowerCase()}));return-1!==t&&Date.prototype.setMonth.call(this,t)},"month",function(){return y.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(e){var t=(new Date).getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(t).concat(e))},"year",function(){return S(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return S(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return S(Date.prototype.getHours.call(this),2)}],hx:[function(e){return"[0-9]{".concat(e,"}")},Date.prototype.setHours,"hours",function(e){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return S(Date.prototype.getHours.call(this),2)}],Hx:[function(e){return"[0-9]{".concat(e,"}")},Date.prototype.setHours,"hours",function(e){return function(){return S(Date.prototype.getHours.call(this),e)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return S(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return S(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return S(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return S(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",w,"ampm",_,1],tt:["[ap]m",w,"ampm",_,2],T:["[AP]",w,"ampm",_,1],TT:["[AP]M",w,"ampm",_,2],Z:[".*",void 0,"Z",function(){var e=this.toString().match(/\((.+)\)/)[1];return e.includes(" ")&&(e=(e=e.replace("-"," ").toUpperCase()).split(" ").map((function(e){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0]})).join("")),e}],o:[""],S:[""]},g={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function w(e){var t=this.getHours();e.toLowerCase().includes("p")?this.setHours(t+12):e.toLowerCase().includes("a")&&t>=12&&this.setHours(t-12)}function _(){var e=this.getHours();return(e=e||12)>=12?"PM":"AM"}function k(e){var t=/\d+$/.exec(e[0]);if(t&&void 0!==t[0]){var n=b[e[0][0]+"x"].slice("");return n[0]=n[0](t[0]),n[3]=n[3](t[0]),n}if(b[e[0]])return b[e[0]]}function x(e){if(!e.tokenizer){var t=[],n=[];for(var r in b)if(/\.*x$/.test(r)){var i=r[0]+"\\d+";-1===n.indexOf(i)&&n.push(i)}else-1===t.indexOf(r[0])&&t.push(r[0]);e.tokenizer="("+(n.length>0?n.join("|")+"|":"")+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function O(e,t,n){if(!m)return!0;if(void 0===e.rawday||!isFinite(e.rawday)&&new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day||"29"==e.day&&(!isFinite(e.rawyear)||void 0===e.rawyear||""===e.rawyear)||new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day)return t;if("29"==e.day){var r=T.call(this,t.pos,n,this.maskset);if(r.targetMatch&&"yyyy"===r.targetMatch[0]&&t.pos-r.targetMatchIndex==2)return t.remove=t.pos+1,t}else if(2==e.date.getMonth()&&"30"==e.day&&void 0!==t.c)return e.day="03",e.date.setDate(3),e.date.setMonth(1),t.insert=[{pos:t.pos,c:"0"},{pos:t.pos+1,c:t.c}],t.caret=a.seekNext.call(this,t.pos+1),t;return!1}function P(e,t,n,i){var o,a,s="",l=0,u={};for(x(n).lastIndex=0;o=x(n).exec(e);){if(void 0===t)if(a=k(o))s+="("+a[0]+")",n.placeholder&&""!==n.placeholder?(u[l]=n.placeholder[o.index%n.placeholder.length],u[n.placeholder[o.index%n.placeholder.length]]=o[0].charAt(0)):u[l]=o[0].charAt(0);else switch(o[0]){case"[":s+="(";break;case"]":s+=")?";break;default:s+=(0,r.default)(o[0]),u[l]=o[0].charAt(0)}else(a=k(o))?!0!==i&&a[3]?s+=a[3].call(t.date):a[2]?s+=t["raw"+a[2]]:s+=o[0]:s+=o[0];l++}return void 0===t&&(n.placeholder=u),s}function S(e,t,n){for(e=String(e),t=t||2;e.length<t;)e=n?e+"0":"0"+e;return e}function E(e,t,n){return"string"==typeof e?new p(e,t,n,this):e&&"object"===c(e)&&Object.prototype.hasOwnProperty.call(e,"date")?e:void 0}function j(e,t){return P(t.inputFormat,{date:e},t)}function T(e,t,n){var r,i,o=this,a=n&&n.tests[e]?t.placeholder[n.tests[e][0].match.placeholder]||n.tests[e][0].match.placeholder:"",s=0,u=0;for(x(t).lastIndex=0;i=x(t).exec(t.inputFormat);){var c=/\d+$/.exec(i[0]);if(c)u=parseInt(c[0]);else{for(var f=i[0][0],h=s;o&&(t.placeholder[l.getTest.call(o,h).match.placeholder]||l.getTest.call(o,h).match.placeholder)===f;)h++;0==(u=h-s)&&(u=i[0].length)}if(s+=u,-1!=i[0].indexOf(a)||s>=e+1){r=i,i=x(t).exec(t.inputFormat);break}}return{targetMatchIndex:s-u,nextMatch:i,targetMatch:r}}i.default.extendAliases({datetime:{mask:function(e){return e.numericInput=!1,b.S=y.ordinalSuffix.join("|"),e.inputFormat=g[e.inputFormat]||e.inputFormat,e.displayFormat=g[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=g[e.outputFormat]||e.outputFormat||e.inputFormat,e.regex=P(e.inputFormat,void 0,e),e.min=E(e.min,e.inputFormat,e),e.max=E(e.max,e.inputFormat,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(e,t,n,r,i,o,a,s){if(s)return!0;if(isNaN(n)&&e[t]!==n){var l=T.call(this,t,i,o);if(l.nextMatch&&l.nextMatch[0]===n&&l.targetMatch[0].length>1){var u=k(l.targetMatch)[0];if(new RegExp(u).test("0"+e[t-1]))return e[t]=e[t-1],e[t-1]="0",{fuzzy:!0,buffer:e,refreshFromBuffer:{start:t-1,end:t+1},pos:t+1}}}return!0},postValidation:function(e,t,n,r,i,o,a,s){var u,c,f=this;if(a)return!0;if(!1===r&&(((u=T.call(f,t+1,i,o)).targetMatch&&u.targetMatchIndex===t&&u.targetMatch[0].length>1&&void 0!==b[u.targetMatch[0]]||(u=T.call(f,t+2,i,o)).targetMatch&&u.targetMatchIndex===t+1&&u.targetMatch[0].length>1&&void 0!==b[u.targetMatch[0]])&&(c=k(u.targetMatch)[0]),void 0!==c&&(void 0!==o.validPositions[t+1]&&new RegExp(c).test(n+"0")?(e[t]=n,e[t+1]="0",r={pos:t+2,caret:t}):new RegExp(c).test("0"+n)&&(e[t]="0",e[t+1]=n,r={pos:t+2})),!1===r))return r;if(r.fuzzy&&(e=r.buffer,t=r.pos),(u=T.call(f,t,i,o)).targetMatch&&u.targetMatch[0]&&void 0!==b[u.targetMatch[0]]){var h=k(u.targetMatch);c=h[0];var d=e.slice(u.targetMatchIndex,u.targetMatchIndex+u.targetMatch[0].length);if(!1===new RegExp(c).test(d.join(""))&&2===u.targetMatch[0].length&&o.validPositions[u.targetMatchIndex]&&o.validPositions[u.targetMatchIndex+1]&&(o.validPositions[u.targetMatchIndex+1].input="0"),"year"==h[2])for(var p=l.getMaskTemplate.call(f,!1,1,void 0,!0),y=t+1;y<e.length;y++)e[y]=p[y],o.validPositions.splice(t+1,1)}var m=r,g=E.call(f,e.join(""),i.inputFormat,i);return m&&!isNaN(g.date.getTime())&&(i.prefillYear&&(m=function(e,t,n){if(e.year!==e.rawyear){var r=v.toString(),i=e.rawyear.replace(/[^0-9]/g,""),o=r.slice(0,i.length),a=r.slice(i.length);if(2===i.length&&i===o){var s=new Date(v,e.month-1,e.day);e.day==s.getDate()&&(!n.max||n.max.date.getTime()>=s.getTime())&&(e.date.setFullYear(v),e.year=r,t.insert=[{pos:t.pos+1,c:a[0]},{pos:t.pos+2,c:a[1]}])}}return t}(g,m,i)),m=function(e,t,n,r){if(!t)return t;if(t&&n.min&&!isNaN(n.min.date.getTime())){var i;for(e.reset(),x(n).lastIndex=0;i=x(n).exec(n.inputFormat);){var o;if((o=k(i))&&o[3]){for(var a=o[1],s=e[o[2]],l=n.min[o[2]],u=n.max?n.max[o[2]]:l+1,c=[],f=!1,h=0;h<l.length;h++)void 0!==r.validPositions[h+i.index]||f?(c[h]=s[h],f=f||s[h]>l[h]):(h+i.index==0&&s[h]<l[h]?(c[h]=s[h],f=!0):c[h]=l[h],"year"===o[2]&&s.length-1==h&&l!=u&&(c=(parseInt(c.join(""))+1).toString().split("")),"ampm"===o[2]&&l!=u&&n.min.date.getTime()>e.date.getTime()&&(c[h]=u[h]));a.call(e._date,c.join(""))}}t=n.min.date.getTime()<=e.date.getTime(),e.reInit()}return t&&n.max&&(isNaN(n.max.date.getTime())||(t=n.max.date.getTime()>=e.date.getTime())),t}(g,m=O.call(f,g,m,i),i,o)),void 0!==t&&m&&r.pos!==t?{buffer:P(i.inputFormat,g,i).split(""),refreshFromBuffer:{start:t,end:r.pos},pos:r.caret||r.pos}:m},onKeyDown:function(e,t,n,r){e.ctrlKey&&e.key===o.keys.ArrowRight&&(this.inputmask._valueSet(j(new Date,r)),d(this).trigger("setvalue"))},onUnMask:function(e,t,n){return t?P(n.outputFormat,E.call(this,e,n.inputFormat,n),n,!0):t},casing:function(e,t,n,r){if(0==t.nativeDef.indexOf("[ap]"))return e.toLowerCase();if(0==t.nativeDef.indexOf("[AP]"))return e.toUpperCase();var i=l.getTest.call(this,[n-1]);return 0==i.match.def.indexOf("[AP]")||0===n||i&&i.input===String.fromCharCode(o.keyCode.Space)||i&&i.match.def===String.fromCharCode(o.keyCode.Space)?e.toUpperCase():e.toLowerCase()},onBeforeMask:function(e,t){return"[object Date]"===Object.prototype.toString.call(e)&&(e=j(e,t)),e},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(e,t,n){var r,i=(r=n(2394))&&r.__esModule?r:{default:r};i.default.dependencyLib.extend(!0,i.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(e,t,n){var r,i=(r=n(2394))&&r.__esModule?r:{default:r},o=n(8711),a=n(4713);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}i.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var l=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function u(e,t,n,r,i){if(n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,i.greedy&&parseInt(e)>255&&l.test("00"+e.charAt(2))){var o=[].concat(function(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.buffer.slice(0,n)),[".",e.charAt(2)]);if(o.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:o,caret:n+2}}return l.test(e)}i.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:u},j:{validator:u},k:{validator:u},l:{validator:u}},onUnMask:function(e,t,n){return e},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(e){var t=e.separator,n=e.quantifier,r="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",i=r;if(t)for(var o=0;o<n;o++)i+="[".concat(t).concat(r,"]");return i},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e,t,n){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(e,t,n,r,i,s,l){var u=a.getMaskTemplate.call(this,!0,o.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(u.join(""))}}})},207:function(e,t,n){var r=s(n(7184)),i=s(n(2394)),o=n(2839),a=n(8711);function s(e){return e&&e.__esModule?e:{default:e}}var l=i.default.dependencyLib;function u(e,t){for(var n="",r=0;r<e.length;r++)i.default.prototype.definitions[e.charAt(r)]||t.definitions[e.charAt(r)]||t.optionalmarker[0]===e.charAt(r)||t.optionalmarker[1]===e.charAt(r)||t.quantifiermarker[0]===e.charAt(r)||t.quantifiermarker[1]===e.charAt(r)||t.groupmarker[0]===e.charAt(r)||t.groupmarker[1]===e.charAt(r)||t.alternatormarker===e.charAt(r)?n+="\\"+e.charAt(r):n+=e.charAt(r);return n}function c(e,t,n,r){if(e.length>0&&t>0&&(!n.digitsOptional||r)){var i=e.indexOf(n.radixPoint),o=!1;n.negationSymbol.back===e[e.length-1]&&(o=!0,e.length--),-1===i&&(e.push(n.radixPoint),i=e.length-1);for(var a=1;a<=t;a++)isFinite(e[i+a])||(e[i+a]="0")}return o&&e.push(n.negationSymbol.back),e}function f(e,t){var n=0;for(var r in"+"===e&&(n=a.seekNext.call(this,t.validPositions.length-1)),t.tests)if((r=parseInt(r))>=n)for(var i=0,o=t.tests[r].length;i<o;i++)if((void 0===t.validPositions[r]||"-"===e)&&t.tests[r][i].match.def===e)return r+(void 0!==t.validPositions[r]&&"-"!==e?1:0);return n}function h(e,t){for(var n=-1,r=0,i=t.validPositions.length;r<i;r++){var o=t.validPositions[r];if(o&&o.match.def===e){n=r;break}}return n}function d(e,t,n,r,i){var o=t.buffer?t.buffer.indexOf(i.radixPoint):-1,a=(-1!==o||r&&i.jitMasking)&&new RegExp(i.definitions[9].validator).test(e);return!r&&i._radixDance&&-1!==o&&a&&null==t.validPositions[o]?{insert:{pos:o===n?o+1:o,c:i.radixPoint},pos:n}:a}i.default.extendAliases({numeric:{mask:function(e){e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&(e.positionCaretOnClick="lvp");var t="0",n=e.radixPoint;!0===e.numericInput&&void 0===e.__financeInput?(t="1",e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e._radixDance=!1,n=","===e.radixPoint?"?":"!",""!==e.radixPoint&&void 0===e.definitions[n]&&(e.definitions[n]={},e.definitions[n].validator="["+e.radixPoint+"]",e.definitions[n].placeholder=e.radixPoint,e.definitions[n].static=!0,e.definitions[n].generated=!0)):(e.__financeInput=!1,e.numericInput=!0);var i,o="[+]";if(o+=u(e.prefix,e),""!==e.groupSeparator?(void 0===e.definitions[e.groupSeparator]&&(e.definitions[e.groupSeparator]={},e.definitions[e.groupSeparator].validator="["+e.groupSeparator+"]",e.definitions[e.groupSeparator].placeholder=e.groupSeparator,e.definitions[e.groupSeparator].static=!0,e.definitions[e.groupSeparator].generated=!0),o+=e._mask(e)):o+="9{+}",void 0!==e.digits&&0!==e.digits){var a=e.digits.toString().split(",");isFinite(a[0])&&a[1]&&isFinite(a[1])?o+=n+t+"{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(e.digitsOptional||e.jitMasking?(i=o+n+t+"{0,"+e.digits+"}",e.keepStatic=!0):o+=n+t+"{"+e.digits+"}")}else e.inputmode="numeric";return o+=u(e.suffix,e),o+="[-]",i&&(o=[i+u(e.suffix,e)+"[-]",o]),e.greedy=!1,function(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp((0,r.default)(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp((0,r.default)(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(e),""!==e.radixPoint&&e.substituteRadixPoint&&(e.substitutes["."==e.radixPoint?",":"."]=e.radixPoint),o},_mask:function(e){return"("+e.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:d},1:{validator:d,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(e,t,n,r,i){return i.allowMinus&&("-"===e||e===i.negationSymbol.front)}},"-":{validator:function(e,t,n,r,i){return i.allowMinus&&e===i.negationSymbol.back}}},preValidation:function(e,t,n,r,i,o,a,s){var l=this;if(!1!==i.__financeInput&&n===i.radixPoint)return!1;var u=e.indexOf(i.radixPoint),c=t;if(t=function(e,t,n,r,i){return i._radixDance&&i.numericInput&&t!==i.negationSymbol.back&&e<=n&&(n>0||t==i.radixPoint)&&(void 0===r.validPositions[e-1]||r.validPositions[e-1].input!==i.negationSymbol.back)&&(e-=1),e}(t,n,u,o,i),"-"===n||n===i.negationSymbol.front){if(!0!==i.allowMinus)return!1;var d=!1,p=h("+",o),v=h("-",o);return-1!==p&&(d=[p],-1!==v&&d.push(v)),!1!==d?{remove:d,caret:c-i.negationSymbol.back.length}:{insert:[{pos:f.call(l,"+",o),c:i.negationSymbol.front,fromIsValid:!0},{pos:f.call(l,"-",o),c:i.negationSymbol.back,fromIsValid:void 0}],caret:c+i.negationSymbol.back.length}}if(n===i.groupSeparator)return{caret:c};if(s)return!0;if(-1!==u&&!0===i._radixDance&&!1===r&&n===i.radixPoint&&void 0!==i.digits&&(isNaN(i.digits)||parseInt(i.digits)>0)&&u!==t){var y=f.call(l,i.radixPoint,o);return o.validPositions[y]&&(o.validPositions[y].generatedInput=o.validPositions[y].generated||!1),{caret:i._radixDance&&t===u-1?u+1:u}}if(!1===i.__financeInput)if(r){if(i.digitsOptional)return{rewritePosition:a.end};if(!i.digitsOptional){if(a.begin>u&&a.end<=u)return n===i.radixPoint?{insert:{pos:u+1,c:"0",fromIsValid:!0},rewritePosition:u}:{rewritePosition:u+1};if(a.begin<u)return{rewritePosition:a.begin-1}}}else if(!i.showMaskOnHover&&!i.showMaskOnFocus&&!i.digitsOptional&&i.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:u};return{rewritePosition:t}},postValidation:function(e,t,n,r,i,o,a){if(!1===r)return r;if(a)return!0;if(null!==i.min||null!==i.max){var s=i.onUnMask(e.slice().reverse().join(""),void 0,l.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&s<i.min&&(s.toString().length>i.min.toString().length||s<0))return!1;if(null!==i.max&&s>i.max)return!!i.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:c(i.max.toString().replace(".",i.radixPoint).split(""),i.digits,i).reverse()}}return r},onUnMask:function(e,t,n){if(""===t&&!0===n.nullable)return t;var i=e.replace(n.prefix,"");return i=(i=i.replace(n.suffix,"")).replace(new RegExp((0,r.default)(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(i=i.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==i.indexOf(n.radixPoint)&&(i=i.replace(r.default.call(this,n.radixPoint),".")),i=(i=i.replace(new RegExp("^"+(0,r.default)(n.negationSymbol.front)),"-")).replace(new RegExp((0,r.default)(n.negationSymbol.back)+"$"),""),Number(i)):i},isComplete:function(e,t){var n=(t.numericInput?e.slice().reverse():e).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+(0,r.default)(t.negationSymbol.front)),"-")).replace(new RegExp((0,r.default)(t.negationSymbol.back)+"$"),"")).replace(t.prefix,"")).replace(t.suffix,"")).replace(new RegExp((0,r.default)(t.groupSeparator)+"([0-9]{3})","g"),"$1"),","===t.radixPoint&&(n=n.replace((0,r.default)(t.radixPoint),".")),isFinite(n)},onBeforeMask:function(e,t){var n;e=null!==(n=e)&&void 0!==n?n:"";var i=t.radixPoint||",";isFinite(t.digits)&&(t.digits=parseInt(t.digits)),"number"!=typeof e&&"number"!==t.inputType||""===i||(e=e.toString().replace(".",i));var o="-"===e.charAt(0)||e.charAt(0)===t.negationSymbol.front,a=e.split(i),s=a[0].replace(/[^\-0-9]/g,""),l=a.length>1?a[1].replace(/[^0-9]/g,""):"",u=a.length>1;e=s+(""!==l?i+l:l);var f=0;if(""!==i&&(f=t.digitsOptional?t.digits<l.length?t.digits:l.length:t.digits,""!==l||!t.digitsOptional)){var h=Math.pow(10,f||1);e=e.replace((0,r.default)(i),"."),isNaN(parseFloat(e))||(e=(t.roundingFN(parseFloat(e)*h)/h).toFixed(f)),e=e.toString().replace(".",i)}if(0===t.digits&&-1!==e.indexOf(i)&&(e=e.substring(0,e.indexOf(i))),null!==t.min||null!==t.max){var d=e.toString().replace(i,".");null!==t.min&&d<t.min?e=t.min.toString().replace(".",i):null!==t.max&&d>t.max&&(e=t.max.toString().replace(".",i))}return o&&"-"!==e.charAt(0)&&(e="-"+e),c(e.toString().split(""),f,t,u).join("")},onBeforeWrite:function(e,t,n,i){function o(e,t){if(!1!==i.__financeInput||t){var n=e.indexOf(i.radixPoint);-1!==n&&e.splice(n,1)}if(""!==i.groupSeparator)for(;-1!==(n=e.indexOf(i.groupSeparator));)e.splice(n,1);return e}var a,s;if(i.stripLeadingZeroes&&(s=function(e,t){var n=new RegExp("(^"+(""!==t.negationSymbol.front?(0,r.default)(t.negationSymbol.front)+"?":"")+(0,r.default)(t.prefix)+")(.*)("+(0,r.default)(t.suffix)+(""!=t.negationSymbol.back?(0,r.default)(t.negationSymbol.back)+"?":"")+"$)").exec(e.slice().reverse().join("")),i=n?n[2]:"",o=!1;return i&&(i=i.split(t.radixPoint.charAt(0))[0],o=new RegExp("^[0"+t.groupSeparator+"]*").exec(i)),!(!o||!(o[0].length>1||o[0].length>0&&o[0].length<i.length))&&o}(t,i)))for(var u=t.join("").lastIndexOf(s[0].split("").reverse().join(""))-(s[0]==s.input?0:1),f=s[0]==s.input?1:0,h=s[0].length-f;h>0;h--)this.maskset.validPositions.splice(u+h,1),delete t[u+h];if(e)switch(e.type){case"blur":case"checkval":if(null!==i.min){var d=i.onUnMask(t.slice().reverse().join(""),void 0,l.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&d<i.min)return{refreshFromBuffer:!0,buffer:c(i.min.toString().replace(".",i.radixPoint).split(""),i.digits,i).reverse()}}if(t[t.length-1]===i.negationSymbol.front){var p=new RegExp("(^"+(""!=i.negationSymbol.front?(0,r.default)(i.negationSymbol.front)+"?":"")+(0,r.default)(i.prefix)+")(.*)("+(0,r.default)(i.suffix)+(""!=i.negationSymbol.back?(0,r.default)(i.negationSymbol.back)+"?":"")+"$)").exec(o(t.slice(),!0).reverse().join(""));0==(p?p[2]:"")&&(a={refreshFromBuffer:!0,buffer:[0]})}else""!==i.radixPoint&&t.indexOf(i.radixPoint)===i.suffix.length&&(a&&a.buffer?a.buffer.splice(0,1+i.suffix.length):(t.splice(0,1+i.suffix.length),a={refreshFromBuffer:!0,buffer:o(t)}));if(i.enforceDigitsOnBlur){var v=(a=a||{})&&a.buffer||t.slice().reverse();a.refreshFromBuffer=!0,a.buffer=c(v,i.digits,i,!0).reverse()}}return a},onKeyDown:function(e,t,n,r){var i,a=l(this);if(3!=e.location){var s,u=e.key;if((s=r.shortcuts&&r.shortcuts[u])&&s.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(s)),a.trigger("setvalue"),!1}if(e.ctrlKey)switch(e.key){case o.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),a.trigger("setvalue"),!1;case o.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),a.trigger("setvalue"),!1}if(!e.shiftKey&&(e.key===o.keys.Delete||e.key===o.keys.Backspace||e.key===o.keys.BACKSPACE_SAFARI)&&n.begin!==t.length){if(t[e.key===o.keys.Delete?n.begin-1:n.end]===r.negationSymbol.front)return i=t.slice().reverse(),""!==r.negationSymbol.front&&i.shift(),""!==r.negationSymbol.back&&i.pop(),a.trigger("setvalue",[i.join(""),n.begin]),!1;if(!0===r._radixDance){var f,h=t.indexOf(r.radixPoint);if(r.digitsOptional){if(0===h)return(i=t.slice().reverse()).pop(),a.trigger("setvalue",[i.join(""),n.begin>=i.length?i.length:n.begin]),!1}else if(-1!==h&&(n.begin<h||n.end<h||e.key===o.keys.Delete&&(n.begin===h||n.begin-1===h)))return n.begin===n.end&&(e.key===o.keys.Backspace||e.key===o.keys.BACKSPACE_SAFARI?n.begin++:e.key===o.keys.Delete&&n.begin-1===h&&(f=l.extend({},n),n.begin--,n.end--)),(i=t.slice().reverse()).splice(i.length-n.begin,n.begin-n.end+1),i=c(i,r.digits,r).join(""),f&&(n=f),a.trigger("setvalue",[i,n.begin>=i.length?h+1:n.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(e){return"("+e.groupSeparator+"99){*|1}("+e.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n?window:{}},7760:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HandleNativePlaceholder=function(e,t){var n=e?e.inputmask:this;if(r.ie){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var i=a.getBuffer.call(n).slice(),o=e.inputmask._valueGet();if(o!==t){var s=a.getLastValidPosition.call(n);-1===s&&o===a.getBufferTemplate.call(n).join("")?i=[]:-1!==s&&c.call(n,i),h(e,i)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))},t.applyInputValue=u,t.checkVal=f,t.clearOptionalTail=c,t.unmaskedvalue=function(e){var t=e?e.inputmask:this,n=t.opts,r=t.maskset;if(e){if(void 0===e.inputmask)return e.value;e.inputmask&&e.inputmask.refreshValue&&u(e,e.inputmask._valueGet(!0))}for(var i=[],o=r.validPositions,s=0,l=o.length;s<l;s++)o[s]&&o[s].match&&(1!=o[s].match.static||Array.isArray(r.metadata)&&!0!==o[s].generatedInput)&&i.push(o[s].input);var c=0===i.length?"":(t.isRTL?i.reverse():i).join("");if("function"==typeof n.onUnMask){var f=(t.isRTL?a.getBuffer.call(t).slice().reverse():a.getBuffer.call(t)).join("");c=n.onUnMask.call(t,f,c,n)}return c},t.writeBuffer=h;var r=n(9845),i=n(6030),o=n(2839),a=n(8711),s=n(7215),l=n(4713);function u(e,t,n){var r=e?e.inputmask:this,i=r.opts;e.inputmask.refreshValue=!1,"function"==typeof i.onBeforeMask&&(t=i.onBeforeMask.call(r,t,i)||t),f(e,!0,!1,t=(t||"").toString().split(""),n),r.undoValue=r._valueGet(!0),(i.clearMaskOnLostFocus||i.clearIncomplete)&&e.inputmask._valueGet()===a.getBufferTemplate.call(r).join("")&&-1===a.getLastValidPosition.call(r)&&e.inputmask._valueSet("")}function c(e){e.length=0;for(var t,n=l.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(t=n.shift());)e.push(t);return e}function f(e,t,n,r,o){var u,c=e?e.inputmask:this,f=c.maskset,d=c.opts,p=c.dependencyLib,v=r.slice(),y="",m=-1,b=d.skipOptionalPartCharacter;d.skipOptionalPartCharacter="",a.resetMaskSet.call(c,!1),c.clicked=0,m=d.radixPoint?a.determineNewCaretPosition.call(c,{begin:0,end:0},!1,!1===d.__financeInput?"radixFocus":void 0).begin:0,f.p=m,c.caretPos={begin:m};var g=[],w=c.caretPos;if(v.forEach((function(e,t){if(void 0!==e){var r=new p.Event("_checkval");r.key=e,y+=e;var o=a.getLastValidPosition.call(c,void 0,!0);!function(e,t){for(var n=l.getMaskTemplate.call(c,!0,0).slice(e,a.seekNext.call(c,e,!1,!1)).join("").replace(/'/g,""),r=n.indexOf(t);r>0&&" "===n[r-1];)r--;var i=0===r&&!a.isMask.call(c,e)&&(l.getTest.call(c,e).match.nativeDef===t.charAt(0)||!0===l.getTest.call(c,e).match.static&&l.getTest.call(c,e).match.nativeDef==="'"+t.charAt(0)||" "===l.getTest.call(c,e).match.nativeDef&&(l.getTest.call(c,e+1).match.nativeDef===t.charAt(0)||!0===l.getTest.call(c,e+1).match.static&&l.getTest.call(c,e+1).match.nativeDef==="'"+t.charAt(0)));if(!i&&r>0&&!a.isMask.call(c,e,!1,!0)){var o=a.seekNext.call(c,e);c.caretPos.begin<o&&(c.caretPos={begin:o})}return i}(m,y)?(u=i.EventHandlers.keypressEvent.call(c,r,!0,!1,n,c.caretPos.begin))&&(m=c.caretPos.begin+1,y=""):u=i.EventHandlers.keypressEvent.call(c,r,!0,!1,n,o+1),u?(void 0!==u.pos&&f.validPositions[u.pos]&&!0===f.validPositions[u.pos].match.static&&void 0===f.validPositions[u.pos].alternation&&(g.push(u.pos),c.isRTL||(u.forwardPosition=u.pos+1)),h.call(c,void 0,a.getBuffer.call(c),u.forwardPosition,r,!1),c.caretPos={begin:u.forwardPosition,end:u.forwardPosition},w=c.caretPos):void 0===f.validPositions[t]&&v[t]===l.getPlaceholder.call(c,t)&&a.isMask.call(c,t,!0)?c.caretPos.begin++:c.caretPos=w}})),g.length>0){var _,k,x=a.seekNext.call(c,-1,void 0,!1);if(!s.isComplete.call(c,a.getBuffer.call(c))&&g.length<=x||s.isComplete.call(c,a.getBuffer.call(c))&&g.length>0&&g.length!==x&&0===g[0])for(var O=x;void 0!==(_=g.shift());)if(_<O){var P=new p.Event("_checkval");if((k=f.validPositions[_]).generatedInput=!0,P.key=k.input,(u=i.EventHandlers.keypressEvent.call(c,P,!0,!1,n,O))&&void 0!==u.pos&&u.pos!==_&&f.validPositions[u.pos]&&!0===f.validPositions[u.pos].match.static)g.push(u.pos);else if(!u)break;O++}}t&&h.call(c,e,a.getBuffer.call(c),u?u.forwardPosition:c.caretPos.begin,o||new p.Event("checkval"),o&&("input"===o.type&&c.undoValue!==a.getBuffer.call(c).join("")||"paste"===o.type)),d.skipOptionalPartCharacter=b}function h(e,t,n,r,i){var l=e?e.inputmask:this,u=l.opts,c=l.dependencyLib;if(r&&"function"==typeof u.onBeforeWrite){var f=u.onBeforeWrite.call(l,r,t,n,u);if(f){if(f.refreshFromBuffer){var h=f.refreshFromBuffer;s.refreshFromBuffer.call(l,!0===h?h:h.start,h.end,f.buffer||t),t=a.getBuffer.call(l,!0)}void 0!==n&&(n=void 0!==f.caret?f.caret:n)}}if(void 0!==e&&(e.inputmask._valueSet(t.join("")),void 0===n||void 0!==r&&"blur"===r.type||a.caret.call(l,e,n,void 0,void 0,void 0!==r&&"keydown"===r.type&&(r.key===o.keys.Delete||r.key===o.keys.Backspace)),void 0===e.inputmask.writeBufferHook||e.inputmask.writeBufferHook(n),!0===i)){var d=c(e),p=e.inputmask._valueGet();e.inputmask.skipInputEvent=!0,d.trigger("input"),setTimeout((function(){p===a.getBufferTemplate.call(l).join("")?d.trigger("cleared"):!0===s.isComplete.call(l,t)&&d.trigger("complete")}),0)}}},2394:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(3976)),i=y(n(7392)),o=y(n(4963)),a=n(9716),l=y(n(9380)),u=n(7760),c=n(157),f=n(2391),h=n(8711),d=n(7215),p=n(4713);function v(e){return v="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},v(e)}function y(e){return e&&e.__esModule?e:{default:e}}var m=l.default.document,b="_inputmask_opts";function g(e,t,n){if(!(this instanceof g))return new g(e,t,n);this.dependencyLib=o.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==n&&("[object Object]"===Object.prototype.toString.call(e)?t=e:(t=t||{},e&&(t.alias=e)),this.opts=o.default.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},w(this.opts.alias,t,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function w(e,t,n){var r=g.prototype.aliases[e];return r?(r.alias&&w(r.alias,void 0,n),o.default.extend(!0,n,r),o.default.extend(!0,n,t),!0):(null===n.mask&&(n.mask=e),!1)}g.prototype={dataAttribute:"data-inputmask",defaults:r.default,definitions:i.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(e){var t=this;return"string"==typeof e&&(e=m.getElementById(e)||m.querySelectorAll(e)),(e=e.nodeName?[e]:Array.isArray(e)?e:[].slice.call(e)).forEach((function(e,n){var r=o.default.extend(!0,{},t.opts);if(function(e,t,n,r){function i(t,i){var o=""===r?t:r+"-"+t;null!==(i=void 0!==i?i:e.getAttribute(o))&&("string"==typeof i&&(0===t.indexOf("on")?i=l.default[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[t]=i)}if(!0===t.importDataAttributes){var a,s,u,c,f=e.getAttribute(r);if(f&&""!==f&&(f=f.replace(/'/g,'"'),s=JSON.parse("{"+f+"}")),s)for(c in u=void 0,s)if("alias"===c.toLowerCase()){u=s[c];break}for(a in i("alias",u),n.alias&&w(n.alias,n,t),t){if(s)for(c in u=void 0,s)if(c.toLowerCase()===a.toLowerCase()){u=s[c];break}i(a,u)}}return o.default.extend(!0,t,n),("rtl"===e.dir||t.rightAlign)&&(e.style.textAlign="right"),("rtl"===e.dir||t.numericInput)&&(e.dir="ltr",e.removeAttribute("dir"),t.isRTL=!0),Object.keys(n).length}(e,r,o.default.extend(!0,{},t.userOptions),t.dataAttribute)){var i=(0,f.generateMaskSet)(r,t.noMasksCache);void 0!==i&&(void 0!==e.inputmask&&(e.inputmask.opts.autoUnmask=!0,e.inputmask.remove()),e.inputmask=new g(void 0,void 0,!0),e.inputmask.opts=r,e.inputmask.noMasksCache=t.noMasksCache,e.inputmask.userOptions=o.default.extend(!0,{},t.userOptions),e.inputmask.el=e,e.inputmask.$el=(0,o.default)(e),e.inputmask.maskset=i,o.default.data(e,b,t.userOptions),c.mask.call(e.inputmask))}})),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"===v(e)?(o.default.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){if(this.maskset=this.maskset||(0,f.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");u.checkVal.call(this,void 0,!1,!1,t),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,h.getBuffer.call(this),0,this.opts)}return u.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){o.default.data(this.el,b,null);var e=this.opts.autoUnmask?(0,u.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);e!==h.getBufferTemplate.call(this).join("")?this._valueSet(e,this.opts.autoUnmask):this._valueSet(""),a.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):m.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,f.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?h.getBufferTemplate.call(this).reverse():h.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,f.generateMaskSet)(this.opts,this.noMasksCache),d.isComplete.call(this,h.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,f.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var e=p.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(t){return t.mask!==e||(e=t,!1)})),e}return this.maskset.metadata},isValid:function(e){if(this.maskset=this.maskset||(0,f.generateMaskSet)(this.opts,this.noMasksCache),e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");u.checkVal.call(this,void 0,!0,!1,t)}else e=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");for(var n=h.getBuffer.call(this),r=h.determineLastRequiredPosition.call(this),i=n.length-1;i>r&&!h.isMask.call(this,i);i--);return n.splice(r,i+1-r),d.isComplete.call(this,n)&&e===(this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join(""))},format:function(e,t){this.maskset=this.maskset||(0,f.generateMaskSet)(this.opts,this.noMasksCache);var n=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");u.checkVal.call(this,void 0,!0,!1,n);var r=this.isRTL?h.getBuffer.call(this).slice().reverse().join(""):h.getBuffer.call(this).join("");return t?{value:r,metadata:this.getmetadata()}:r},setValue:function(e){this.el&&(0,o.default)(this.el).trigger("setvalue",[e])},analyseMask:f.analyseMask},g.extendDefaults=function(e){o.default.extend(!0,g.prototype.defaults,e)},g.extendDefinitions=function(e){o.default.extend(!0,g.prototype.definitions,e)},g.extendAliases=function(e){o.default.extend(!0,g.prototype.aliases,e)},g.format=function(e,t,n){return g(t).format(e,n)},g.unmask=function(e,t){return g(t).unmaskedvalue(e)},g.isValid=function(e,t){return g(t).isValid(e)},g.remove=function(e){"string"==typeof e&&(e=m.getElementById(e)||m.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach((function(e){e.inputmask&&e.inputmask.remove()}))},g.setValue=function(e,t){"string"==typeof e&&(e=m.getElementById(e)||m.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach((function(e){e.inputmask?e.inputmask.setValue(t):(0,o.default)(e).trigger("setvalue",[t])}))},g.dependencyLib=o.default,l.default.Inputmask=g,t.default=g},5296:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},r(e)}var i=p(n(9380)),o=p(n(2394));function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=function(e){if("object"!==r(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===r(o)?o:String(o)),i)}var o}function l(e){var t=f();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},u(e)}function c(e,t,n){return c=f()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},c.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e){return e&&e.__esModule?e:{default:e}}var v=i.default.document;if(v&&v.head&&v.head.attachShadow&&i.default.customElements&&void 0===i.default.customElements.get("input-mask")){var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,n,r=l(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=(e=r.call(this)).getAttributeNames(),n=e.attachShadow({mode:"closed"});for(var a in e.input=v.createElement("input"),e.input.type="text",n.appendChild(e.input),t)Object.prototype.hasOwnProperty.call(t,a)&&e.input.setAttribute(t[a],e.getAttribute(t[a]));var s=new o.default;return s.dataAttribute="",s.mask(e.input),e.input.inputmask.shadowRoot=n,e}return t=i,(n=[{key:"attributeChangedCallback",value:function(e,t,n){this.input.setAttribute(e,n)}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(u(HTMLElement));i.default.customElements.define("input-mask",y)}},2839:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},n(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,r){return(t=function(e){var t=function(e){if("object"!==n(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.keys=t.keyCode=void 0,t.toKey=function(e,t){return u[e]||(t?String.fromCharCode(e):String.fromCharCode(e).toLowerCase())},t.toKeyCode=function(e){return l[e]};var l=t.keyCode=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),u=Object.entries(l).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e[o]=void 0===e[o]?i:e[o],e}),{});t.keys=Object.entries(l).reduce((function(e,t){var n=r(t,2),i=n[0];return n[1],e[i]="Space"===i?" ":i,e}),{})},2391:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.analyseMask=function(e,t,n){var r,i,s,u,c,f,h=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,d=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,p=!1,v=new a.default,y=[],m=[],b=!1;function g(e,r,i){i=void 0!==i?i:e.matches.length;var a=e.matches[i-1];if(t){if(0===r.indexOf("[")||p&&/\\d|\\s|\\w|\\p/i.test(r)||"."===r){var s=n.casing?"i":"";/\\p\{.*}/i.test(r)&&(s+="u"),e.matches.splice(i++,0,{fn:new RegExp(r,s),static:!1,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==r,casing:null,def:r,placeholder:"object"===l(n.placeholder)?n.placeholder[v.matches.length]:void 0,nativeDef:r})}else p&&(r=r[r.length-1]),r.split("").forEach((function(t,r){a=e.matches[i-1],e.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||t)?new RegExp("["+(n.staticDefinitionSymbol||t)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==t&&!0!==a.static,casing:null,def:n.staticDefinitionSymbol||t,placeholder:void 0!==n.staticDefinitionSymbol?t:"object"===l(n.placeholder)?n.placeholder[v.matches.length]:void 0,nativeDef:(p?"'":"")+t})}));p=!1}else{var u=n.definitions&&n.definitions[r]||n.usePrototypeDefinitions&&o.default.prototype.definitions[r];u&&!p?e.matches.splice(i++,0,{fn:u.validator?"string"==typeof u.validator?new RegExp(u.validator,n.casing?"i":""):new function(){this.test=u.validator}:/./,static:u.static||!1,optionality:u.optional||!1,defOptionality:u.optional||!1,newBlockMarker:void 0===a||u.optional?"master":a.def!==(u.definitionSymbol||r),casing:u.casing,def:u.definitionSymbol||r,placeholder:u.placeholder,nativeDef:r,generated:u.generated}):(e.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||r)?new RegExp("["+(n.staticDefinitionSymbol||r)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==r&&!0!==a.static,casing:null,def:n.staticDefinitionSymbol||r,placeholder:void 0!==n.staticDefinitionSymbol?r:void 0,nativeDef:(p?"'":"")+r}),p=!1)}}function w(){if(y.length>0){if(g(u=y[y.length-1],i),u.isAlternator){c=y.pop();for(var e=0;e<c.matches.length;e++)c.matches[e].isGroup&&(c.matches[e].isGroup=!1);y.length>0?(u=y[y.length-1]).matches.push(c):v.matches.push(c)}}else g(v,i)}function _(e){var t=new a.default(!0);return t.openGroup=!1,t.matches=e,t}function k(){if((s=y.pop()).openGroup=!1,void 0!==s)if(y.length>0){if((u=y[y.length-1]).matches.push(s),u.isAlternator){c=y.pop();for(var e=0;e<c.matches.length;e++)c.matches[e].isGroup=!1,c.matches[e].alternatorGroup=!1;y.length>0?(u=y[y.length-1]).matches.push(c):v.matches.push(c)}}else v.matches.push(s);else w()}function x(e){var t=e.pop();return t.isQuantifier&&(t=_([e.pop(),t])),t}for(t&&(n.optionalmarker[0]=void 0,n.optionalmarker[1]=void 0);r=t?d.exec(e):h.exec(e);){if(i=r[0],t){switch(i.charAt(0)){case"?":i="{0,1}";break;case"+":case"*":i="{"+i+"}";break;case"|":if(0===y.length){var O=_(v.matches);O.openGroup=!0,y.push(O),v.matches=[],b=!0}}switch(i){case"\\d":i="[0-9]";break;case"\\p":i+=d.exec(e)[0],i+=d.exec(e)[0]}}if(p)w();else switch(i.charAt(0)){case"$":case"^":t||w();break;case n.escapeChar:p=!0,t&&w();break;case n.optionalmarker[1]:case n.groupmarker[1]:k();break;case n.optionalmarker[0]:y.push(new a.default(!1,!0));break;case n.groupmarker[0]:y.push(new a.default(!0));break;case n.quantifiermarker[0]:var P=new a.default(!1,!1,!0),S=(i=i.replace(/[{}?]/g,"")).split("|"),E=S[0].split(","),j=isNaN(E[0])?E[0]:parseInt(E[0]),T=1===E.length?j:isNaN(E[1])?E[1]:parseInt(E[1]),D=isNaN(S[1])?S[1]:parseInt(S[1]);"*"!==j&&"+"!==j||(j="*"===T?0:1),P.quantifier={min:j,max:T,jit:D};var A=y.length>0?y[y.length-1].matches:v.matches;(r=A.pop()).isGroup||(r=_([r])),A.push(r),A.push(P);break;case n.alternatormarker:if(y.length>0){var C=(u=y[y.length-1]).matches[u.matches.length-1];f=u.openGroup&&(void 0===C.matches||!1===C.isGroup&&!1===C.isAlternator)?y.pop():x(u.matches)}else f=x(v.matches);if(f.isAlternator)y.push(f);else if(f.alternatorGroup?(c=y.pop(),f.alternatorGroup=!1):c=new a.default(!1,!1,!1,!0),c.matches.push(f),y.push(c),f.openGroup){f.openGroup=!1;var M=new a.default(!0);M.alternatorGroup=!0,y.push(M)}break;default:w()}}for(b&&k();y.length>0;)s=y.pop(),v.matches.push(s);return v.matches.length>0&&(function e(r){r&&r.matches&&r.matches.forEach((function(i,o){var a=r.matches[o+1];(void 0===a||void 0===a.matches||!1===a.isQuantifier)&&i&&i.isGroup&&(i.isGroup=!1,t||(g(i,n.groupmarker[0],0),!0!==i.openGroup&&g(i,n.groupmarker[1]))),e(i)}))}(v),m.push(v)),(n.numericInput||n.isRTL)&&function e(t){for(var r in t.matches=t.matches.reverse(),t.matches)if(Object.prototype.hasOwnProperty.call(t.matches,r)){var i=parseInt(r);if(t.matches[r].isQuantifier&&t.matches[i+1]&&t.matches[i+1].isGroup){var o=t.matches[r];t.matches.splice(r,1),t.matches.splice(i+1,0,o)}void 0!==t.matches[r].matches?t.matches[r]=e(t.matches[r]):t.matches[r]=((a=t.matches[r])===n.optionalmarker[0]?a=n.optionalmarker[1]:a===n.optionalmarker[1]?a=n.optionalmarker[0]:a===n.groupmarker[0]?a=n.groupmarker[1]:a===n.groupmarker[1]&&(a=n.groupmarker[0]),a)}var a;return t}(m[0]),m},t.generateMaskSet=function(e,t){var n;function a(e,t){var n=t.repeat,r=t.groupmarker,o=t.quantifiermarker,a=t.keepStatic;if(n>0||"*"===n||"+"===n){var s="*"===n?0:"+"===n?1:n;if(s!=n)e=r[0]+e+r[1]+o[0]+s+","+n+o[1];else for(var l=e,c=1;c<s;c++)e+=l}if(!0===a){var f=e.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));f&&f.forEach((function(t,n){var r=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,i,o,a=[],s=!0,l=!1;try{for(i=(t=t.call(e)).next;!(s=(n=i.call(t)).done)&&(a.push(n.value),2!==a.length);s=!0);}catch(e){l=!0,r=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(e)||function(e){if(e){if("string"==typeof e)return u(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("[")),o=r[0],a=r[1];a=a.replace("]",""),e=e.replace(new RegExp("".concat((0,i.default)(o),"\\[").concat((0,i.default)(a),"\\]")),o.charAt(0)===a.charAt(0)?"(".concat(o,"|").concat(o).concat(a,")"):"".concat(o,"[").concat(a,"]"))}))}return e}function s(e,n,i){var s,u,c=!1;return null!==e&&""!==e||((c=null!==i.regex)?e=(e=i.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(c=!0,e=".*")),1===e.length&&!1===i.greedy&&0!==i.repeat&&(i.placeholder=""),e=a(e,i),u=c?"regex_"+i.regex:i.numericInput?e.split("").reverse().join(""):e,null!==i.keepStatic&&(u="ks_"+i.keepStatic+u),"object"===l(i.placeholder)&&(u="ph_"+JSON.stringify(i.placeholder)+u),void 0===o.default.prototype.masksCache[u]||!0===t?(s={mask:e,maskToken:o.default.prototype.analyseMask(e,c,i),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:n,maskLength:void 0,jitOffset:{}},!0!==t&&(o.default.prototype.masksCache[u]=s,s=r.default.extend(!0,{},o.default.prototype.masksCache[u]))):s=r.default.extend(!0,{},o.default.prototype.masksCache[u]),s}if("function"==typeof e.mask&&(e.mask=e.mask(e)),Array.isArray(e.mask)){if(e.mask.length>1){null===e.keepStatic&&(e.keepStatic=!0);var c=e.groupmarker[0];return(e.isRTL?e.mask.reverse():e.mask).forEach((function(t){c.length>1&&(c+=e.alternatormarker),void 0!==t.mask&&"function"!=typeof t.mask?c+=t.mask:c+=t})),s(c+=e.groupmarker[1],e.mask,e)}e.mask=e.mask.pop()}return n=e.mask&&void 0!==e.mask.mask&&"function"!=typeof e.mask.mask?s(e.mask.mask,e.mask,e):s(e.mask,e.mask,e),null===e.keepStatic&&(e.keepStatic=!1),n};var r=c(n(4963)),i=c(n(7184)),o=c(n(2394)),a=c(n(9695));function l(e){return l="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},l(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return e&&e.__esModule?e:{default:e}}},157:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mask=function(){var e=this,t=this.opts,n=this.el,u=this.dependencyLib;o.EventRuler.off(n);var c=function(t,n){var r=t.getAttribute("type"),i="input"===t.tagName.toLowerCase()&&n.supportsInputType.includes(r)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();if(!i)if("input"===t.tagName.toLowerCase()){var l=document.createElement("input");l.setAttribute("type",r),i="text"===l.type,l=null}else i="partial";return!1!==i?function(t){var r,i;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==s.getLastValidPosition.call(e)||!0!==n.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&n.clearMaskOnLostFocus?(e.isRTL?a.clearOptionalTail.call(e,s.getBuffer.call(e).slice()).reverse():a.clearOptionalTail.call(e,s.getBuffer.call(e).slice())).join(""):r.call(this):"":r.call(this)}function c(e){i.call(this,e),this.inputmask&&(0,a.applyInputValue)(this,e)}if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){var f=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;f&&f.get&&f.set?(r=f.get,i=f.set,Object.defineProperty(t,"value",{get:l,set:c,configurable:!0})):"input"!==t.tagName.toLowerCase()&&(r=function(){return this.textContent},i=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:l,set:c,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(r=t.__lookupGetter__("value"),i=t.__lookupSetter__("value"),t.__defineGetter__("value",l),t.__defineSetter__("value",c));t.inputmask.__valueGet=r,t.inputmask.__valueSet=i}t.inputmask._valueGet=function(t){return e.isRTL&&!0!==t?r.call(this.el).split("").reverse().join(""):r.call(this.el)},t.inputmask._valueSet=function(t,n){i.call(this.el,null==t?"":!0!==n&&e.isRTL?t.split("").reverse().join(""):t)},void 0===r&&(r=function(){return this.value},i=function(e){this.value=e},function(t){if(u.valHooks&&(void 0===u.valHooks[t]||!0!==u.valHooks[t].inputmaskpatch)){var r=u.valHooks[t]&&u.valHooks[t].get?u.valHooks[t].get:function(e){return e.value},i=u.valHooks[t]&&u.valHooks[t].set?u.valHooks[t].set:function(e,t){return e.value=t,e};u.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var i=r(t);return-1!==s.getLastValidPosition.call(e,void 0,void 0,t.inputmask.maskset.validPositions)||!0!==n.nullable?i:""}return r(t)},set:function(e,t){var n=i(e,t);return e.inputmask&&(0,a.applyInputValue)(e,t),n},inputmaskpatch:!0}}}(t.type),function(e){o.EventRuler.on(e,"mouseenter",(function(){var e=this,t=e.inputmask._valueGet(!0);t!=(e.inputmask.isRTL?s.getBuffer.call(e.inputmask).slice().reverse():s.getBuffer.call(e.inputmask)).join("")&&(0,a.applyInputValue)(e,t)}))}(t))}}(t):t.inputmask=void 0,i}(n,t);if(!1!==c){e.originalPlaceholder=n.placeholder,e.maxLength=void 0!==n?n.maxLength:void 0,-1===e.maxLength&&(e.maxLength=void 0),"inputMode"in n&&null===n.getAttribute("inputmode")&&(n.inputMode=t.inputmode,n.setAttribute("inputmode",t.inputmode)),!0===c&&(t.showMaskOnFocus=t.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(n.autocomplete),r.iphone&&(t.insertModeVisual=!1,n.setAttribute("autocorrect","off")),o.EventRuler.on(n,"submit",i.EventHandlers.submitEvent),o.EventRuler.on(n,"reset",i.EventHandlers.resetEvent),o.EventRuler.on(n,"blur",i.EventHandlers.blurEvent),o.EventRuler.on(n,"focus",i.EventHandlers.focusEvent),o.EventRuler.on(n,"invalid",i.EventHandlers.invalidEvent),o.EventRuler.on(n,"click",i.EventHandlers.clickEvent),o.EventRuler.on(n,"mouseleave",i.EventHandlers.mouseleaveEvent),o.EventRuler.on(n,"mouseenter",i.EventHandlers.mouseenterEvent),o.EventRuler.on(n,"paste",i.EventHandlers.pasteEvent),o.EventRuler.on(n,"cut",i.EventHandlers.cutEvent),o.EventRuler.on(n,"complete",t.oncomplete),o.EventRuler.on(n,"incomplete",t.onincomplete),o.EventRuler.on(n,"cleared",t.oncleared),!0!==t.inputEventOnly&&o.EventRuler.on(n,"keydown",i.EventHandlers.keyEvent),(r.mobile||t.inputEventOnly)&&n.removeAttribute("maxLength"),o.EventRuler.on(n,"input",i.EventHandlers.inputFallBackEvent)),o.EventRuler.on(n,"setvalue",i.EventHandlers.setValueEvent),void 0===e.applyMaskHook||e.applyMaskHook(),s.getBufferTemplate.call(e).join(""),e.undoValue=e._valueGet(!0);var f=(n.inputmask.shadowRoot||n.ownerDocument).activeElement;if(""!==n.inputmask._valueGet(!0)||!1===t.clearMaskOnLostFocus||f===n){(0,a.applyInputValue)(n,n.inputmask._valueGet(!0),t);var h=s.getBuffer.call(e).slice();!1===l.isComplete.call(e,h)&&t.clearIncomplete&&s.resetMaskSet.call(e,!1),t.clearMaskOnLostFocus&&f!==n&&(-1===s.getLastValidPosition.call(e)?h=[]:a.clearOptionalTail.call(e,h)),(!1===t.clearMaskOnLostFocus||t.showMaskOnFocus&&f===n||""!==n.inputmask._valueGet(!0))&&(0,a.writeBuffer)(n,h),f===n&&s.caret.call(e,n,s.seekNext.call(e,s.getLastValidPosition.call(e)))}}};var r=n(9845),i=n(6030),o=n(9716),a=n(7760),s=n(8711),l=n(7215)},9695:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=r||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i=0|t,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;){if(n[o]===e)return!0;o++}return!1}})},9302:function(){var e=Function.bind.call(Function.call,Array.prototype.reduce),t=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),n=Function.bind.call(Function.call,Array.prototype.concat),r=Object.keys;Object.entries||(Object.entries=function(i){return e(r(i),(function(e,r){return n(e,"string"==typeof r&&t(i,r)?[[r,i[r]]]:[])}),[])})},7149:function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(t)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===e("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})},8711:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.caret=function(e,t,n,r,o){var a,s=this,l=this.opts;if(void 0===t)return"selectionStart"in e&&"selectionEnd"in e?(t=e.selectionStart,n=e.selectionEnd):i.default.getSelection?(a=i.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&a.commonAncestorContainer!==e||(t=a.startOffset,n=a.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(a=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+a.text.length),{begin:r?t:f.call(s,t),end:r?n:f.call(s,n)};if(Array.isArray(t)&&(n=s.isRTL?t[0]:t[1],t=s.isRTL?t[1]:t[0]),void 0!==t.begin&&(n=s.isRTL?t.begin:t.end,t=s.isRTL?t.end:t.begin),"number"==typeof t){t=r?t:f.call(s,t),n="number"==typeof(n=r?n:f.call(s,n))?n:t;var u=parseInt(((e.ownerDocument.defaultView||i.default).getComputedStyle?(e.ownerDocument.defaultView||i.default).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=u>e.scrollWidth?u:0,e.inputmask.caretPos={begin:t,end:n},l.insertModeVisual&&!1===l.insertMode&&t===n&&(o||n++),e===(e.inputmask.shadowRoot||e.ownerDocument).activeElement){if("setSelectionRange"in e)e.setSelectionRange(t,n);else if(i.default.getSelection){if(a=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}a.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),a.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),a.collapse(!0);var h=i.default.getSelection();h.removeAllRanges(),h.addRange(a)}else e.createTextRange&&((a=e.createTextRange()).collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select());void 0===e.inputmask.caretHook||e.inputmask.caretHook.call(s,{begin:t,end:n})}}},t.determineLastRequiredPosition=function(e){var t,n,r=this,i=r.maskset,s=r.dependencyLib,u=l.call(r),c={},f=i.validPositions[u],h=a.getMaskTemplate.call(r,!0,l.call(r),!0,!0),d=h.length,p=void 0!==f?f.locator.slice():void 0;for(t=u+1;t<h.length;t++)p=(n=a.getTestTemplate.call(r,t,p,t-1)).locator.slice(),c[t]=s.extend(!0,{},n);var v=f&&void 0!==f.alternation?f.locator[f.alternation]:void 0;for(t=d-1;t>u&&((n=c[t]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||v&&(v!==c[t].locator[f.alternation]&&!0!==n.match.static||!0===n.match.static&&n.locator[f.alternation]&&o.checkAlternationMatch.call(r,n.locator[f.alternation].toString().split(","),v.toString().split(","))&&""!==a.getTests.call(r,t)[0].def))&&h[t]===a.getPlaceholder.call(r,t,n.match);t--)d--;return e?{l:d,def:c[d]?c[d].match:void 0}:d},t.determineNewCaretPosition=function(e,t,n){var r,i,o,f=this,h=f.maskset,d=f.opts;if(t&&(f.isRTL?e.end=e.begin:e.begin=e.end),e.begin===e.end){switch(n=n||d.positionCaretOnClick){case"none":break;case"select":e={begin:0,end:s.call(f).length};break;case"ignore":e.end=e.begin=c.call(f,l.call(f));break;case"radixFocus":if(f.clicked>1&&0===h.validPositions.length)break;if(function(e){if(""!==d.radixPoint&&0!==d.digits){var t=h.validPositions;if(void 0===t[e]||void 0===t[e].input){if(e<c.call(f,-1))return!0;var n=s.call(f).indexOf(d.radixPoint);if(-1!==n){for(var r=0,i=t.length;r<i;r++)if(t[r]&&n<r&&t[r].input!==a.getPlaceholder.call(f,r))return!1;return!0}}}return!1}(e.begin)){var p=s.call(f).join("").indexOf(d.radixPoint);e.end=e.begin=d.numericInput?c.call(f,p):p;break}default:if(r=e.begin,i=l.call(f,r,!0),r<=(o=c.call(f,-1!==i||u.call(f,0)?i:-1)))e.end=e.begin=u.call(f,r,!1,!0)?r:c.call(f,r);else{var v=h.validPositions[i],y=a.getTestTemplate.call(f,o,v?v.match.locator:void 0,v),m=a.getPlaceholder.call(f,o,y.match);if(""!==m&&s.call(f)[o]!==m&&!0!==y.match.optionalQuantifier&&!0!==y.match.newBlockMarker||!u.call(f,o,d.keepStatic,!0)&&y.match.def===m){var b=c.call(f,o);(r>=b||r===o)&&(o=b)}e.end=e.begin=o}}return e}},t.getBuffer=s,t.getBufferTemplate=function(){var e=this.maskset;return void 0===e._buffer&&(e._buffer=a.getMaskTemplate.call(this,!1,1),void 0===e.buffer&&(e.buffer=e._buffer.slice())),e._buffer},t.getLastValidPosition=l,t.isMask=u,t.resetMaskSet=function(e){var t=this.maskset;t.buffer=void 0,!0!==e&&(t.validPositions=[],t.p=0),!1===e&&(t.tests={},t.jitOffset={})},t.seekNext=c,t.seekPrevious=function(e,t){var n=this,r=e-1;if(e<=0)return 0;for(;r>0&&(!0===t&&(!0!==a.getTest.call(n,r).match.newBlockMarker||!u.call(n,r,void 0,!0))||!0!==t&&!u.call(n,r,void 0,!0));)r--;return r},t.translatePosition=f;var r,i=(r=n(9380))&&r.__esModule?r:{default:r},o=n(7215),a=n(4713);function s(e){var t=this,n=t.maskset;return void 0!==n.buffer&&!0!==e||(n.buffer=a.getMaskTemplate.call(t,!0,l.call(t),!0),void 0===n._buffer&&(n._buffer=n.buffer.slice())),n.buffer}function l(e,t,n){var r=this.maskset,i=-1,o=-1,a=n||r.validPositions;void 0===e&&(e=-1);for(var s=0,l=a.length;s<l;s++)a[s]&&(t||!0!==a[s].generatedInput)&&(s<=e&&(i=s),s>=e&&(o=s));return-1===i||i===e?o:-1===o||e-i<o-e?i:o}function u(e,t,n){var r=this,i=this.maskset,o=a.getTestTemplate.call(r,e).match;if(""===o.def&&(o=a.getTest.call(r,e).match),!0!==o.static)return o.fn;if(!0===n&&void 0!==i.validPositions[e]&&!0!==i.validPositions[e].generatedInput)return!0;if(!0!==t&&e>-1){if(n){var s=a.getTests.call(r,e);return s.length>1+(""===s[s.length-1].match.def?1:0)}var l=a.determineTestTemplate.call(r,e,a.getTests.call(r,e)),u=a.getPlaceholder.call(r,e,l.match);return l.match.def!==u}return!1}function c(e,t,n){var r=this;void 0===n&&(n=!0);for(var i=e+1;""!==a.getTest.call(r,i).match.def&&(!0===t&&(!0!==a.getTest.call(r,i).match.newBlockMarker||!u.call(r,i,void 0,!0))||!0!==t&&!u.call(r,i,void 0,n));)i++;return i}function f(e){var t=this.opts,n=this.el;return!this.isRTL||"number"!=typeof e||t.greedy&&""===t.placeholder||!n||(e=this._valueGet().length-e)<0&&(e=0),e}},4713:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.determineTestTemplate=h,t.getDecisionTaker=u,t.getMaskTemplate=function(e,t,n,r,i){var o=this,a=this.opts,s=this.maskset,l=a.greedy;i&&a.greedy&&(a.greedy=!1,o.maskset.tests={}),t=t||0;var u,d,p,y,m=[],b=0;do{if(!0===e&&s.validPositions[b])d=(p=i&&s.validPositions[b].match.optionality&&void 0===s.validPositions[b+1]&&(!0===s.validPositions[b].generatedInput||s.validPositions[b].input==a.skipOptionalPartCharacter&&b>0)?h.call(o,b,v.call(o,b,u,b-1)):s.validPositions[b]).match,u=p.locator.slice(),m.push(!0===n?p.input:!1===n?d.nativeDef:c.call(o,b,d));else{d=(p=f.call(o,b,u,b-1)).match,u=p.locator.slice();var g=!0!==r&&(!1!==a.jitMasking?a.jitMasking:d.jit);(y=(y||s.validPositions[b-1])&&d.static&&d.def!==a.groupSeparator&&null===d.fn)||!1===g||void 0===g||"number"==typeof g&&isFinite(g)&&g>b?m.push(!1===n?d.nativeDef:c.call(o,m.length,d)):y=!1}b++}while(!0!==d.static||""!==d.def||t>b);return""===m[m.length-1]&&m.pop(),!1===n&&void 0!==s.maskLength||(s.maskLength=b-1),a.greedy=l,m},t.getPlaceholder=c,t.getTest=d,t.getTestTemplate=f,t.getTests=v,t.isSubsetOf=p;var r,i=(r=n(2394))&&r.__esModule?r:{default:r},o=n(8711);function a(e){return a="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},a(e)}function l(e,t){var n=(null!=e.alternation?e.mloc[u(e)]:e.locator).join("");if(""!==n)for(n=n.split(":")[0];n.length<t;)n+="0";return n}function u(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),void 0!==t?t.toString():""}function c(e,t,n){var r=this,i=this.opts,s=this.maskset;if(void 0!==(t=t||d.call(r,e).match).placeholder||!0===n){if(""!==t.placeholder&&!0===t.static&&!0!==t.generated){var l=o.getLastValidPosition.call(r,e),u=o.seekNext.call(r,l);return(n?e<=u:e<u)?i.staticDefinitionSymbol&&t.static?t.nativeDef:t.def:"function"==typeof t.placeholder?t.placeholder(i):t.placeholder}return"function"==typeof t.placeholder?t.placeholder(i):t.placeholder}if(!0===t.static){if(e>-1&&void 0===s.validPositions[e]){var c,f=v.call(r,e),h=[];if("string"==typeof i.placeholder&&f.length>1+(""===f[f.length-1].match.def?1:0))for(var p=0;p<f.length;p++)if(""!==f[p].match.def&&!0!==f[p].match.optionality&&!0!==f[p].match.optionalQuantifier&&(!0===f[p].match.static||void 0===c||!1!==f[p].match.fn.test(c.match.def,s,e,!0,i))&&(h.push(f[p]),!0===f[p].match.static&&(c=f[p]),h.length>1&&/[0-9a-bA-Z]/.test(h[0].match.def)))return i.placeholder.charAt(e%i.placeholder.length)}return t.def}return"object"===a(i.placeholder)?t.def:i.placeholder.charAt(e%i.placeholder.length)}function f(e,t,n){return this.maskset.validPositions[e]||h.call(this,e,v.call(this,e,t?t.slice():t,n))}function h(e,t){var n=this.opts,r=0,i=function(e,t){var n=0,r=!1;return t.forEach((function(e){e.match.optionality&&(0!==n&&n!==e.match.optionality&&(r=!0),(0===n||n>e.match.optionality)&&(n=e.match.optionality))})),n&&(0==e||1==t.length?n=0:r||(n=0)),n}(e,t);e=e>0?e-1:0;var o,a,s,u=l(d.call(this,e));n.greedy&&t.length>1&&""===t[t.length-1].match.def&&(r=1);for(var c=0;c<t.length-r;c++){var f=t[c];o=l(f,u.length);var h=Math.abs(o-u);(!0!==f.unMatchedAlternationStopped||t.filter((function(e){return!0!==e.unMatchedAlternationStopped})).length<=1)&&(void 0===a||""!==o&&h<a||s&&!n.greedy&&s.match.optionality&&s.match.optionality-i>0&&"master"===s.match.newBlockMarker&&(!f.match.optionality||f.match.optionality-i<1||!f.match.newBlockMarker)||s&&!n.greedy&&s.match.optionalQuantifier&&!f.match.optionalQuantifier)&&(a=h,s=f)}return s}function d(e,t){var n=this.maskset;return n.validPositions[e]?n.validPositions[e]:(t||v.call(this,e))[0]}function p(e,t,n){function r(e){for(var t,n=[],r=-1,i=0,o=e.length;i<o;i++)if("-"===e.charAt(i))for(t=e.charCodeAt(i+1);++r<t;)n.push(String.fromCharCode(r));else r=e.charCodeAt(i),n.push(e.charAt(i));return n.join("")}return e.match.def===t.match.nativeDef||!(!(n.regex||e.match.fn instanceof RegExp&&t.match.fn instanceof RegExp)||!0===e.match.static||!0===t.match.static)&&("."===t.match.fn.source||-1!==r(t.match.fn.source.replace(/[[\]/]/g,"")).indexOf(r(e.match.fn.source.replace(/[[\]/]/g,""))))}function v(e,t,n){var r,o,a=this,s=this.dependencyLib,l=this.maskset,u=this.opts,c=this.el,f=l.maskToken,d=t?n:0,v=t?t.slice():[0],y=[],m=!1,b=t?t.join(""):"",g=!1;function w(t,n,o,s){function f(o,s,h){function v(e,t){var n=0===t.matches.indexOf(e);return n||t.matches.every((function(r,i){return!0===r.isQuantifier?n=v(e,t.matches[i-1]):Object.prototype.hasOwnProperty.call(r,"matches")&&(n=v(e,r)),!n})),n}function k(e,t,n){var r,i;if((l.tests[e]||l.validPositions[e])&&(l.validPositions[e]?[l.validPositions[e]]:l.tests[e]).every((function(e,o){if(e.mloc[t])return r=e,!1;var a=void 0!==n?n:e.alternation,s=void 0!==e.locator[a]?e.locator[a].toString().indexOf(t):-1;return(void 0===i||s<i)&&-1!==s&&(r=e,i=s),!0})),r){var o=r.locator[r.alternation],a=r.mloc[t]||r.mloc[o]||r.locator;return-1!==a[a.length-1].toString().indexOf(":")&&a.pop(),a.slice((void 0!==n?n:r.alternation)+1)}return void 0!==n?k(e,t):void 0}function x(t,n){return!0===t.match.static&&!0!==n.match.static&&n.match.fn.test(t.match.def,l,e,!1,u,!1)}function O(e,t){var n=e.alternation,r=void 0===t||n<=t.alternation&&-1===e.locator[n].toString().indexOf(t.locator[n]);if(!r&&n>t.alternation)for(var i=0;i<n;i++)if(e.locator[i]!==t.locator[i]){n=i,r=!0;break}return!!r&&function(n){e.mloc=e.mloc||{};var r=e.locator[n];if(void 0!==r){if("string"==typeof r&&(r=r.split(",")[0]),void 0===e.mloc[r]&&(e.mloc[r]=e.locator.slice(),e.mloc[r].push(":".concat(e.alternation))),void 0!==t){for(var i in t.mloc)"string"==typeof i&&(i=parseInt(i.split(",")[0])),e.mloc[i+0]=t.mloc[i];e.locator[n]=Object.keys(e.mloc).join(",")}return e.alternation>n&&(e.alternation=n),!0}return e.alternation=void 0,!1}(n)}function P(e,t){if(e.locator.length!==t.locator.length)return!1;for(var n=e.alternation+1;n<e.locator.length;n++)if(e.locator[n]!==t.locator[n])return!1;return!0}if(d>e+u._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat(l.mask));if(d===e&&void 0===o.matches){if(y.push({match:o,locator:s.reverse(),cd:b,mloc:{}}),!o.optionality||void 0!==h||!(u.definitions&&u.definitions[o.nativeDef]&&u.definitions[o.nativeDef].optional||i.default.prototype.definitions[o.nativeDef]&&i.default.prototype.definitions[o.nativeDef].optional))return!0;m=!0,d=e}else if(void 0!==o.matches){if(o.isGroup&&h!==o)return function(){if(o=f(t.matches[t.matches.indexOf(o)+1],s,h))return!0}();if(o.isOptional)return function(){var t=o,i=y.length;if(o=w(o,n,s,h),y.length>0){if(y.forEach((function(e,t){t>=i&&(e.match.optionality=e.match.optionality?e.match.optionality+1:1)})),r=y[y.length-1].match,void 0!==h||!v(r,t))return o;m=!0,d=e}}();if(o.isAlternator)return function(){function r(e){for(var t,n=e.matches[0].matches?e.matches[0].matches.length:1,r=0;r<e.matches.length&&n===(t=e.matches[r].matches?e.matches[r].matches.length:1);r++);return n!==t}a.hasAlternator=!0;var i,v=o,b=[],w=y.slice(),_=s.length,S=n.length>0?n.shift():-1;if(-1===S||"string"==typeof S){var E,j=d,T=n.slice(),D=[];if("string"==typeof S)D=S.split(",");else for(E=0;E<v.matches.length;E++)D.push(E.toString());if(void 0!==l.excludes[e]){for(var A=D.slice(),C=0,M=l.excludes[e].length;C<M;C++){var L=l.excludes[e][C].toString().split(":");s.length==L[1]&&D.splice(D.indexOf(L[0]),1)}0===D.length&&(delete l.excludes[e],D=A)}(!0===u.keepStatic||isFinite(parseInt(u.keepStatic))&&j>=u.keepStatic)&&(D=D.slice(0,1));for(var R=0;R<D.length;R++){E=parseInt(D[R]),y=[],n="string"==typeof S&&k(d,E,_)||T.slice();var I=v.matches[E];if(I&&f(I,[E].concat(s),h))o=!0;else if(0===R&&(g=r(v)),I&&I.matches&&I.matches.length>v.matches[0].matches.length)break;i=y.slice(),d=j,y=[];for(var N=0;N<i.length;N++){var B=i[N],F=!1;B.alternation=B.alternation||_,O(B);for(var z=0;z<b.length;z++){var V=b[z];if("string"!=typeof S||void 0!==B.alternation&&D.includes(B.locator[B.alternation].toString())){if(B.match.nativeDef===V.match.nativeDef){F=!0,O(V,B);break}if(p(B,V,u)){O(B,V)&&(F=!0,b.splice(b.indexOf(V),0,B));break}if(p(V,B,u)){O(V,B);break}if(x(B,V)){P(B,V)||void 0!==c.inputmask.userOptions.keepStatic?O(B,V)&&(F=!0,b.splice(b.indexOf(V),0,B)):u.keepStatic=!0;break}if(x(V,B)){O(V,B);break}}}F||b.push(B)}}y=w.concat(b),d=e,m=y.length>0&&g,o=b.length>0&&!g,g&&m&&!o&&y.forEach((function(e,t){e.unMatchedAlternationStopped=!0})),n=T.slice()}else o=f(v.matches[S]||t.matches[S],[S].concat(s),h);if(o)return!0}();if(o.isQuantifier&&h!==t.matches[t.matches.indexOf(o)-1])return function(){for(var i=o,a=!1,c=n.length>0?n.shift():0;c<(isNaN(i.quantifier.max)?c+1:i.quantifier.max)&&d<=e;c++){var h=t.matches[t.matches.indexOf(i)-1];if(o=f(h,[c].concat(s),h)){if(y.forEach((function(t,n){(r=_(h,t.match)?t.match:y[y.length-1].match).optionalQuantifier=c>=i.quantifier.min,r.jit=(c+1)*(h.matches.indexOf(r)+1)>i.quantifier.jit,r.optionalQuantifier&&v(r,h)&&(m=!0,d=e,u.greedy&&null==l.validPositions[e-1]&&c>i.quantifier.min&&-1!=["*","+"].indexOf(i.quantifier.max)&&(y.pop(),b=void 0),a=!0,o=!1),!a&&r.jit&&(l.jitOffset[e]=h.matches.length-h.matches.indexOf(r))})),a)break;return!0}}}();if(o=w(o,n,s,h))return!0}else d++}for(var h=n.length>0?n.shift():0;h<t.matches.length;h++)if(!0!==t.matches[h].isQuantifier){var v=f(t.matches[h],[h].concat(o),s);if(v&&d===e)return v;if(d>e)break}}function _(e,t){var n=-1!=e.matches.indexOf(t);return n||e.matches.forEach((function(e,r){void 0===e.matches||n||(n=_(e,t))})),n}if(e>-1){if(void 0===t){for(var k,x=e-1;void 0===(k=l.validPositions[x]||l.tests[x])&&x>-1;)x--;void 0!==k&&x>-1&&(v=function(e,t){var n,r=[];return Array.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation||!0===u.keepStatic?0===(r=h.call(a,e,t.slice()).locator.slice()).length&&(r=t[0].locator.slice()):t.forEach((function(e){""!==e.def&&(0===r.length?(n=e.alternation,r=e.locator.slice()):e.locator[n]&&-1===r[n].toString().indexOf(e.locator[n])&&(r[n]+=","+e.locator[n]))}))),r}(x,k),b=v.join(""),d=x)}if(l.tests[e]&&l.tests[e][0].cd===b)return l.tests[e];for(var O=v.shift();O<f.length&&!(w(f[O],v,[O])&&d===e||d>e);O++);}return(0===y.length||m)&&y.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:g&&0===y.filter((function(e){return!0!==e.unMatchedAlternationStopped})).length?[0]:[],mloc:{},cd:b}),void 0!==t&&l.tests[e]?o=s.extend(!0,[],y):(l.tests[e]=s.extend(!0,[],y),o=l.tests[e]),y.forEach((function(e){e.match.optionality=e.match.defOptionality||!1})),o}},7215:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.alternate=s,t.checkAlternationMatch=function(e,t,n){for(var r,i=this.opts.greedy?t:t.slice(0,1),o=!1,a=void 0!==n?n.split(","):[],s=0;s<a.length;s++)-1!==(r=e.indexOf(a[s]))&&e.splice(r,1);for(var l=0;l<e.length;l++)if(i.includes(e[l])){o=!0;break}return o},t.handleRemove=function(e,t,n,r,l){var u=this,c=this.maskset,f=this.opts;if((f.numericInput||u.isRTL)&&(t===i.keys.Backspace?t=i.keys.Delete:t===i.keys.Delete&&(t=i.keys.Backspace),u.isRTL)){var h=n.end;n.end=n.begin,n.begin=h}var d,p=o.getLastValidPosition.call(u,void 0,!0);n.end>=o.getBuffer.call(u).length&&p>=n.end&&(n.end=p+1),t===i.keys.Backspace?n.end-n.begin<1&&(n.begin=o.seekPrevious.call(u,n.begin)):t===i.keys.Delete&&n.begin===n.end&&(n.end=o.isMask.call(u,n.end,!0,!0)?n.end+1:o.seekNext.call(u,n.end)+1),!1!==(d=v.call(u,n))&&((!0!==r&&!1!==f.keepStatic||null!==f.regex&&-1!==a.getTest.call(u,n.begin).match.def.indexOf("|"))&&s.call(u,!0),!0!==r&&(c.p=t===i.keys.Delete?n.begin+d:n.begin,c.p=o.determineNewCaretPosition.call(u,{begin:c.p,end:c.p},!1,!1===f.insertMode&&t===i.keys.Backspace?"none":void 0).begin))},t.isComplete=u,t.isSelection=c,t.isValid=f,t.refreshFromBuffer=d,t.revalidateMask=v;var r=n(6030),i=n(2839),o=n(8711),a=n(4713);function s(e,t,n,r,i,l){var u=this,c=this.dependencyLib,h=this.opts,d=u.maskset;if(!u.hasAlternator)return!1;var p,v,y,m,b,g,w,_,k,x,O,P=c.extend(!0,[],d.validPositions),S=c.extend(!0,{},d.tests),E=!1,j=!1,T=void 0!==i?i:o.getLastValidPosition.call(u);if(l&&(x=l.begin,O=l.end,l.begin>l.end&&(x=l.end,O=l.begin)),-1===T&&void 0===i)p=0,v=(m=a.getTest.call(u,p)).alternation;else for(;T>=0;T--)if((y=d.validPositions[T])&&void 0!==y.alternation){if(T<=(e||0)&&m&&m.locator[y.alternation]!==y.locator[y.alternation])break;p=T,v=d.validPositions[p].alternation,m=y}if(void 0!==v){w=parseInt(p),d.excludes[w]=d.excludes[w]||[],!0!==e&&d.excludes[w].push((0,a.getDecisionTaker)(m)+":"+m.alternation);var D=[],A=-1;for(b=w;w<o.getLastValidPosition.call(u,void 0,!0)+1;b++)-1===A&&e<=b&&void 0!==t&&(D.push(t),A=D.length-1),(g=d.validPositions[w])&&!0!==g.generatedInput&&(void 0===l||b<x||b>=O)&&D.push(g.input),d.validPositions.splice(w,1);for(-1===A&&void 0!==t&&(D.push(t),A=D.length-1);void 0!==d.excludes[w]&&d.excludes[w].length<10;){for(d.tests={},o.resetMaskSet.call(u,!0),E=!0,b=0;b<D.length&&(_=E.caret||0==h.insertMode&&null!=_?o.seekNext.call(u,_):o.getLastValidPosition.call(u,void 0,!0)+1,k=D[b],E=f.call(u,_,k,!1,r,!0));b++)b===A&&(j=E),1==e&&E&&(j={caretPos:b});if(E)break;if(o.resetMaskSet.call(u),m=a.getTest.call(u,w),d.validPositions=c.extend(!0,[],P),d.tests=c.extend(!0,{},S),!d.excludes[w]){j=s.call(u,e,t,n,r,w-1,l);break}if(null!=m.alternation){var C=(0,a.getDecisionTaker)(m);if(-1!==d.excludes[w].indexOf(C+":"+m.alternation)){j=s.call(u,e,t,n,r,w-1,l);break}for(d.excludes[w].push(C+":"+m.alternation),b=w;b<o.getLastValidPosition.call(u,void 0,!0)+1;b++)d.validPositions.splice(w)}else delete d.excludes[w]}}return j&&!1===h.keepStatic||delete d.excludes[w],j}function l(e,t,n){var r=this.opts,o=this.maskset;switch(r.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=o.validPositions[n-1];e=0===n||a&&a.input===String.fromCharCode(i.keyCode.Space)?e.toUpperCase():e.toLowerCase();break;default:if("function"==typeof r.casing){var s=Array.prototype.slice.call(arguments);s.push(o.validPositions),e=r.casing.apply(this,s)}}return e}function u(e){var t=this,n=this.opts,r=this.maskset;if("function"==typeof n.isComplete)return n.isComplete(e,n);if("*"!==n.repeat){var i=!1,s=o.determineLastRequiredPosition.call(t,!0),l=s.l;if(void 0===s.def||s.def.newBlockMarker||s.def.optionality||s.def.optionalQuantifier){i=!0;for(var u=0;u<=l;u++){var c=a.getTestTemplate.call(t,u).match;if(!0!==c.static&&void 0===r.validPositions[u]&&(!1===c.optionality||void 0===c.optionality||c.optionality&&0==c.newBlockMarker)&&(!1===c.optionalQuantifier||void 0===c.optionalQuantifier)||!0===c.static&&""!=c.def&&e[u]!==a.getPlaceholder.call(t,u,c)){i=!1;break}}}return i}}function c(e){var t=this.opts.insertMode?0:1;return this.isRTL?e.begin-e.end>t:e.end-e.begin>t}function f(e,t,n,r,i,h,y){var m=this,b=this.dependencyLib,g=this.opts,w=m.maskset;n=!0===n;var _=e;function k(e){if(void 0!==e){if(void 0!==e.remove&&(Array.isArray(e.remove)||(e.remove=[e.remove]),e.remove.sort((function(e,t){return m.isRTL?e.pos-t.pos:t.pos-e.pos})).forEach((function(e){v.call(m,{begin:e,end:e+1})})),e.remove=void 0),void 0!==e.insert&&(Array.isArray(e.insert)||(e.insert=[e.insert]),e.insert.sort((function(e,t){return m.isRTL?t.pos-e.pos:e.pos-t.pos})).forEach((function(e){""!==e.c&&f.call(m,e.pos,e.c,void 0===e.strict||e.strict,void 0!==e.fromIsValid?e.fromIsValid:r)})),e.insert=void 0),e.refreshFromBuffer&&e.buffer){var t=e.refreshFromBuffer;d.call(m,!0===t?t:t.start,t.end,e.buffer),e.refreshFromBuffer=void 0}void 0!==e.rewritePosition&&(_=e.rewritePosition,e=!0)}return e}function x(t,n,i){var s=!1;return a.getTests.call(m,t).every((function(u,f){var h=u.match;if(o.getBuffer.call(m,!0),!1!==(s=(!h.jit||void 0!==w.validPositions[o.seekPrevious.call(m,t)])&&(null!=h.fn?h.fn.test(n,w,t,i,g,c.call(m,e)):(n===h.def||n===g.skipOptionalPartCharacter)&&""!==h.def&&{c:a.getPlaceholder.call(m,t,h,!0)||h.def,pos:t}))){var d=void 0!==s.c?s.c:n,p=t;return d=d===g.skipOptionalPartCharacter&&!0===h.static?a.getPlaceholder.call(m,t,h,!0)||h.def:d,!0!==(s=k(s))&&void 0!==s.pos&&s.pos!==t&&(p=s.pos),!0!==s&&void 0===s.pos&&void 0===s.c||!1===v.call(m,e,b.extend({},u,{input:l.call(m,d,h,p)}),r,p)&&(s=!1),!1}return!0})),s}void 0!==e.begin&&(_=m.isRTL?e.end:e.begin);var O=!0,P=b.extend(!0,[],w.validPositions);if(!1===g.keepStatic&&void 0!==w.excludes[_]&&!0!==i&&!0!==r)for(var S=_;S<(m.isRTL?e.begin:e.end);S++)void 0!==w.excludes[S]&&(w.excludes[S]=void 0,delete w.tests[S]);if("function"==typeof g.preValidation&&!0!==r&&!0!==h&&(O=k(O=g.preValidation.call(m,o.getBuffer.call(m),_,t,c.call(m,e),g,w,e,n||i))),!0===O){if(O=x(_,t,n),(!n||!0===r)&&!1===O&&!0!==h){var E=w.validPositions[_];if(!E||!0!==E.match.static||E.match.def!==t&&t!==g.skipOptionalPartCharacter){if(g.insertMode||void 0===w.validPositions[o.seekNext.call(m,_)]||e.end>_){var j=!1;if(w.jitOffset[_]&&void 0===w.validPositions[o.seekNext.call(m,_)]&&!1!==(O=f.call(m,_+w.jitOffset[_],t,!0,!0))&&(!0!==i&&(O.caret=_),j=!0),e.end>_&&(w.validPositions[_]=void 0),!j&&!o.isMask.call(m,_,g.keepStatic&&0===_))for(var T=_+1,D=o.seekNext.call(m,_,!1,0!==_);T<=D;T++)if(!1!==(O=x(T,t,n))){O=p.call(m,_,void 0!==O.pos?O.pos:T)||O,_=T;break}}}else O={caret:o.seekNext.call(m,_)}}m.hasAlternator&&!0!==i&&!n&&(i=!0,!1===O&&g.keepStatic&&(u.call(m,o.getBuffer.call(m))||0===_)?O=s.call(m,_,t,n,r,void 0,e):(c.call(m,e)&&w.tests[_]&&w.tests[_].length>1&&g.keepStatic||1==O&&!0!==g.numericInput&&w.tests[_]&&w.tests[_].length>1&&o.getLastValidPosition.call(m,void 0,!0)>_)&&(O=s.call(m,!0))),!0===O&&(O={pos:_})}if("function"==typeof g.postValidation&&!0!==r&&!0!==h){var A=g.postValidation.call(m,o.getBuffer.call(m,!0),void 0!==e.begin?m.isRTL?e.end:e.begin:e,t,O,g,w,n,y);void 0!==A&&(O=!0===A?O:A)}O&&void 0===O.pos&&(O.pos=_),!1===O||!0===h?(o.resetMaskSet.call(m,!0),w.validPositions=b.extend(!0,[],P)):p.call(m,void 0,_,!0);var C=k(O);return void 0!==m.maxLength&&o.getBuffer.call(m).length>m.maxLength&&!r&&(o.resetMaskSet.call(m,!0),w.validPositions=b.extend(!0,[],P),C=!1),C}function h(e,t,n){for(var r=this.maskset,i=!1,o=a.getTests.call(this,e),s=0;s<o.length;s++){if(o[s].match&&(o[s].match.nativeDef===t.match[n.shiftPositions?"def":"nativeDef"]&&(!n.shiftPositions||!t.match.static)||o[s].match.nativeDef===t.match.nativeDef||n.regex&&!o[s].match.static&&o[s].match.fn.test(t.input,r,e,!1,n))){i=!0;break}if(o[s].match&&o[s].match.def===t.match.nativeDef){i=void 0;break}}return!1===i&&void 0!==r.jitOffset[e]&&(i=h.call(this,e+r.jitOffset[e],t,n)),i}function d(e,t,n){var i,a,s=this,l=this.maskset,u=this.opts,c=this.dependencyLib,f=u.skipOptionalPartCharacter,h=s.isRTL?n.slice().reverse():n;if(u.skipOptionalPartCharacter="",!0===e)o.resetMaskSet.call(s,!1),e=0,t=n.length,a=o.determineNewCaretPosition.call(s,{begin:0,end:0},!1).begin;else{for(i=e;i<t;i++)l.validPositions.splice(e,0);a=e}var d=new c.Event("keypress");for(i=e;i<t;i++){d.key=h[i].toString(),s.ignorable=!1;var p=r.EventHandlers.keypressEvent.call(s,d,!0,!1,!1,a);!1!==p&&void 0!==p&&(a=p.forwardPosition)}u.skipOptionalPartCharacter=f}function p(e,t,n){var r=this,i=this.maskset,s=this.dependencyLib;if(void 0===e)for(e=t-1;e>0&&!i.validPositions[e];e--);for(var l=e;l<t;l++)if(void 0===i.validPositions[l]&&!o.isMask.call(r,l,!1)&&(0==l?a.getTest.call(r,l):i.validPositions[l-1])){var u=a.getTests.call(r,l).slice();""===u[u.length-1].match.def&&u.pop();var c,h=a.determineTestTemplate.call(r,l,u);if(h&&(!0!==h.match.jit||"master"===h.match.newBlockMarker&&(c=i.validPositions[l+1])&&!0===c.match.optionalQuantifier)&&((h=s.extend({},h,{input:a.getPlaceholder.call(r,l,h.match,!0)||h.match.def})).generatedInput=!0,v.call(r,l,h,!0),!0!==n)){var d=i.validPositions[t].input;return i.validPositions[t]=void 0,f.call(r,t,d,!0,!0)}}}function v(e,t,n,r){var i=this,s=this.maskset,l=this.opts,u=this.dependencyLib;function d(e,t,n){var r=t[e];if(void 0!==r&&!0===r.match.static&&!0!==r.match.optionality&&(void 0===t[0]||void 0===t[0].alternation)){var i=n.begin<=e-1?t[e-1]&&!0===t[e-1].match.static&&t[e-1]:t[e-1],o=n.end>e+1?t[e+1]&&!0===t[e+1].match.static&&t[e+1]:t[e+1];return i&&o}return!1}var p=0,v=void 0!==e.begin?e.begin:e,y=void 0!==e.end?e.end:e,m=!0;if(e.begin>e.end&&(v=e.end,y=e.begin),r=void 0!==r?r:v,void 0===n&&(v!==y||l.insertMode&&void 0!==s.validPositions[r]||void 0===t||t.match.optionalQuantifier||t.match.optionality)){var b,g=u.extend(!0,[],s.validPositions),w=o.getLastValidPosition.call(i,void 0,!0);s.p=v;var _=c.call(i,e)?v:r;for(b=w;b>=_;b--)s.validPositions.splice(b,1),void 0===t&&delete s.tests[b+1];var k,x,O=r,P=O;for(t&&(s.validPositions[r]=u.extend(!0,{},t),P++,O++),null==g[y]&&s.jitOffset[y]&&(y+=s.jitOffset[y]+1),b=t?y:y-1;b<=w;b++){if(void 0!==(k=g[b])&&!0!==k.generatedInput&&(b>=y||b>=v&&d(b,g,{begin:v,end:y}))){for(;""!==a.getTest.call(i,P).match.def;){if(!1!==(x=h.call(i,P,k,l))||"+"===k.match.def){"+"===k.match.def&&o.getBuffer.call(i,!0);var S=f.call(i,P,k.input,"+"!==k.match.def,!0);if(m=!1!==S,O=(S.pos||P)+1,!m&&x)break}else m=!1;if(m){void 0===t&&k.match.static&&b===e.begin&&p++;break}if(!m&&o.getBuffer.call(i),P>s.maskLength)break;P++}""==a.getTest.call(i,P).match.def&&(m=!1),P=O}if(!m)break}if(!m)return s.validPositions=u.extend(!0,[],g),o.resetMaskSet.call(i,!0),!1}else t&&a.getTest.call(i,r).match.cd===t.match.cd&&(s.validPositions[r]=u.extend(!0,{},t));return o.resetMaskSet.call(i,!0),p}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r={};return function(){var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(7149),n(3194),n(9302),n(4013),n(3851),n(219),n(207),n(5296);var t,i=(t=n(2394))&&t.__esModule?t:{default:t};e.default=i.default}(),r}()},"object"==s(t)&&"object"==s(e)?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},8289:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e);var i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",l="[object Date]",u="[object Function]",c="[object GeneratorFunction]",f="[object Map]",h="[object Number]",d="[object Object]",p="[object Promise]",v="[object RegExp]",y="[object Set]",m="[object String]",b="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",P="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",j="[object Uint8ClampedArray]",T="[object Uint16Array]",D="[object Uint32Array]",A=/\w*$/,C=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,L={};L[a]=L["[object Array]"]=L[w]=L[_]=L[s]=L[l]=L[k]=L[x]=L[O]=L[P]=L[S]=L[f]=L[h]=L[d]=L[v]=L[y]=L[m]=L[b]=L[E]=L[j]=L[T]=L[D]=!0,L["[object Error]"]=L[u]=L[g]=!1;var R="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,I="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,N=R||I||Function("return this")(),B="object"==r(t)&&t&&!t.nodeType&&t,F=B&&"object"==r(e)&&e&&!e.nodeType&&e,z=F&&F.exports===B;function V(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function H(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Y(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e,t){return function(n){return e(t(n))}}function X(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var W,$=Array.prototype,K=Function.prototype,Z=Object.prototype,J=N["__core-js_shared__"],Q=(W=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",ee=K.toString,te=Z.hasOwnProperty,ne=Z.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=z?N.Buffer:void 0,oe=N.Symbol,ae=N.Uint8Array,se=G(Object.getPrototypeOf,Object),le=Object.create,ue=Z.propertyIsEnumerable,ce=$.splice,fe=Object.getOwnPropertySymbols,he=ie?ie.isBuffer:void 0,de=G(Object.keys,Object),pe=Fe(N,"DataView"),ve=Fe(N,"Map"),ye=Fe(N,"Promise"),me=Fe(N,"Set"),be=Fe(N,"WeakMap"),ge=Fe(Object,"create"),we=Ye(pe),_e=Ye(ve),ke=Ye(ye),xe=Ye(me),Oe=Ye(be),Pe=oe?oe.prototype:void 0,Se=Pe?Pe.valueOf:void 0;function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function je(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){this.__data__=new je(e)}function Ae(e,t){var n=Ge(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Xe(e)}(e)&&te.call(e,"callee")&&(!ue.call(e,"callee")||ne.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!te.call(e,s)||o&&("length"==s||qe(s,i))||n.push(s);return n}function Ce(e,t,n){var r=e[t];te.call(e,t)&&Ue(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Me(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function Le(e,t,n,r,i,o,p){var g;if(r&&(g=o?r(e,i,o,p):r(e)),void 0!==g)return g;if(!Ke(e))return e;var C=Ge(e);if(C){if(g=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&te.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,g)}else{var M=Ve(e),R=M==u||M==c;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(M==d||M==a||R&&!o){if(Y(e))return o?e:{};if(g=function(e){return"function"!=typeof e.constructor||He(e)?{}:(t=se(e),Ke(t)?le(t):{});var t}(R?{}:e),!t)return function(e,t){return Ne(e,ze(e),t)}(e,function(e,t){return e&&Ne(t,Ze(t),e)}(g,e))}else{if(!L[M])return o?e:{};g=function(e,t,n,r){var i=e.constructor;switch(t){case w:return Ie(e);case s:case l:return new i(+e);case _:return function(e,t){var n=t?Ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case k:case x:case O:case P:case S:case E:case j:case T:case D:return function(e,t){var n=t?Ie(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){var r=t?n(U(e),!0):U(e);return H(r,V,new e.constructor)}(e,r,n);case h:case m:return new i(e);case v:return function(e){var t=new e.constructor(e.source,A.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return function(e,t,n){var r=t?n(X(e),!0):X(e);return H(r,q,new e.constructor)}(e,r,n);case b:return o=e,Se?Object(Se.call(o)):{}}var o}(e,M,Le,t)}}p||(p=new De);var I=p.get(e);if(I)return I;if(p.set(e,g),!C)var N=n?function(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ze,ze)}(e):Ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(N||e,(function(i,o){N&&(i=e[o=i]),Ce(g,o,Le(i,t,n,r,o,e,p))})),g}function Re(e){return!(!Ke(e)||(t=e,Q&&Q in t))&&($e(e)||Y(e)?re:C).test(Ye(e));var t}function Ie(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Ne(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Ce(n,a,void 0===s?e[a]:s)}return n}function Be(e,t){var n,i,o=e.__data__;return("string"==(i=r(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===i?void 0:n}return te.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:te.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?i:t,this},je.prototype.clear=function(){this.__data__=[]},je.prototype.delete=function(e){var t=this.__data__,n=Me(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},je.prototype.get=function(e){var t=this.__data__,n=Me(t,e);return n<0?void 0:t[n][1]},je.prototype.has=function(e){return Me(this.__data__,e)>-1},je.prototype.set=function(e,t){var n=this.__data__,r=Me(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ee,map:new(ve||je),string:new Ee}},Te.prototype.delete=function(e){return Be(this,e).delete(e)},Te.prototype.get=function(e){return Be(this,e).get(e)},Te.prototype.has=function(e){return Be(this,e).has(e)},Te.prototype.set=function(e,t){return Be(this,e).set(e,t),this},De.prototype.clear=function(){this.__data__=new je},De.prototype.delete=function(e){return this.__data__.delete(e)},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var n=this.__data__;if(n instanceof je){var r=n.__data__;if(!ve||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var ze=fe?G(fe,Object):function(){return[]},Ve=function(e){return ne.call(e)};function qe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Ye(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(pe&&Ve(new pe(new ArrayBuffer(1)))!=_||ve&&Ve(new ve)!=f||ye&&Ve(ye.resolve())!=p||me&&Ve(new me)!=y||be&&Ve(new be)!=g)&&(Ve=function(e){var t=ne.call(e),n=t==d?e.constructor:void 0,r=n?Ye(n):void 0;if(r)switch(r){case we:return _;case _e:return f;case ke:return p;case xe:return y;case Oe:return g}return t});var Ge=Array.isArray;function Xe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!$e(e)}var We=he||function(){return!1};function $e(e){var t=Ke(e)?ne.call(e):"";return t==u||t==c}function Ke(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Ze(e){return Xe(e)?Ae(e):function(e){if(!He(e))return de(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Le(e,!0,!0)}},1190:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.nmd(e);var i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object Promise]",y="[object RegExp]",m="[object Set]",b="[object String]",g="[object Symbol]",w="[object WeakMap]",_="[object ArrayBuffer]",k="[object DataView]",x=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[a]=P[s]=P[_]=P[l]=P[k]=P[u]=P[c]=P[f]=P[h]=P[d]=P[p]=P[y]=P[m]=P[b]=P[w]=!1;var S="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,E="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,j=S||E||Function("return this")(),T="object"==r(t)&&t&&!t.nodeType&&t,D=T&&"object"==r(e)&&e&&!e.nodeType&&e,A=D&&D.exports===T,C=A&&S.process,M=function(){try{return C&&C.binding&&C.binding("util")}catch(e){}}(),L=M&&M.isTypedArray;function R(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function I(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var B,F,z,V=Array.prototype,q=Function.prototype,H=Object.prototype,Y=j["__core-js_shared__"],U=q.toString,G=H.hasOwnProperty,X=(B=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",W=H.toString,$=RegExp("^"+U.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=A?j.Buffer:void 0,Z=j.Symbol,J=j.Uint8Array,Q=H.propertyIsEnumerable,ee=V.splice,te=Z?Z.toStringTag:void 0,ne=Object.getOwnPropertySymbols,re=K?K.isBuffer:void 0,ie=(F=Object.keys,z=Object,function(e){return F(z(e))}),oe=Me(j,"DataView"),ae=Me(j,"Map"),se=Me(j,"Promise"),le=Me(j,"Set"),ue=Me(j,"WeakMap"),ce=Me(Object,"create"),fe=Ne(oe),he=Ne(ae),de=Ne(se),pe=Ne(le),ve=Ne(ue),ye=Z?Z.prototype:void 0,me=ye?ye.valueOf:void 0;function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new we;++t<n;)this.add(e[t])}function ke(e){var t=this.__data__=new ge(e);this.size=t.size}function xe(e,t){var n=ze(e),r=!n&&Fe(e),i=!n&&!r&&Ve(e),o=!n&&!r&&!i&&Ge(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!G.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ie(u,l))||s.push(u);return s}function Oe(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1}function Pe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":te&&te in Object(e)?function(e){var t=G.call(e,te),n=e[te];try{e[te]=void 0;var r=!0}catch(e){}var i=W.call(e);r&&(t?e[te]=n:delete e[te]);return i}(e):function(e){return W.call(e)}(e)}function Se(e){return Ue(e)&&Pe(e)==a}function Ee(e,t,n,r,i){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var f=ze(e),v=ze(t),w=f?s:Re(e),x=v?s:Re(t),O=(w=w==a?p:w)==p,P=(x=x==a?p:x)==p,S=w==x;if(S&&Ve(e)){if(!Ve(t))return!1;f=!0,O=!1}if(S&&!O)return o||(o=new ke),f||Ge(e)?De(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!o(new J(e),new J(t)));case l:case u:case d:return Be(+e,+t);case c:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case h:var s=I;case m:var f=1&r;if(s||(s=N),e.size!=t.size&&!f)return!1;var p=a.get(e);if(p)return p==t;r|=2,a.set(e,t);var v=De(s(e),s(t),r,i,o,a);return a.delete(e),v;case g:if(me)return me.call(e)==me.call(t)}return!1}(e,t,w,n,r,i,o);if(!(1&n)){var E=O&&G.call(e,"__wrapped__"),j=P&&G.call(t,"__wrapped__");if(E||j){var T=E?e.value():e,D=j?t.value():t;return o||(o=new ke),i(T,D,n,r,o)}}if(!S)return!1;return o||(o=new ke),function(e,t,n,r,i,o){var a=1&n,s=Ae(e),l=s.length,u=Ae(t),c=u.length;if(l!=c&&!a)return!1;var f=l;for(;f--;){var h=s[f];if(!(a?h in t:G.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);var v=a;for(;++f<l;){var y=e[h=s[f]],m=t[h];if(r)var b=a?r(m,y,h,t,e,o):r(y,m,h,e,t,o);if(!(void 0===b?y===m||i(y,m,n,r,o):b)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var g=e.constructor,w=t.constructor;g==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,Ee,i))}function je(e){return!(!Ye(e)||function(e){return!!X&&X in e}(e))&&(qe(e)?$:x).test(Ne(e))}function Te(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||H,t!==r)return ie(e);var t,n,r,i=[];for(var o in Object(e))G.call(e,o)&&"constructor"!=o&&i.push(o);return i}function De(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,h=2&n?new _e:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],p=t[c];if(r)var v=a?r(p,d,c,t,e,o):r(d,p,c,e,t,o);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!R(t,(function(e,t){if(a=t,!h.has(a)&&(d===e||i(d,e,n,r,o)))return h.push(t);var a}))){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Ae(e){return function(e,t,n){var r=t(e);return ze(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Le)}function Ce(e,t){var n,i,o=e.__data__;return("string"==(i=r(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}be.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},be.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===i?void 0:n}return G.call(t,e)?t[e]:void 0},be.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:G.call(t,e)},be.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?i:t,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ee.call(t,n,1),--this.size,!0)},ge.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},ge.prototype.has=function(e){return Oe(this.__data__,e)>-1},ge.prototype.set=function(e,t){var n=this.__data__,r=Oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(ae||ge),string:new be}},we.prototype.delete=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t},we.prototype.get=function(e){return Ce(this,e).get(e)},we.prototype.has=function(e){return Ce(this,e).has(e)},we.prototype.set=function(e,t){var n=Ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,i),this},_e.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new ge,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ge){var r=n.__data__;if(!ae||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new we(r)}return n.set(e,t),this.size=n.size,this};var Le=ne?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(ne(e),(function(t){return Q.call(e,t)})))}:function(){return[]},Re=Pe;function Ie(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ne(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Be(e,t){return e===t||e!=e&&t!=t}(oe&&Re(new oe(new ArrayBuffer(1)))!=k||ae&&Re(new ae)!=h||se&&Re(se.resolve())!=v||le&&Re(new le)!=m||ue&&Re(new ue)!=w)&&(Re=function(e){var t=Pe(e),n=t==p?e.constructor:void 0,r=n?Ne(n):"";if(r)switch(r){case fe:return k;case he:return h;case de:return v;case pe:return m;case ve:return w}return t});var Fe=Se(function(){return arguments}())?Se:function(e){return Ue(e)&&G.call(e,"callee")&&!Q.call(e,"callee")},ze=Array.isArray;var Ve=re||function(){return!1};function qe(e){if(!Ye(e))return!1;var t=Pe(e);return t==f||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ye(e){var t=r(e);return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==r(e)}var Ge=L?function(e){return function(t){return e(t)}}(L):function(e){return Ue(e)&&He(e.length)&&!!P[Pe(e)]};function Xe(e){return null!=(t=e)&&He(t.length)&&!qe(t)?xe(e):Te(e);var t}e.exports=function(e,t){return Ee(e,t)}},3882:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(8289),a=n(1190);!function(e){e.compose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"!==r(e)&&(e={}),"object"!==r(t)&&(t={});var i=o(t);for(var a in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(i[a]=e[a]);return Object.keys(i).length>0?i:void 0},e.diff=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==r(e)&&(e={}),"object"!==r(t)&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return a(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"!==r(e))return t;if("object"===r(t)){if(!n)return t;var i=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(i).length>0?i:void 0}}}(i||(i={})),t.default=i},1308:(e,t,n)=>{"use strict";function r(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;var u=n(398),c=n(8289),f=n(1190),h=n(3882);t.AttributeMap=h.default;var d=n(4039);t.Op=d.default;var p=n(661);t.OpIterator=p.default;var v=String.fromCharCode(0),y=function(e,t){if("object"!==l(e)||null===e)throw new Error("cannot retain a ".concat(l(e)));if("object"!==l(t)||null===t)throw new Error("cannot retain a ".concat(l(t)));var n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error("embed types not matched: ".concat(n," != ").concat(Object.keys(t)[0]));return[n,e[n],t[n]]},m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return t=e,n=[{key:"insert",value:function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"===l(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}},{key:"delete",value:function(e){return e<=0?this:this.push({delete:e})}},{key:"retain",value:function(e,t){if("number"==typeof e&&e<=0)return this;var n={retain:e};return null!=t&&"object"===l(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}},{key:"push",value:function(e){var t=this.ops.length,n=this.ops[t-1];if(e=c(e),"object"===l(n)){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!==l(n=this.ops[t-1])))return this.ops.unshift(e),this;if(f(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===l(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===l(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}},{key:"chop",value:function(){var e=this.ops[this.ops.length-1];return e&&"number"==typeof e.retain&&!e.attributes&&this.ops.pop(),this}},{key:"filter",value:function(e){return this.ops.filter(e)}},{key:"forEach",value:function(e){this.ops.forEach(e)}},{key:"map",value:function(e){return this.ops.map(e)}},{key:"partition",value:function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]}},{key:"reduce",value:function(e,t){return this.ops.reduce(e,t)}},{key:"changeLength",value:function(){return this.reduce((function(e,t){return t.insert?e+d.default.length(t):t.delete?e-t.delete:e}),0)}},{key:"length",value:function(){return this.reduce((function(e,t){return e+d.default.length(t)}),0)}},{key:"slice",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=[],i=new p.default(this.ops),o=0;o<n&&i.hasNext();){var a=void 0;o<t?a=i.next(t-o):(a=i.next(n-o),r.push(a)),o+=d.default.length(a)}return new e(r)}},{key:"compose",value:function(t){var n=new p.default(this.ops),o=new p.default(t.ops),a=[],s=o.peek();if(null!=s&&"number"==typeof s.retain&&null==s.attributes){for(var u=s.retain;"insert"===n.peekType()&&n.peekLength()<=u;)u-=n.peekLength(),a.push(n.next());s.retain-u>0&&o.next(s.retain-u)}for(var c=new e(a);n.hasNext()||o.hasNext();)if("insert"===o.peekType())c.push(o.next());else if("delete"===n.peekType())c.push(n.next());else{var d=Math.min(n.peekLength(),o.peekLength()),v=n.next(d),m=o.next(d);if(m.retain){var b={};if("number"==typeof v.retain)b.retain="number"==typeof m.retain?d:m.retain;else if("number"==typeof m.retain)null==v.retain?b.insert=v.insert:b.retain=v.retain;else{var g=null==v.retain?"insert":"retain",w=i(y(v[g],m.retain),3),_=w[0],k=w[1],x=w[2],O=e.getHandler(_);b[g]=r({},_,O.compose(k,x,"retain"===g))}var P=h.default.compose(v.attributes,m.attributes,"number"==typeof v.retain);if(P&&(b.attributes=P),c.push(b),!o.hasNext()&&f(c.ops[c.ops.length-1],b)){var S=new e(n.rest());return c.concat(S).chop()}}else"number"==typeof m.delete&&("number"==typeof v.retain||"object"===l(v.retain)&&null!==v.retain)&&c.push(m)}return c.chop()}},{key:"concat",value:function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n}},{key:"diff",value:function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:v;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new e,o=u(r[0],r[1],n,!0),a=new p.default(this.ops),s=new p.default(t.ops);return o.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case u.INSERT:n=Math.min(s.peekLength(),t),i.push(s.next(n));break;case u.DELETE:n=Math.min(t,a.peekLength()),a.next(n),i.delete(n);break;case u.EQUAL:n=Math.min(a.peekLength(),s.peekLength(),t);var r=a.next(n),o=s.next(n);f(r.insert,o.insert)?i.retain(n,h.default.diff(r.attributes,o.attributes)):i.push(o).delete(n)}t-=n}})),i.chop()}},{key:"eachLine",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n",r=new p.default(this.ops),i=new e,o=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=d.default.length(a)-r.peekLength(),l="string"==typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(!1===t(i,r.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)}},{key:"invert",value:function(t){var n=new e;return this.reduce((function(o,a){if(a.insert)n.delete(d.default.length(a));else{if("number"==typeof a.retain&&null==a.attributes)return n.retain(a.retain),o+a.retain;if(a.delete||"number"==typeof a.retain){var s=a.delete||a.retain;return t.slice(o,o+s).forEach((function(e){a.delete?n.push(e):a.retain&&a.attributes&&n.retain(d.default.length(e),h.default.invert(a.attributes,e.attributes))})),o+s}if("object"===l(a.retain)&&null!==a.retain){var u=t.slice(o,o+1),c=new p.default(u.ops).next(),f=i(y(a.retain,c.insert),3),v=f[0],m=f[1],b=f[2],g=e.getHandler(v);return n.retain(r({},v,g.invert(m,b)),h.default.invert(a.attributes,c.attributes)),o+1}}return o}),0),n.chop()}},{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var i=t,o=new p.default(this.ops),a=new p.default(i.ops),s=new e;o.hasNext()||a.hasNext();)if("insert"!==o.peekType()||!n&&"insert"===a.peekType())if("insert"===a.peekType())s.push(a.next());else{var u=Math.min(o.peekLength(),a.peekLength()),c=o.next(u),f=a.next(u);if(c.delete)continue;if(f.delete)s.push(f);else{var v=c.retain,y=f.retain,m="object"===l(y)&&null!==y?y:u;if("object"===l(v)&&null!==v&&"object"===l(y)&&null!==y){var b=Object.keys(v)[0];if(b===Object.keys(y)[0]){var g=e.getHandler(b);g&&(m=r({},b,g.transform(v[b],y[b],n)))}}s.retain(m,h.default.transform(c.attributes,f.attributes,n))}}else s.retain(d.default.length(o.next()));return s.chop()}},{key:"transformPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!!t;for(var n=new p.default(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e}}],o=[{key:"registerEmbed",value:function(e,t){this.handlers[e]=t}},{key:"unregisterEmbed",value:function(e){delete this.handlers[e]}},{key:"getHandler",value:function(e){var t=this.handlers[e];if(!t)throw new Error('no handlers for embed type "'.concat(e,'"'));return t}}],n&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();m.Op=d.default,m.OpIterator=p.default,m.AttributeMap=h.default,m.handlers={},t.default=m,"object"===l(e)&&(e.exports=m,e.exports.default=m)},4039:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"object"===n(e.retain)&&null!==e.retain?1:"string"==typeof e.insert?e.insert.length:1}}(r||(r={})),t.default=r},661:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4039),s=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ops=t,this.index=0,this.offset=0},(t=[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.default.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"object"===r(t.retain)&&null!==t.retain?o.retain=t.retain:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}}},{key:"peek",value:function(){return this.ops[this.index]}},{key:"peekLength",value:function(){return this.ops[this.index]?a.default.length(this.ops[this.index])-this.offset:1/0}},{key:"peekType",value:function(){var e=this.ops[this.index];return e?"number"==typeof e.delete?"delete":"number"==typeof e.retain||"object"===r(e.retain)&&null!==e.retain?"retain":"insert":"retain"}},{key:"rest",value:function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();t.default=s},2969:()=>{document.addEventListener("DOMContentLoaded",(function(e){document.addEventListener("submit",(function(e){var t,n=e.target.closest("[data-cdsvalidator-form]");if(n){var r=function(e){if("SELECT"===e.tagName||e.classList.contains("multiselect-filter__select"))return u;if("checkbox"===e.type){var t=n.querySelectorAll("input[name='".concat(e.name,"']"));return function(){return c(t)}}if("radio"===e.type){var r=n.querySelectorAll("input[name='".concat(e.name,"']"));return function(){return f(r)}}return"TEXTAREA"===e.tagName?a:"file"===e.type?s:"date"===e.type?l:o},i=function(e,t,n){if(e.hasAttribute("data-cdsvalidator-required")&&!e.disabled&&!n(e))return!1;return!0},o=function(e){return""!==e.value.trim()&&!e.classList.contains("required-error")},a=function(e){return""!==e.value.trim()},s=function(e){var t=e.closest("[data-upload-container]");return!!t&&t.querySelectorAll('[data-upload-loaded-files] input[type="hidden"]').length>0},l=function(e){return""!==e.value},u=function(e){return e.options.length>0&&Array.from(e.options).some((function(e){return e.selected&&""!==e.value.trim()}))},c=function(e){return Array.from(e).some((function(e){return e.checked}))},f=function(e){return Array.from(e).some((function(e){return e.checked}))},h=function(){var e=d.some((function(e){return!e.disabled&&!i(e,0,r(e))}));p&&(p.classList.toggle("disabled",e),p.setAttribute("aria-disabled",e))};e.preventDefault(),n.cdsvalidator={is_validate:!0};var d=Array.from(n.querySelectorAll("[data-cdsvalidator-required]")),p=n.querySelector("button[type='submit']");t=d.some((function(e){return e.hasAttribute("data-cdsvalidator-required")&&!e.disabled&&!o(e)})),p&&(p.classList.toggle("disabled",t),p.setAttribute("aria-disabled",t));var v=!0,y=new Set;d.forEach((function(e){i(e,0,r(e))||(v=!1,y.add(e.name))})),n.cdsvalidator.is_validate=v,console.log(n.cdsvalidator.is_validate),v||(window.cdscore.cdsformhelper.highlightFields(n,y),h()),d.forEach((function(e){e.addEventListener("input",(function(){i(e,0,r(e)),h()})),e.addEventListener("blur",(function(){i(e,0,r(e)),h()})),"SELECT"===e.tagName||e.classList.contains("multiselect-filter__select")?e.addEventListener("change",(function(){i(e,0,u),h()})):"checkbox"===e.type?e.addEventListener("change",(function(){var t=n.querySelectorAll("input[name='".concat(e.name,"']"));i(e,0,(function(){return c(t)})),h()})):"radio"===e.type?e.addEventListener("change",(function(){var t=n.querySelectorAll("input[name='".concat(e.name,"']"));i(e,0,(function(){return f(t)})),h()})):"TEXTAREA"===e.tagName?e.addEventListener("input",(function(){i(e,0,a),h()})):"file"===e.type?e.addEventListener("change",(function(){i(e,0,s),h()})):"date"===e.type&&e.addEventListener("change",(function(){i(e,0,l),h()}))}))}}),!0),document.addEventListener("click",(function(e){var t=e.target.closest(".required-error")||e.target.closest(".required-error-field");t&&function(e){var t=e.closest("div");t&&t.classList.remove("required-error-field");e.classList.remove("required-error")}(t)}))}))},8797:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==_typeof(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{accordionFaq:()=>accordionFaq,ajaxExample:()=>ajaxExample,ajaxSpecializationHideLoader:()=>ajaxSpecializationHideLoader,ajaxSpecializationShowLoader:()=>ajaxSpecializationShowLoader,ajaxUploadFile:()=>ajaxUploadFile,ajaxUploadFileHideLoader:()=>ajaxUploadFileHideLoader,ajaxUploadFileShowLoader:()=>ajaxUploadFileShowLoader,awardsFancybox:()=>awardsFancybox,burgerMenu:()=>burgerMenu,charCount:()=>charCount,dropdownNavBar:()=>dropdownNavBar,example:()=>example,findResultSpecialization:()=>findResultSpecialization,goBack:()=>goBack,header:()=>header,hideAjaxLoader:()=>hideAjaxLoader,initApplicantAwardsSlider:()=>initApplicantAwardsSlider,initApplicationsSlider:()=>initApplicationsSlider,initAwardsSlider:()=>initAwardsSlider,initCustomDatepicker:()=>initCustomDatepicker,initCustomSelect:()=>initCustomSelect,initDirectionSlider:()=>initDirectionSlider,initHistoryUserSliders:()=>initHistoryUserSliders,initPartnersSlider:()=>initPartnersSlider,initPaymentOptionsSliders:()=>initPaymentOptionsSliders,initQuill:()=>initQuill,initSmsPay:()=>initSmsPay,initSwitcher:()=>initSwitcher,initTabs:()=>initTabs,initUpBtn:()=>initUpBtn,invalidFieldsToForm:()=>invalidFieldsToForm,maxLengthCheck:()=>maxLengthCheck,onRemoveSpec:()=>onRemoveSpec,openSidebar:()=>openSidebar,resetInvalidFieldsToForm:()=>resetInvalidFieldsToForm,returnBtn:()=>returnBtn,scrollToTop:()=>scrollToTop,searchEventSpecialization:()=>searchEventSpecialization,searchSpecialization:()=>searchSpecialization,setGrade:()=>setGrade,setSizeSvg:()=>setSizeSvg,showAjaxLoader:()=>showAjaxLoader,showItemsHistoryApplication:()=>showItemsHistoryApplication,showMessageElement:()=>showMessageElement,stikyHeader:()=>stikyHeader,updateNumberText:()=>updateNumberText,updateStatusCheckbox:()=>updateStatusCheckbox,uploadFileResetRequiredTypes:()=>uploadFileResetRequiredTypes,uploadFileUpdateRequiredTypes:()=>uploadFileUpdateRequiredTypes,validRadioInputPaymentAmount:()=>validRadioInputPaymentAmount});var example=function(){console.log("test")},ajaxExample=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return showAjaxLoader(),t=new Request("/ajax/example.html",{method:"GET"}),e.next=5,fetch(t);case 5:if((n=e.sent).ok||(console.log(t),console.log(n),hideAjaxLoader()),!n.ok){e.next=13;break}return e.next=10,n.text();case 10:r=e.sent,cdscore.callbacks.ajaxExampleSetResult(r),hideAjaxLoader();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),showAjaxLoader=function(){},hideAjaxLoader=function(){};function burgerMenu(){var e=document.querySelectorAll(".j-bars"),t=document.querySelectorAll(".j-close-icon"),n=document.querySelector(".header-content-nav"),r=document.body;e.length>0&&n&&r&&e.forEach((function(e){e&&e.addEventListener("click",(function(){n&&(n.classList.add("open"),n.classList.contains("open")?r.classList.add("no-scroll"):r.classList.remove("no-scroll"))}))})),t.length>0&&n&&r&&t.forEach((function(e){e&&e.addEventListener("click",(function(){n&&(n.classList.remove("open"),n.classList.contains("open")?r.classList.add("no-scroll"):r.classList.remove("no-scroll"))}))}))}function header(){if(window.innerWidth>=768){var e=document.querySelector(".header__wrapper");if(e){var t=e.offsetTop,n=e.offsetHeight;stikyHeader(t,n),window.addEventListener("scroll",(function(){stikyHeader(t,n)}))}}}function stikyHeader(e,t){var n=window.pageYOffset,r=document.querySelector(".header__wrapper"),i=document.querySelector(".header-content"),o=document.querySelectorAll(".fixed-logo-hidden"),a=document.querySelectorAll(".fixed-btn-hidden"),s=document.querySelector(".header-content-bottom-nav"),l=document.querySelectorAll(".fixed-menu-burger-hidden"),u=document.querySelector(".header-content-bars"),c=document.querySelector(".close-icon"),f=document.querySelector(".header-content--bg"),h=document.querySelectorAll(".btn-sc-hidden");if(r&&i)if(e<=n){if(h&&h.forEach((function(e){return e.classList.add("fixed-hidden")})),o&&o.forEach((function(e){return e.classList.add("fixed-logo-visible")})),a&&a.forEach((function(e){return e.classList.add("fixed-btn-visible")})),i.style.padding="8px 0",r.classList.add("active"),!r.parentNode.querySelectorAll(".menu-content--bg")){var d=document.createElement("div");d&&(d.className="menu-content--bg",r.before(d)),f&&(f.style.height="".concat(t,"px"))}if(window.innerWidth<=1300)s&&s.classList.add("fixed-hidden"),l&&l.forEach((function(e){return e.classList.add("fixed-btn-visible")})),document.body.scrollHeight>=100?(u&&u.classList.remove("md-visible"),c&&(c.style.display="block")):(u&&u.classList.add("md-visible"),c&&(c.style.display="none"))}else h&&h.forEach((function(e){return e.classList.remove("fixed-hidden")})),o&&o.forEach((function(e){return e.classList.remove("fixed-logo-visible")})),a&&a.forEach((function(e){return e.classList.remove("fixed-btn-visible")})),s&&s.classList.remove("fixed-hidden"),l&&l.forEach((function(e){return e.classList.remove("fixed-btn-visible")})),r&&r.classList.remove("active"),f&&f.remove(),u&&u.classList.add("md-visible"),c&&(c.style.display="none"),i&&(i.style.padding="16px 0")}function dropdownNavBar(){document.querySelectorAll(".j-dropdown").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.nextElementSibling;n.classList.toggle("open"),n.classList.contains("open")?n.style.maxHeight=n.scrollHeight+"px":n.style.maxHeight=null}))})),document.addEventListener("click",(function(e){var t=e.target,n=!1,r=!1;1===t.nodeType&&t.classList&&(n=t.classList.contains("j-dropdown"));for(var i=t.parentNode;null!=i;i=i.parentNode)if(1===i.nodeType&&i.classList&&i.classList.contains("j-dropdown")){r=!0;break}n||r||document.querySelectorAll(".dropdown").forEach((function(e){e.style.maxHeight=null,e.classList.remove("open")}))}))}var returnBtn=function(){var e=document.querySelector(".j-return_btn");e&&e.addEventListener("click",(function(){goBack()}))},goBack=function(){window.history.back()},initCustomDatepicker=function(){document.querySelectorAll("[data-datepicker]").forEach((function(e){new Datepicker(e,{autohide:!0,format:"dd.mm.yyyy",language:"ru"})}))},showItemsHistoryApplication=function(){var e=document.querySelector(".j-show-items span"),t=document.querySelector(".hidden-items");if(e&&t){var n=!1;e.addEventListener("click",(function(){n?(t.style.maxHeight="0",e.textContent="Показать всю историю",n=!1):(t.style.maxHeight="".concat(t.scrollHeight,"px"),e.textContent="Скрыть историю",n=!0)}))}};function setGrade(){var e=document.querySelector(".j-grade_btn"),t=null==e?void 0:e.querySelector(".text-btn"),n=document.querySelector(".form-grade"),r=document.querySelector(".j-grade-close"),i=document.querySelector("form[data-evaluate-grade]");e&&n&&(e.addEventListener("click",(function(){n.style.display="block"})),r.addEventListener("click",(function(){n.style.display="none"}))),i&&t&&n&&i.addEventListener("submit",(function(e){e.preventDefault();var r=i.querySelectorAll("[data-evaluate-select]"),o=0,a=0;r.forEach((function(e){var t=parseFloat(e.value);isNaN(t)||(o+=t,a++)}));var s=a>0?(o/a).toFixed(1):0;t&&(t.textContent="Общая оценка "+s),n&&(n.style.display="none")}))}function updateStatusCheckbox(){var e=document.querySelector("[data-status-application-select]"),t=document.querySelector("[data-status-history-select]"),n=document.querySelector("[data-status-application-checkbox]"),r=document.querySelector("[data-status-history-checkbox]"),i=null==n?void 0:n.closest("label"),o=null==r?void 0:r.closest("label"),a=null==i?void 0:i.querySelector("span"),s=null==o?void 0:o.querySelector("span");i&&(i.style.display="none"),null==e||e.addEventListener("change",(function(){var t=e.options[e.selectedIndex].text;"На рассмотрении"===t?(n.checked=!1,i.style.display="none",a.textContent=""):"Ожидает ответ"===t||"Отклонен"===t?(n.checked=!1,i.style.display="inline",a.textContent="Автоматически создать обращение"):"Одобрена"===t&&(n.checked=!1,i.style.display="inline",a.textContent="Вывести грант на сайте для сбора средств")})),null==t||t.addEventListener("change",(function(){var e=t.options[t.selectedIndex].text;"Отклонить"===e?(r.checked=!1,o.style.display="inline",s.textContent="Автоматически создать обращение"):"Проверено"===e&&(r.checked=!1,o.style.display="inline",s.textContent="Вывести историю успеха на сайте")}))}function updateNumberText(){var e=document.querySelector(".number-applications");if(e)var t=e.textContent;var n=0;t&&(n=parseInt(t.match(/\d+/)[0],10));var r=document.querySelector(".number-grants");if(r)var i=r.textContent;var o=0;i&&(o=parseInt(i.match(/\d+/)[0],10));var a=document.querySelector(".number-applications");n&&a?a.textContent=function(e){if(""===e)return"У заявителя нет заявок.";var t=e%10==1&&e%100!=11?"заявка":e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?"заявки":"заявок";return"У заявителя ".concat(e," ").concat(t,".")}(n):a&&(a.textContent="У заявителя нет заявок.");var s=document.querySelector(".number-grants");n&&s&&(document.querySelector(".number-grants").textContent=function(e){if(""===e)return"У заявителя нет грантов.";var t=e%10==1&&e%100!=11?"грант":e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?"гранта":"грантов";return"У заявителя ".concat(e," ").concat(t,".")}(o))}var initCustomSelect=function(){document.querySelectorAll(".js-select-choice").forEach((function(e){if(!e.choicesjs){e.selectedIndex||(e.value="");var t=e.dataset.placeholder,n=new Choices(e,{placeholder:!0,placeholderValue:t,sorter:function(e,t){return!0}});e.choicesjs=n}}))},initUpBtn=function(){var e=document.querySelector(".j-up-btn");e&&e.addEventListener("click",(function(){scrollToTop()}))},scrollToTop=function(){window.scrollTo({top:0,behavior:"smooth"})};function handleDropdownClick(e){var t=e.parentElement.querySelectorAll(".active");e.classList.toggle("active"),t.forEach((function(e){return e.classList.remove("active")}))}var dropdownWrappers=document.querySelectorAll(".accordion-wrapper");function accordionFaq(){dropdownWrappers.forEach((function(e){e.querySelectorAll(".accordion").forEach((function(e){e.addEventListener("click",(function(){return handleDropdownClick(e)}))}))}))}var initDirectionSlider=function(){new Swiper(".j-main-directions__slider",{direction:"horizontal",speed:1e3,spaceBetween:24,slidesPerView:1,navigation:{nextEl:".direction-next_",prevEl:".direction-prev_"},grid:{rows:2,fill:"row"},pagination:{el:".direction-pagination",clickable:!0},breakpoints:{1280:{slidesPerView:2},768:{slidesPerView:2,grid:{rows:1,fill:"row"}},575:{slidesPerView:1.3,grid:{rows:1,fill:"row"}},0:{slidesPerView:1.3,grid:{rows:1,fill:"row"}}}})},initApplicationsSlider=function(){new Swiper(".j-main-applications__slider",{direction:"horizontal",speed:1e3,spaceBetween:24,slidesPerView:1,navigation:{nextEl:".applications-next_",prevEl:".applications-prev_"},pagination:{el:".applications-pagination",clickable:!0},breakpoints:{1280:{slidesPerView:3},768:{slidesPerView:2},575:{slidesPerView:1.3},360:{slidesPerView:1}}})},initPartnersSlider=function(){new Swiper(".j-partners-swiper",{slidesPerView:2,spaceBetween:32,speed:1e3,loop:!0,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".partners-swiper-pagination",dynamicBullets:!0},breakpoints:{1280:{slidesPerView:4},768:{slidesPerView:2},375:{slidesPerView:2}}})},initAwardsSlider=function(){new Swiper(".j-about-awards__slider",{slidesPerView:1,speed:1e3,spaceBetween:24,navigation:{nextEl:".awards-next_",prevEl:".awards-prev_"},pagination:{el:".card-awards-swiper-pagination",clickable:!0},breakpoints:{1280:{slidesPerView:3},768:{slidesPerView:2},575:{slidesPerView:1.3},360:{slidesPerView:1}}})},initHistoryUserSliders=function(){document.querySelectorAll(".j-history-slider").forEach((function(e){var t,n=null===(t=e.querySelector(".swiper").className.match(/j-history-user__slider-(\d+)/))||void 0===t?void 0:t[1];if(n)new Swiper(".j-history-user__slider-".concat(n),{direction:"horizontal",speed:1e3,centerInsufficientSlides:!0,spaceBetween:16,slidesPerView:1,loop:!0,autoplay:{delay:2e3,disableOnInteraction:!1},navigation:{nextEl:".history-next-".concat(n),prevEl:".history-prev-".concat(n)},pagination:{el:".history-pagination-".concat(n),clickable:!0},breakpoints:{1280:{slidesPerView:3},768:{slidesPerView:2},575:{slidesPerView:1.3},360:{slidesPerView:1}}})}))},initPaymentOptionsSliders=function(){new Swiper(".j-payment-options__slider",{direction:"horizontal",speed:1e3,centerInsufficientSlides:!0,spaceBetween:16,slidesPerView:1,loop:!1,navigation:{nextEl:".payment-next_",prevEl:".payment-prev_"},breakpoints:{1280:{slidesPerView:2.2},768:{slidesPerView:2.2},575:{slidesPerView:1.3},360:{slidesPerView:1.3}}})},initApplicantAwardsSlider=function(){new Swiper(".j-applicant-awards__slider",{slidesPerView:1,speed:1e3,spaceBetween:24,navigation:{nextEl:".applicant-awards-next_",prevEl:".applicant-awards-prev_"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{1280:{slidesPerView:2},768:{slidesPerView:2},575:{slidesPerView:2},360:{slidesPerView:1}}})},maxLengthCheck=function(){var e=document.querySelector("[data-maxLengthCheckSeries]"),t=document.querySelector("[data-maxLengthCheckNumber]");function n(e,t){e.value.length>t&&(e.value=e.value.slice(0,t))}e&&(e.oninput=function(){return n(e,4)}),t&&(t.oninput=function(){return n(t,6)})};function setSizeSvg(){var e=document.querySelectorAll(".icon-symbol"),t=document.querySelector("#sprite").querySelectorAll("symbol");e.forEach((function(e){var n=e.querySelector("use").getAttribute("xlink:href").replace("#","");t.forEach((function(t){if(n==t.id){var r=t.outerHTML,i=_slicedToArray(/viewBox="([^"]+)"/.exec(r)[1].split(" "),4),o=(i[0],i[1],i[2]),a=i[3];e.style.width=o,e.style.height=a}}))}))}var awardsFancybox=function(){Fancybox.bind('[data-fancybox="awards"]',{mainClass:"fancybox__container-gallery"})},initTabs=function(){var e=document.querySelectorAll(".nav-tabs li"),t=document.querySelectorAll(".tab-pane");e.forEach((function(n,r){n.addEventListener("click",(function(){e.forEach((function(e){return e.classList.remove("active")})),t.forEach((function(e){return e.classList.remove("active")})),e[r].classList.add("active"),t[r].classList.add("active")}))}))};function validRadioInputPaymentAmount(){var e=document.querySelector("input[payment_amount_input]"),t=document.querySelector(".form-payment__interval-selection[payment_amount_radio]").querySelectorAll('input[type="radio"]');function n(){Array.from(t).some((function(e){return e.checked}))?(e.removeAttribute("data-cdsvalidator-required"),e.value=""):e.setAttribute("data-cdsvalidator-required","true"),""!==e.value.trim()?t.forEach((function(e){e.checked=!1,e.removeAttribute("data-cdsvalidator-required")})):t.forEach((function(e){e.setAttribute("data-cdsvalidator-required","true")}))}e.addEventListener("input",(function(){t.forEach((function(e){e.checked=!1})),n()})),t.forEach((function(e){e.addEventListener("change",(function(){n()}))}))}function initSmsPay(){var e=document.querySelectorAll('.j-payment-options__slider input[type="radio"]'),t=document.querySelector(".sms-pay"),n=document.querySelectorAll(".card-pay"),r=document.querySelector("input[data-sms-pay]");e.forEach((function(e){e.addEventListener("change",(function(){this===r?(n.forEach((function(e){e.style.display="none"})),t.style.display="block"):(n.forEach((function(e){e.style.display="block"})),t.style.display="none")}))}))}function openSidebar(){var e=document.body,t=document.querySelector(".wrapper.account-page");t&&document.addEventListener("click",(function(n){n.target.closest(".j-open-sidebar")&&(t.classList.add("open"),e.classList.add("no-scroll")),n.target.closest(".j-close-sidebar")&&(t.classList.remove("open"),e.classList.remove("no-scroll"))}))}function ajaxUploadFileShowLoader(e){e.closest(".upload-field__wrap").classList.add("ajax-file-loading"),e.closest(".upload-field").classList.add("ajax-file-loading")}function ajaxUploadFileHideLoader(e){e.closest(".upload-field__wrap").classList.remove("ajax-file-loading"),e.closest(".upload-field").classList.remove("ajax-file-loading")}function ajaxSpecializationShowLoader(e){e.closest(".form-group__field").querySelector(".field-spec__row").classList.add("ajax-file-loading"),e.closest(".form-group__field").querySelector(".field-spec__row-input").classList.add("ajax-file-loading")}function ajaxSpecializationHideLoader(e){e.closest(".form-group__field").querySelector(".field-spec__row").classList.remove("ajax-file-loading"),e.closest(".form-group__field").querySelector(".field-spec__row-input").classList.remove("ajax-file-loading")}function searchEventSpecialization(e){return _searchEventSpecialization.apply(this,arguments)}function _searchEventSpecialization(){return _searchEventSpecialization=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(input){var value,url,method,function_search;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:value=input.value,url=input.dataset.specializationSearchUrl,method=input.dataset.specializationSearchMethod,function_search=input.dataset.specializationSearchFunction,void 0!==function_search&&""!=function_search&&void 0!==eval(function_search)&&eval(function_search).apply(null,[input,url,value,method]);case 5:case"end":return _context2.stop()}}),_callee2)}))),_searchEventSpecialization.apply(this,arguments)}var resetInvalidFieldsToForm=function(e){e.querySelectorAll(".invalid-field").forEach((function(e){e.classList.remove("invalid-field")})),console.log("All invalid fields have been reset")},invalidFieldsToForm=function(e,t){var n=null;t.forEach((function(t){e.querySelectorAll('[name="'+t+'"]').forEach((function(e){if("SELECT"===e.tagName&&e.closest(".choices__inner")){var t=e.closest(".choices__inner");t.classList.add("invalid-field"),n||(n=t)}else e.classList.add("invalid-field"),n||(n=e);console.log("highlight invalid field"),console.log(e)}))})),n&&n.scrollIntoView({behavior:"smooth",block:"center"})};function searchSpecialization(e,t,n,r){return _searchSpecialization.apply(this,arguments)}function _searchSpecialization(){return(_searchSpecialization=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var o,a,s,l,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cdscore.methods.ajaxSpecializationShowLoader(t),o={method:i},"POST"==i&&((a=new FormData).append("query",r),o.body=a),s=new Request(n,o),e.next=6,fetch(s);case 6:if((l=e.sent).ok||(console.log(s),console.log(l),alert("Кажется, возникла ошибка при отправке запроса на получение списка специализаций"),cdscore.methods.ajaxSpecializationHideLoader(t)),!l.ok){e.next=14;break}return e.next=11,l.text();case 11:u=e.sent,cdscore.callbacks.ajaxSpecializationShowResult(u,t),cdscore.methods.ajaxSpecializationHideLoader(t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function findResultSpecialization(e,t,n,r){return _findResultSpecialization.apply(this,arguments)}function _findResultSpecialization(){return(_findResultSpecialization=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i){var o,a,s,l,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:r},"POST"==r&&((a=new FormData).append("id",n),o.body=a),s=new Request(i,o),e.next=5,fetch(s);case 5:if((l=e.sent).ok||(console.log(s),console.log(l),alert("Кажется, возникла ошибка при отправке запроса на получение результата специализации")),!l.ok){e.next=12;break}return e.next=10,l.text();case 10:u=e.sent,cdscore.callbacks.ajaxSpecializationSetChoosen(u,t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function onRemoveSpec(e){return _onRemoveSpec.apply(this,arguments)}function _onRemoveSpec(){return(_onRemoveSpec=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.closest(".form-group__field").querySelector("[data-specialization-result]").innerHTML="";case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ajaxUploadFile(e,t,n,r,i){return _ajaxUploadFile.apply(this,arguments)}function _ajaxUploadFile(){return(_ajaxUploadFile=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,n,r,i,o){var a,s,l,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:i},"POST"==i&&(a.body=r),s=new Request(n,a),e.next=5,fetch(s);case 5:if((l=e.sent).ok||(console.log(s),console.log(l),alert("Кажется, возникла ошибка при загрузке файла, пожалуйста повторите попытку или сообщите администатору"),cdscore.methods.ajaxUploadFileHideLoader(t)),!l.ok){e.next=13;break}return e.next=10,l.text();case 10:u=e.sent,cdscore.callbacks.ajaxUploadShowResult(u,t,o),cdscore.methods.ajaxUploadFileHideLoader(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uploadFileUpdateRequiredTypes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.querySelector("[data-upload-types]");if(r){var i=r.querySelectorAll("[data-upload-type-id]"),o=e.querySelectorAll("[data-upload-change-type]"),a=[];o.forEach((function(e){var n=e.querySelector("select").value;n!=t&&a.push(n)})),i.forEach((function(e){if(e.classList.remove("success"),e.classList.remove("error"),!1===n){var t=e.dataset.uploadTypeId;a.indexOf(t)>=0?e.classList.add("success"):e.classList.add("error")}}))}}function uploadFileResetRequiredTypes(e){cdscore.methods.uploadFileUpdateRequiredTypes(e,0,!0)}var toolbarOptions=["bold","italic","underline","strike",{align:[]},{list:"ordered"},{list:"bullet"}],initQuill=function(){var e=document.querySelector(".quill-editor");if(e){var t=new Quill(e,{modules:{toolbar:toolbarOptions},placeholder:"Введите комментарий*",theme:"snow"});t.on("text-change",(function(e,n,r){var i=t.container.closest(".form-field-quill");null!=i&&(i.querySelector("[data-quill-textarea]").value=t.container.firstChild.innerHTML)}))}},charCount=function(){var e=document.querySelector(".charCount");if(null!=e){var t=function(){var t=i-r.value.length;e.textContent="".concat(t)},n=function(){r.value="",t()},r=document.querySelector("textarea[name]"),i=r.getAttribute("maxlength");r&&r.addEventListener("input",t),document.querySelectorAll(".clearButton").forEach((function(e){e.addEventListener("click",n)})),t()}},showMessageElement=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",r=e.previousSibling;r instanceof Element&&"JS"==r.getAttribute("data-notification")&&r.remove(),e.insertAdjacentHTML("beforebegin",'<div data-notification="JS" class="notification '+("error"==n?"notification--bg_tr-mistake":"notification--bg_tr-secondary_bl")+'"><svg aria-hidden="true" class="icon-symbol icon-symbol--default" style="width: 24px; height: 24px;"><use xlink:href="'+("error"==n?"#i-mistake-stop-s":"#i-ok-s")+'"></use></svg><span class="text-notification">'+t+"</span></div>")},initSwitcher=function(){document.addEventListener("change",(function(e){var t=e.target;if(void 0!==t.dataset.groupSwitcher){var n=t.closest(".switcher").nextSibling.nextSibling;1==t.checked?n.classList.remove("hidden"):n.classList.add("hidden")}}),!1)}},8622:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _modals_json__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4706);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==_typeof(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_typeof(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var modal={div_loader:{},options:{method:"GET",key:"#modal-",modals:[],loadClass:"modal-loading",loadHtmlClass:"modal-loader",fancyapp:{mainClass:"modal-container",dragToClose:!1}},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0!==e.modals)for(var t=0,n=Object.entries(e.modals);t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0],o=r[1];this.addModalOptions(i,o)}document.addEventListener("click",this.bindClickEvent.bind(this),!1)},updateOptions:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0],o=r[1];this.options[i]=o}},updateModals:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0],o=r[1];if(void 0===this.options.modals[i])this.addModalOptions(i,o);else{for(var a=this.options.modals[i],s=0,l=Object.entries(o);s<l.length;s++){var u=_slicedToArray(l[s],2),c=u[0],f=u[1];a[c]=f}this.options.modals[i]=a}}},addModalOptions:function(e,t){this.options.modals[e]=t},bindClickEvent:function(e){var t="",n=null;null!==e.target.getAttribute("href")&&(t=e.target.getAttribute("href"),n=e.target);var r=e.target.closest("a");if(null!==r&&(t=r.getAttribute("href"),n=r),""!=t){var i=t.replace(this.options.key,"");if(this.checkModal(i)){var o=this.getDataOptions(n);this.openModal(i,o)}}},getDataOptions:function(e){for(var t={},n=0,r=Object.entries(["url","mainClass","eventBeforeSend","eventAfterLoad","eventAfterClose","params"]);n<r.length;n++){var i=_slicedToArray(r[n],2),o=(i[0],i[1]);if(null!==e.getAttribute("data-modal"+o)){var a=e.getAttribute("data-modal"+o);"params"==o&&(a=JSON.parse(a)),t[o]=a}}return t},getModalOptions:function(e){for(var t=0,n=Object.entries(this.options.modals);t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0],o=r[1];if(e==i)return o}return!1},checkModal:function(e){for(var t=0,n=Object.entries(this.options.modals);t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0];r[1];if(e==i)return!0}return!1},showLoader:function(){document.body.classList.add(this.options.loadClass),this.div_loader=document.createElement("div"),this.div_loader.className=this.options.loadHtmlClass,document.body.append(this.div_loader)},removeLoader:function(){document.body.contains(this.div_loader)&&(document.body.classList.remove(this.options.loadClass),document.body.removeChild(this.div_loader))},createRequest:function(e,t){var n=t.params;if(this.triggerEvent(t,"eventBeforeSend",[t.params]),"GET"==this.options.method)var r={method:this.options.method};if("POST"==this.options.method)r={method:this.options.method,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n)};return new Request(t.url,r)},triggerEvent:function triggerEvent(options,eventName,params){void 0!==options[eventName]&&""!=options[eventName]&&void 0!==eval(options[eventName])&&eval(options[eventName]).apply(null,params)},openModal:function(e){var t=arguments,n=this;return _asyncToGenerator(_regeneratorRuntime().mark((function r(){var i,o,a,s,l,u,c,f,h,d,p,v,y,m,b;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=t.length>1&&void 0!==t[1]?t[1]:{},o=n,n.showLoader(),a=n.getModalOptions(e),s=0,l=Object.entries(i);s<l.length;s++)u=_slicedToArray(l[s],2),c=u[0],f=u[1],a[c]=f;return h=n.createRequest(e,a),r.next=8,fetch(h);case 8:if((d=r.sent).ok||(console.log("checkModal = "+n.checkModal(e)),console.log("optionsModal"),console.log(n.getModalOptions(e)),console.log(d),console.log(h),alert("Error load modal "+e+". Please, check the console"),n.removeLoader()),!d.ok){r.next=23;break}return p=n.options.fancyapp,void 0!==a.mainClass&&(p.mainClass+=" "+a.mainClass),r.next=15,d.text();case 15:v="<div>"+(v=r.sent)+"</div>",y=n.createElementFromHTML(v),(m=y.getElementsByTagName("script")).length>0&&Array.prototype.slice.call(m).forEach((function(e){n.loadExternalScript(e.src)})),(b=new Fancybox([{src:v,type:"html"}],p)).on("done",(function(t,n){o.removeLoader(),o.triggerEvent(a,"eventAfterLoad",[t,e,a])})),b.on("close",(function(t){o.removeLoader(),o.triggerEvent(a,"eventAfterClose",[t,e,a])}));case 23:case"end":return r.stop()}}),r)})))()},createElementFromHTML:function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},loadExternalScript:function(e){var t=document.createElement("script");t.src=e,t.async=!1,document.body.appendChild(t)},executeInlineScripts:function(e,t){var n=document.getElementById(e);n.innerHTML=t;for(var r=0,i=Array.from(n.getElementsByTagName("script"));r<i.length;r++){var o=i[r],a=document.createElement("script");a.text=o.text,o.parentNode.replaceChild(a,o)}},closeModals:function(){Fancybox.close()}};modal.init({modals:_modals_json__WEBPACK_IMPORTED_MODULE_0__});const __WEBPACK_DEFAULT_EXPORT__=modal},9591:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{add:()=>add,exampleCallback:()=>exampleCallback,init:()=>init});var init_repeater=!1,init=function init(){if(1!=init_repeater){init_repeater=!0;var repeaterBlocks=document.querySelectorAll("[data-repeater-block]");repeaterBlocks.forEach((function(repeaterBlock,i){var button=repeaterBlock.nextSibling.nextSibling;if(button){var name_input_group=null==button?void 0:button.dataset.repeaterName,callback_function=null==button?void 0:button.dataset.repeaterCallback,html_object=repeaterBlock.querySelector("[data-repeater-block-data]").cloneNode(!0);html_object.querySelectorAll('input[type="checkbox"]').forEach((function(e){e.checked=!1,e.removeAttribute("checked")})),html_object.querySelectorAll('input[type="text"]').forEach((function(e){e.value="",e.setAttribute("value","")})),html_object.querySelectorAll('input[type="hidden"]').forEach((function(e){e.value="",e.setAttribute("value","")})),html_object.querySelectorAll("select").forEach((function(e){e.choicesjs=null,e.querySelectorAll("option").forEach((function(e,t){e.removeAttribute("selected")})),e.selectedIndex=null})),html_object.querySelectorAll("[data-upload-container]").forEach((function(e){e.querySelector("[data-upload-loaded-files]").innerHTML="",window.cdscore.methods.uploadFileResetRequiredTypes(e)}));var html=html_object.outerHTML;void 0===(null==button?void 0:button.dataset.repeaterButton)?alert("Ошибка создания repeater, кнопка [data-repeater-button] должна идти после [data-repeater-block]"):button.addEventListener("click",(function(event){html_object.querySelectorAll('input[type="checkbox"],input[type="text"],select').forEach((function(e){if(name_input_group&&0===e.name.indexOf(name_input_group)){var t=e.name,n="["+(t=t.replace(name_input_group,"")).match(/\[\d\]/g)[0].match(/\d/g)+"]",r="["+repeaterBlock.querySelectorAll("[data-repeater-block-data]").length+"]";e.name=e.name.replace(n,r)}})),name_input_group&&void 0!==callback_function&&""!=callback_function&&void 0!==eval(callback_function)?eval(callback_function).apply(null,[repeaterBlock,html_object,repeaterBlock.querySelectorAll("[data-repeater-block-data]").length]):add(repeaterBlock,html_object)}),!1)}}))}},add=function(e,t){e.insertAdjacentHTML("beforeend",t.outerHTML),window.cdscore.methods.initCustomSelect(),window.cdscore.methods.setSizeSvg(),window.cdscore.methods.initCustomDatepicker()},exampleCallback=function(e,t,n){window.cdscore.repeater.add(e,t)}},4706:e=>{"use strict";e.exports=JSON.parse('{"modalName":{"url":"ajax/example.html","params":{"param1":"value1","params2":"value2"},"mainClass":"large-modal","eventBeforeSend":"cdscore.callbacks.exampleModalBeforeSend","eventAfterLoad":"cdscore.callbacks.exampleModalEventAfterLoad","eventAfterClose":"cdscore.callbacks.exampleModalEventAfterClose"},"login":{"url":"ajax/modal-login.html","eventAfterLoad":"cdscore.callbacks.registerModalEventAfterLoad"},"forgotPassword":{"url":"ajax/modal-forgot-password.html","eventAfterLoad":"cdscore.callbacks.registerModalEventAfterLoad"},"register":{"url":"ajax/modal-register.html","eventAfterLoad":"cdscore.callbacks.registerModalEventAfterLoad"},"payment":{"url":"ajax/modal-payment.html","eventAfterLoad":"cdscore.callbacks.paymentsModalEventAfterLoad"},"change-date":{"url":"ajax/modal-change-date.html","eventAfterLoad":"cdscore.callbacks.changeDateModalEventAfterLoad"},"add-payment":{"url":"ajax/modal-add-payment.html","eventAfterLoad":"cdscore.callbacks.addPaymentModalEventAfterLoad"}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{Attributor:()=>fa,AttributorStore:()=>wa,BlockBlot:()=>Ca,ClassAttributor:()=>ya,ContainerBlot:()=>La,EmbedBlot:()=>Ra,InlineBlot:()=>Da,LeafBlot:()=>Oa,ParentBlot:()=>ja,Registry:()=>pa,Scope:()=>ca,ScrollBlot:()=>Ba,StyleAttributor:()=>ba,TextBlot:()=>za});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{PLACEHOLDER:()=>Hj,PLACEHOLDER2:()=>Yj,assert:()=>Mj,getType:()=>Cj,isArray:()=>qj,isDate:()=>Bj,isNaN:()=>Aj,isNumber:()=>zj,isObject:()=>Vj,isString:()=>Fj,numberToString:()=>Ij,repeat:()=>Nj,toDate:()=>Rj,toNumber:()=>Lj});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{add:()=>aT,any:()=>Gj,copy:()=>fT,each:()=>Wj,eachContinue:()=>Kj,eachReverse:()=>$j,find:()=>mT,findIndex:()=>vT,findIndexReverse:()=>yT,findMap:()=>gT,findReverse:()=>bT,first:()=>Qj,getFirstSortedIndex:()=>kT,getSortedIndex:()=>_T,has:()=>cT,indexOf:()=>Uj,insert:()=>eT,insertIndex:()=>dT,keepIf:()=>xT,last:()=>Jj,map:()=>Xj,move:()=>oT,pushAll:()=>nT,pushOne:()=>sT,remove:()=>rT,removeFirst:()=>iT,removeIndex:()=>pT,replace:()=>lT,setIndex:()=>tT,shiftLeft:()=>Zj,shuffle:()=>wT,slice:()=>hT,toArray:()=>uT});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{copy:()=>ET,each:()=>jT,eachContinue:()=>TT,eachOrdered:()=>DT,hasKey:()=>AT,keys:()=>PT,keysOrdered:()=>ST,softCopyProperties:()=>CT});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{StyleRule:()=>ED,StyleSheet:()=>jD,addClass:()=>TD,addEventListener:()=>cD,addSpacing:()=>UD,alternativeColor:()=>hA,blur:()=>pD,brighten:()=>lA,capitalizeFirst:()=>tA,cleanFormat:()=>VD,contains:()=>_D,decimalPlaces:()=>LD,escapeForRgex:()=>YD,focus:()=>vD,get12Hours:()=>JD,getBrightnessStep:()=>uA,getDayFromWeek:()=>ZD,getEventKey:()=>OD,getEventTarget:()=>wD,getFormat:()=>zD,getLightnessStep:()=>sA,getMonthWeek:()=>KD,getPointerId:()=>dD,getRendererEvent:()=>yD,getSafeResolution:()=>CD,getShadowRoot:()=>PD,getStyle:()=>gD,getTimeZone:()=>QD,getTimezoneOffset:()=>eA,getWeek:()=>WD,getWeekYear:()=>$D,getYearDay:()=>XD,hslToHsv:()=>oA,hslToRgb:()=>nA,hsvToHsl:()=>iA,iOS:()=>AD,isLight:()=>cA,isLocalEvent:()=>kD,isTouchEvent:()=>mD,lighten:()=>aA,mergeTags:()=>dA,onZoom:()=>fD,padString:()=>RD,plainText:()=>HD,ready:()=>lD,relativeToValue:()=>MD,removeClass:()=>DD,removeElement:()=>uD,rgbToHsl:()=>rA,sameBounds:()=>pA,saturate:()=>fA,setInteractive:()=>xD,setStyle:()=>bD,splitString:()=>GD,stripTags:()=>qD,supports:()=>hD,trim:()=>BD,trimLeft:()=>ID,trimRight:()=>ND,truncateTextWithEllipsis:()=>FD});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{DEGREES:()=>uC,HALFPI:()=>sC,PI:()=>aC,RADIANS:()=>lC,boundsOverlap:()=>jC,ceil:()=>fC,circlesOverlap:()=>DC,closest:()=>EC,cos:()=>mC,fitAngleToRange:()=>kC,fitToRange:()=>pC,getAngle:()=>OC,getArcBounds:()=>gC,getArcPoint:()=>wC,getCubicControlPointA:()=>hC,getCubicControlPointB:()=>dC,getPointOnLine:()=>SC,getPointOnQuadraticCurve:()=>PC,inBounds:()=>xC,mergeBounds:()=>_C,normalizeAngle:()=>bC,round:()=>cC,sin:()=>vC,spiralPoints:()=>TC,tan:()=>yC});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{bounce:()=>ZC,circle:()=>NC,cubic:()=>MC,elastic:()=>nM,exp:()=>RC,inOut:()=>zC,linear:()=>AC,out:()=>FC,pow:()=>LC,quad:()=>CC,sine:()=>IC,yoyo:()=>BC});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{add:()=>Pq,checkChange:()=>Oq,chooseInterval:()=>jq,copy:()=>xq,getDateIntervalDuration:()=>wq,getDuration:()=>bq,getIntervalDuration:()=>gq,getNextUnit:()=>mq,getTime:()=>kq,getUnitValue:()=>Tq,now:()=>_q,roun:()=>Sq,round:()=>Eq,sleep:()=>vq,timeUnitDurations:()=>yq});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{load:()=>UX,readBlob:()=>GX});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{ArrayDisposer:()=>GT,BlendMode:()=>jL,Bullet:()=>zF,Button:()=>oz,CSVParser:()=>PX,CanvasLayer:()=>pF,CanvasRenderer:()=>hF,Chart:()=>xU,Circle:()=>vz,CirclePattern:()=>OG,Color:()=>_A,ColorSet:()=>bX,Component:()=>gV,Container:()=>WR,CounterDisposer:()=>$T,DataItem:()=>bV,DataProcessor:()=>LX,DateFormatter:()=>xN,Disposer:()=>UT,DurationFormatter:()=>MN,EditableLabel:()=>dq,Ellipse:()=>Rz,Entity:()=>NM,Gradient:()=>FV,GrainPattern:()=>aG,Graphics:()=>zL,GridLayout:()=>DR,HeatLegend:()=>rq,HorizontalLayout:()=>dR,InterfaceColors:()=>_I,JSONParser:()=>OX,JsonData:()=>iV,Label:()=>AI,Layout:()=>oR,Legend:()=>Kq,Line:()=>lH,LinePattern:()=>LG,LinearGradient:()=>XV,ListData:()=>rV,ListTemplate:()=>ZA,Modal:()=>DF,MultiDisposer:()=>XT,MutableValueDisposer:()=>WT,NumberFormatter:()=>sN,PathPattern:()=>eX,Pattern:()=>bL,PatternSet:()=>uX,Percent:()=>Oj,Picture:()=>bH,PicturePattern:()=>TL,PointedRectangle:()=>VI,Polygon:()=>Pz,RadialGradient:()=>pG,RadialLabel:()=>BH,RadialText:()=>jH,Rectangle:()=>KL,RectanglePattern:()=>YG,Root:()=>wF,RoundedRectangle:()=>$F,Scrollbar:()=>iY,SerialChart:()=>CU,Series:()=>zq,Slice:()=>vU,Slider:()=>pY,Sprite:()=>lL,SpriteResizer:()=>YX,Star:()=>Uz,Template:()=>XM,Text:()=>iI,TextFormatter:()=>LR,Theme:()=>XN,Tick:()=>zU,Timezone:()=>dN,Tooltip:()=>ZI,Triangle:()=>WH,VerticalLayout:()=>_R,ZoomTools:()=>KU,ZoomableContainer:()=>TV,addLicense:()=>yM,array:()=>n,color:()=>gA,disposeAllRootElements:()=>mM,ease:()=>a,getRootById:()=>bM,math:()=>o,net:()=>l,object:()=>r,p0:()=>Sj,p100:()=>Ej,p50:()=>jj,percent:()=>Pj,ready:()=>lD,registry:()=>vM,time:()=>s,type:()=>t,utils:()=>i});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{Axis:()=>b$,AxisBullet:()=>RK,AxisLabel:()=>HK,AxisLabelRadial:()=>ZK,AxisRenderer:()=>vZ,AxisRendererX:()=>PZ,AxisRendererY:()=>RZ,AxisTick:()=>oZ,BaseColumnSeries:()=>l$,Candlestick:()=>UZ,CandlestickSeries:()=>cJ,CategoryAxis:()=>B$,CategoryDateAxis:()=>W$,ColumnSeries:()=>eJ,DateAxis:()=>oK,DefaultTheme:()=>tW,DurationAxis:()=>PK,GaplessDateAxis:()=>vK,Grid:()=>DW,LineSeries:()=>UJ,OHLC:()=>bJ,OHLCSeries:()=>EJ,SmoothedXLineSeries:()=>TQ,SmoothedXYLineSeries:()=>qQ,SmoothedYLineSeries:()=>cQ,StepLineSeries:()=>QQ,ValueAxis:()=>j$,XYChart:()=>fW,XYChartScrollbar:()=>_W,XYCursor:()=>zW,XYSeries:()=>ZW});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{DefaultTheme:()=>l0,FunnelSeries:()=>y1,FunnelSlice:()=>o1,PercentChart:()=>b0,PercentSeries:()=>T0,PictorialStackedSeries:()=>R1,PieChart:()=>F0,PieSeries:()=>$0,PyramidSeries:()=>P1,SlicedChart:()=>Y1});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{addPaymentModalEventAfterLoad:()=>y2,ajaxExampleSetResult:()=>c2,ajaxSpecializationSetChoosen:()=>p2,ajaxSpecializationShowResult:()=>h2,ajaxUploadShowResult:()=>f2,changeDateModalEventAfterLoad:()=>s2,example:()=>r2,exampleModalBeforeSend:()=>o2,exampleModalEventAfterClose:()=>a2,exampleModalEventAfterLoad:()=>i2,paymentsModalEventAfterLoad:()=>u2,registerModalEventAfterLoad:()=>l2,removeUploadedFile:()=>d2,showMessageForm:()=>v2});var d={};__webpack_require__.r(d);var p={};function v(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function y(e){return e instanceof v(e).Element||e instanceof Element}function m(e){return e instanceof v(e).HTMLElement||e instanceof HTMLElement}function b(e){return"undefined"!=typeof ShadowRoot&&(e instanceof v(e).ShadowRoot||e instanceof ShadowRoot)}__webpack_require__.r(p),__webpack_require__.d(p,{hideLoader:()=>v6,highlightFields:()=>b6,resetFields:()=>m6,showLoader:()=>p6,showMessage:()=>y6});var g=Math.max,w=Math.min,_=Math.round;function k(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function x(){return!/^((?!chrome|android).)*safari/i.test(k())}function O(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&m(e)&&(i=e.offsetWidth>0&&_(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&_(r.height)/e.offsetHeight||1);var a=(y(e)?v(e):window).visualViewport,s=!x()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,u=(r.top+(s&&a?a.offsetTop:0))/o,c=r.width/i,f=r.height/o;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l,x:l,y:u}}function P(e){var t=v(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function S(e){return e?(e.nodeName||"").toLowerCase():null}function E(e){return((y(e)?e.ownerDocument:e.document)||window.document).documentElement}function j(e){return O(E(e)).left+P(e).scrollLeft}function T(e){return v(e).getComputedStyle(e)}function D(e){var t=T(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function A(e,t,n){void 0===n&&(n=!1);var r,i,o=m(t),a=m(t)&&function(e){var t=e.getBoundingClientRect(),n=_(t.width)/e.offsetWidth||1,r=_(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=E(t),l=O(e,a,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==S(t)||D(s))&&(u=(r=t)!==v(r)&&m(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:P(r)),m(t)?((c=O(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=j(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function C(e){var t=O(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function M(e){return"html"===S(e)?e:e.assignedSlot||e.parentNode||(b(e)?e.host:null)||E(e)}function L(e){return["html","body","#document"].indexOf(S(e))>=0?e.ownerDocument.body:m(e)&&D(e)?e:L(M(e))}function R(e,t){var n;void 0===t&&(t=[]);var r=L(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=v(r),a=i?[o].concat(o.visualViewport||[],D(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(R(M(a)))}function I(e){return["table","td","th"].indexOf(S(e))>=0}function N(e){return m(e)&&"fixed"!==T(e).position?e.offsetParent:null}function B(e){for(var t=v(e),n=N(e);n&&I(n)&&"static"===T(n).position;)n=N(n);return n&&("html"===S(n)||"body"===S(n)&&"static"===T(n).position)?t:n||function(e){var t=/firefox/i.test(k());if(/Trident/i.test(k())&&m(e)&&"fixed"===T(e).position)return null;var n=M(e);for(b(n)&&(n=n.host);m(n)&&["html","body"].indexOf(S(n))<0;){var r=T(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var F="top",z="bottom",V="right",q="left",H="auto",Y=[F,z,V,q],U="start",G="end",X="viewport",W="popper",$=Y.reduce((function(e,t){return e.concat([t+"-"+U,t+"-"+G])}),[]),K=[].concat(Y,[H]).reduce((function(e,t){return e.concat([t,t+"-"+U,t+"-"+G])}),[]),Z=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function J(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(null,arguments)}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(null,arguments)}var te={placement:"bottom",modifiers:[],strategy:"absolute"};function ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function re(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?te:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:ee({},te,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;f(),s.options=ee({},o,s.options,i),s.scrollParents={reference:y(e)?R(e):e.contextElement?R(e.contextElement):[],popper:R(t)};var a,u,h=function(e){var t=J(e);return Z.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Q({},n,t,{options:Q({},n.options,t.options),data:Q({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return s.orderedModifiers=h.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:c,options:r}),a=function(){};l.push(o||a)}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(ne(t,n)){s.rects={reference:A(t,B(n),"fixed"===s.options.strategy),popper:C(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=ee({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,f=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:f,instance:c})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){f(),u=!0}};if(!ne(e,t))return c;function f(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var ie={passive:!0};function oe(e){return e.split("-")[0]}function ae(e){return e.split("-")[1]}function se(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function le(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?oe(i):null,a=i?ae(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case F:t={x:s,y:n.y-r.height};break;case z:t={x:s,y:n.y+n.height};break;case V:t={x:n.x+n.width,y:l};break;case q:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?se(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case U:t[u]=t[u]-(n[c]/2-r[c]/2);break;case G:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(null,arguments)}var ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fe(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=a.x,d=void 0===h?0:h,p=a.y,y=void 0===p?0:p,m="function"==typeof c?c({x:d,y}):{x:d,y};d=m.x,y=m.y;var b=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),w=q,k=F,x=window;if(u){var O=B(n),P="clientHeight",S="clientWidth";if(O===v(n)&&"static"!==T(O=E(n)).position&&"absolute"===s&&(P="scrollHeight",S="scrollWidth"),i===F||(i===q||i===V)&&o===G)k=z,y-=(f&&O===x&&x.visualViewport?x.visualViewport.height:O[P])-r.height,y*=l?1:-1;if(i===q||(i===F||i===z)&&o===G)w=V,d-=(f&&O===x&&x.visualViewport?x.visualViewport.width:O[S])-r.width,d*=l?1:-1}var j,D=ue({position:s},u&&ce),A=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:_(n*i)/i||0,y:_(r*i)/i||0}}({x:d,y},v(n)):{x:d,y};return d=A.x,y=A.y,ue({},D,l?((j={})[k]=g?"0":"",j[w]=b?"0":"",j.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+y+"px)":"translate3d("+d+"px, "+y+"px, 0)",j):((t={})[k]=g?y+"px":"",t[w]=b?d+"px":"",t.transform="",t))}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(null,arguments)}const de={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];m(i)&&S(i)&&(he(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return he(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&he(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});m(r)&&S(r)&&(he(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(null,arguments)}const ve={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=K.reduce((function(e,n){return e[n]=function(e,t,n){var r=oe(e),i=[q,F].indexOf(r)>=0?-1:1,o="function"==typeof n?n(pe({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[q,V].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};var ye={left:"right",right:"left",bottom:"top",top:"bottom"};function me(e){return e.replace(/left|right|bottom|top/g,(function(e){return ye[e]}))}var be={start:"end",end:"start"};function ge(e){return e.replace(/start|end/g,(function(e){return be[e]}))}function we(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&b(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(null,arguments)}function ke(e){return _e({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xe(e,t,n){return t===X?ke(function(e,t){var n=v(e),r=E(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=x();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+j(e),y:l}}(e,n)):y(t)?function(e,t){var n=O(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ke(function(e){var t,n=E(e),r=P(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=g(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=g(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+j(e),l=-r.scrollTop;return"rtl"===T(i||n).direction&&(s+=g(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(E(e)))}function Oe(e,t,n,r){var i="clippingParents"===t?function(e){var t=R(M(e)),n=["absolute","fixed"].indexOf(T(e).position)>=0&&m(e)?B(e):e;return y(n)?t.filter((function(e){return y(e)&&we(e,n)&&"body"!==S(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=xe(e,n,r);return t.top=g(i.top,t.top),t.right=w(i.right,t.right),t.bottom=w(i.bottom,t.bottom),t.left=g(i.left,t.left),t}),xe(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(null,arguments)}function Se(e){return Pe({},{top:0,right:0,bottom:0,left:0},e)}function Ee(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(null,arguments)}function Te(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?X:u,f=n.elementContext,h=void 0===f?W:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,b=Se("number"!=typeof m?m:Ee(m,Y)),g=h===W?"reference":W,w=e.rects.popper,_=e.elements[p?g:h],k=Oe(y(_)?_:_.contextElement||E(e.elements.popper),l,c,a),x=O(e.elements.reference),P=ke(je({},w,le({reference:x,element:w,strategy:"absolute",placement:i}))),S=h===W?P:x,j={top:k.top-S.top+b.top,bottom:S.bottom-k.bottom+b.bottom,left:k.left-S.left+b.left,right:S.right-k.right+b.right},T=e.modifiersData.offset;if(h===W&&T){var D=T[i];Object.keys(j).forEach((function(e){var t=[V,z].indexOf(e)>=0?1:-1,n=[F,z].indexOf(e)>=0?"y":"x";j[e]+=D[n]*t}))}return j}const De={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,y=t.options.placement,m=oe(y),b=l||(m===y||!p?[me(y)]:function(e){if(oe(e)===H)return[];var t=me(e);return[ge(e),t,ge(t)]}(y)),g=[y].concat(b).reduce((function(e,n){return e.concat(oe(n)===H?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?K:l,c=ae(r),f=c?s?$:$.filter((function(e){return ae(e)===c})):Y,h=f.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Te(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[oe(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),w=t.rects.reference,_=t.rects.popper,k=new Map,x=!0,O=g[0],P=0;P<g.length;P++){var S=g[P],E=oe(S),j=ae(S)===U,T=[F,z].indexOf(E)>=0,D=T?"width":"height",A=Te(t,{placement:S,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),C=T?j?V:q:j?z:F;w[D]>_[D]&&(C=me(C));var M=me(C),L=[];if(o&&L.push(A[E]<=0),s&&L.push(A[C]<=0,A[M]<=0),L.every((function(e){return e}))){O=S,x=!1;break}k.set(S,L)}if(x)for(var R=function(e){var t=g.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},I=p?3:1;I>0;I--){if("break"===R(I))break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ae(e,t,n){return g(e,w(t,n))}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(null,arguments)}const Me={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,y=Te(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=oe(t.placement),b=ae(t.placement),_=!b,k=se(m),x="x"===k?"y":"x",O=t.modifiersData.popperOffsets,P=t.rects.reference,S=t.rects.popper,E="function"==typeof v?v(Ce({},t.rects,{placement:t.placement})):v,j="number"==typeof E?{mainAxis:E,altAxis:E}:Ce({mainAxis:0,altAxis:0},E),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(O){if(o){var A,M="y"===k?F:q,L="y"===k?z:V,R="y"===k?"height":"width",I=O[k],N=I+y[M],H=I-y[L],Y=d?-S[R]/2:0,G=b===U?P[R]:S[R],X=b===U?-S[R]:-P[R],W=t.elements.arrow,$=d&&W?C(W):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=K[M],J=K[L],Q=Ae(0,P[R],$[R]),ee=_?P[R]/2-Y-Q-Z-j.mainAxis:G-Q-Z-j.mainAxis,te=_?-P[R]/2+Y+Q+J+j.mainAxis:X+Q+J+j.mainAxis,ne=t.elements.arrow&&B(t.elements.arrow),re=ne?"y"===k?ne.clientTop||0:ne.clientLeft||0:0,ie=null!=(A=null==T?void 0:T[k])?A:0,le=I+te-ie,ue=Ae(d?w(N,I+ee-ie-re):N,I,d?g(H,le):H);O[k]=ue,D[k]=ue-I}if(s){var ce,fe="x"===k?F:q,he="x"===k?z:V,de=O[x],pe="y"===x?"height":"width",ve=de+y[fe],ye=de-y[he],me=-1!==[F,q].indexOf(m),be=null!=(ce=null==T?void 0:T[x])?ce:0,ge=me?ve:de-P[pe]-S[pe]-be+j.altAxis,we=me?de+P[pe]+S[pe]-be-j.altAxis:ye,_e=d&&me?function(e,t,n){var r=Ae(e,t,n);return r>n?n:r}(ge,de,we):Ae(d?ge:ve,de,d?we:ye);O[x]=_e,D[x]=_e-de}t.modifiersData[r]=D}},requiresIfExists:["offset"]};function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(null,arguments)}const Re={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=oe(n.placement),l=se(s),u=[q,V].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return Se("number"!=typeof(e="function"==typeof e?e(Le({},t.rects,{placement:t.placement})):e)?e:Ee(e,Y))}(i.padding,n),f=C(o),h="y"===l?F:q,d="y"===l?z:V,p=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],v=a[l]-n.rects.reference[l],y=B(o),m=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,b=p/2-v/2,g=c[h],w=m-f[u]-c[d],_=m/2-f[u]/2+b,k=Ae(g,_,w),x=l;n.modifiersData[r]=((t={})[x]=k,t.centerOffset=k-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&we(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(null,arguments)}function Ne(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Be(e){return[F,V,z,q].some((function(t){return e[t]>=0}))}var Fe=re({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=v(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,ie)})),s&&l.addEventListener("resize",n.update,ie),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,ie)})),s&&l.removeEventListener("resize",n.update,ie)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=le({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:oe(t.placement),variation:ae(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=ue({},t.styles.popper,fe(ue({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=ue({},t.styles.arrow,fe(ue({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=ue({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},de,ve,De,Me,Re,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Te(t,{elementContext:"reference"}),s=Te(t,{altBoundary:!0}),l=Ne(a,r),u=Ne(s,i,o),c=Be(l),f=Be(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Ie({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}}]});function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(null,arguments)}var Ve="tippy-content",qe="tippy-backdrop",He="tippy-arrow",Ye="tippy-svg-arrow",Ue={passive:!0,capture:!0},Ge=function(){return document.body};function Xe(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function We(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function $e(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Ke(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Ze(e){return[].concat(e)}function Je(e,t){-1===e.indexOf(t)&&e.push(t)}function Qe(e){return e.split("-")[0]}function et(e){return[].slice.call(e)}function tt(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function nt(){return document.createElement("div")}function rt(e){return["Element","Fragment"].some((function(t){return We(e,t)}))}function it(e){return We(e,"MouseEvent")}function ot(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function at(e){return rt(e)?[e]:function(e){return We(e,"NodeList")}(e)?et(e):Array.isArray(e)?e:et(document.querySelectorAll(e))}function st(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function lt(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function ut(e){var t,n=Ze(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function ct(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function ft(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var ht={isTouch:!1},dt=0;function pt(){ht.isTouch||(ht.isTouch=!0,window.performance&&document.addEventListener("mousemove",vt))}function vt(){var e=performance.now();e-dt<20&&(ht.isTouch=!1,document.removeEventListener("mousemove",vt)),dt=e}function yt(){var e=document.activeElement;if(ot(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var mt=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var bt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},gt=ze({appendTo:Ge,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bt,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),wt=Object.keys(gt);function _t(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,o=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=gt[i])?r:o);return t}),{});return ze({},e,t)}function kt(e,t){var n=ze({},t,{content:$e(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(_t(ze({},gt,{plugins:t}))):wt).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=ze({},gt.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function xt(e,t){e.innerHTML=t}function Ot(e){var t=nt();return!0===e?t.className=He:(t.className=Ye,rt(e)?t.appendChild(e):xt(t,e)),t}function Pt(e,t){rt(t.content)?(xt(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?xt(e,t.content):e.textContent=t.content)}function St(e){var t=e.firstElementChild,n=et(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(Ve)})),arrow:n.find((function(e){return e.classList.contains(He)||e.classList.contains(Ye)})),backdrop:n.find((function(e){return e.classList.contains(qe)}))}}function Et(e){var t=nt(),n=nt();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=nt();function i(n,r){var i=St(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Pt(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(Ot(r.arrow))):o.appendChild(Ot(r.arrow)):s&&o.removeChild(s)}return r.className=Ve,r.setAttribute("data-state","hidden"),Pt(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}Et.$$tippy=!0;var jt=1,Tt=[],Dt=[];function At(e,t){var n,r,i,o,a,s,l,u,c=kt(e,ze({},gt,_t(tt(t)))),f=!1,h=!1,d=!1,p=!1,v=[],y=Ke(X,c.interactiveDebounce),m=jt++,b=(u=c.plugins).filter((function(e,t){return u.indexOf(e)===t})),g={id:m,reference:e,popper:nt(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(g.state.isDestroyed)return;M("onBeforeUpdate",[g,t]),U();var n=g.props,r=kt(e,ze({},n,tt(t),{ignoreAttributes:!0}));g.props=r,Y(),n.interactiveDebounce!==r.interactiveDebounce&&(I(),y=Ke(X,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Ze(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");R(),C(),k&&k(n,r);g.popperInstance&&(Z(),Q().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));M("onAfterUpdate",[g,t])},setContent:function(e){g.setProps({content:e})},show:function(){0;var e=g.state.isVisible,t=g.state.isDestroyed,n=!g.state.isEnabled,r=ht.isTouch&&!g.props.touch,i=Xe(g.props.duration,0,gt.duration);if(e||t||n||r)return;if(j().hasAttribute("disabled"))return;if(M("onShow",[g],!1),!1===g.props.onShow(g))return;g.state.isVisible=!0,E()&&(_.style.visibility="visible");C(),z(),g.state.isMounted||(_.style.transition="none");if(E()){var o=D();st([o.box,o.content],0)}s=function(){var e;if(g.state.isVisible&&!p){if(p=!0,_.offsetHeight,_.style.transition=g.props.moveTransition,E()&&g.props.animation){var t=D(),n=t.box,r=t.content;st([n,r],i),lt([n,r],"visible")}L(),R(),Je(Dt,g),null==(e=g.popperInstance)||e.forceUpdate(),M("onMount",[g]),g.props.animation&&E()&&function(e,t){q(e,t)}(i,(function(){g.state.isShown=!0,M("onShown",[g])}))}},function(){var e,t=g.props.appendTo,n=j();e=g.props.interactive&&t===Ge||"parent"===t?n.parentNode:$e(t,[n]);e.contains(_)||e.appendChild(_);g.state.isMounted=!0,Z(),!1}()},hide:function(){0;var e=!g.state.isVisible,t=g.state.isDestroyed,n=!g.state.isEnabled,r=Xe(g.props.duration,1,gt.duration);if(e||t||n)return;if(M("onHide",[g],!1),!1===g.props.onHide(g))return;g.state.isVisible=!1,g.state.isShown=!1,p=!1,f=!1,E()&&(_.style.visibility="hidden");if(I(),V(),C(!0),E()){var i=D(),o=i.box,a=i.content;g.props.animation&&(st([o,a],r),lt([o,a],"hidden"))}L(),R(),g.props.animation?E()&&function(e,t){q(e,(function(){!g.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&t()}))}(r,g.unmount):g.unmount()},hideWithInteractivity:function(e){0;T().addEventListener("mousemove",y),Je(Tt,y),y(e)},enable:function(){g.state.isEnabled=!0},disable:function(){g.hide(),g.state.isEnabled=!1},unmount:function(){0;g.state.isVisible&&g.hide();if(!g.state.isMounted)return;J(),Q().forEach((function(e){e._tippy.unmount()})),_.parentNode&&_.parentNode.removeChild(_);Dt=Dt.filter((function(e){return e!==g})),g.state.isMounted=!1,M("onHidden",[g])},destroy:function(){0;if(g.state.isDestroyed)return;g.clearDelayTimeouts(),g.unmount(),U(),delete e._tippy,g.state.isDestroyed=!0,M("onDestroy",[g])}};if(!c.render)return g;var w=c.render(g),_=w.popper,k=w.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+g.id,g.popper=_,e._tippy=g,_._tippy=g;var x=b.map((function(e){return e.fn(g)})),O=e.hasAttribute("aria-expanded");return Y(),R(),C(),M("onCreate",[g]),c.showOnCreate&&ee(),_.addEventListener("mouseenter",(function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()})),_.addEventListener("mouseleave",(function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&T().addEventListener("mousemove",y)})),g;function P(){var e=g.props.touch;return Array.isArray(e)?e:[e,0]}function S(){return"hold"===P()[0]}function E(){var e;return!(null==(e=g.props.render)||!e.$$tippy)}function j(){return l||e}function T(){var e=j().parentNode;return e?ut(e):document}function D(){return St(_)}function A(e){return g.state.isMounted&&!g.state.isVisible||ht.isTouch||o&&"focus"===o.type?0:Xe(g.props.delay,e?0:1,gt.delay)}function C(e){void 0===e&&(e=!1),_.style.pointerEvents=g.props.interactive&&!e?"":"none",_.style.zIndex=""+g.props.zIndex}function M(e,t,n){var r;(void 0===n&&(n=!0),x.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=g.props)[e].apply(r,t)}function L(){var t=g.props.aria;if(t.content){var n="aria-"+t.content,r=_.id;Ze(g.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(g.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function R(){!O&&g.props.aria.expanded&&Ze(g.props.triggerTarget||e).forEach((function(e){g.props.interactive?e.setAttribute("aria-expanded",g.state.isVisible&&e===j()?"true":"false"):e.removeAttribute("aria-expanded")}))}function I(){T().removeEventListener("mousemove",y),Tt=Tt.filter((function(e){return e!==y}))}function N(t){if(!ht.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!g.props.interactive||!ft(_,n)){if(Ze(g.props.triggerTarget||e).some((function(e){return ft(e,n)}))){if(ht.isTouch)return;if(g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else M("onClickOutside",[g,t]);!0===g.props.hideOnClick&&(g.clearDelayTimeouts(),g.hide(),h=!0,setTimeout((function(){h=!1})),g.state.isMounted||V())}}}function B(){d=!0}function F(){d=!1}function z(){var e=T();e.addEventListener("mousedown",N,!0),e.addEventListener("touchend",N,Ue),e.addEventListener("touchstart",F,Ue),e.addEventListener("touchmove",B,Ue)}function V(){var e=T();e.removeEventListener("mousedown",N,!0),e.removeEventListener("touchend",N,Ue),e.removeEventListener("touchstart",F,Ue),e.removeEventListener("touchmove",B,Ue)}function q(e,t){var n=D().box;function r(e){e.target===n&&(ct(n,"remove",r),t())}if(0===e)return t();ct(n,"remove",a),ct(n,"add",r),a=r}function H(t,n,r){void 0===r&&(r=!1),Ze(g.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function Y(){var e;S()&&(H("touchstart",G,{passive:!0}),H("touchend",W,{passive:!0})),(e=g.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,G),e){case"mouseenter":H("mouseleave",W);break;case"focus":H(mt?"focusout":"blur",$);break;case"focusin":H("focusout",$)}}))}function U(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function G(e){var t,n=!1;if(g.state.isEnabled&&!K(e)&&!h){var r="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,R(),!g.state.isVisible&&it(e)&&Tt.forEach((function(t){return t(e)})),"click"===e.type&&(g.props.trigger.indexOf("mouseenter")<0||f)&&!1!==g.props.hideOnClick&&g.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function X(e){var t=e.target,n=j().contains(t)||_.contains(t);if("mousemove"!==e.type||!n){var r=Q().concat(_).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:c}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=Qe(i.placement),s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,u="top"===a?s.bottom.y:0,c="right"===a?s.left.x:0,f="left"===a?s.right.x:0,h=t.top-r+l>o,d=r-t.bottom-u>o,p=t.left-n+c>o,v=n-t.right-f>o;return h||d||p||v}))})(r,e)&&(I(),te(e))}}function W(e){K(e)||g.props.trigger.indexOf("click")>=0&&f||(g.props.interactive?g.hideWithInteractivity(e):te(e))}function $(e){g.props.trigger.indexOf("focusin")<0&&e.target!==j()||g.props.interactive&&e.relatedTarget&&_.contains(e.relatedTarget)||te(e)}function K(e){return!!ht.isTouch&&S()!==e.type.indexOf("touch")>=0}function Z(){J();var t=g.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,l=E()?St(_).arrow:null,u=o?{getBoundingClientRect:o,contextElement:o.contextElement||j()}:e,c={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=D().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},c];E()&&l&&f.push({name:"arrow",options:{element:l,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),g.popperInstance=Fe(u,_,ze({},n,{placement:r,onFirstUpdate:s,modifiers:f}))}function J(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function Q(){return et(_.querySelectorAll("[data-tippy-root]"))}function ee(e){g.clearDelayTimeouts(),e&&M("onTrigger",[g,e]),z();var t=A(!0),r=P(),i=r[0],o=r[1];ht.isTouch&&"hold"===i&&o&&(t=o),t?n=setTimeout((function(){g.show()}),t):g.show()}function te(e){if(g.clearDelayTimeouts(),M("onUntrigger",[g,e]),g.state.isVisible){if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=A(!1);t?r=setTimeout((function(){g.state.isVisible&&g.hide()}),t):i=requestAnimationFrame((function(){g.hide()}))}}else V()}}function Ct(e,t){void 0===t&&(t={});var n=gt.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",pt,Ue),window.addEventListener("blur",yt);var r=ze({},t,{plugins:n}),i=at(e).reduce((function(e,t){var n=t&&At(t,r);return n&&e.push(n),e}),[]);return rt(e)?i[0]:i}Ct.defaultProps=gt,Ct.setDefaultProps=function(e){Object.keys(e).forEach((function(t){gt[t]=e[t]}))},Ct.currentInput=ht;ze({},de,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};ze(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&ze(t.elements.arrow.style,n.arrow)}});Ct.setDefaultProps({render:Et});const Mt=Ct;function Lt(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Rt(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:Lt(t[n])&&Lt(e[n])&&Object.keys(t[n]).length>0&&Rt(e[n],t[n])}))}const It={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Nt(){const e="undefined"!=typeof document?document:{};return Rt(e,It),e}const Bt={document:It,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Ft(){const e="undefined"!=typeof window?window:{};return Rt(e,Bt),e}function zt(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function Vt(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function qt(){return Date.now()}function Ht(e,t){void 0===t&&(t="x");const n=Ft();let r,i,o;const a=function(e){const t=Ft();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),o=new n.WebKitCSSMatrix("none"===i?"":i)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),"x"===t&&(i=n.WebKitCSSMatrix?o.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(i=n.WebKitCSSMatrix?o.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}function Yt(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Ut(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const i=r<0||arguments.length<=r?void 0:arguments[r];if(null!=i&&(n=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const n=Object.keys(Object(i)).filter((e=>t.indexOf(e)<0));for(let t=0,r=n.length;t<r;t+=1){const r=n[t],o=Object.getOwnPropertyDescriptor(i,r);void 0!==o&&o.enumerable&&(Yt(e[r])&&Yt(i[r])?i[r].__swiper__?e[r]=i[r]:Ut(e[r],i[r]):!Yt(e[r])&&Yt(i[r])?(e[r]={},i[r].__swiper__?e[r]=i[r]:Ut(e[r],i[r])):e[r]=i[r])}}}var n;return e}function Gt(e,t,n){e.style.setProperty(t,n)}function Xt(e){let{swiper:t,targetPosition:n,side:r}=e;const i=Ft(),o=-t.translate;let a,s=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const u=n>o?"next":"prev",c=(e,t)=>"next"===u&&e>=t||"prev"===u&&e<=t,f=()=>{a=(new Date).getTime(),null===s&&(s=a);const e=Math.max(Math.min((a-s)/l,1),0),u=.5-Math.cos(e*Math.PI)/2;let h=o+u*(n-o);if(c(h,n)&&(h=n),t.wrapperEl.scrollTo({[r]:h}),c(h,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:h})})),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Wt(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function $t(e,t){void 0===t&&(t="");const n=Ft(),r=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&r.push(...e.assignedElements()),t?r.filter((e=>e.matches(t))):r}function Kt(e){try{return void console.warn(e)}catch(e){}}function Zt(e,t){void 0===t&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:zt(t)),n}function Jt(e){const t=Ft(),n=Nt(),r=e.getBoundingClientRect(),i=n.body,o=e.clientTop||i.clientTop||0,a=e.clientLeft||i.clientLeft||0,s=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:r.top+s-o,left:r.left+l-a}}function Qt(e,t){return Ft().getComputedStyle(e,null).getPropertyValue(t)}function en(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function tn(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function nn(e,t){t&&e.addEventListener("transitionend",(function n(r){r.target===e&&(t.call(e,r),e.removeEventListener("transitionend",n))}))}function rn(e,t,n){const r=Ft();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function on(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}function an(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}let sn,ln,un;function cn(){return sn||(sn=function(){const e=Ft(),t=Nt();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),sn}function fn(e){return void 0===e&&(e={}),ln||(ln=function(e){let{userAgent:t}=void 0===e?{}:e;const n=cn(),r=Ft(),i=r.navigator.platform,o=t||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,l=r.screen.height,u=o.match(/(Android);?[\s\/]+([\d.]+)?/);let c=o.match(/(iPad).*OS\s([\d_]+)/);const f=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i;let p="MacIntel"===i;return!c&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${l}`)>=0&&(c=o.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),u&&!d&&(a.os="android",a.android=!0),(c||h||f)&&(a.os="ios",a.ios=!0),a}(e)),ln}function hn(){return un||(un=function(){const e=Ft(),t=fn();let n=!1;function r(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(r()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,r]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));n=e<16||16===e&&r<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),o=r();return{isSafari:n||o,needPerspectiveFix:n,need3dFix:o||i&&t.ios,isWebView:i}}()),un}var dn={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const i=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t.apply(r,o)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,i)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],n=o.slice(1,o.length),r=e):(t=o[0].events,n=o[0].data,r=o[0].context||e),n.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(r,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(r,n)}))})),e}};const pn=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const vn=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const yn=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(n){let t=n.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},mn=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},bn=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=i,o=[n-t];return o.push(...Array.from({length:t}).map(((e,t)=>n+r+t))),void e.slides.forEach(((t,n)=>{o.includes(t.column)&&mn(e,n)}))}const o=i+r-1;if(e.params.rewind||e.params.loop)for(let r=i-t;r<=o+t;r+=1){const t=(r%n+n)%n;(t<i||t>o)&&mn(e,t)}else for(let r=Math.max(i-t,0);r<=Math.min(o+t,n-1);r+=1)r!==i&&(r>o||r<i)&&mn(e,r)};var gn={updateSize:function(){const e=this;let t,n;const r=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r.clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:r.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(Qt(r,"padding-left")||0,10)-parseInt(Qt(r,"padding-right")||0,10),n=n-parseInt(Qt(r,"padding-top")||0,10)-parseInt(Qt(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:r,slidesEl:i,size:o,rtlTranslate:a,wrongRTL:s}=e,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=$t(i,`.${e.params.slideClass}, swiper-slide`),f=l?e.virtual.slides.length:c.length;let h=[];const d=[],p=[];let v=n.slidesOffsetBefore;"function"==typeof v&&(v=n.slidesOffsetBefore.call(e));let y=n.slidesOffsetAfter;"function"==typeof y&&(y=n.slidesOffsetAfter.call(e));const m=e.snapGrid.length,b=e.slidesGrid.length;let g=n.spaceBetween,w=-v,_=0,k=0;if(void 0===o)return;"string"==typeof g&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*o:"string"==typeof g&&(g=parseFloat(g)),e.virtualSize=-g,c.forEach((e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(Gt(r,"--swiper-centered-offset-before",""),Gt(r,"--swiper-centered-offset-after",""));const x=n.grid&&n.grid.rows>1&&e.grid;let O;x?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const P="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let r=0;r<f;r+=1){let i;if(O=0,c[r]&&(i=c[r]),x&&e.grid.updateSlide(r,i,c),!c[r]||"none"!==Qt(i,"display")){if("auto"===n.slidesPerView){P&&(c[r].style[e.getDirectionLabel("width")]="");const o=getComputedStyle(i),a=i.style.transform,s=i.style.webkitTransform;if(a&&(i.style.transform="none"),s&&(i.style.webkitTransform="none"),n.roundLengths)O=e.isHorizontal()?rn(i,"width",!0):rn(i,"height",!0);else{const e=t(o,"width"),n=t(o,"padding-left"),r=t(o,"padding-right"),a=t(o,"margin-left"),s=t(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)O=e+a+s;else{const{clientWidth:t,offsetWidth:o}=i;O=e+n+r+a+s+(o-t)}}a&&(i.style.transform=a),s&&(i.style.webkitTransform=s),n.roundLengths&&(O=Math.floor(O))}else O=(o-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(O=Math.floor(O)),c[r]&&(c[r].style[e.getDirectionLabel("width")]=`${O}px`);c[r]&&(c[r].swiperSlideSize=O),p.push(O),n.centeredSlides?(w=w+O/2+_/2+g,0===_&&0!==r&&(w=w-o/2-g),0===r&&(w=w-o/2-g),Math.abs(w)<.001&&(w=0),n.roundLengths&&(w=Math.floor(w)),k%n.slidesPerGroup==0&&h.push(w),d.push(w)):(n.roundLengths&&(w=Math.floor(w)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup==0&&h.push(w),d.push(w),w=w+O+g),e.virtualSize+=O+g,_=O,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+y,a&&s&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${e.virtualSize+g}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+g}px`),x&&e.grid.updateWrapperSize(O,h),!n.centeredSlides){const t=[];for(let r=0;r<h.length;r+=1){let i=h[r];n.roundLengths&&(i=Math.floor(i)),h[r]<=e.virtualSize-o&&t.push(i)}h=t,Math.floor(e.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-o)}if(l&&n.loop){const t=p[0]+g;if(n.slidesPerGroup>1){const r=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),i=t*n.slidesPerGroup;for(let e=0;e<r;e+=1)h.push(h[h.length-1]+i)}for(let r=0;r<e.virtual.slidesBefore+e.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&h.push(h[h.length-1]+t),d.push(d[d.length-1]+t),e.virtualSize+=t}if(0===h.length&&(h=[0]),0!==g){const t=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");c.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==c.length-1)).forEach((e=>{e.style[t]=`${g}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;p.forEach((t=>{e+=t+(g||0)})),e-=g;const t=e>o?e-o:0;h=h.map((e=>e<=0?-v:e>t?t+y:e))}if(n.centerInsufficientSlides){let e=0;p.forEach((t=>{e+=t+(g||0)})),e-=g;const t=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(e+t<o){const n=(o-e-t)/2;h.forEach(((e,t)=>{h[t]=e-n})),d.forEach(((e,t)=>{d[t]=e+n}))}}if(Object.assign(e,{slides:c,snapGrid:h,slidesGrid:d,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Gt(r,"--swiper-centered-offset-before",-h[0]+"px"),Gt(r,"--swiper-centered-offset-after",e.size/2-p[p.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(f!==u&&e.emit("slidesLengthChange"),h.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==b&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,r=e.el.classList.contains(t);f<=n.maxBackfaceHiddenSlides?r||e.el.classList.add(t):r&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i,o=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>r?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{n.push(e)}));else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!r)break;n.push(a(e))}else n.push(a(t.activeIndex));for(i=0;i<n.length;i+=1)if(void 0!==n[i]){const e=n[i].offsetHeight;o=e>o?e:o}(o||0===o)&&(t.wrapperEl.style.height=`${o}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:o}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;i&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let s=n.spaceBetween;"string"==typeof s&&s.indexOf("%")>=0?s=parseFloat(s.replace("%",""))/100*t.size:"string"==typeof s&&(s=parseFloat(s));for(let e=0;e<r.length;e+=1){const l=r[e];let u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const c=(a+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+s),f=(a-o[0]+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+s),h=-(a-u),d=h+t.slidesSizesGrid[e],p=h>=0&&h<=t.size-t.slidesSizesGrid[e],v=h>=0&&h<t.size-1||d>1&&d<=t.size||h<=0&&d>=t.size;v&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(e)),pn(l,v,n.slideVisibleClass),pn(l,p,n.slideFullyVisibleClass),l.progress=i?-c:c,l.originalProgress=i?-f:f}},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:o,isEnd:a,progressLoop:s}=t;const l=o,u=a;if(0===r)i=0,o=!0,a=!0;else{i=(e-t.minTranslate())/r;const n=Math.abs(e-t.minTranslate())<1,s=Math.abs(e-t.maxTranslate())<1;o=n||i<=0,a=s||i>=1,n&&(i=0),s&&(i=1)}if(n.loop){const n=t.getSlideIndexByData(0),r=t.getSlideIndexByData(t.slides.length-1),i=t.slidesGrid[n],o=t.slidesGrid[r],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);s=l>=i?(l-i)/a:(l+a-o)/a,s>1&&(s-=1)}Object.assign(t,{progress:i,progressLoop:s,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),a&&!u&&t.emit("reachEnd toEdge"),(l&&!o||u&&!a)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:i}=e,o=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,s=e=>$t(r,`.${n.slideClass}${e}, swiper-slide${e}`)[0];let l,u,c;if(o)if(n.loop){let t=i-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=s(`[data-swiper-slide-index="${t}"]`)}else l=s(`[data-swiper-slide-index="${i}"]`);else a?(l=t.find((e=>e.column===i)),c=t.find((e=>e.column===i+1)),u=t.find((e=>e.column===i-1))):l=t[i];l&&(a||(c=function(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=t[0]),u=function(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!u&&(u=t[t.length-1]))),t.forEach((e=>{vn(e,e===l,n.slideActiveClass),vn(e,e===c,n.slideNextClass),vn(e,e===u,n.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:a,snapIndex:s}=t;let l,u=e;const c=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if(void 0===u&&(u=function(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let i;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?r>=t[e]&&r<t[e+1]-(t[e+1]-t[e])/2?i=e:r>=t[e]&&r<t[e+1]&&(i=e+1):r>=t[e]&&(i=e);return n.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(t)),r.indexOf(n)>=0)l=r.indexOf(n);else{const e=Math.min(i.slidesPerGroupSkip,u);l=e+Math.floor((u-e)/i.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),u===o&&!t.params.loop)return void(l!==s&&(t.snapIndex=l,t.emit("snapIndexChange")));if(u===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=c(u));const f=t.grid&&i.grid&&i.grid.rows>1;let h;if(t.virtual&&i.virtual.enabled&&i.loop)h=c(u);else if(f){const e=t.slides.find((e=>e.column===u));let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),h=Math.floor(n/i.grid.rows)}else if(t.slides[u]){const e=t.slides[u].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):u}else h=u;Object.assign(t,{previousSnapIndex:s,snapIndex:l,previousRealIndex:a,realIndex:h,previousIndex:o,activeIndex:u}),t.initialized&&bn(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,r=n.params;let i=e.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!i&&e.matches&&e.matches(`.${r.slideClass}, swiper-slide`)&&(i=e)}));let o,a=!1;if(i)for(let e=0;e<n.slides.length;e+=1)if(n.slides[e]===i){a=!0,o=e;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var wn={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:r,wrapperEl:i}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let o=Ht(i,e);return o+=this.cssOverflowAdjustment(),n&&(o=-o),o||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:a}=n;let s,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${l}px, ${u}px, 0px)`);const c=n.maxTranslate()-n.minTranslate();s=0===c?0:(e-n.minTranslate())/c,s!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);const o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),u=o.maxTranslate();let c;if(c=r&&e>l?l:r&&e<u?u:e,o.updateProgress(c),a.cssMode){const e=o.isHorizontal();if(0===t)s[e?"scrollLeft":"scrollTop"]=-c;else{if(!o.support.smoothScroll)return Xt({swiper:o,targetPosition:-c,side:e?"left":"top"}),!0;s.scrollTo({[e?"left":"top"]:-c,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}};function _n(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:o,previousIndex:a}=t;let s=r;if(s||(s=o>a?"next":o<a?"prev":"reset"),t.emit(`transition${i}`),n&&o!==a){if("reset"===s)return void t.emit(`slideResetTransition${i}`);t.emit(`slideChangeTransition${i}`),"next"===s?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}var kn={slideTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e&&(e=parseInt(e,10));const o=this;let a=e;a<0&&(a=0);const{params:s,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:f,rtlTranslate:h,wrapperEl:d,enabled:p}=o;if(!p&&!r&&!i||o.destroyed||o.animating&&s.preventInteractionOnTransition)return!1;void 0===t&&(t=o.params.speed);const v=Math.min(o.params.slidesPerGroupSkip,a);let y=v+Math.floor((a-v)/o.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const m=-l[y];if(s.normalizeSlideIndex)for(let e=0;e<u.length;e+=1){const t=-Math.floor(100*m),n=Math.floor(100*u[e]),r=Math.floor(100*u[e+1]);void 0!==u[e+1]?t>=n&&t<r-(r-n)/2?a=e:t>=n&&t<r&&(a=e+1):t>=n&&(a=e)}if(o.initialized&&a!==f){if(!o.allowSlideNext&&(h?m>o.translate&&m>o.minTranslate():m<o.translate&&m<o.minTranslate()))return!1;if(!o.allowSlidePrev&&m>o.translate&&m>o.maxTranslate()&&(f||0)!==a)return!1}let b;a!==(c||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(m),b=a>f?"next":a<f?"prev":"reset";const g=o.virtual&&o.params.virtual.enabled;if(!(g&&i)&&(h&&-m===o.translate||!h&&m===o.translate))return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==s.effect&&o.setTranslate(m),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(s.cssMode){const e=o.isHorizontal(),n=h?m:-m;if(0===t)g&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),g&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{d[e?"scrollLeft":"scrollTop"]=n}))):d[e?"scrollLeft":"scrollTop"]=n,g&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1}));else{if(!o.support.smoothScroll)return Xt({swiper:o,targetPosition:n,side:e?"left":"top"}),!0;d.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(m),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,b),0===t?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){if(void 0===e&&(e=0),void 0===n&&(n=!0),"string"==typeof e){e=parseInt(e,10)}const i=this;if(i.destroyed)return;void 0===t&&(t=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a+=i.virtual.slidesBefore;else{let e;if(o){const t=a*i.params.grid.rows;e=i.slides.find((e=>1*e.getAttribute("data-swiper-slide-index")===t)).column}else e=i.getSlideIndexByData(a);const t=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:n}=i.params;let s=i.params.slidesPerView;"auto"===s?s=i.slidesPerViewDynamic():(s=Math.ceil(parseFloat(i.params.slidesPerView,10)),n&&s%2==0&&(s+=1));let l=t-e<s;if(n&&(l=l||e<Math.ceil(s/2)),r&&n&&"auto"!==i.params.slidesPerView&&!o&&(l=!1),l){const r=n?e<i.activeIndex?"prev":"next":e-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?e+1:e-t+1,slideRealIndex:"next"===r?i.realIndex:void 0})}if(o){const e=a*i.params.grid.rows;a=i.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame((()=>{i.slideTo(a,t,n,r)})),i},slideNext:function(e,t,n){void 0===t&&(t=!0);const r=this,{enabled:i,params:o,animating:a}=r;if(!i||r.destroyed)return r;void 0===e&&(e=r.params.speed);let s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:s,u=r.virtual&&o.virtual.enabled;if(o.loop){if(a&&!u&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame((()=>{r.slideTo(r.activeIndex+l,e,t,n)})),!0}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===t&&(t=!0);const r=this,{params:i,snapGrid:o,slidesGrid:a,rtlTranslate:s,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;void 0===e&&(e=r.params.speed);const c=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!c&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function f(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=f(s?r.translate:-r.translate),d=o.map((e=>f(e)));let p=o[d.indexOf(h)-1];if(void 0===p&&i.cssMode){let e;o.forEach(((t,n)=>{h>=t&&(e=n)})),void 0!==e&&(p=o[e>0?e-1:e])}let v=0;if(void 0!==p&&(v=a.indexOf(p),v<0&&(v=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&r.isBeginning){const i=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(i,e,t,n)}return i.loop&&0===r.activeIndex&&i.cssMode?(requestAnimationFrame((()=>{r.slideTo(v,e,t,n)})),!0):r.slideTo(v,e,t,n)},slideReset:function(e,t,n){void 0===t&&(t=!0);const r=this;if(!r.destroyed)return void 0===e&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===t&&(t=!0),void 0===r&&(r=.5);const i=this;if(i.destroyed)return;void 0===e&&(e=i.params.speed);let o=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){const e=i.snapGrid[s];l-e>(i.snapGrid[s+1]-e)*r&&(o+=i.params.slidesPerGroup)}else{const e=i.snapGrid[s-1];l-e<=(i.snapGrid[s]-e)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,e,t,n)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,o=e.clickedIndex;const a=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=e.getSlideIndex($t(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),Vt((()=>{e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=e.getSlideIndex($t(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),Vt((()=>{e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}};var xn={loopCreate:function(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{$t(r,`.${n.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},o=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(o?n.grid.rows:1),s=t.slides.length%a!=0,l=o&&t.slides.length%n.grid.rows!=0,u=e=>{for(let r=0;r<e;r+=1){const e=t.isElement?Zt("swiper-slide",[n.slideBlankClass]):Zt("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(e)}};if(s){if(n.loopAddBlankSlides){u(a-t.slides.length%a),t.recalcSlides(),t.updateSlides()}else Kt("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){u(n.grid.rows-t.slides.length%n.grid.rows),t.recalcSlides(),t.updateSlides()}else Kt("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:o,byController:a,byMousewheel:s}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:f,slidesEl:h,params:d}=l,{centeredSlides:p}=d;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&d.virtual.enabled)return n&&(d.centeredSlides||0!==l.snapIndex?d.centeredSlides&&l.snapIndex<d.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,void l.emit("loopFix");let v=d.slidesPerView;"auto"===v?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(d.slidesPerView,10)),p&&v%2==0&&(v+=1));const y=d.slidesPerGroupAuto?v:d.slidesPerGroup;let m=y;m%y!=0&&(m+=y-m%y),m+=d.loopAdditionalSlides,l.loopedSlides=m;const b=l.grid&&d.grid&&d.grid.rows>1;u.length<v+m?Kt("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):b&&"row"===d.grid.fill&&Kt("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],w=[];let _=l.activeIndex;void 0===o?o=l.getSlideIndex(u.find((e=>e.classList.contains(d.slideActiveClass)))):_=o;const k="next"===r||!r,x="prev"===r||!r;let O=0,P=0;const S=b?Math.ceil(u.length/d.grid.rows):u.length,E=(b?u[o].column:o)+(p&&void 0===i?-v/2+.5:0);if(E<m){O=Math.max(m-E,y);for(let e=0;e<m-E;e+=1){const t=e-Math.floor(e/S)*S;if(b){const e=S-t-1;for(let t=u.length-1;t>=0;t-=1)u[t].column===e&&g.push(t)}else g.push(S-t-1)}}else if(E+v>S-m){P=Math.max(E-(S-2*m),y);for(let e=0;e<P;e+=1){const t=e-Math.floor(e/S)*S;b?u.forEach(((e,n)=>{e.column===t&&w.push(n)})):w.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),x&&g.forEach((e=>{u[e].swiperLoopMoveDOM=!0,h.prepend(u[e]),u[e].swiperLoopMoveDOM=!1})),k&&w.forEach((e=>{u[e].swiperLoopMoveDOM=!0,h.append(u[e]),u[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===d.slidesPerView?l.updateSlides():b&&(g.length>0&&x||w.length>0&&k)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),d.watchSlidesProgress&&l.updateSlidesOffset(),n)if(g.length>0&&x){if(void 0===t){const e=l.slidesGrid[_],t=l.slidesGrid[_+O]-e;s?l.setTranslate(l.translate-t):(l.slideTo(_+Math.ceil(O),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(i){const e=b?g.length/d.grid.rows:g.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(w.length>0&&k)if(void 0===t){const e=l.slidesGrid[_],t=l.slidesGrid[_-P]-e;s?l.setTranslate(l.translate-t):(l.slideTo(_-P,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=b?w.length/d.grid.rows:w.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!a){const e={slideRealIndex:t,direction:r,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===d.slidesPerView&&n})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===d.slidesPerView&&n})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),r.forEach((e=>{n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function On(e,t,n){const r=Ft(),{params:i}=e,o=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return!o||!(n<=a||n>=r.innerWidth-a)||"prevent"===o&&(t.preventDefault(),!0)}function Pn(e){const t=this,n=Nt();let r=e;r.originalEvent&&(r=r.originalEvent);const i=t.touchEventsData;if("pointerdown"===r.type){if(null!==i.pointerId&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(i.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void On(t,r,r.targetTouches[0].pageX);const{params:o,touches:a,enabled:s}=t;if(!s)return;if(!o.simulateTouch&&"mouse"===r.pointerType)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=r.target;if("wrapper"===o.touchEventsTarget&&!function(e,t){const n=Ft();let r=t.contains(e);!r&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(r=[...t.assignedElements()].includes(e),r||(r=function(e,t){const n=[t];for(;n.length>0;){const t=n.shift();if(e===t)return!0;n.push(...t.children,...t.shadowRoot?.children||[],...t.assignedElements?.()||[])}}(e,t)));return r}(l,t.wrapperEl))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(i.isTouched&&i.isMoved)return;const u=!!o.noSwipingClass&&""!==o.noSwipingClass,c=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&c&&(l=c[0]);const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!(!r.target||!r.target.shadowRoot);if(o.noSwiping&&(h?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===Nt()||n===Ft())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(f,l):l.closest(f)))return void(t.allowClick=!0);if(o.swipeHandler&&!l.closest(o.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const d=a.currentX,p=a.currentY;if(!On(t,r,d))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=d,a.startY=p,i.touchStartTime=qt(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let v=!0;l.matches(i.focusableElements)&&(v=!1,"SELECT"===l.nodeName&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&("mouse"===r.pointerType||"mouse"!==r.pointerType&&!l.matches(i.focusableElements))&&n.activeElement.blur();const y=v&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!y||l.isContentEditable||r.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function Sn(e){const t=Nt(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:a,enabled:s}=n;if(!s)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;let l,u=e;if(u.originalEvent&&(u=u.originalEvent),"pointermove"===u.type){if(null!==r.touchId)return;if(u.pointerId!==r.pointerId)return}if("touchmove"===u.type){if(l=[...u.changedTouches].find((e=>e.identifier===r.touchId)),!l||l.identifier!==r.touchId)return}else l=u;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u));const c=l.pageX,f=l.pageY;if(u.preventedByNestedSwiper)return o.startX=c,void(o.startY=f);if(!n.allowTouchMove)return u.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(o,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=qt()));if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<o.startY&&n.translate<=n.maxTranslate()||f>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<o.startX&&n.translate<=n.maxTranslate()||c>o.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==u.target&&"mouse"!==u.pointerType&&t.activeElement.blur(),t.activeElement&&u.target===t.activeElement&&u.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);r.allowTouchCallbacks&&n.emit("touchMove",u),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=c,o.currentY=f;const h=o.currentX-o.startX,d=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(h**2+d**2)<n.params.threshold)return;if(void 0===r.isScrolling){let e;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:h*h+d*d>=25&&(e=180*Math.atan2(Math.abs(d),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),void 0===r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling||"touchmove"===u.type&&r.preventTouchMoveFromPointerMove)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let p=n.isHorizontal()?h:d,v=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),o.diff=p,p*=i.touchRatio,a&&(p=-p,v=-v);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const m=n.params.loop&&!i.cssMode,b="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!r.isMoved){if(m&&b&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if((new Date).getTime(),r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&m&&b&&Math.abs(p)>=1)return Object.assign(o,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let g=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),p>0?(m&&b&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-("auto"!==i.slidesPerView&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+p)**w))):p<0&&(m&&b&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+("auto"!==i.slidesPerView&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===i.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-p)**w))),g&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function En(e){const t=this,n=t.touchEventsData;let r,i=e;i.originalEvent&&(i=i.originalEvent);if("touchend"===i.type||"touchcancel"===i.type){if(r=[...i.changedTouches].find((e=>e.identifier===n.touchId)),!r||r.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)){if(!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return}n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:s,slidesGrid:l,enabled:u}=t;if(!u)return;if(!o.simulateTouch&&"mouse"===i.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);o.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=qt(),f=c-n.touchStartTime;if(t.allowClick){const e=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(e&&e[0]||i.target,e),t.emit("tap click",i),f<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(n.lastClickTime=qt(),Vt((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let h;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,h=o.followFinger?s?t.translate:-t.translate:-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const d=h>=-t.maxTranslate()&&!t.params.loop;let p=0,v=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<o.slidesPerGroupSkip?1:o.slidesPerGroup){const t=e<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==l[e+t]?(d||h>=l[e]&&h<l[e+t])&&(p=e,v=l[e+t]-l[e]):(d||h>=l[e])&&(p=e,v=l[l.length-1]-l[l.length-2])}let y=null,m=null;o.rewind&&(t.isBeginning?m=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(y=0));const b=(h-l[p])/v,g=p<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?y:p+g):t.slideTo(p)),"prev"===t.swipeDirection&&(b>1-o.longSwipesRatio?t.slideTo(p+g):null!==m&&b<0&&Math.abs(b)>o.longSwipesRatio?t.slideTo(m):t.slideTo(p))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(p+g):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==y?y:p+g),"prev"===t.swipeDirection&&t.slideTo(null!==m?m:p))}}function jn(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const s=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||s?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function Tn(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Dn(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const o=e.maxTranslate()-e.minTranslate();i=0===o?0:(e.translate-e.minTranslate())/o,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function An(e){const t=this;yn(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Cn(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Mn=(e,t)=>{const n=Nt(),{params:r,el:i,wrapperEl:o,device:a}=e,s=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",u=t;i&&"string"!=typeof i&&(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:s}),i[l]("touchstart",e.onTouchStart,{passive:!1}),i[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:s}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:s}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",jn,!0):e[u]("observerUpdate",jn,!0),i[l]("load",e.onLoad,{capture:!0}))};const Ln=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Rn={setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:r,el:i}=e,o=r.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const a=Nt(),s="window"!==r.breakpointsBase&&r.breakpointsBase?"container":r.breakpointsBase,l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?e.el:a.querySelector(r.breakpointsBase),u=e.getBreakpoint(o,s,l);if(!u||e.currentBreakpoint===u)return;const c=(u in o?o[u]:void 0)||e.originalParams,f=Ln(e,r),h=Ln(e,c),d=e.params.grabCursor,p=c.grabCursor,v=r.enabled;f&&!h?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!f&&h&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===r.grid.fill)&&i.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),d&&!p?e.unsetGrabCursor():!d&&p&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===c[t])return;const n=r[t]&&r[t].enabled,i=c[t]&&c[t].enabled;n&&!i&&e[t].disable(),!n&&i&&e[t].enable()}));const y=c.direction&&c.direction!==r.direction,m=r.loop&&(c.slidesPerView!==r.slidesPerView||y),b=r.loop;y&&n&&e.changeDirection(),Ut(e.params,c);const g=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),v&&!g?e.disable():!v&&g&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),n&&(m?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&w?(e.loopCreate(t),e.updateSlides()):b&&!w&&e.loopDestroy()),e.emit("breakpoint",c)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let r=!1;const i=Ft(),o="window"===t?i.innerHeight:n.clientHeight,a=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));a.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<a.length;e+=1){const{point:o,value:s}=a[e];"window"===t?i.matchMedia(`(min-width: ${s}px)`).matches&&(r=o):s<=n.clientWidth&&(r=o)}return r||"max"}};var In={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Nn(e,t){return function(n){void 0===n&&(n={});const r=Object.keys(n)[0],i=n[r];"object"==typeof i&&null!==i?(!0===e[r]&&(e[r]={enabled:!0}),"navigation"===r&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),r in e&&"enabled"in i?("object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Ut(t,n)):Ut(t,n)):Ut(t,n)}}const Bn={eventsEmitter:dn,update:gn,translate:wn,transition:{setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),_n({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),_n({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:kn,loop:xn,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=Pn.bind(e),e.onTouchMove=Sn.bind(e),e.onTouchEnd=En.bind(e),e.onDocumentTouchStart=Cn.bind(e),t.cssMode&&(e.onScroll=Dn.bind(e)),e.onClick=Tn.bind(e),e.onLoad=An.bind(e),Mn(e,"on")},detachEvents:function(){Mn(this,"off")}},breakpoints:Rn,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,el:i,device:o}=e,a=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),i.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Fn={};class zn{constructor(){let e,t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=Ut({},t),e&&!t.el&&(t.el=e);const o=Nt();if(t.el&&"string"==typeof t.el&&o.querySelectorAll(t.el).length>1){const e=[];return o.querySelectorAll(t.el).forEach((n=>{const r=Ut({},t,{el:n});e.push(new zn(r))})),e}const a=this;a.__swiper__=!0,a.support=cn(),a.device=fn({userAgent:t.userAgent}),a.browser=hn(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const s={};a.modules.forEach((e=>{e({params:t,swiper:a,extendParams:Nn(t,s),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})}));const l=Ut({},In,s);return a.params=Ut({},l,Fn,t),a.originalParams=Ut({},a.params),a.passedParams=Ut({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,r=en($t(t,`.${n.slideClass}, swiper-slide`)[0]);return en(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)))}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=$t(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:r,slidesGrid:i,slidesSizesGrid:o,size:a,activeIndex:s}=this;let l=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=r[s]?Math.ceil(r[s].swiperSlideSize):0;for(let n=s+1;n<r.length;n+=1)r[n]&&!e&&(t+=Math.ceil(r[n].swiperSlideSize),l+=1,t>a&&(e=!0));for(let n=s-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let e=s+1;e<r.length;e+=1){(t?i[e]+o[e]-i[s]<a:i[e]-i[s]<a)&&(l+=1)}else for(let e=s-1;e>=0;e-=1){i[s]-i[e]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&yn(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(t.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||r()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(r())}return $t(n,r())[0]})();return!i&&t.params.createElements&&(i=Zt("div",t.params.wrapperClass),n.append(i),$t(n,`.${t.params.slideClass}`).forEach((e=>{i.append(e)}))),Object.assign(t,{el:n,wrapperEl:i,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:i,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Qt(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Qt(n,"direction")),wrongRTL:"-webkit-box"===Qt(i,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach((e=>{e.complete?yn(t,e):e.addEventListener("load",(e=>{yn(t,e.target)}))})),bn(t),t.initialized=!0,bn(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:r,el:i,wrapperEl:o,slides:a}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i&&"string"!=typeof i&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach((e=>{e.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.el&&"string"!=typeof n.el&&(n.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){Ut(Fn,e)}static get extendedDefaults(){return Fn}static get defaults(){return In}static installModule(e){zn.prototype.__modules__||(zn.prototype.__modules__=[]);const t=zn.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>zn.installModule(e))),zn):(zn.installModule(e),zn)}}function Vn(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach((i=>{if(!n[i]&&!0===n.auto){let o=$t(e.el,`.${r[i]}`)[0];o||(o=Zt("div",r[i]),o.className=r[i],e.el.append(o)),n[i]=o,t[i]=o}})),n}function qn(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Hn(e){const t=this,{params:n,slidesEl:r}=t;n.loop&&t.loopDestroy();const i=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,r.append(t.children[0]),t.innerHTML=""}else r.append(e)};if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&i(e[t]);else i(e);t.recalcSlides(),n.loop&&t.loopCreate(),n.observer&&!t.isElement||t.update()}function Yn(e){const t=this,{params:n,activeIndex:r,slidesEl:i}=t;n.loop&&t.loopDestroy();let o=r+1;const a=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,i.prepend(t.children[0]),t.innerHTML=""}else i.prepend(e)};if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&a(e[t]);o=r+e.length}else a(e);t.recalcSlides(),n.loop&&t.loopCreate(),n.observer&&!t.isElement||t.update(),t.slideTo(o,0,!1)}function Un(e,t){const n=this,{params:r,activeIndex:i,slidesEl:o}=n;let a=i;r.loop&&(a-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());const s=n.slides.length;if(e<=0)return void n.prependSlide(t);if(e>=s)return void n.appendSlide(t);let l=a>e?a+1:a;const u=[];for(let t=s-1;t>=e;t-=1){const e=n.slides[t];e.remove(),u.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&o.append(t[e]);l=a>e?a+t.length:a}else o.append(t);for(let e=0;e<u.length;e+=1)o.append(u[e]);n.recalcSlides(),r.loop&&n.loopCreate(),r.observer&&!n.isElement||n.update(),r.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}function Gn(e){const t=this,{params:n,activeIndex:r}=t;let i=r;n.loop&&(i-=t.loopedSlides,t.loopDestroy());let o,a=i;if("object"==typeof e&&"length"in e){for(let n=0;n<e.length;n+=1)o=e[n],t.slides[o]&&t.slides[o].remove(),o<a&&(a-=1);a=Math.max(a,0)}else o=e,t.slides[o]&&t.slides[o].remove(),o<a&&(a-=1),a=Math.max(a,0);t.recalcSlides(),n.loop&&t.loopCreate(),n.observer&&!t.isElement||t.update(),n.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)}function Xn(){const e=this,t=[];for(let n=0;n<e.slides.length;n+=1)t.push(n);e.removeSlide(t)}function Wn(e){const{effect:t,swiper:n,on:r,setTranslate:i,setTransition:o,overwriteParams:a,perspective:s,recreateShadows:l,getEffectParams:u}=e;let c;r("beforeInit",(()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),s&&s()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(n.params,e),Object.assign(n.originalParams,e)})),r("setTranslate",(()=>{n.params.effect===t&&i()})),r("setTransition",((e,r)=>{n.params.effect===t&&o(r)})),r("transitionEnd",(()=>{if(n.params.effect===t&&l){if(!u||!u().slideShadows)return;n.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),l()}})),r("virtualUpdate",(()=>{n.params.effect===t&&(n.slides.length||(c=!0),requestAnimationFrame((()=>{c&&n.slides&&n.slides.length&&(i(),c=!1)})))}))}function $n(e,t){const n=Wt(t);return n!==t&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Kn(e){let{swiper:t,duration:n,transformElements:r,allSlides:i}=e;const{activeIndex:o}=t;if(t.params.virtualTranslate&&0!==n){let e,n=!1;e=i?r:r.filter((e=>{const n=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return t.slides.find((t=>t.shadowRoot&&t.shadowRoot===e.parentNode));return e.parentElement})(e):e;return t.getSlideIndex(n)===o})),e.forEach((e=>{nn(e,(()=>{if(n)return;if(!t||t.destroyed)return;n=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function Zn(e,t,n){const r=`swiper-slide-shadow${n?`-${n}`:""}${e?` swiper-slide-shadow-${e}`:""}`,i=Wt(t);let o=i.querySelector(`.${r.split(" ").join(".")}`);return o||(o=Zt("div",r.split(" ")),i.append(o)),o}Object.keys(Bn).forEach((e=>{Object.keys(Bn[e]).forEach((t=>{zn.prototype[t]=Bn[e][t]}))})),zn.use([function(e){let{swiper:t,on:n,emit:r}=e;const i=Ft();let o=null,a=null;const s=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(()=>{t.params.resizeObserver&&void 0!==i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(o=new ResizeObserver((e=>{a=i.requestAnimationFrame((()=>{const{width:n,height:r}=t;let i=n,o=r;e.forEach((e=>{let{contentBoxSize:n,contentRect:r,target:a}=e;a&&a!==t.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||s()}))})),o.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",l))})),n("destroy",(()=>{a&&i.cancelAnimationFrame(a),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=[],a=Ft(),s=function(e,n){void 0===n&&(n={});const r=new(a.MutationObserver||a.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void i("observerUpdate",e[0]);const n=function(){i("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(n):a.setTimeout(n,0)}));r.observe(e,{attributes:void 0===n.attributes||n.attributes,childList:t.isElement||(void 0===n.childList||n).childList,characterData:void 0===n.characterData||n.characterData}),o.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=tn(t.hostEl);for(let t=0;t<e.length;t+=1)s(e[t])}s(t.hostEl,{childList:t.params.observeSlideChildren}),s(t.wrapperEl,{attributes:!1})}})),r("destroy",(()=>{o.forEach((e=>{e.disconnect()})),o.splice(0,o.length)}))}]);const Jn=[function(e){let t,{swiper:n,extendParams:r,on:i,emit:o}=e;r({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const a=Nt();n.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const s=a.createElement("div");function l(e,t){const r=n.params.virtual;if(r.cache&&n.virtual.cache[t])return n.virtual.cache[t];let i;return r.renderSlide?(i=r.renderSlide.call(n,e,t),"string"==typeof i&&(s.innerHTML=i,i=s.children[0])):i=n.isElement?Zt("swiper-slide"):Zt("div",n.params.slideClass),i.setAttribute("data-swiper-slide-index",t),r.renderSlide||(i.innerHTML=e),r.cache&&(n.virtual.cache[t]=i),i}function u(e,t){const{slidesPerView:r,slidesPerGroup:i,centeredSlides:a,loop:s,initialSlide:u}=n.params;if(t&&!s&&u>0)return;const{addSlidesBefore:c,addSlidesAfter:f}=n.params.virtual,{from:h,to:d,slides:p,slidesGrid:v,offset:y}=n.virtual;n.params.cssMode||n.updateActiveIndex();const m=n.activeIndex||0;let b,g,w;b=n.rtlTranslate?"right":n.isHorizontal()?"left":"top",a?(g=Math.floor(r/2)+i+f,w=Math.floor(r/2)+i+c):(g=r+(i-1)+f,w=(s?r:i)+c);let _=m-w,k=m+g;s||(_=Math.max(_,0),k=Math.min(k,p.length-1));let x=(n.slidesGrid[_]||0)-(n.slidesGrid[0]||0);function O(){n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),o("virtualUpdate")}if(s&&m>=w?(_-=w,a||(x+=n.slidesGrid[0])):s&&m<w&&(_=-w,a&&(x+=n.slidesGrid[0])),Object.assign(n.virtual,{from:_,to:k,offset:x,slidesGrid:n.slidesGrid,slidesBefore:w,slidesAfter:g}),h===_&&d===k&&!e)return n.slidesGrid!==v&&x!==y&&n.slides.forEach((e=>{e.style[b]=x-Math.abs(n.cssOverflowAdjustment())+"px"})),n.updateProgress(),void o("virtualUpdate");if(n.params.virtual.renderExternal)return n.params.virtual.renderExternal.call(n,{offset:x,from:_,to:k,slides:function(){const e=[];for(let t=_;t<=k;t+=1)e.push(p[t]);return e}()}),void(n.params.virtual.renderExternalUpdate?O():o("virtualUpdate"));const P=[],S=[],E=e=>{let t=e;return e<0?t=p.length+e:t>=p.length&&(t-=p.length),t};if(e)n.slides.filter((e=>e.matches(`.${n.params.slideClass}, swiper-slide`))).forEach((e=>{e.remove()}));else for(let e=h;e<=d;e+=1)if(e<_||e>k){const t=E(e);n.slides.filter((e=>e.matches(`.${n.params.slideClass}[data-swiper-slide-index="${t}"], swiper-slide[data-swiper-slide-index="${t}"]`))).forEach((e=>{e.remove()}))}const j=s?-p.length:0,T=s?2*p.length:p.length;for(let t=j;t<T;t+=1)if(t>=_&&t<=k){const n=E(t);void 0===d||e?S.push(n):(t>d&&S.push(n),t<h&&P.push(n))}if(S.forEach((e=>{n.slidesEl.append(l(p[e],e))})),s)for(let e=P.length-1;e>=0;e-=1){const t=P[e];n.slidesEl.prepend(l(p[t],t))}else P.sort(((e,t)=>t-e)),P.forEach((e=>{n.slidesEl.prepend(l(p[e],e))}));$t(n.slidesEl,".swiper-slide, swiper-slide").forEach((e=>{e.style[b]=x-Math.abs(n.cssOverflowAdjustment())+"px"})),O()}i("beforeInit",(()=>{if(!n.params.virtual.enabled)return;let e;if(void 0===n.passedParams.virtual.slides){const t=[...n.slidesEl.children].filter((e=>e.matches(`.${n.params.slideClass}, swiper-slide`)));t&&t.length&&(n.virtual.slides=[...t],e=!0,t.forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t),n.virtual.cache[t]=e,e.remove()})))}e||(n.virtual.slides=n.params.virtual.slides),n.classNames.push(`${n.params.containerModifierClass}virtual`),n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0,u(!1,!0)})),i("setTranslate",(()=>{n.params.virtual.enabled&&(n.params.cssMode&&!n._immediateVirtual?(clearTimeout(t),t=setTimeout((()=>{u()}),100)):u())})),i("init update resize",(()=>{n.params.virtual.enabled&&n.params.cssMode&&Gt(n.wrapperEl,"--swiper-virtual-size",`${n.virtualSize}px`)})),Object.assign(n.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&n.virtual.slides.push(e[t]);else n.virtual.slides.push(e);u(!0)},prependSlide:function(e){const t=n.activeIndex;let r=t+1,i=1;if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]&&n.virtual.slides.unshift(e[t]);r=t+e.length,i=e.length}else n.virtual.slides.unshift(e);if(n.params.virtual.cache){const e=n.virtual.cache,t={};Object.keys(e).forEach((n=>{const r=e[n],o=r.getAttribute("data-swiper-slide-index");o&&r.setAttribute("data-swiper-slide-index",parseInt(o,10)+i),t[parseInt(n,10)+i]=r})),n.virtual.cache=t}u(!0),n.slideTo(r,0)},removeSlide:function(e){if(null==e)return;let t=n.activeIndex;if(Array.isArray(e))for(let r=e.length-1;r>=0;r-=1)n.params.virtual.cache&&(delete n.virtual.cache[e[r]],Object.keys(n.virtual.cache).forEach((t=>{t>e&&(n.virtual.cache[t-1]=n.virtual.cache[t],n.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete n.virtual.cache[t])}))),n.virtual.slides.splice(e[r],1),e[r]<t&&(t-=1),t=Math.max(t,0);else n.params.virtual.cache&&(delete n.virtual.cache[e],Object.keys(n.virtual.cache).forEach((t=>{t>e&&(n.virtual.cache[t-1]=n.virtual.cache[t],n.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete n.virtual.cache[t])}))),n.virtual.slides.splice(e,1),e<t&&(t-=1),t=Math.max(t,0);u(!0),n.slideTo(t,0)},removeAllSlides:function(){n.virtual.slides=[],n.params.virtual.cache&&(n.virtual.cache={}),u(!0),n.slideTo(0,0)},update:u})},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=Nt(),a=Ft();function s(e){if(!t.enabled)return;const{rtlTranslate:n}=t;let r=e;r.originalEvent&&(r=r.originalEvent);const s=r.keyCode||r.charCode,l=t.params.keyboard.pageUpDown,u=l&&33===s,c=l&&34===s,f=37===s,h=39===s,d=38===s,p=40===s;if(!t.allowSlideNext&&(t.isHorizontal()&&h||t.isVertical()&&p||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&f||t.isVertical()&&d||u))return!1;if(!(r.shiftKey||r.altKey||r.ctrlKey||r.metaKey||o.activeElement&&o.activeElement.nodeName&&("input"===o.activeElement.nodeName.toLowerCase()||"textarea"===o.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(u||c||f||h||d||p)){let e=!1;if(tn(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===tn(t.el,`.${t.params.slideActiveClass}`).length)return;const r=t.el,i=r.clientWidth,o=r.clientHeight,s=a.innerWidth,l=a.innerHeight,u=Jt(r);n&&(u.left-=r.scrollLeft);const c=[[u.left,u.top],[u.left+i,u.top],[u.left,u.top+o],[u.left+i,u.top+o]];for(let t=0;t<c.length;t+=1){const n=c[t];if(n[0]>=0&&n[0]<=s&&n[1]>=0&&n[1]<=l){if(0===n[0]&&0===n[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((u||c||f||h)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),((c||h)&&!n||(u||f)&&n)&&t.slideNext(),((u||f)&&!n||(c||h)&&n)&&t.slidePrev()):((u||c||d||p)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),(c||p)&&t.slideNext(),(u||d)&&t.slidePrev()),i("keyPress",s)}}function l(){t.keyboard.enabled||(o.addEventListener("keydown",s),t.keyboard.enabled=!0)}function u(){t.keyboard.enabled&&(o.removeEventListener("keydown",s),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),r("init",(()=>{t.params.keyboard.enabled&&l()})),r("destroy",(()=>{t.keyboard.enabled&&u()})),Object.assign(t.keyboard,{enable:l,disable:u})},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=Ft();let a;n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let s,l=qt();const u=[];function c(){t.enabled&&(t.mouseEntered=!0)}function f(){t.enabled&&(t.mouseEntered=!1)}function h(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&qt()-l<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&qt()-l<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),i("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),i("scroll",e.raw)),l=(new o.Date).getTime(),!1)))}function d(e){let n=e,r=!0;if(!t.enabled)return;if(e.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const o=t.params.mousewheel;t.params.cssMode&&n.preventDefault();let l=t.el;"container"!==t.params.mousewheel.eventsTarget&&(l=document.querySelector(t.params.mousewheel.eventsTarget));const c=l&&l.contains(n.target);if(!t.mouseEntered&&!c&&!o.releaseOnEdges)return!0;n.originalEvent&&(n=n.originalEvent);let f=0;const d=t.rtlTranslate?-1:1,p=function(e){let t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=i,i=0),(r||i)&&e.deltaMode&&(1===e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}(n);if(o.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(p.pixelX)>Math.abs(p.pixelY)))return!0;f=-p.pixelX*d}else{if(!(Math.abs(p.pixelY)>Math.abs(p.pixelX)))return!0;f=-p.pixelY}else f=Math.abs(p.pixelX)>Math.abs(p.pixelY)?-p.pixelX*d:-p.pixelY;if(0===f)return!0;o.invert&&(f=-f);let v=t.getTranslate()+f*o.sensitivity;if(v>=t.minTranslate()&&(v=t.minTranslate()),v<=t.maxTranslate()&&(v=t.maxTranslate()),r=!!t.params.loop||!(v===t.minTranslate()||v===t.maxTranslate()),r&&t.params.nested&&n.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:qt(),delta:Math.abs(f),direction:Math.sign(f)},r=s&&e.time<s.time+500&&e.delta<=s.delta&&e.direction===s.direction;if(!r){s=void 0;let l=t.getTranslate()+f*o.sensitivity;const c=t.isBeginning,h=t.isEnd;if(l>=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!c&&t.isBeginning||!h&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:e.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(a),a=void 0,u.length>=15&&u.shift();const n=u.length?u[u.length-1]:void 0,r=u[0];if(u.push(e),n&&(e.delta>n.delta||e.direction!==n.direction))u.splice(0);else if(u.length>=15&&e.time-r.time<500&&r.delta-e.delta>=1&&e.delta<=6){const n=f>0?.8:.2;s=e,u.splice(0),a=Vt((()=>{!t.destroyed&&t.params&&t.slideToClosest(t.params.speed,!0,void 0,n)}),0)}a||(a=Vt((()=>{if(t.destroyed||!t.params)return;s=e,u.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(r||i("scroll",n),t.params.autoplay&&t.params.autoplay.disableOnInteraction&&t.autoplay.stop(),o.releaseOnEdges&&(l===t.minTranslate()||l===t.maxTranslate()))return!0}}else{const n={time:qt(),delta:Math.abs(f),direction:Math.sign(f),raw:e};u.length>=2&&u.shift();const r=u.length?u[u.length-1]:void 0;if(u.push(n),r?(n.direction!==r.direction||n.delta>r.delta||n.time>r.time+150)&&h(n):h(n),function(e){const n=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&n.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&n.releaseOnEdges)return!0;return!1}(n))return!0}return n.preventDefault?n.preventDefault():n.returnValue=!1,!1}function p(e){let n=t.el;"container"!==t.params.mousewheel.eventsTarget&&(n=document.querySelector(t.params.mousewheel.eventsTarget)),n[e]("mouseenter",c),n[e]("mouseleave",f),n[e]("wheel",d)}function v(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",d),!0):!t.mousewheel.enabled&&(p("addEventListener"),t.mousewheel.enabled=!0,!0)}function y(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,d),!0):!!t.mousewheel.enabled&&(p("removeEventListener"),t.mousewheel.enabled=!1,!0)}r("init",(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&y(),t.params.mousewheel.enabled&&v()})),r("destroy",(()=>{t.params.cssMode&&v(),t.mousewheel.enabled&&y()})),Object.assign(t.mousewheel,{enable:v,disable:y})},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;function o(e){let n;return e&&"string"==typeof e&&t.isElement&&(n=t.el.querySelector(e)||t.hostEl.querySelector(e),n)?n:(e&&("string"==typeof e&&(n=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&n&&n.length>1&&1===t.el.querySelectorAll(e).length?n=t.el.querySelector(e):n&&1===n.length&&(n=n[0])),e&&!n?e:n)}function a(e,n){const r=t.params.navigation;(e=on(e)).forEach((e=>{e&&(e.classList[n?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=n),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass))}))}function s(){const{nextEl:e,prevEl:n}=t.navigation;if(t.params.loop)return a(n,!1),void a(e,!1);a(n,t.isBeginning&&!t.params.rewind),a(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function u(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function c(){const e=t.params.navigation;if(t.params.navigation=Vn(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let n=o(e.nextEl),r=o(e.prevEl);Object.assign(t.navigation,{nextEl:n,prevEl:r}),n=on(n),r=on(r);const i=(n,r)=>{n&&n.addEventListener("click","next"===r?u:l),!t.enabled&&n&&n.classList.add(...e.lockClass.split(" "))};n.forEach((e=>i(e,"next"))),r.forEach((e=>i(e,"prev")))}function f(){let{nextEl:e,prevEl:n}=t.navigation;e=on(e),n=on(n);const r=(e,n)=>{e.removeEventListener("click","next"===n?u:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>r(e,"next"))),n.forEach((e=>r(e,"prev")))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},r("init",(()=>{!1===t.params.navigation.enabled?h():(c(),s())})),r("toEdge fromEdge lock unlock",(()=>{s()})),r("destroy",(()=>{f()})),r("enable disable",(()=>{let{nextEl:e,prevEl:n}=t.navigation;e=on(e),n=on(n),t.enabled?s():[...e,...n].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),r("click",((e,n)=>{let{nextEl:r,prevEl:o}=t.navigation;r=on(r),o=on(o);const a=n.target;let s=o.includes(a)||r.includes(a);if(t.isElement&&!s){const e=n.path||n.composedPath&&n.composedPath();e&&(s=e.find((e=>r.includes(e)||o.includes(e))))}if(t.params.navigation.hideOnClick&&!s){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;r.length?e=r[0].classList.contains(t.params.navigation.hiddenClass):o.length&&(e=o[0].classList.contains(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...r,...o].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),c(),s()},disable:h,update:s,init:c,destroy:f})},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o="swiper-pagination";let a;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),t.pagination={el:null,bullets:[]};let s=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function u(e,n){const{bulletActiveClass:r}=t.params.pagination;e&&(e=e[("prev"===n?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${r}-${n}`),(e=e[("prev"===n?"previous":"next")+"ElementSibling"])&&e.classList.add(`${r}-${n}-${n}`))}function c(e){const n=e.target.closest(qn(t.params.pagination.bulletClass));if(!n)return;e.preventDefault();const r=en(n)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===r)return;const e=(i=t.realIndex,o=r,a=t.slides.length,(o%=a)==1+(i%=a)?"next":o===i-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(r)}else t.slideTo(r);var i,o,a}function f(){const e=t.rtl,n=t.params.pagination;if(l())return;let r,o,c=t.pagination.el;c=on(c);const f=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,h=t.params.loop?Math.ceil(f/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(o=t.previousRealIndex||0,r=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(r=t.snapIndex,o=t.previousSnapIndex):(o=t.previousIndex||0,r=t.activeIndex||0),"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const i=t.pagination.bullets;let l,f,h;if(n.dynamicBullets&&(a=rn(i[0],t.isHorizontal()?"width":"height",!0),c.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=a*(n.dynamicMainBullets+4)+"px"})),n.dynamicMainBullets>1&&void 0!==o&&(s+=r-(o||0),s>n.dynamicMainBullets-1?s=n.dynamicMainBullets-1:s<0&&(s=0)),l=Math.max(r-s,0),f=l+(Math.min(i.length,n.dynamicMainBullets)-1),h=(f+l)/2),i.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${n.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),c.length>1)i.forEach((e=>{const i=en(e);i===r?e.classList.add(...n.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),n.dynamicBullets&&(i>=l&&i<=f&&e.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),i===l&&u(e,"prev"),i===f&&u(e,"next"))}));else{const e=i[r];if(e&&e.classList.add(...n.bulletActiveClass.split(" ")),t.isElement&&i.forEach(((e,t)=>{e.setAttribute("part",t===r?"bullet-active":"bullet")})),n.dynamicBullets){const e=i[l],t=i[f];for(let e=l;e<=f;e+=1)i[e]&&i[e].classList.add(...`${n.bulletActiveClass}-main`.split(" "));u(e,"prev"),u(t,"next")}}if(n.dynamicBullets){const r=Math.min(i.length,n.dynamicMainBullets+4),o=(a*r-a)/2-h*a,s=e?"right":"left";i.forEach((e=>{e.style[t.isHorizontal()?s:"top"]=`${o}px`}))}}c.forEach(((e,o)=>{if("fraction"===n.type&&(e.querySelectorAll(qn(n.currentClass)).forEach((e=>{e.textContent=n.formatFractionCurrent(r+1)})),e.querySelectorAll(qn(n.totalClass)).forEach((e=>{e.textContent=n.formatFractionTotal(h)}))),"progressbar"===n.type){let i;i=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const o=(r+1)/h;let a=1,s=1;"horizontal"===i?a=o:s=o,e.querySelectorAll(qn(n.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${s})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===n.type&&n.renderCustom?(e.innerHTML=n.renderCustom(t,r+1,h),0===o&&i("paginationRender",e)):(0===o&&i("paginationRender",e),i("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](n.lockClass)}))}function h(){const e=t.params.pagination;if(l())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let r=t.pagination.el;r=on(r);let o="";if("bullets"===e.type){let r=t.params.loop?Math.ceil(n/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&r>n&&(r=n);for(let n=0;n<r;n+=1)e.renderBullet?o+=e.renderBullet.call(t,n,e.bulletClass):o+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(o=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(o=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],r.forEach((n=>{"custom"!==e.type&&(n.innerHTML=o||""),"bullets"===e.type&&t.pagination.bullets.push(...n.querySelectorAll(qn(e.bulletClass)))})),"custom"!==e.type&&i("paginationRender",r[0])}function d(){t.params.pagination=Vn(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let n;"string"==typeof e.el&&t.isElement&&(n=t.el.querySelector(e.el)),n||"string"!=typeof e.el||(n=[...document.querySelectorAll(e.el)]),n||(n=e.el),n&&0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(n)&&n.length>1&&(n=[...t.el.querySelectorAll(e.el)],n.length>1&&(n=n.find((e=>tn(e,".swiper")[0]===t.el)))),Array.isArray(n)&&1===n.length&&(n=n[0]),Object.assign(t.pagination,{el:n}),n=on(n),n.forEach((n=>{"bullets"===e.type&&e.clickable&&n.classList.add(...(e.clickableClass||"").split(" ")),n.classList.add(e.modifierClass+e.type),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(n.classList.add(`${e.modifierClass}${e.type}-dynamic`),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.classList.add(e.progressbarOppositeClass),e.clickable&&n.addEventListener("click",c),t.enabled||n.classList.add(e.lockClass)})))}function p(){const e=t.params.pagination;if(l())return;let n=t.pagination.el;n&&(n=on(n),n.forEach((n=>{n.classList.remove(e.hiddenClass),n.classList.remove(e.modifierClass+e.type),n.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(n.classList.remove(...(e.clickableClass||"").split(" ")),n.removeEventListener("click",c))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}r("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:n}=t.pagination;n=on(n),n.forEach((n=>{n.classList.remove(e.horizontalClass,e.verticalClass),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),r("init",(()=>{!1===t.params.pagination.enabled?v():(d(),h(),f())})),r("activeIndexChange",(()=>{void 0===t.snapIndex&&f()})),r("snapIndexChange",(()=>{f()})),r("snapGridLengthChange",(()=>{h(),f()})),r("destroy",(()=>{p()})),r("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=on(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),r("lock unlock",(()=>{f()})),r("click",((e,n)=>{const r=n.target,o=on(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&o&&o.length>0&&!r.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&r===t.navigation.nextEl||t.navigation.prevEl&&r===t.navigation.prevEl))return;const e=o[0].classList.contains(t.params.pagination.hiddenClass);i(!0===e?"paginationShow":"paginationHide"),o.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const v=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=on(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),p()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=on(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),d(),h(),f()},disable:v,render:h,update:f,init:d,destroy:p})},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=Nt();let a,s,l,u,c=!1,f=null,h=null;function d(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:n}=t,{dragEl:r,el:i}=e,o=t.params.scrollbar,a=t.params.loop?t.progressLoop:t.progress;let u=s,c=(l-s)*a;n?(c=-c,c>0?(u=s-c,c=0):-c+s>l&&(u=l+c)):c<0?(u=s+c,c=0):c+s>l&&(u=l-c),t.isHorizontal()?(r.style.transform=`translate3d(${c}px, 0, 0)`,r.style.width=`${u}px`):(r.style.transform=`translate3d(0px, ${c}px, 0)`,r.style.height=`${u}px`),o.hide&&(clearTimeout(f),i.style.opacity=1,f=setTimeout((()=>{i.style.opacity=0,i.style.transitionDuration="400ms"}),1e3))}function p(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:n,el:r}=e;n.style.width="",n.style.height="",l=t.isHorizontal()?r.offsetWidth:r.offsetHeight,u=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),s="auto"===t.params.scrollbar.dragSize?l*u:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?n.style.width=`${s}px`:n.style.height=`${s}px`,r.style.display=u>=1?"none":"",t.params.scrollbar.hide&&(r.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function v(e){return t.isHorizontal()?e.clientX:e.clientY}function y(e){const{scrollbar:n,rtlTranslate:r}=t,{el:i}=n;let o;o=(v(e)-Jt(i)[t.isHorizontal()?"left":"top"]-(null!==a?a:s/2))/(l-s),o=Math.max(Math.min(o,1),0),r&&(o=1-o);const u=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*o;t.updateProgress(u),t.setTranslate(u),t.updateActiveIndex(),t.updateSlidesClasses()}function m(e){const n=t.params.scrollbar,{scrollbar:r,wrapperEl:o}=t,{el:s,dragEl:l}=r;c=!0,a=e.target===l?v(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),o.style.transitionDuration="100ms",l.style.transitionDuration="100ms",y(e),clearTimeout(h),s.style.transitionDuration="0ms",n.hide&&(s.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",e)}function b(e){const{scrollbar:n,wrapperEl:r}=t,{el:o,dragEl:a}=n;c&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,y(e),r.style.transitionDuration="0ms",o.style.transitionDuration="0ms",a.style.transitionDuration="0ms",i("scrollbarDragMove",e))}function g(e){const n=t.params.scrollbar,{scrollbar:r,wrapperEl:o}=t,{el:a}=r;c&&(c=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",o.style.transitionDuration=""),n.hide&&(clearTimeout(h),h=Vt((()=>{a.style.opacity=0,a.style.transitionDuration="400ms"}),1e3)),i("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())}function w(e){const{scrollbar:n,params:r}=t,i=n.el;if(!i)return;const a=i,s=!!r.passiveListeners&&{passive:!1,capture:!1},l=!!r.passiveListeners&&{passive:!0,capture:!1};if(!a)return;const u="on"===e?"addEventListener":"removeEventListener";a[u]("pointerdown",m,s),o[u]("pointermove",b,s),o[u]("pointerup",g,l)}function _(){const{scrollbar:e,el:n}=t;t.params.scrollbar=Vn(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const r=t.params.scrollbar;if(!r.el)return;let i,a;if("string"==typeof r.el&&t.isElement&&(i=t.el.querySelector(r.el)),i||"string"!=typeof r.el)i||(i=r.el);else if(i=o.querySelectorAll(r.el),!i.length)return;t.params.uniqueNavElements&&"string"==typeof r.el&&i.length>1&&1===n.querySelectorAll(r.el).length&&(i=n.querySelector(r.el)),i.length>0&&(i=i[0]),i.classList.add(t.isHorizontal()?r.horizontalClass:r.verticalClass),i&&(a=i.querySelector(qn(t.params.scrollbar.dragClass)),a||(a=Zt("div",t.params.scrollbar.dragClass),i.append(a))),Object.assign(e,{el:i,dragEl:a}),r.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&w("on"),i&&i.classList[t.enabled?"remove":"add"](...zt(t.params.scrollbar.lockClass))}function k(){const e=t.params.scrollbar,n=t.scrollbar.el;n&&n.classList.remove(...zt(t.isHorizontal()?e.horizontalClass:e.verticalClass)),t.params.scrollbar.el&&t.scrollbar.el&&w("off")}n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},r("changeDirection",(()=>{if(!t.scrollbar||!t.scrollbar.el)return;const e=t.params.scrollbar;let{el:n}=t.scrollbar;n=on(n),n.forEach((n=>{n.classList.remove(e.horizontalClass,e.verticalClass),n.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),r("init",(()=>{!1===t.params.scrollbar.enabled?x():(_(),p(),d())})),r("update resize observerUpdate lock unlock changeDirection",(()=>{p()})),r("setTranslate",(()=>{d()})),r("setTransition",((e,n)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(n)})),r("enable disable",(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](...zt(t.params.scrollbar.lockClass))})),r("destroy",(()=>{k()}));const x=()=>{t.el.classList.add(...zt(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...zt(t.params.scrollbar.scrollbarDisabledClass)),k()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...zt(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...zt(t.params.scrollbar.scrollbarDisabledClass)),_(),p(),d()},disable:x,updateSize:p,setTranslate:d,init:_,destroy:k})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({parallax:{enabled:!1}});const i="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",o=(e,n)=>{const{rtl:r}=t,i=r?-1:1,o=e.getAttribute("data-swiper-parallax")||"0";let a=e.getAttribute("data-swiper-parallax-x"),s=e.getAttribute("data-swiper-parallax-y");const l=e.getAttribute("data-swiper-parallax-scale"),u=e.getAttribute("data-swiper-parallax-opacity"),c=e.getAttribute("data-swiper-parallax-rotate");if(a||s?(a=a||"0",s=s||"0"):t.isHorizontal()?(a=o,s="0"):(s=o,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*n*i+"%":a*n*i+"px",s=s.indexOf("%")>=0?parseInt(s,10)*n+"%":s*n+"px",null!=u){const t=u-(u-1)*(1-Math.abs(n));e.style.opacity=t}let f=`translate3d(${a}, ${s}, 0px)`;if(null!=l){f+=` scale(${l-(l-1)*(1-Math.abs(n))})`}if(c&&null!=c){f+=` rotate(${c*n*-1}deg)`}e.style.transform=f},a=()=>{const{el:e,slides:n,progress:r,snapGrid:a,isElement:s}=t,l=$t(e,i);t.isElement&&l.push(...$t(t.hostEl,i)),l.forEach((e=>{o(e,r)})),n.forEach(((e,n)=>{let s=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(s+=Math.ceil(n/2)-r*(a.length-1)),s=Math.min(Math.max(s,-1),1),e.querySelectorAll(`${i}, [data-swiper-parallax-rotate]`).forEach((e=>{o(e,s)}))}))};r("beforeInit",(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),r("init",(()=>{t.params.parallax.enabled&&a()})),r("setTranslate",(()=>{t.params.parallax.enabled&&a()})),r("setTransition",((e,n)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{el:n,hostEl:r}=t,o=[...n.querySelectorAll(i)];t.isElement&&o.push(...r.querySelectorAll(i)),o.forEach((t=>{let n=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),t.style.transitionDuration=`${n}ms`}))}(n)}))},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const o=Ft();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let a,s,l=1,u=!1,c=!1,f={x:0,y:0};const h=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},p={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},v={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let y,m=1;function b(){if(h.length<2)return 1;const e=h[0].pageX,t=h[0].pageY,n=h[1].pageX,r=h[1].pageY;return Math.sqrt((n-e)**2+(r-t)**2)}function g(){const e=t.params.zoom,n=d.imageWrapEl.getAttribute("data-swiper-zoom")||e.maxRatio;if(e.limitToOriginalSize&&d.imageEl&&d.imageEl.naturalWidth){const e=d.imageEl.naturalWidth/d.imageEl.offsetWidth;return Math.min(e,n)}return n}function w(e){const n=t.isElement?"swiper-slide":`.${t.params.slideClass}`;return!!e.target.matches(n)||t.slides.filter((t=>t.contains(e.target))).length>0}function _(e){const n=`.${t.params.zoom.containerClass}`;return!!e.target.matches(n)||[...t.hostEl.querySelectorAll(n)].filter((t=>t.contains(e.target))).length>0}function k(e){if("mouse"===e.pointerType&&h.splice(0,h.length),!w(e))return;const n=t.params.zoom;if(a=!1,s=!1,h.push(e),!(h.length<2)){if(a=!0,d.scaleStart=b(),!d.slideEl){d.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=t.slides[t.activeIndex]);let r=d.slideEl.querySelector(`.${n.containerClass}`);if(r&&(r=r.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=r,d.imageWrapEl=r?tn(d.imageEl,`.${n.containerClass}`)[0]:void 0,!d.imageWrapEl)return void(d.imageEl=void 0);d.maxRatio=g()}if(d.imageEl){const[e,t]=function(){if(h.length<2)return{x:null,y:null};const e=d.imageEl.getBoundingClientRect();return[(h[0].pageX+(h[1].pageX-h[0].pageX)/2-e.x-o.scrollX)/l,(h[0].pageY+(h[1].pageY-h[0].pageY)/2-e.y-o.scrollY)/l]}();d.originX=e,d.originY=t,d.imageEl.style.transitionDuration="0ms"}u=!0}}function x(e){if(!w(e))return;const n=t.params.zoom,r=t.zoom,i=h.findIndex((t=>t.pointerId===e.pointerId));i>=0&&(h[i]=e),h.length<2||(s=!0,d.scaleMove=b(),d.imageEl&&(r.scale=d.scaleMove/d.scaleStart*l,r.scale>d.maxRatio&&(r.scale=d.maxRatio-1+(r.scale-d.maxRatio+1)**.5),r.scale<n.minRatio&&(r.scale=n.minRatio+1-(n.minRatio-r.scale+1)**.5),d.imageEl.style.transform=`translate3d(0,0,0) scale(${r.scale})`))}function O(e){if(!w(e))return;if("mouse"===e.pointerType&&"pointerout"===e.type)return;const n=t.params.zoom,r=t.zoom,i=h.findIndex((t=>t.pointerId===e.pointerId));i>=0&&h.splice(i,1),a&&s&&(a=!1,s=!1,d.imageEl&&(r.scale=Math.max(Math.min(r.scale,d.maxRatio),n.minRatio),d.imageEl.style.transitionDuration=`${t.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${r.scale})`,l=r.scale,u=!1,r.scale>1&&d.slideEl?d.slideEl.classList.add(`${n.zoomedSlideClass}`):r.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${n.zoomedSlideClass}`),1===r.scale&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}function P(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function S(e){const n="mouse"===e.pointerType&&t.params.zoom.panOnMouseMove;if(!w(e)||!_(e))return;const r=t.zoom;if(!d.imageEl)return;if(!p.isTouched||!d.slideEl)return void(n&&j(e));if(n)return void j(e);p.isMoved||(p.width=d.imageEl.offsetWidth||d.imageEl.clientWidth,p.height=d.imageEl.offsetHeight||d.imageEl.clientHeight,p.startX=Ht(d.imageWrapEl,"x")||0,p.startY=Ht(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const i=p.width*r.scale,o=p.height*r.scale;p.minX=Math.min(d.slideWidth/2-i/2,0),p.maxX=-p.minX,p.minY=Math.min(d.slideHeight/2-o/2,0),p.maxY=-p.minY,p.touchesCurrent.x=h.length>0?h[0].pageX:e.pageX,p.touchesCurrent.y=h.length>0?h[0].pageY:e.pageY;if(Math.max(Math.abs(p.touchesCurrent.x-p.touchesStart.x),Math.abs(p.touchesCurrent.y-p.touchesStart.y))>5&&(t.allowClick=!1),!p.isMoved&&!u){if(t.isHorizontal()&&(Math.floor(p.minX)===Math.floor(p.startX)&&p.touchesCurrent.x<p.touchesStart.x||Math.floor(p.maxX)===Math.floor(p.startX)&&p.touchesCurrent.x>p.touchesStart.x))return p.isTouched=!1,void P();if(!t.isHorizontal()&&(Math.floor(p.minY)===Math.floor(p.startY)&&p.touchesCurrent.y<p.touchesStart.y||Math.floor(p.maxY)===Math.floor(p.startY)&&p.touchesCurrent.y>p.touchesStart.y))return p.isTouched=!1,void P()}e.cancelable&&e.preventDefault(),e.stopPropagation(),clearTimeout(y),t.touchEventsData.preventTouchMoveFromPointerMove=!0,y=setTimeout((()=>{t.destroyed||P()})),p.isMoved=!0;const a=(r.scale-l)/(d.maxRatio-t.params.zoom.minRatio),{originX:s,originY:c}=d;p.currentX=p.touchesCurrent.x-p.touchesStart.x+p.startX+a*(p.width-2*s),p.currentY=p.touchesCurrent.y-p.touchesStart.y+p.startY+a*(p.height-2*c),p.currentX<p.minX&&(p.currentX=p.minX+1-(p.minX-p.currentX+1)**.8),p.currentX>p.maxX&&(p.currentX=p.maxX-1+(p.currentX-p.maxX+1)**.8),p.currentY<p.minY&&(p.currentY=p.minY+1-(p.minY-p.currentY+1)**.8),p.currentY>p.maxY&&(p.currentY=p.maxY-1+(p.currentY-p.maxY+1)**.8),v.prevPositionX||(v.prevPositionX=p.touchesCurrent.x),v.prevPositionY||(v.prevPositionY=p.touchesCurrent.y),v.prevTime||(v.prevTime=Date.now()),v.x=(p.touchesCurrent.x-v.prevPositionX)/(Date.now()-v.prevTime)/2,v.y=(p.touchesCurrent.y-v.prevPositionY)/(Date.now()-v.prevTime)/2,Math.abs(p.touchesCurrent.x-v.prevPositionX)<2&&(v.x=0),Math.abs(p.touchesCurrent.y-v.prevPositionY)<2&&(v.y=0),v.prevPositionX=p.touchesCurrent.x,v.prevPositionY=p.touchesCurrent.y,v.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${p.currentX}px, ${p.currentY}px,0)`}function E(){const e=t.zoom;d.slideEl&&t.activeIndex!==t.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),e.scale=1,l=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function j(e){if(l<=1||!d.imageWrapEl)return;if(!w(e)||!_(e))return;const t=o.getComputedStyle(d.imageWrapEl).transform,n=new o.DOMMatrix(t);if(!c)return c=!0,f.x=e.clientX,f.y=e.clientY,p.startX=n.e,p.startY=n.f,p.width=d.imageEl.offsetWidth||d.imageEl.clientWidth,p.height=d.imageEl.offsetHeight||d.imageEl.clientHeight,d.slideWidth=d.slideEl.offsetWidth,void(d.slideHeight=d.slideEl.offsetHeight);const r=-3*(e.clientX-f.x),i=-3*(e.clientY-f.y),a=p.width*l,s=p.height*l,u=d.slideWidth,h=d.slideHeight,v=Math.min(u/2-a/2,0),y=-v,m=Math.min(h/2-s/2,0),b=-m,g=Math.max(Math.min(p.startX+r,y),v),k=Math.max(Math.min(p.startY+i,b),m);d.imageWrapEl.style.transitionDuration="0ms",d.imageWrapEl.style.transform=`translate3d(${g}px, ${k}px, 0)`,f.x=e.clientX,f.y=e.clientY,p.startX=g,p.startY=k}function T(e){const n=t.zoom,r=t.params.zoom;if(!d.slideEl){e&&e.target&&(d.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`)),d.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?d.slideEl=$t(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:d.slideEl=t.slides[t.activeIndex]);let n=d.slideEl.querySelector(`.${r.containerClass}`);n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=n,d.imageWrapEl=n?tn(d.imageEl,`.${r.containerClass}`)[0]:void 0}if(!d.imageEl||!d.imageWrapEl)return;let i,a,s,u,c,f,h,v,y,m,b,w,_,k,x,O,P,S;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${r.zoomedSlideClass}`),void 0===p.touchesStart.x&&e?(i=e.pageX,a=e.pageY):(i=p.touchesStart.x,a=p.touchesStart.y);const E="number"==typeof e?e:null;1===l&&E&&(i=void 0,a=void 0,p.touchesStart.x=void 0,p.touchesStart.y=void 0);const j=g();n.scale=E||j,l=E||j,!e||1===l&&E?(h=0,v=0):(P=d.slideEl.offsetWidth,S=d.slideEl.offsetHeight,s=Jt(d.slideEl).left+o.scrollX,u=Jt(d.slideEl).top+o.scrollY,c=s+P/2-i,f=u+S/2-a,y=d.imageEl.offsetWidth||d.imageEl.clientWidth,m=d.imageEl.offsetHeight||d.imageEl.clientHeight,b=y*n.scale,w=m*n.scale,_=Math.min(P/2-b/2,0),k=Math.min(S/2-w/2,0),x=-_,O=-k,h=c*n.scale,v=f*n.scale,h<_&&(h=_),h>x&&(h=x),v<k&&(v=k),v>O&&(v=O)),E&&1===n.scale&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${h}px, ${v}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`}function D(){const e=t.zoom,n=t.params.zoom;if(!d.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?d.slideEl=$t(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:d.slideEl=t.slides[t.activeIndex];let e=d.slideEl.querySelector(`.${n.containerClass}`);e&&(e=e.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=e,d.imageWrapEl=e?tn(d.imageEl,`.${n.containerClass}`)[0]:void 0}d.imageEl&&d.imageWrapEl&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,l=1,p.touchesStart.x=void 0,p.touchesStart.y=void 0,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${n.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0,t.params.zoom.panOnMouseMove&&(f={x:0,y:0},c&&(c=!1,p.startX=0,p.startY=0)))}function A(e){const n=t.zoom;n.scale&&1!==n.scale?D():T(e)}function C(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function M(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:n,activeListenerWithCapture:r}=C();t.wrapperEl.addEventListener("pointerdown",k,n),t.wrapperEl.addEventListener("pointermove",x,r),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.addEventListener(e,O,n)})),t.wrapperEl.addEventListener("pointermove",S,r)}function L(){const e=t.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:n,activeListenerWithCapture:r}=C();t.wrapperEl.removeEventListener("pointerdown",k,n),t.wrapperEl.removeEventListener("pointermove",x,r),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.removeEventListener(e,O,n)})),t.wrapperEl.removeEventListener("pointermove",S,r)}Object.defineProperty(t.zoom,"scale",{get:()=>m,set(e){if(m!==e){const t=d.imageEl,n=d.slideEl;i("zoomChange",e,t,n)}m=e}}),r("init",(()=>{t.params.zoom.enabled&&M()})),r("destroy",(()=>{L()})),r("touchStart",((e,n)=>{t.zoom.enabled&&function(e){const n=t.device;if(!d.imageEl)return;if(p.isTouched)return;n.android&&e.cancelable&&e.preventDefault(),p.isTouched=!0;const r=h.length>0?h[0]:e;p.touchesStart.x=r.pageX,p.touchesStart.y=r.pageY}(n)})),r("touchEnd",((e,n)=>{t.zoom.enabled&&function(){const e=t.zoom;if(h.length=0,!d.imageEl)return;if(!p.isTouched||!p.isMoved)return p.isTouched=!1,void(p.isMoved=!1);p.isTouched=!1,p.isMoved=!1;let n=300,r=300;const i=v.x*n,o=p.currentX+i,a=v.y*r,s=p.currentY+a;0!==v.x&&(n=Math.abs((o-p.currentX)/v.x)),0!==v.y&&(r=Math.abs((s-p.currentY)/v.y));const l=Math.max(n,r);p.currentX=o,p.currentY=s;const u=p.width*e.scale,c=p.height*e.scale;p.minX=Math.min(d.slideWidth/2-u/2,0),p.maxX=-p.minX,p.minY=Math.min(d.slideHeight/2-c/2,0),p.maxY=-p.minY,p.currentX=Math.max(Math.min(p.currentX,p.maxX),p.minX),p.currentY=Math.max(Math.min(p.currentY,p.maxY),p.minY),d.imageWrapEl.style.transitionDuration=`${l}ms`,d.imageWrapEl.style.transform=`translate3d(${p.currentX}px, ${p.currentY}px,0)`}()})),r("doubleTap",((e,n)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&A(n)})),r("transitionEnd",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&E()})),r("slideChange",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&E()})),Object.assign(t.zoom,{enable:M,disable:L,in:T,out:D,toggle:A})},function(e){let{swiper:t,extendParams:n,on:r}=e;function i(e,t){const n=function(){let e,t,n;return(r,i)=>{for(t=-1,e=r.length;e-t>1;)n=e+t>>1,r[n]<=i?t=n:e=n;return e}}();let r,i;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=n(this.x,e),r=i-1,(e-this.x[r])*(this.y[i]-this.y[r])/(this.x[i]-this.x[r])+this.y[r]):0},this}function o(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}n({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},r("beforeInit",(()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){("string"==typeof t.params.controller.control?[...document.querySelectorAll(t.params.controller.control)]:[t.params.controller.control]).forEach((e=>{if(t.controller.control||(t.controller.control=[]),e&&e.swiper)t.controller.control.push(e.swiper);else if(e){const n=`${t.params.eventsPrefix}init`,r=i=>{t.controller.control.push(i.detail[0]),t.update(),e.removeEventListener(n,r)};e.addEventListener(n,r)}}))}else t.controller.control=t.params.controller.control})),r("update",(()=>{o()})),r("resize",(()=>{o()})),r("observerUpdate",(()=>{o()})),r("setTranslate",((e,n,r)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(n,r)})),r("setTransition",((e,n,r)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(n,r)})),Object.assign(t.controller,{setTranslate:function(e,n){const r=t.controller.control;let o,a;const s=t.constructor;function l(e){if(e.destroyed)return;const n=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline=t.params.loop?new i(t.slidesGrid,e.slidesGrid):new i(t.snapGrid,e.snapGrid)}(e),a=-t.controller.spline.interpolate(-n)),a&&"container"!==t.params.controller.by||(o=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(o)&&Number.isFinite(o)||(o=1),a=(n-t.minTranslate())*o+e.minTranslate()),t.params.controller.inverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setTranslate(a,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(r))for(let e=0;e<r.length;e+=1)r[e]!==n&&r[e]instanceof s&&l(r[e]);else r instanceof s&&n!==r&&l(r)},setTransition:function(e,n){const r=t.constructor,i=t.controller.control;let o;function a(n){n.destroyed||(n.setTransition(e,t),0!==e&&(n.transitionStart(),n.params.autoHeight&&Vt((()=>{n.updateAutoHeight()})),nn(n.wrapperEl,(()=>{i&&n.transitionEnd()}))))}if(Array.isArray(i))for(o=0;o<i.length;o+=1)i[o]!==n&&i[o]instanceof r&&a(i[o]);else i instanceof r&&n!==i&&a(i)}})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let i,o,a=null,s=(new Date).getTime();function l(e){const t=a;0!==t.length&&(t.innerHTML="",t.innerHTML=e)}function u(e){(e=on(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function c(e){(e=on(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function f(e,t){(e=on(e)).forEach((e=>{e.setAttribute("role",t)}))}function h(e,t){(e=on(e)).forEach((e=>{e.setAttribute("aria-roledescription",t)}))}function d(e,t){(e=on(e)).forEach((e=>{e.setAttribute("aria-label",t)}))}function p(e){(e=on(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function v(e){(e=on(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function y(e){if(13!==e.keyCode&&32!==e.keyCode)return;const n=t.params.a11y,r=e.target;if(!t.pagination||!t.pagination.el||r!==t.pagination.el&&!t.pagination.el.contains(e.target)||e.target.matches(qn(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const e=on(t.navigation.prevEl);on(t.navigation.nextEl).includes(r)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?l(n.lastSlideMessage):l(n.nextSlideMessage)),e.includes(r)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?l(n.firstSlideMessage):l(n.prevSlideMessage))}t.pagination&&r.matches(qn(t.params.pagination.bulletClass))&&r.click()}}function m(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function b(){return m()&&t.params.pagination.clickable}const g=(e,t,n)=>{u(e),"BUTTON"!==e.tagName&&(f(e,"button"),e.addEventListener("keydown",y)),d(e,n),function(e,t){(e=on(e)).forEach((e=>{e.setAttribute("aria-controls",t)}))}(e,t)},w=e=>{o&&o!==e.target&&!o.contains(e.target)&&(i=!0),t.a11y.clicked=!0},_=()=>{i=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},k=e=>{s=(new Date).getTime()},x=e=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus)return;if((new Date).getTime()-s<100)return;const n=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!n||!t.slides.includes(n))return;o=n;const r=t.slides.indexOf(n)===t.activeIndex,a=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(n);r||a||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame((()=>{i||(t.params.loop?t.slideToLoop(parseInt(n.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(n),0),i=!1)})))},O=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&h(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&f(t.slides,e.slideRole);const n=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((r,i)=>{const o=t.params.loop?parseInt(r.getAttribute("data-swiper-slide-index"),10):i;d(r,e.slideLabelMessage.replace(/\{\{index\}\}/,o+1).replace(/\{\{slidesLength\}\}/,n))}))},P=()=>{const e=t.params.a11y;t.el.append(a);const n=t.el;e.containerRoleDescriptionMessage&&h(n,e.containerRoleDescriptionMessage),e.containerMessage&&d(n,e.containerMessage),e.containerRole&&f(n,e.containerRole);const r=t.wrapperEl,i=e.id||r.getAttribute("id")||`swiper-wrapper-${o=16,void 0===o&&(o=16),"x".repeat(o).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var o;const s=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var l;l=i,on(r).forEach((e=>{e.setAttribute("id",l)})),function(e,t){(e=on(e)).forEach((e=>{e.setAttribute("aria-live",t)}))}(r,s),O();let{nextEl:u,prevEl:c}=t.navigation?t.navigation:{};if(u=on(u),c=on(c),u&&u.forEach((t=>g(t,i,e.nextSlideMessage))),c&&c.forEach((t=>g(t,i,e.prevSlideMessage))),b()){on(t.pagination.el).forEach((e=>{e.addEventListener("keydown",y)}))}Nt().addEventListener("visibilitychange",k),t.el.addEventListener("focus",x,!0),t.el.addEventListener("focus",x,!0),t.el.addEventListener("pointerdown",w,!0),t.el.addEventListener("pointerup",_,!0)};r("beforeInit",(()=>{a=Zt("span",t.params.a11y.notificationClass),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true")})),r("afterInit",(()=>{t.params.a11y.enabled&&P()})),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{t.params.a11y.enabled&&O()})),r("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:n}=t.navigation;n&&(t.isBeginning?(p(n),c(n)):(v(n),u(n))),e&&(t.isEnd?(p(e),c(e)):(v(e),u(e)))}()})),r("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;m()&&t.pagination.bullets.forEach((n=>{t.params.pagination.clickable&&(u(n),t.params.pagination.renderBullet||(f(n,"button"),d(n,e.paginationBulletMessage.replace(/\{\{index\}\}/,en(n)+1)))),n.matches(qn(t.params.pagination.bulletActiveClass))?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")}))}()})),r("destroy",(()=>{t.params.a11y.enabled&&function(){a&&a.remove();let{nextEl:e,prevEl:n}=t.navigation?t.navigation:{};e=on(e),n=on(n),e&&e.forEach((e=>e.removeEventListener("keydown",y))),n&&n.forEach((e=>e.removeEventListener("keydown",y))),b()&&on(t.pagination.el).forEach((e=>{e.removeEventListener("keydown",y)}));Nt().removeEventListener("visibilitychange",k),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",x,!0),t.el.removeEventListener("pointerdown",w,!0),t.el.removeEventListener("pointerup",_,!0))}()}))},function(e){let{swiper:t,extendParams:n,on:r}=e;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,o={};const a=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),s=e=>{const t=Ft();let n;n=e?new URL(e):t.location;const r=n.pathname.slice(1).split("/").filter((e=>""!==e)),i=r.length;return{key:r[i-2],value:r[i-1]}},l=(e,n)=>{const r=Ft();if(!i||!t.params.history.enabled)return;let o;o=t.params.url?new URL(t.params.url):r.location;const s=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${n}"]`):t.slides[n];let l=a(s.getAttribute("data-history"));if(t.params.history.root.length>0){let n=t.params.history.root;"/"===n[n.length-1]&&(n=n.slice(0,n.length-1)),l=`${n}/${e?`${e}/`:""}${l}`}else o.pathname.includes(e)||(l=`${e?`${e}/`:""}${l}`);t.params.history.keepQuery&&(l+=o.search);const u=r.history.state;u&&u.value===l||(t.params.history.replaceState?r.history.replaceState({value:l},null,l):r.history.pushState({value:l},null,l))},u=(e,n,r)=>{if(n)for(let i=0,o=t.slides.length;i<o;i+=1){const o=t.slides[i];if(a(o.getAttribute("data-history"))===n){const n=t.getSlideIndex(o);t.slideTo(n,e,r)}}else t.slideTo(0,e,r)},c=()=>{o=s(t.params.url),u(t.params.speed,o.value,!1)};r("init",(()=>{t.params.history.enabled&&(()=>{const e=Ft();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);i=!0,o=s(t.params.url),o.key||o.value?(u(0,o.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",c)):t.params.history.replaceState||e.addEventListener("popstate",c)}})()})),r("destroy",(()=>{t.params.history.enabled&&(()=>{const e=Ft();t.params.history.replaceState||e.removeEventListener("popstate",c)})()})),r("transitionEnd _freeModeNoMomentumRelease",(()=>{i&&l(t.params.history.key,t.activeIndex)})),r("slideChange",(()=>{i&&t.params.cssMode&&l(t.params.history.key,t.activeIndex)}))},function(e){let{swiper:t,extendParams:n,emit:r,on:i}=e,o=!1;const a=Nt(),s=Ft();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,n){if(t.virtual&&t.params.virtual.enabled){const e=t.slides.find((e=>e.getAttribute("data-hash")===n));if(!e)return 0;return parseInt(e.getAttribute("data-swiper-slide-index"),10)}return t.getSlideIndex($t(t.slidesEl,`.${t.params.slideClass}[data-hash="${n}"], swiper-slide[data-hash="${n}"]`)[0])}}});const l=()=>{r("hashChange");const e=a.location.hash.replace("#",""),n=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(e!==(n?n.getAttribute("data-hash"):"")){const n=t.params.hashNavigation.getSlideIndex(t,e);if(void 0===n||Number.isNaN(n))return;t.slideTo(n)}},u=()=>{if(!o||!t.params.hashNavigation.enabled)return;const e=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],n=e?e.getAttribute("data-hash")||e.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&s.history&&s.history.replaceState?(s.history.replaceState(null,null,`#${n}`||""),r("hashSet")):(a.location.hash=n||"",r("hashSet"))};i("init",(()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;o=!0;const e=a.location.hash.replace("#","");if(e){const n=0,r=t.params.hashNavigation.getSlideIndex(t,e);t.slideTo(r||0,n,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&s.addEventListener("hashchange",l)})()})),i("destroy",(()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&s.removeEventListener("hashchange",l)})),i("transitionEnd _freeModeNoMomentumRelease",(()=>{o&&u()})),i("slideChange",(()=>{o&&t.params.cssMode&&u()}))},function(e){let t,n,{swiper:r,extendParams:i,on:o,emit:a,params:s}=e;r.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,u,c,f,h,d,p,v,y=s&&s.autoplay?s.autoplay.delay:3e3,m=s&&s.autoplay?s.autoplay.delay:3e3,b=(new Date).getTime();function g(e){r&&!r.destroyed&&r.wrapperEl&&e.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",g),v||e.detail&&e.detail.bySwiperTouchMove||P())}const w=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?u=!0:u&&(m=l,u=!1);const e=r.autoplay.paused?l:b+m-(new Date).getTime();r.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/y),n=requestAnimationFrame((()=>{w()}))},_=e=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(n),w();let i=void 0===e?r.params.autoplay.delay:e;y=r.params.autoplay.delay,m=r.params.autoplay.delay;const o=(()=>{let e;if(e=r.virtual&&r.params.virtual.enabled?r.slides.find((e=>e.classList.contains("swiper-slide-active"))):r.slides[r.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(o)&&o>0&&void 0===e&&(i=o,y=o,m=o),l=i;const s=r.params.speed,u=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(s,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,s,!0,!0),a("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(s,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,s,!0,!0),a("autoplay")),r.params.cssMode&&(b=(new Date).getTime(),requestAnimationFrame((()=>{_()}))))};return i>0?(clearTimeout(t),t=setTimeout((()=>{u()}),i)):requestAnimationFrame((()=>{u()})),i},k=()=>{b=(new Date).getTime(),r.autoplay.running=!0,_(),a("autoplayStart")},x=()=>{r.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(n),a("autoplayStop")},O=(e,n)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(t),e||(p=!0);const i=()=>{a("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",g):P()};if(r.autoplay.paused=!0,n)return d&&(l=r.params.autoplay.delay),d=!1,void i();const o=l||r.params.autoplay.delay;l=o-((new Date).getTime()-b),r.isEnd&&l<0&&!r.params.loop||(l<0&&(l=0),i())},P=()=>{r.isEnd&&l<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(b=(new Date).getTime(),p?(p=!1,_(l)):_(),r.autoplay.paused=!1,a("autoplayResume"))},S=()=>{if(r.destroyed||!r.autoplay.running)return;const e=Nt();"hidden"===e.visibilityState&&(p=!0,O(!0)),"visible"===e.visibilityState&&P()},E=e=>{"mouse"===e.pointerType&&(p=!0,v=!0,r.animating||r.autoplay.paused||O(!0))},j=e=>{"mouse"===e.pointerType&&(v=!1,r.autoplay.paused&&P())};o("init",(()=>{r.params.autoplay.enabled&&(r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",E),r.el.addEventListener("pointerleave",j)),Nt().addEventListener("visibilitychange",S),k())})),o("destroy",(()=>{r.el&&"string"!=typeof r.el&&(r.el.removeEventListener("pointerenter",E),r.el.removeEventListener("pointerleave",j)),Nt().removeEventListener("visibilitychange",S),r.autoplay.running&&x()})),o("_freeModeStaticRelease",(()=>{(f||p)&&P()})),o("_freeModeNoMomentumRelease",(()=>{r.params.autoplay.disableOnInteraction?x():O(!0,!0)})),o("beforeTransitionStart",((e,t,n)=>{!r.destroyed&&r.autoplay.running&&(n||!r.params.autoplay.disableOnInteraction?O(!0,!0):x())})),o("sliderFirstMove",(()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?x():(c=!0,f=!1,p=!1,h=setTimeout((()=>{p=!0,f=!0,O(!0)}),200)))})),o("touchEnd",(()=>{if(!r.destroyed&&r.autoplay.running&&c){if(clearTimeout(h),clearTimeout(t),r.params.autoplay.disableOnInteraction)return f=!1,void(c=!1);f&&r.params.cssMode&&P(),f=!1,c=!1}})),o("slideChange",(()=>{!r.destroyed&&r.autoplay.running&&(d=!0)})),Object.assign(r.autoplay,{start:k,stop:x,pause:O,resume:P})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,o=!1;function a(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const n=e.clickedIndex,r=e.clickedSlide;if(r&&r.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==n)return;let i;i=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):n,t.params.loop?t.slideToLoop(i):t.slideTo(i)}function s(){const{thumbs:e}=t.params;if(i)return!1;i=!0;const n=t.constructor;if(e.swiper instanceof n)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(Yt(e.swiper)){const r=Object.assign({},e.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new n(r),o=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",a),!0}function l(e){const n=t.thumbs.swiper;if(!n||n.destroyed)return;const r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;let i=1;const o=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(i=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),n.slides.forEach((e=>e.classList.remove(o))),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let e=0;e<i;e+=1)$t(n.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(o)}));else for(let e=0;e<i;e+=1)n.slides[t.realIndex+e]&&n.slides[t.realIndex+e].classList.add(o);const a=t.params.thumbs.autoScrollOffset,s=a&&!n.params.loop;if(t.realIndex!==n.realIndex||s){const i=n.activeIndex;let o,l;if(n.params.loop){const e=n.slides.find((e=>e.getAttribute("data-swiper-slide-index")===`${t.realIndex}`));o=n.slides.indexOf(e),l=t.activeIndex>t.previousIndex?"next":"prev"}else o=t.realIndex,l=o>t.previousIndex?"next":"prev";s&&(o+="next"===l?a:-1*a),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(o)<0&&(n.params.centeredSlides?o=o>i?o-Math.floor(r/2)+1:o+Math.floor(r/2)-1:o>i&&n.params.slidesPerGroup,n.slideTo(o,e?0:void 0))}}t.thumbs={swiper:null},r("beforeInit",(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const n=Nt(),r=()=>{const r="string"==typeof e.swiper?n.querySelector(e.swiper):e.swiper;if(r&&r.swiper)e.swiper=r.swiper,s(),l(!0);else if(r){const n=`${t.params.eventsPrefix}init`,i=o=>{e.swiper=o.detail[0],r.removeEventListener(n,i),s(),l(!0),e.swiper.update(),t.update()};r.addEventListener(n,i)}return r},i=()=>{if(t.destroyed)return;r()||requestAnimationFrame(i)};requestAnimationFrame(i)}else s(),l(!0)})),r("slideChange update resize observerUpdate",(()=>{l()})),r("setTransition",((e,n)=>{const r=t.thumbs.swiper;r&&!r.destroyed&&r.setTransition(n)})),r("beforeDestroy",(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&o&&e.destroy()})),Object.assign(t.thumbs,{init:s,update:l})},function(e){let{swiper:t,extendParams:n,emit:r,once:i}=e;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){if(t.params.cssMode)return;const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){if(t.params.cssMode)return;const{touchEventsData:e,touches:n}=t;0===e.velocities.length&&e.velocities.push({position:n[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:n[t.isHorizontal()?"currentX":"currentY"],time:qt()})},onTouchEnd:function(e){let{currentPos:n}=e;if(t.params.cssMode)return;const{params:o,wrapperEl:a,rtlTranslate:s,snapGrid:l,touchEventsData:u}=t,c=qt()-u.touchStartTime;if(n<-t.minTranslate())t.slideTo(t.activeIndex);else if(n>-t.maxTranslate())t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1);else{if(o.freeMode.momentum){if(u.velocities.length>1){const e=u.velocities.pop(),n=u.velocities.pop(),r=e.position-n.position,i=e.time-n.time;t.velocity=r/i,t.velocity/=2,Math.abs(t.velocity)<o.freeMode.minimumVelocity&&(t.velocity=0),(i>150||qt()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=o.freeMode.momentumVelocityRatio,u.velocities.length=0;let e=1e3*o.freeMode.momentumRatio;const n=t.velocity*e;let c=t.translate+n;s&&(c=-c);let f,h=!1;const d=20*Math.abs(t.velocity)*o.freeMode.momentumBounceRatio;let p;if(c<t.maxTranslate())o.freeMode.momentumBounce?(c+t.maxTranslate()<-d&&(c=t.maxTranslate()-d),f=t.maxTranslate(),h=!0,u.allowMomentumBounce=!0):c=t.maxTranslate(),o.loop&&o.centeredSlides&&(p=!0);else if(c>t.minTranslate())o.freeMode.momentumBounce?(c-t.minTranslate()>d&&(c=t.minTranslate()+d),f=t.minTranslate(),h=!0,u.allowMomentumBounce=!0):c=t.minTranslate(),o.loop&&o.centeredSlides&&(p=!0);else if(o.freeMode.sticky){let e;for(let t=0;t<l.length;t+=1)if(l[t]>-c){e=t;break}c=Math.abs(l[e]-c)<Math.abs(l[e-1]-c)||"next"===t.swipeDirection?l[e]:l[e-1],c=-c}if(p&&i("transitionEnd",(()=>{t.loopFix()})),0!==t.velocity){if(e=s?Math.abs((-c-t.translate)/t.velocity):Math.abs((c-t.translate)/t.velocity),o.freeMode.sticky){const n=Math.abs((s?-c:c)-t.translate),r=t.slidesSizesGrid[t.activeIndex];e=n<r?o.speed:n<2*r?1.5*o.speed:2.5*o.speed}}else if(o.freeMode.sticky)return void t.slideToClosest();o.freeMode.momentumBounce&&h?(t.updateProgress(f),t.setTransition(e),t.setTranslate(c),t.transitionStart(!0,t.swipeDirection),t.animating=!0,nn(a,(()=>{t&&!t.destroyed&&u.allowMomentumBounce&&(r("momentumBounce"),t.setTransition(o.speed),setTimeout((()=>{t.setTranslate(f),nn(a,(()=>{t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(r("_freeModeNoMomentumRelease"),t.updateProgress(c),t.setTransition(e),t.setTranslate(c),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,nn(a,(()=>{t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(c),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(o.freeMode.sticky)return void t.slideToClosest();o.freeMode&&r("_freeModeNoMomentumRelease")}(!o.freeMode.momentum||c>=o.longSwipesMs)&&(r("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(e){let t,n,r,i,{swiper:o,extendParams:a,on:s}=e;a({grid:{rows:1,fill:"column"}});const l=()=>{let e=o.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*o.size:"string"==typeof e&&(e=parseFloat(e)),e};s("init",(()=>{i=o.params.grid&&o.params.grid.rows>1})),s("update",(()=>{const{params:e,el:t}=o,n=e.grid&&e.grid.rows>1;i&&!n?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),r=1,o.emitContainerClasses()):!i&&n&&(t.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),o.emitContainerClasses()),i=n})),o.grid={initSlides:e=>{const{slidesPerView:i}=o.params,{rows:a,fill:s}=o.params.grid,l=o.virtual&&o.params.virtual.enabled?o.virtual.slides.length:e.length;r=Math.floor(l/a),t=Math.floor(l/a)===l/a?l:Math.ceil(l/a)*a,"auto"!==i&&"row"===s&&(t=Math.max(t,i*a)),n=t/a},unsetSlides:()=>{o.slides&&o.slides.forEach((e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[o.getDirectionLabel("margin-top")]="")}))},updateSlide:(e,i,a)=>{const{slidesPerGroup:s}=o.params,u=l(),{rows:c,fill:f}=o.params.grid,h=o.virtual&&o.params.virtual.enabled?o.virtual.slides.length:a.length;let d,p,v;if("row"===f&&s>1){const n=Math.floor(e/(s*c)),r=e-c*s*n,o=0===n?s:Math.min(Math.ceil((h-n*c*s)/c),s);v=Math.floor(r/o),p=r-v*o+n*s,d=p+v*t/c,i.style.order=d}else"column"===f?(p=Math.floor(e/c),v=e-p*c,(p>r||p===r&&v===c-1)&&(v+=1,v>=c&&(v=0,p+=1))):(v=Math.floor(e/n),p=e-v*n);i.row=v,i.column=p,i.style.height=`calc((100% - ${(c-1)*u}px) / ${c})`,i.style[o.getDirectionLabel("margin-top")]=0!==v?u&&`${u}px`:"",i.swiperSlideGridSet=!0},updateWrapperSize:(e,n)=>{const{centeredSlides:r,roundLengths:i}=o.params,a=l(),{rows:s}=o.params.grid;if(o.virtualSize=(e+a)*t,o.virtualSize=Math.ceil(o.virtualSize/s)-a,o.params.cssMode||(o.wrapperEl.style[o.getDirectionLabel("width")]=`${o.virtualSize+a}px`),r){const e=[];for(let t=0;t<n.length;t+=1){let r=n[t];i&&(r=Math.floor(r)),n[t]<o.virtualSize+n[0]&&e.push(r)}n.splice(0,n.length),n.push(...e)}}}},function(e){let{swiper:t}=e;Object.assign(t,{appendSlide:Hn.bind(t),prependSlide:Yn.bind(t),addSlide:Un.bind(t),removeSlide:Gn.bind(t),removeAllSlides:Xn.bind(t)})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({fadeEffect:{crossFade:!1}}),Wn({effect:"fade",swiper:t,on:r,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let n=0;n<e.length;n+=1){const e=t.slides[n];let r=-e.swiperSlideOffset;t.params.virtualTranslate||(r-=t.translate);let i=0;t.isHorizontal()||(i=r,r=0);const o=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),a=$n(0,e);a.style.opacity=o,a.style.transform=`translate3d(${r}px, ${i}px, 0px)`}},setTransition:e=>{const n=t.slides.map((e=>Wt(e)));n.forEach((t=>{t.style.transitionDuration=`${e}ms`})),Kn({swiper:t,duration:e,transformElements:n,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const i=(e,t,n)=>{let r=n?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=n?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");r||(r=Zt("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(n?"left":"top")).split(" ")),e.append(r)),i||(i=Zt("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(n?"right":"bottom")).split(" ")),e.append(i)),r&&(r.style.opacity=Math.max(-t,0)),i&&(i.style.opacity=Math.max(t,0))};Wn({effect:"cube",swiper:t,on:r,setTranslate:()=>{const{el:e,wrapperEl:n,slides:r,width:o,height:a,rtlTranslate:s,size:l,browser:u}=t,c=an(t),f=t.params.cubeEffect,h=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled;let p,v=0;f.shadow&&(h?(p=t.wrapperEl.querySelector(".swiper-cube-shadow"),p||(p=Zt("div","swiper-cube-shadow"),t.wrapperEl.append(p)),p.style.height=`${o}px`):(p=e.querySelector(".swiper-cube-shadow"),p||(p=Zt("div","swiper-cube-shadow"),e.append(p))));for(let e=0;e<r.length;e+=1){const t=r[e];let n=e;d&&(n=parseInt(t.getAttribute("data-swiper-slide-index"),10));let o=90*n,a=Math.floor(o/360);s&&(o=-o,a=Math.floor(-o/360));const u=Math.max(Math.min(t.progress,1),-1);let p=0,y=0,m=0;n%4==0?(p=4*-a*l,m=0):(n-1)%4==0?(p=0,m=4*-a*l):(n-2)%4==0?(p=l+4*a*l,m=l):(n-3)%4==0&&(p=-l,m=3*l+4*l*a),s&&(p=-p),h||(y=p,p=0);const b=`rotateX(${c(h?0:-o)}deg) rotateY(${c(h?o:0)}deg) translate3d(${p}px, ${y}px, ${m}px)`;u<=1&&u>-1&&(v=90*n+90*u,s&&(v=90*-n-90*u)),t.style.transform=b,f.slideShadows&&i(t,u,h)}if(n.style.transformOrigin=`50% 50% -${l/2}px`,n.style["-webkit-transform-origin"]=`50% 50% -${l/2}px`,f.shadow)if(h)p.style.transform=`translate3d(0px, ${o/2+f.shadowOffset}px, ${-o/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${f.shadowScale})`;else{const e=Math.abs(v)-90*Math.floor(Math.abs(v)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),n=f.shadowScale,r=f.shadowScale/t,i=f.shadowOffset;p.style.transform=`scale3d(${n}, 1, ${r}) translate3d(0px, ${a/2+i}px, ${-a/2/r}px) rotateX(-89.99deg)`}const y=(u.isSafari||u.isWebView)&&u.needPerspectiveFix?-l/2:0;n.style.transform=`translate3d(0px,0,${y}px) rotateX(${c(t.isHorizontal()?0:v)}deg) rotateY(${c(t.isHorizontal()?-v:0)}deg)`,n.style.setProperty("--swiper-cube-translate-z",`${y}px`)},setTransition:e=>{const{el:n,slides:r}=t;if(r.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=n.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const n=Math.max(Math.min(t.progress,1),-1);i(t,n,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({flipEffect:{slideShadows:!0,limitRotation:!0}});const i=(e,n)=>{let r=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");r||(r=Zn("flip",e,t.isHorizontal()?"left":"top")),i||(i=Zn("flip",e,t.isHorizontal()?"right":"bottom")),r&&(r.style.opacity=Math.max(-n,0)),i&&(i.style.opacity=Math.max(n,0))};Wn({effect:"flip",swiper:t,on:r,setTranslate:()=>{const{slides:e,rtlTranslate:n}=t,r=t.params.flipEffect,o=an(t);for(let a=0;a<e.length;a+=1){const s=e[a];let l=s.progress;t.params.flipEffect.limitRotation&&(l=Math.max(Math.min(s.progress,1),-1));const u=s.swiperSlideOffset;let c=-180*l,f=0,h=t.params.cssMode?-u-t.translate:-u,d=0;t.isHorizontal()?n&&(c=-c):(d=h,h=0,f=-c,c=0),s.style.zIndex=-Math.abs(Math.round(l))+e.length,r.slideShadows&&i(s,l);const p=`translate3d(${h}px, ${d}px, 0px) rotateX(${o(f)}deg) rotateY(${o(c)}deg)`;$n(0,s).style.transform=p}},setTransition:e=>{const n=t.slides.map((e=>Wt(e)));n.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),Kn({swiper:t,duration:e,transformElements:n})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach((e=>{let n=e.progress;t.params.flipEffect.limitRotation&&(n=Math.max(Math.min(e.progress,1),-1)),i(e,n)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Wn({effect:"coverflow",swiper:t,on:r,setTranslate:()=>{const{width:e,height:n,slides:r,slidesSizesGrid:i}=t,o=t.params.coverflowEffect,a=t.isHorizontal(),s=t.translate,l=a?e/2-s:n/2-s,u=a?o.rotate:-o.rotate,c=o.depth,f=an(t);for(let e=0,t=r.length;e<t;e+=1){const t=r[e],n=i[e],s=(l-t.swiperSlideOffset-n/2)/n,h="function"==typeof o.modifier?o.modifier(s):s*o.modifier;let d=a?u*h:0,p=a?0:u*h,v=-c*Math.abs(h),y=o.stretch;"string"==typeof y&&-1!==y.indexOf("%")&&(y=parseFloat(o.stretch)/100*n);let m=a?0:y*h,b=a?y*h:0,g=1-(1-o.scale)*Math.abs(h);Math.abs(b)<.001&&(b=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0),Math.abs(d)<.001&&(d=0),Math.abs(p)<.001&&(p=0),Math.abs(g)<.001&&(g=0);const w=`translate3d(${b}px,${m}px,${v}px)  rotateX(${f(p)}deg) rotateY(${f(d)}deg) scale(${g})`;if($n(0,t).style.transform=w,t.style.zIndex=1-Math.abs(Math.round(h)),o.slideShadows){let e=a?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),n=a?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");e||(e=Zn("coverflow",t,a?"left":"top")),n||(n=Zn("coverflow",t,a?"right":"bottom")),e&&(e.style.opacity=h>0?h:0),n&&(n.style.opacity=-h>0?-h:0)}}},setTransition:e=>{t.slides.map((e=>Wt(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const i=e=>"string"==typeof e?e:`${e}px`;Wn({effect:"creative",swiper:t,on:r,setTranslate:()=>{const{slides:e,wrapperEl:n,slidesSizesGrid:r}=t,o=t.params.creativeEffect,{progressMultiplier:a}=o,s=t.params.centeredSlides,l=an(t);if(s){const e=r[0]/2-t.params.slidesOffsetBefore||0;n.style.transform=`translateX(calc(50% - ${e}px))`}for(let n=0;n<e.length;n+=1){const r=e[n],u=r.progress,c=Math.min(Math.max(r.progress,-o.limitProgress),o.limitProgress);let f=c;s||(f=Math.min(Math.max(r.originalProgress,-o.limitProgress),o.limitProgress));const h=r.swiperSlideOffset,d=[t.params.cssMode?-h-t.translate:-h,0,0],p=[0,0,0];let v=!1;t.isHorizontal()||(d[1]=d[0],d[0]=0);let y={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};c<0?(y=o.next,v=!0):c>0&&(y=o.prev,v=!0),d.forEach(((e,t)=>{d[t]=`calc(${e}px + (${i(y.translate[t])} * ${Math.abs(c*a)}))`})),p.forEach(((e,t)=>{let n=y.rotate[t]*Math.abs(c*a);p[t]=n})),r.style.zIndex=-Math.abs(Math.round(u))+e.length;const m=d.join(", "),b=`rotateX(${l(p[0])}deg) rotateY(${l(p[1])}deg) rotateZ(${l(p[2])}deg)`,g=f<0?`scale(${1+(1-y.scale)*f*a})`:`scale(${1-(1-y.scale)*f*a})`,w=f<0?1+(1-y.opacity)*f*a:1-(1-y.opacity)*f*a,_=`translate3d(${m}) ${b} ${g}`;if(v&&y.shadow||!v){let e=r.querySelector(".swiper-slide-shadow");if(!e&&y.shadow&&(e=Zn("creative",r)),e){const t=o.shadowPerProgress?c*(1/o.limitProgress):c;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const k=$n(0,r);k.style.transform=_,k.style.opacity=w,y.origin&&(k.style.transformOrigin=y.origin)}},setTransition:e=>{const n=t.slides.map((e=>Wt(e)));n.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),Kn({swiper:t,duration:e,transformElements:n,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:n,on:r}=e;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Wn({effect:"cards",swiper:t,on:r,setTranslate:()=>{const{slides:e,activeIndex:n,rtlTranslate:r}=t,i=t.params.cardsEffect,{startTranslate:o,isTouched:a}=t.touchEventsData,s=r?-t.translate:t.translate;for(let l=0;l<e.length;l+=1){const u=e[l],c=u.progress,f=Math.min(Math.max(c,-4),4);let h=u.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(h-=e[0].swiperSlideOffset);let d=t.params.cssMode?-h-t.translate:-h,p=0;const v=-100*Math.abs(f);let y=1,m=-i.perSlideRotate*f,b=i.perSlideOffset-.75*Math.abs(f);const g=t.virtual&&t.params.virtual.enabled?t.virtual.from+l:l,w=(g===n||g===n-1)&&f>0&&f<1&&(a||t.params.cssMode)&&s<o,_=(g===n||g===n+1)&&f<0&&f>-1&&(a||t.params.cssMode)&&s>o;if(w||_){const e=(1-Math.abs((Math.abs(f)-.5)/.5))**.5;m+=-28*f*e,y+=-.5*e,b+=96*e,p=-25*e*Math.abs(f)+"%"}if(d=f<0?`calc(${d}px ${r?"-":"+"} (${b*Math.abs(f)}%))`:f>0?`calc(${d}px ${r?"-":"+"} (-${b*Math.abs(f)}%))`:`${d}px`,!t.isHorizontal()){const e=p;p=d,d=e}const k=f<0?""+(1+(1-y)*f):""+(1-(1-y)*f),x=`\n        translate3d(${d}, ${p}, ${v}px)\n        rotateZ(${i.rotate?r?-m:m:0}deg)\n        scale(${k})\n      `;if(i.slideShadows){let e=u.querySelector(".swiper-slide-shadow");e||(e=Zn("cards",u)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(f)-.5)/.5,0),1))}u.style.zIndex=-Math.abs(Math.round(c))+e.length;$n(0,u).style.transform=x}},setTransition:e=>{const n=t.slides.map((e=>Wt(e)));n.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),Kn({swiper:t,duration:e,transformElements:n})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];zn.use(Jn);const Qn=function(){this.__data__=[],this.size=0};const er=function(e,t){return e===t||e!=e&&t!=t};const tr=function(e,t){for(var n=e.length;n--;)if(er(e[n][0],t))return n;return-1};var nr=Array.prototype.splice;const rr=function(e){var t=this.__data__,n=tr(t,e);return!(n<0)&&(n==t.length-1?t.pop():nr.call(t,n,1),--this.size,!0)};const ir=function(e){var t=this.__data__,n=tr(t,e);return n<0?void 0:t[n][1]};const or=function(e){return tr(this.__data__,e)>-1};const ar=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function sr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sr.prototype.clear=Qn,sr.prototype.delete=rr,sr.prototype.get=ir,sr.prototype.has=or,sr.prototype.set=ar;const lr=sr;const ur=function(){this.__data__=new lr,this.size=0};const cr=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const fr=function(e){return this.__data__.get(e)};const hr=function(e){return this.__data__.has(e)};function dr(e){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(e)}const pr="object"==("undefined"==typeof global?"undefined":dr(global))&&global&&global.Object===Object&&global;function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}var yr="object"==("undefined"==typeof self?"undefined":vr(self))&&self&&self.Object===Object&&self;const mr=pr||yr||Function("return this")();const br=mr.Symbol;var gr=Object.prototype,wr=gr.hasOwnProperty,_r=gr.toString,kr=br?br.toStringTag:void 0;const xr=function(e){var t=wr.call(e,kr),n=e[kr];try{e[kr]=void 0;var r=!0}catch(e){}var i=_r.call(e);return r&&(t?e[kr]=n:delete e[kr]),i};var Or=Object.prototype.toString;const Pr=function(e){return Or.call(e)};var Sr=br?br.toStringTag:void 0;const Er=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Sr&&Sr in Object(e)?xr(e):Pr(e)};function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}const Tr=function(e){var t=jr(e);return null!=e&&("object"==t||"function"==t)};const Dr=function(e){if(!Tr(e))return!1;var t=Er(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Ar=mr["__core-js_shared__"];var Cr,Mr=(Cr=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||""))?"Symbol(src)_1."+Cr:"";const Lr=function(e){return!!Mr&&Mr in e};var Rr=Function.prototype.toString;const Ir=function(e){if(null!=e){try{return Rr.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Nr=/^\[object .+?Constructor\]$/,Br=Function.prototype,Fr=Object.prototype,zr=Br.toString,Vr=Fr.hasOwnProperty,qr=RegExp("^"+zr.call(Vr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Hr=function(e){return!(!Tr(e)||Lr(e))&&(Dr(e)?qr:Nr).test(Ir(e))};const Yr=function(e,t){return null==e?void 0:e[t]};const Ur=function(e,t){var n=Yr(e,t);return Hr(n)?n:void 0};const Gr=Ur(mr,"Map");const Xr=Ur(Object,"create");const Wr=function(){this.__data__=Xr?Xr(null):{},this.size=0};const $r=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Kr=Object.prototype.hasOwnProperty;const Zr=function(e){var t=this.__data__;if(Xr){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Kr.call(t,e)?t[e]:void 0};var Jr=Object.prototype.hasOwnProperty;const Qr=function(e){var t=this.__data__;return Xr?void 0!==t[e]:Jr.call(t,e)};const ei=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xr&&void 0===t?"__lodash_hash_undefined__":t,this};function ti(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ti.prototype.clear=Wr,ti.prototype.delete=$r,ti.prototype.get=Zr,ti.prototype.has=Qr,ti.prototype.set=ei;const ni=ti;const ri=function(){this.size=0,this.__data__={hash:new ni,map:new(Gr||lr),string:new ni}};function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}const oi=function(e){var t=ii(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ai=function(e,t){var n=e.__data__;return oi(t)?n["string"==typeof t?"string":"hash"]:n.map};const si=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t};const li=function(e){return ai(this,e).get(e)};const ui=function(e){return ai(this,e).has(e)};const ci=function(e,t){var n=ai(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function fi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fi.prototype.clear=ri,fi.prototype.delete=si,fi.prototype.get=li,fi.prototype.has=ui,fi.prototype.set=ci;const hi=fi;const di=function(e,t){var n=this.__data__;if(n instanceof lr){var r=n.__data__;if(!Gr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hi(r)}return n.set(e,t),this.size=n.size,this};function pi(e){var t=this.__data__=new lr(e);this.size=t.size}pi.prototype.clear=ur,pi.prototype.delete=cr,pi.prototype.get=fr,pi.prototype.has=hr,pi.prototype.set=di;const vi=pi;const yi=function(){try{var e=Ur(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const mi=function(e,t,n){"__proto__"==t&&yi?yi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const bi=function(e,t,n){(void 0!==n&&!er(e[t],n)||void 0===n&&!(t in e))&&mi(e,t,n)};const gi=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}();function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}var _i="object"==("undefined"==typeof exports?"undefined":wi(exports))&&exports&&!exports.nodeType&&exports,ki=_i&&"object"==("undefined"==typeof module?"undefined":wi(module))&&module&&!module.nodeType&&module,xi=ki&&ki.exports===_i?mr.Buffer:void 0,Oi=xi?xi.allocUnsafe:void 0;const Pi=function(e,t){if(t)return e.slice();var n=e.length,r=Oi?Oi(n):new e.constructor(n);return e.copy(r),r};const Si=mr.Uint8Array;const Ei=function(e){var t=new e.constructor(e.byteLength);return new Si(t).set(new Si(e)),t};const ji=function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const Ti=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Di=Object.create;const Ai=function(){function e(){}return function(t){if(!Tr(t))return{};if(Di)return Di(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Ci=function(e,t){return function(n){return e(t(n))}};const Mi=Ci(Object.getPrototypeOf,Object);var Li=Object.prototype;const Ri=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Li)};const Ii=function(e){return"function"!=typeof e.constructor||Ri(e)?{}:Ai(Mi(e))};function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}const Bi=function(e){return null!=e&&"object"==Ni(e)};const Fi=function(e){return Bi(e)&&"[object Arguments]"==Er(e)};var zi=Object.prototype,Vi=zi.hasOwnProperty,qi=zi.propertyIsEnumerable;const Hi=Fi(function(){return arguments}())?Fi:function(e){return Bi(e)&&Vi.call(e,"callee")&&!qi.call(e,"callee")};const Yi=Array.isArray;const Ui=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const Gi=function(e){return null!=e&&Ui(e.length)&&!Dr(e)};const Xi=function(e){return Bi(e)&&Gi(e)};const Wi=function(){return!1};function $i(e){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(e)}var Ki="object"==("undefined"==typeof exports?"undefined":$i(exports))&&exports&&!exports.nodeType&&exports,Zi=Ki&&"object"==("undefined"==typeof module?"undefined":$i(module))&&module&&!module.nodeType&&module,Ji=Zi&&Zi.exports===Ki?mr.Buffer:void 0;const Qi=(Ji?Ji.isBuffer:void 0)||Wi;var eo=Function.prototype,to=Object.prototype,no=eo.toString,ro=to.hasOwnProperty,io=no.call(Object);const oo=function(e){if(!Bi(e)||"[object Object]"!=Er(e))return!1;var t=Mi(e);if(null===t)return!0;var n=ro.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&no.call(n)==io};var ao={};ao["[object Float32Array]"]=ao["[object Float64Array]"]=ao["[object Int8Array]"]=ao["[object Int16Array]"]=ao["[object Int32Array]"]=ao["[object Uint8Array]"]=ao["[object Uint8ClampedArray]"]=ao["[object Uint16Array]"]=ao["[object Uint32Array]"]=!0,ao["[object Arguments]"]=ao["[object Array]"]=ao["[object ArrayBuffer]"]=ao["[object Boolean]"]=ao["[object DataView]"]=ao["[object Date]"]=ao["[object Error]"]=ao["[object Function]"]=ao["[object Map]"]=ao["[object Number]"]=ao["[object Object]"]=ao["[object RegExp]"]=ao["[object Set]"]=ao["[object String]"]=ao["[object WeakMap]"]=!1;const so=function(e){return Bi(e)&&Ui(e.length)&&!!ao[Er(e)]};const lo=function(e){return function(t){return e(t)}};function uo(e){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(e)}var co="object"==("undefined"==typeof exports?"undefined":uo(exports))&&exports&&!exports.nodeType&&exports,fo=co&&"object"==("undefined"==typeof module?"undefined":uo(module))&&module&&!module.nodeType&&module,ho=fo&&fo.exports===co&&pr.process;const po=function(){try{var e=fo&&fo.require&&fo.require("util").types;return e||ho&&ho.binding&&ho.binding("util")}catch(e){}}();var vo=po&&po.isTypedArray;const yo=vo?lo(vo):so;const mo=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var bo=Object.prototype.hasOwnProperty;const go=function(e,t,n){var r=e[t];bo.call(e,t)&&er(r,n)&&(void 0!==n||t in e)||mi(e,t,n)};const wo=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?mi(n,s,l):go(n,s,l)}return n};const _o=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}var xo=/^(?:0|[1-9]\d*)$/;const Oo=function(e,t){var n=ko(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&xo.test(e))&&e>-1&&e%1==0&&e<t};var Po=Object.prototype.hasOwnProperty;const So=function(e,t){var n=Yi(e),r=!n&&Hi(e),i=!n&&!r&&Qi(e),o=!n&&!r&&!i&&yo(e),a=n||r||i||o,s=a?_o(e.length,String):[],l=s.length;for(var u in e)!t&&!Po.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Oo(u,l))||s.push(u);return s};const Eo=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var jo=Object.prototype.hasOwnProperty;const To=function(e){if(!Tr(e))return Eo(e);var t=Ri(e),n=[];for(var r in e)("constructor"!=r||!t&&jo.call(e,r))&&n.push(r);return n};const Do=function(e){return Gi(e)?So(e,!0):To(e)};const Ao=function(e){return wo(e,Do(e))};const Co=function(e,t,n,r,i,o,a){var s=mo(e,n),l=mo(t,n),u=a.get(l);if(u)bi(e,n,u);else{var c=o?o(s,l,n+"",e,t,a):void 0,f=void 0===c;if(f){var h=Yi(l),d=!h&&Qi(l),p=!h&&!d&&yo(l);c=l,h||d||p?Yi(s)?c=s:Xi(s)?c=Ti(s):d?(f=!1,c=Pi(l,!0)):p?(f=!1,c=ji(l,!0)):c=[]:oo(l)||Hi(l)?(c=s,Hi(s)?c=Ao(s):Tr(s)&&!Dr(s)||(c=Ii(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),bi(e,n,c)}};const Mo=function e(t,n,r,i,o){t!==n&&gi(n,(function(a,s){if(o||(o=new vi),Tr(a))Co(t,n,s,r,e,i,o);else{var l=i?i(mo(t,s),a,s+"",t,n,o):void 0;void 0===l&&(l=a),bi(t,s,l)}}),Do)};const Lo=function(e){return e};const Ro=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Io=Math.max;const No=function(e,t,n){return t=Io(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Io(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Ro(e,this,s)}};const Bo=function(e){return function(){return e}};const Fo=yi?function(e,t){return yi(e,"toString",{configurable:!0,enumerable:!1,value:Bo(t),writable:!0})}:Lo;var zo=Date.now;const Vo=function(e){var t=0,n=0;return function(){var r=zo(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Fo);const qo=function(e,t){return Vo(No(e,t,Lo),e+"")};function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}const Yo=function(e,t,n){if(!Tr(n))return!1;var r=Ho(t);return!!("number"==r?Gi(n)&&Oo(t,n.length):"string"==r&&t in n)&&er(n[t],e)};const Uo=function(e){return qo((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Yo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}((function(e,t,n){Mo(e,t,n)}));function Go(e,t,n,r){var i=Xo(ia(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Xo(){return Xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ia(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xo.apply(null,arguments)}function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Ko(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e){return function(e){if(Array.isArray(e))return Zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e,t,n){return t=ia(t),function(e,t){if(t&&("object"==oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qo(e)}(e,na()?Reflect.construct(t,n||[],ia(e).constructor):t.apply(e,n))}function Qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ra(e,t)}function ta(e){var t="function"==typeof Map?new Map:void 0;return ta=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(na())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&ra(i,n.prototype),i}(e,arguments,ia(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ra(n,e)},ta(e)}function na(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(na=function(){return!!e})()}function ra(e,t){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ra(e,t)}function ia(e){return ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ia(e)}function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ua(r.key),r)}}function la(e,t,n){return t&&sa(e.prototype,t),n&&sa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ua(e){var t=function(e,t){if("object"!=oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oa(t)?t:t+""}var ca=function(e){return e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e}(ca||{}),fa=function(){return la((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aa(this,e),this.attrName=t,this.keyName=n;var i=ca.TYPE&ca.ATTRIBUTE;this.scope=null!=r.scope?r.scope&ca.LEVEL|i:ca.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}),[{key:"add",value:function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)}},{key:"canAdd",value:function(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}},{key:"remove",value:function(e){e.removeAttribute(this.keyName)}},{key:"value",value:function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}],[{key:"keys",value:function(e){return Array.from(e.attributes).map((function(e){return e.name}))}}])}(),ha=function(e){function t(e){var n;return aa(this,t),(n=Jo(this,t,[e="[Parchment] "+e])).message=e,n.name=n.constructor.name,n}return ea(t,e),la(t)}(ta(Error)),da=function(){function e(){aa(this,e),this.attributes={},this.classes={},this.tags={},this.types={}}return la(e,[{key:"create",value:function(t,n,r){var i=this.query(n);if(null==i)throw new ha("Unable to create ".concat(n," blot"));var o=i,a=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(r),s=new o(t,a,r);return e.blots.set(s.domNode,s),s}},{key:"find",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.find(t,n)}},{key:"query",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca.ANY;return"string"==typeof e?t=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?t=this.types.text:"number"==typeof e?e&ca.LEVEL&ca.BLOCK?t=this.types.block:e&ca.LEVEL&ca.INLINE&&(t=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((function(e){return!!(t=n.classes[e])})),t=t||this.tags[e.tagName]),null==t?null:"scope"in t&&r&ca.LEVEL&t.scope&&r&ca.TYPE&t.scope?t:null}},{key:"register",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map((function(t){var n="blotName"in t,r="attrName"in t;if(!n&&!r)throw new ha("Invalid definition");if(n&&"abstract"===t.blotName)throw new ha("Cannot register abstract class");var i=n?t.blotName:r?t.attrName:void 0;return e.types[i]=t,r?"string"==typeof t.keyName&&(e.attributes[t.keyName]=t):n&&(t.className&&(e.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((function(e){return e.toUpperCase()})):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((function(n){(null==e.tags[n]||null==t.className)&&(e.tags[n]=t)})))),t}))}}],[{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){var n=null;try{n=e.parentNode}catch(e){return null}return this.find(n,t)}return null}}])}();da.blots=new WeakMap;var pa=da;function va(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf("".concat(t,"-"))}))}var ya=function(e){function t(){return aa(this,t),Jo(this,t,arguments)}return ea(t,e),la(t,[{key:"add",value:function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add("".concat(this.keyName,"-").concat(t)),!0)}},{key:"remove",value:function(e){va(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")}},{key:"value",value:function(e){var t=(va(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}],[{key:"keys",value:function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))}}])}(fa);function ma(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}var ba=function(e){function t(){return aa(this,t),Jo(this,t,arguments)}return ea(t,e),la(t,[{key:"add",value:function(e,t){return!!this.canAdd(e,t)&&(e.style[ma(this.keyName)]=t,!0)}},{key:"remove",value:function(e){e.style[ma(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}},{key:"value",value:function(e){var t=e.style[ma(this.keyName)];return this.canAdd(e,t)?t:""}}],[{key:"keys",value:function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))}}])}(fa),ga=function(){return la((function e(t){aa(this,e),this.attributes={},this.domNode=t,this.build()}),[{key:"attribute",value:function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}},{key:"build",value:function(){var e=this;this.attributes={};var t=pa.find(this.domNode);if(null!=t){var n=fa.keys(this.domNode),r=ya.keys(this.domNode),i=ba.keys(this.domNode);n.concat(r).concat(i).forEach((function(n){var r=t.scroll.query(n,ca.ATTRIBUTE);r instanceof fa&&(e.attributes[r.attrName]=r)}))}}},{key:"copy",value:function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))}},{key:"move",value:function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}}},{key:"values",value:function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})}}])}(),wa=ga,_a=function(){return la((function e(t,n){aa(this,e),this.scroll=t,this.domNode=n,pa.blots.set(n,this),this.prev=null,this.next=null}),[{key:"statics",get:function(){return this.constructor}},{key:"attach",value:function(){}},{key:"clone",value:function(){var e=this.domNode.cloneNode(!1);return this.scroll.create(e)}},{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this),pa.blots.delete(this.domNode)}},{key:"deleteAt",value:function(e,t){this.isolate(e,t).remove()}},{key:"formatAt",value:function(e,t,n,r){var i=this.isolate(e,t);if(null!=this.scroll.query(n,ca.BLOT)&&r)i.wrap(n,r);else if(null!=this.scroll.query(n,ca.ATTRIBUTE)){var o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,r)}}},{key:"insertAt",value:function(e,t,n){var r=null==n?this.scroll.create("text",t):this.scroll.create(t,n),i=this.split(e);this.parent.insertBefore(r,i||void 0)}},{key:"isolate",value:function(e,t){var n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n}},{key:"length",value:function(){return 1}},{key:"offset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;return null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}},{key:"optimize",value:function(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}},{key:"remove",value:function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}},{key:"replaceWith",value:function(e,t){var n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}},{key:"split",value:function(e,t){return 0===e?this:this.next}},{key:"update",value:function(e,t){}},{key:"wrap",value:function(e,t){var n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new ha("Cannot wrap ".concat(e));return n.appendChild(this),n}}],[{key:"create",value:function(e){if(null==this.tagName)throw new ha("Blot definition missing tagName");var t,n;return Array.isArray(this.tagName)?("string"==typeof e?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof e&&(n=e),t="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}}])}();_a.blotName="abstract";var ka=_a,xa=function(e){function t(){return aa(this,t),Jo(this,t,arguments)}return ea(t,e),la(t,[{key:"index",value:function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}},{key:"position",value:function(e,t){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}},{key:"value",value:function(){return function(e,t,n){return(t=ua(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.statics.blotName,this.statics.value(this.domNode)||!0)}}],[{key:"value",value:function(e){return!0}}])}(ka);xa.scope=ca.INLINE_BLOT;var Oa=xa,Pa=function(){return la((function e(){aa(this,e),this.head=null,this.tail=null,this.length=0}),[{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this.insertBefore(t[0],null),t.length>1){var r=t.slice(1);this.append.apply(this,$o(r))}}},{key:"at",value:function(e){for(var t=this.iterator(),n=t();n&&e>0;)e-=1,n=t();return n}},{key:"contains",value:function(e){for(var t=this.iterator(),n=t();n;){if(n===e)return!0;n=t()}return!1}},{key:"indexOf",value:function(e){for(var t=this.iterator(),n=t(),r=0;n;){if(n===e)return r;r+=1,n=t()}return-1}},{key:"insertBefore",value:function(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}},{key:"offset",value:function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1}},{key:"remove",value:function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}},{key:"iterator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.head;return function(){var t=e;return null!=e&&(e=e.next),t}}},{key:"find",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.iterator(),r=n();r;){var i=r.length();if(e<i||t&&e===i&&(null==r.next||0!==r.next.length()))return[r,e];e-=i,r=n()}return[null,0]}},{key:"forEach",value:function(e){for(var t=this.iterator(),n=t();n;)e(n),n=t()}},{key:"forEachAt",value:function(e,t,n){if(!(t<=0))for(var r=Wo(this.find(e),2),i=r[0],o=e-r[1],a=this.iterator(i),s=a();s&&o<e+t;){var l=s.length();e>o?n(s,e-o,Math.min(t,o+l-e)):n(s,0,Math.min(l,e+t-o)),o+=l,s=a()}}},{key:"map",value:function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])}},{key:"reduce",value:function(e,t){for(var n=this.iterator(),r=n();r;)t=e(t,r),r=n();return t}}])}();function Sa(e,t){var n=t.find(e);if(n)return n;try{return t.create(e)}catch(n){var r=t.create(ca.INLINE);return Array.from(e.childNodes).forEach((function(e){r.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}var Ea=function(e){function t(e,n){var r;return aa(this,t),(r=Jo(this,t,[e,n])).uiNode=null,r.build(),r}return ea(t,e),la(t,[{key:"appendChild",value:function(e){this.insertBefore(e)}},{key:"attach",value:function(){Go(t,"attach",this,3)([]),this.children.forEach((function(e){e.attach()}))}},{key:"attachUI",value:function(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}},{key:"build",value:function(){var e=this;this.children=new Pa,Array.from(this.domNode.childNodes).filter((function(t){return t!==e.uiNode})).reverse().forEach((function(t){try{var n=Sa(t,e.scroll);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof ha)return;throw e}}))}},{key:"deleteAt",value:function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))}},{key:"descendant",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Wo(this.children.find(n),2),i=r[0],o=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,o]:i instanceof t?i.descendant(e,o):[null,-1]}},{key:"descendants",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,o))),o-=a})),i}},{key:"detach",value:function(){this.children.forEach((function(e){e.detach()})),Go(t,"detach",this,3)([])}},{key:"enforceAllowedChildren",value:function(){var e=this,n=!1;this.children.forEach((function(r){n||e.statics.allowedChildren.some((function(e){return r instanceof e}))||(r.statics.scope===ca.BLOCK_BLOT?(null!=r.next&&e.splitAfter(r),null!=r.prev&&e.splitAfter(r.prev),r.parent.unwrap(),n=!0):r instanceof t?r.unwrap():r.remove())}))}},{key:"formatAt",value:function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))}},{key:"insertAt",value:function(e,t,n){var r=Wo(this.children.find(e),2),i=r[0],o=r[1];if(i)i.insertAt(o,t,n);else{var a=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(a)}}},{key:"insertBefore",value:function(e,t){null!=e.parent&&e.parent.children.remove(e);var n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}},{key:"length",value:function(){return this.children.reduce((function(e,t){return e+t.length()}),0)}},{key:"moveChildren",value:function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))}},{key:"optimize",value:function(e){if(Go(t,"optimize",this,3)([e]),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}},{key:"path",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Wo(this.children.find(e,n),2),i=r[0],o=r[1],a=[[this,e]];return i instanceof t?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)}},{key:"removeChild",value:function(e){this.children.remove(e)}},{key:"replaceWith",value:function(e,n){var r="string"==typeof e?this.scroll.create(e,n):e;return r instanceof t&&this.moveChildren(r),Go(t,"replaceWith",this,3)([r])}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(function(e,r,i){var o=e.split(r,t);null!=o&&n.appendChild(o)})),n}},{key:"splitAfter",value:function(e){for(var t=this.clone();null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}},{key:"unwrap",value:function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}},{key:"update",value:function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,$o(e.addedNodes)),i.push.apply(i,$o(e.removedNodes)))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=n.scroll.find(e);null!=t&&(null==t.domNode.parentNode||t.domNode.parentNode===n.domNode)&&t.detach()}})),r.filter((function(e){return e.parentNode===n.domNode&&e!==n.uiNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=n.scroll.find(e.nextSibling));var r=Sa(e,n.scroll);(r.next!==t||null==r.next)&&(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})),this.enforceAllowedChildren()}}])}(ka);Ea.uiClass="";var ja=Ea;var Ta=function(e){function t(e,n){var r;return aa(this,t),(r=Jo(this,t,[e,n])).attributes=new wa(r.domNode),r}return ea(t,e),la(t,[{key:"format",value:function(e,n){var r=this;if(e!==this.statics.blotName||n){var i=this.scroll.query(e,ca.INLINE);if(null==i)return;i instanceof fa?this.attributes.attribute(i,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}else this.children.forEach((function(e){e instanceof t||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap()}},{key:"formats",value:function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}},{key:"formatAt",value:function(e,n,r,i){null!=this.formats()[r]||this.scroll.query(r,ca.ATTRIBUTE)?this.isolate(e,n).format(r,i):Go(t,"formatAt",this,3)([e,n,r,i])}},{key:"optimize",value:function(e){Go(t,"optimize",this,3)([e]);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())}},{key:"replaceWith",value:function(e,n){var r=Go(t,"replaceWith",this,3)([e,n]);return this.attributes.copy(r),r}},{key:"update",value:function(e,n){var r=this;Go(t,"update",this,3)([e,n]),e.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()}},{key:"wrap",value:function(e,n){var r=Go(t,"wrap",this,3)([e,n]);return r instanceof t&&this.attributes.move(r),r}}],[{key:"create",value:function(e){return Go(t,"create",this,2)([e])}},{key:"formats",value:function(e,n){var r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}}])}(ja);Ta.allowedChildren=[Ta,Oa],Ta.blotName="inline",Ta.scope=ca.INLINE_BLOT,Ta.tagName="SPAN";var Da=Ta,Aa=function(e){function t(e,n){var r;return aa(this,t),(r=Jo(this,t,[e,n])).attributes=new wa(r.domNode),r}return ea(t,e),la(t,[{key:"format",value:function(e,n){var r=this.scroll.query(e,ca.BLOCK);null!=r&&(r instanceof fa?this.attributes.attribute(r,n):e!==this.statics.blotName||n?n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n):this.replaceWith(t.blotName))}},{key:"formats",value:function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}},{key:"formatAt",value:function(e,n,r,i){null!=this.scroll.query(r,ca.BLOCK)?this.format(r,i):Go(t,"formatAt",this,3)([e,n,r,i])}},{key:"insertAt",value:function(e,n,r){if(null==r||null!=this.scroll.query(n,ca.INLINE))Go(t,"insertAt",this,3)([e,n,r]);else{var i=this.split(e);if(null==i)throw new Error("Attempt to insertAt after block boundaries");var o=this.scroll.create(n,r);i.parent.insertBefore(o,i)}}},{key:"replaceWith",value:function(e,n){var r=Go(t,"replaceWith",this,3)([e,n]);return this.attributes.copy(r),r}},{key:"update",value:function(e,n){var r=this;Go(t,"update",this,3)([e,n]),e.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()}}],[{key:"create",value:function(e){return Go(t,"create",this,2)([e])}},{key:"formats",value:function(e,n){var r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}}])}(ja);Aa.blotName="block",Aa.scope=ca.BLOCK_BLOT,Aa.tagName="P",Aa.allowedChildren=[Da,Aa,Oa];var Ca=Aa,Ma=function(e){function t(){return aa(this,t),Jo(this,t,arguments)}return ea(t,e),la(t,[{key:"checkMerge",value:function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}},{key:"deleteAt",value:function(e,n){Go(t,"deleteAt",this,3)([e,n]),this.enforceAllowedChildren()}},{key:"formatAt",value:function(e,n,r,i){Go(t,"formatAt",this,3)([e,n,r,i]),this.enforceAllowedChildren()}},{key:"insertAt",value:function(e,n,r){Go(t,"insertAt",this,3)([e,n,r]),this.enforceAllowedChildren()}},{key:"optimize",value:function(e){Go(t,"optimize",this,3)([e]),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}}])}(ja);Ma.blotName="container",Ma.scope=ca.BLOCK_BLOT;var La=Ma,Ra=function(e){function t(){return aa(this,t),Jo(this,t,arguments)}return ea(t,e),la(t,[{key:"format",value:function(e,n){Go(t,"formatAt",this,3)([0,this.length(),e,n])}},{key:"formatAt",value:function(e,n,r,i){0===e&&n===this.length()?this.format(r,i):Go(t,"formatAt",this,3)([e,n,r,i])}},{key:"formats",value:function(){return this.statics.formats(this.domNode,this.scroll)}}],[{key:"formats",value:function(e,t){}}])}(Oa),Ia={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Na=function(e){function t(e,n){var r;return aa(this,t),(r=Jo(this,t,[null,n])).registry=e,r.scroll=Qo(r),r.build(),r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,Ia),r.attach(),r}return ea(t,e),la(t,[{key:"create",value:function(e,t){return this.registry.create(this,e,t)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}},{key:"query",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca.ANY;return this.registry.query(e,t)}},{key:"register",value:function(){var e;return(e=this.registry).register.apply(e,arguments)}},{key:"build",value:function(){null!=this.scroll&&Go(t,"build",this,3)([])}},{key:"detach",value:function(){Go(t,"detach",this,3)([]),this.observer.disconnect()}},{key:"deleteAt",value:function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(e){e.remove()})):Go(t,"deleteAt",this,3)([e,n])}},{key:"formatAt",value:function(e,n,r,i){this.update(),Go(t,"formatAt",this,3)([e,n,r,i])}},{key:"insertAt",value:function(e,n,r){this.update(),Go(t,"insertAt",this,3)([e,n,r])}},{key:"optimize",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Go(t,"optimize",this,3)([r]);for(var i=r.mutationsMap||new WeakMap,o=Array.from(this.observer.takeRecords());o.length>0;)n.push(o.pop());for(var a=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null==t||t===e||null!=t.domNode.parentNode&&(i.has(t.domNode)||i.set(t.domNode,[]),n&&a(t.parent))},s=function(e){i.has(e.domNode)&&(e instanceof ja&&e.children.forEach(s),i.delete(e.domNode),e.optimize(r))},l=n,u=0;l.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((function(t){var n=e.find(t.target,!0);null!=n&&(n.domNode===t.target&&("childList"===t.type?(a(e.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((function(t){var n=e.find(t,!1);a(n,!1),n instanceof ja&&n.children.forEach((function(e){a(e,!1)}))}))):"attributes"===t.type&&a(n.prev)),a(n))})),this.children.forEach(s),o=(l=Array.from(this.observer.takeRecords())).slice();o.length>0;)n.push(o.pop())}}},{key:"update",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||this.observer.takeRecords();var i=new WeakMap;e.map((function(e){var t=n.find(e.target,!0);return null==t?null:i.has(t.domNode)?(i.get(t.domNode).push(e),null):(i.set(t.domNode,[e]),t)})).forEach((function(e){null!=e&&e!==n&&i.has(e.domNode)&&e.update(i.get(e.domNode)||[],r)})),r.mutationsMap=i,i.has(this.domNode)&&Go(t,"update",this,3)([i.get(this.domNode),r]),this.optimize(e,r)}}])}(ja);Na.blotName="scroll",Na.defaultChild=Ca,Na.allowedChildren=[Ca,La],Na.scope=ca.BLOCK_BLOT,Na.tagName="DIV";var Ba=Na,Fa=function(e){function t(e,n){var r;return aa(this,t),(r=Jo(this,t,[e,n])).text=r.statics.value(r.domNode),r}return ea(t,e),la(t,[{key:"deleteAt",value:function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}},{key:"index",value:function(e,t){return this.domNode===e?t:-1}},{key:"insertAt",value:function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):Go(t,"insertAt",this,3)([e,n,r])}},{key:"length",value:function(){return this.text.length}},{key:"optimize",value:function(e){Go(t,"optimize",this,3)([e]),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}},{key:"position",value:function(e){return[this.domNode,e]}},{key:"split",value:function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){if(0===e)return this;if(e===this.length())return this.next}var t=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(t,this.next||void 0),this.text=this.statics.value(this.domNode),t}},{key:"update",value:function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))}},{key:"value",value:function(){return this.text}}],[{key:"create",value:function(e){return document.createTextNode(e)}},{key:"value",value:function(e){return e.data}}])}(Oa);Fa.blotName="text",Fa.scope=ca.INLINE_BLOT;var za=Fa,Va=__webpack_require__(1308);const qa=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Ha=Ci(Object.keys,Object);var Ya=Object.prototype.hasOwnProperty;const Ua=function(e){if(!Ri(e))return Ha(e);var t=[];for(var n in Object(e))Ya.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Ga=function(e){return Gi(e)?So(e):Ua(e)};const Xa=function(e,t){return e&&wo(t,Ga(t),e)};const Wa=function(e,t){return e&&wo(t,Do(t),e)};const $a=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const Ka=function(){return[]};var Za=Object.prototype.propertyIsEnumerable,Ja=Object.getOwnPropertySymbols;const Qa=Ja?function(e){return null==e?[]:(e=Object(e),$a(Ja(e),(function(t){return Za.call(e,t)})))}:Ka;const es=function(e,t){return wo(e,Qa(e),t)};const ts=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const ns=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ts(t,Qa(e)),e=Mi(e);return t}:Ka;const rs=function(e,t){return wo(e,ns(e),t)};const is=function(e,t,n){var r=t(e);return Yi(e)?r:ts(r,n(e))};const os=function(e){return is(e,Ga,Qa)};const as=function(e){return is(e,Do,ns)};const ss=Ur(mr,"DataView");const ls=Ur(mr,"Promise");const us=Ur(mr,"Set");const cs=Ur(mr,"WeakMap");var fs="[object Map]",hs="[object Promise]",ds="[object Set]",ps="[object WeakMap]",vs="[object DataView]",ys=Ir(ss),ms=Ir(Gr),bs=Ir(ls),gs=Ir(us),ws=Ir(cs),_s=Er;(ss&&_s(new ss(new ArrayBuffer(1)))!=vs||Gr&&_s(new Gr)!=fs||ls&&_s(ls.resolve())!=hs||us&&_s(new us)!=ds||cs&&_s(new cs)!=ps)&&(_s=function(e){var t=Er(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ir(n):"";if(r)switch(r){case ys:return vs;case ms:return fs;case bs:return hs;case gs:return ds;case ws:return ps}return t});const ks=_s;var xs=Object.prototype.hasOwnProperty;const Os=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xs.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const Ps=function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var Ss=/\w*$/;const Es=function(e){var t=new e.constructor(e.source,Ss.exec(e));return t.lastIndex=e.lastIndex,t};var js=br?br.prototype:void 0,Ts=js?js.valueOf:void 0;const Ds=function(e){return Ts?Object(Ts.call(e)):{}};const As=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ei(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Ps(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ji(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Es(e);case"[object Symbol]":return Ds(e)}};const Cs=function(e){return Bi(e)&&"[object Map]"==ks(e)};var Ms=po&&po.isMap;const Ls=Ms?lo(Ms):Cs;const Rs=function(e){return Bi(e)&&"[object Set]"==ks(e)};var Is=po&&po.isSet;const Ns=Is?lo(Is):Rs;var Bs="[object Arguments]",Fs="[object Function]",zs="[object Object]",Vs={};Vs[Bs]=Vs["[object Array]"]=Vs["[object ArrayBuffer]"]=Vs["[object DataView]"]=Vs["[object Boolean]"]=Vs["[object Date]"]=Vs["[object Float32Array]"]=Vs["[object Float64Array]"]=Vs["[object Int8Array]"]=Vs["[object Int16Array]"]=Vs["[object Int32Array]"]=Vs["[object Map]"]=Vs["[object Number]"]=Vs[zs]=Vs["[object RegExp]"]=Vs["[object Set]"]=Vs["[object String]"]=Vs["[object Symbol]"]=Vs["[object Uint8Array]"]=Vs["[object Uint8ClampedArray]"]=Vs["[object Uint16Array]"]=Vs["[object Uint32Array]"]=!0,Vs["[object Error]"]=Vs[Fs]=Vs["[object WeakMap]"]=!1;const qs=function e(t,n,r,i,o,a){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!Tr(t))return t;var f=Yi(t);if(f){if(s=Os(t),!l)return Ti(t,s)}else{var h=ks(t),d=h==Fs||"[object GeneratorFunction]"==h;if(Qi(t))return Pi(t,l);if(h==zs||h==Bs||d&&!o){if(s=u||d?{}:Ii(t),!l)return u?rs(t,Wa(s,t)):es(t,Xa(s,t))}else{if(!Vs[h])return o?t:{};s=As(t,h,l)}}a||(a=new vi);var p=a.get(t);if(p)return p;a.set(t,s),Ns(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Ls(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var v=f?void 0:(c?u?as:os:u?Do:Ga)(t);return qa(v||t,(function(i,o){v&&(i=t[o=i]),go(s,o,e(i,n,r,o,t,a))})),s};const Hs=function(e){return qs(e,5)};const Ys=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Us=function(e){return this.__data__.has(e)};function Gs(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new hi;++t<n;)this.add(e[t])}Gs.prototype.add=Gs.prototype.push=Ys,Gs.prototype.has=Us;const Xs=Gs;const Ws=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const $s=function(e,t){return e.has(t)};const Ks=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,d=2&n?new Xs:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var y=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!Ws(t,(function(e,t){if(!$s(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};const Zs=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const Js=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Qs=br?br.prototype:void 0,el=Qs?Qs.valueOf:void 0;const tl=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Si(e),new Si(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return er(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Zs;case"[object Set]":var l=1&r;if(s||(s=Js),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=Ks(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(el)return el.call(e)==el.call(t)}return!1};var nl=Object.prototype.hasOwnProperty;const rl=function(e,t,n,r,i,o){var a=1&n,s=os(e),l=s.length;if(l!=os(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:nl.call(t,c)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var v=e[c=s[u]],y=t[c];if(r)var m=a?r(y,v,c,t,e,o):r(v,y,c,e,t,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var b=e.constructor,g=t.constructor;b==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(d=!1)}return o.delete(e),o.delete(t),d};var il="[object Arguments]",ol="[object Array]",al="[object Object]",sl=Object.prototype.hasOwnProperty;const ll=function(e,t,n,r,i,o){var a=Yi(e),s=Yi(t),l=a?ol:ks(e),u=s?ol:ks(t),c=(l=l==il?al:l)==al,f=(u=u==il?al:u)==al,h=l==u;if(h&&Qi(e)){if(!Qi(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new vi),a||yo(e)?Ks(e,t,n,r,i,o):tl(e,t,l,n,r,i,o);if(!(1&n)){var d=c&&sl.call(e,"__wrapped__"),p=f&&sl.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,y=p?t.value():t;return o||(o=new vi),i(v,y,n,r,o)}}return!!h&&(o||(o=new vi),rl(e,t,n,r,i,o))};const ul=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Bi(t)&&!Bi(n)?t!=t&&n!=n:ll(t,n,r,i,e,o))};const cl=function(e,t){return ul(e,t)};function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dl(r.key),r)}}function dl(e){var t=function(e,t){if("object"!=fl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fl(t)?t:t+""}function pl(e,t,n){return t=yl(t),function(e,t){if(t&&("object"==fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vl()?Reflect.construct(t,n||[],yl(e).constructor):t.apply(e,n))}function vl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vl=function(){return!!e})()}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yl(e)}function ml(e,t){return ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ml(e,t)}var bl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pl(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ml(e,t)}(t,e),function(e,t,n){return t&&hl(e.prototype,t),n&&hl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}])}(Ra);bl.blotName="break",bl.tagName="BR";const gl=bl;function wl(e){return wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(e)}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kl(r.key),r)}}function kl(e){var t=function(e,t){if("object"!=wl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wl(t)?t:t+""}function xl(e,t,n){return t=Pl(t),function(e,t){if(t&&("object"==wl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ol()?Reflect.construct(t,n||[],Pl(e).constructor):t.apply(e,n))}function Ol(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ol=function(){return!!e})()}function Pl(e){return Pl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pl(e)}function Sl(e,t){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sl(e,t)}var El=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xl(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sl(e,t)}(t,e),function(e,t,n){return t&&_l(e.prototype,t),n&&_l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(za),jl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Tl(e){return e.replace(/[&<>"']/g,(function(e){return jl[e]}))}function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fl(r.key),r)}}function Cl(e,t,n){return t=Il(t),function(e,t){if(t&&("object"==Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ml()?Reflect.construct(t,n||[],Il(e).constructor):t.apply(e,n))}function Ml(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ml=function(){return!!e})()}function Ll(e,t,n,r){var i=Rl(Il(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Rl(){return Rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Il(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rl.apply(null,arguments)}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Il(e)}function Nl(e,t){return Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nl(e,t)}function Bl(e,t,n){return(t=Fl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fl(e){var t=function(e,t){if("object"!=Dl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dl(t)?t:t+""}var zl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cl(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nl(e,t)}(t,e),function(e,t,n){return t&&Al(e.prototype,t),n&&Al(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"formatAt",value:function(e,n,r,i){if(t.compare(this.statics.blotName,r)<0&&this.scroll.query(r,ca.BLOT)){var o=this.isolate(e,n);i&&o.wrap(r,i)}else Ll(t,"formatAt",this,3)([e,n,r,i])}},{key:"optimize",value:function(e){if(Ll(t,"optimize",this,3)([e]),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}])}(Da);Bl(zl,"allowedChildren",[zl,gl,Ra,El]),Bl(zl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);const Vl=zl;function ql(e){return ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(e)}function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){tu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nu(r.key),r)}}function Xl(e,t,n){return t&&Gl(e.prototype,t),n&&Gl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wl(e,t,n){return t=Jl(t),function(e,t){if(t&&("object"==ql(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$l()?Reflect.construct(t,n||[],Jl(e).constructor):t.apply(e,n))}function $l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($l=function(){return!!e})()}function Kl(e,t,n,r){var i=Zl(Jl(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Zl(){return Zl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Jl(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zl.apply(null,arguments)}function Jl(e){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jl(e)}function Ql(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eu(e,t)}function eu(e,t){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eu(e,t)}function tu(e,t,n){return(t=nu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nu(e){var t=function(e,t){if("object"!=ql(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ql(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ql(t)?t:t+""}var ru=function(e){function t(){var e;Ul(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tu(e=Wl(this,t,[].concat(r)),"cache",{}),e}return Ql(t,e),Xl(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=ou(this)),this.cache.delta}},{key:"deleteAt",value:function(e,n){Kl(t,"deleteAt",this,3)([e,n]),this.cache={}}},{key:"formatAt",value:function(e,n,r,i){n<=0||(this.scroll.query(r,ca.BLOCK)?e+n===this.length()&&this.format(r,i):Kl(t,"formatAt",this,3)([e,Math.min(n,this.length()-e-1),r,i]),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return Kl(t,"insertAt",this,3)([e,n,r]),void(this.cache={});if(0!==n.length){var i=n.split("\n"),o=i.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?Kl(t,"insertAt",this,3)([Math.min(e,this.length()-1),o]):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var a=this;i.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;Kl(t,"insertBefore",this,3)([e,n]),r instanceof gl&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=Kl(t,"length",this,3)([])+1),this.cache.length}},{key:"moveChildren",value:function(e,n){Kl(t,"moveChildren",this,3)([e,n]),this.cache={}}},{key:"optimize",value:function(e){Kl(t,"optimize",this,3)([e]),this.cache={}}},{key:"path",value:function(e){return Kl(t,"path",this,3)([e,!0])}},{key:"removeChild",value:function(e){Kl(t,"removeChild",this,3)([e]),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=Kl(t,"split",this,3)([e,n]);return this.cache={},i}}])}(Ca);ru.blotName="block",ru.tagName="P",ru.defaultChild=gl,ru.allowedChildren=[gl,Vl,Ra,El];var iu=function(e){function t(){return Ul(this,t),Wl(this,t,arguments)}return Ql(t,e),Xl(t,[{key:"attach",value:function(){Kl(t,"attach",this,3)([]),this.attributes=new wa(this.domNode)}},{key:"delta",value:function(){return(new Va).insert(this.value(),Yl(Yl({},this.formats()),this.attributes.values()))}},{key:"format",value:function(e,t){var n=this.scroll.query(e,ca.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){var i=this;if(null==r){var o=n.split("\n"),a=o.pop(),s=o.map((function(e){var t=i.scroll.create(ru.blotName);return t.insertAt(0,e),t})),l=this.split(e);s.forEach((function(e){i.parent.insertBefore(e,l)})),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}else Kl(t,"insertAt",this,3)([e,n,r])}}])}(Ra);function ou(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(Oa).reduce((function(e,n){return 0===n.length()?e:e.insert(n.value(),au(n,{},t))}),new Va).insert("\n",au(e))}function au(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("formats"in e&&"function"==typeof e.formats&&(t=Yl(Yl({},t),e.formats()),n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:au(e.parent,t,n))}function su(e){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(e)}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yu(r.key),r)}}function uu(e,t,n){return t=du(t),function(e,t){if(t&&("object"==su(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cu()?Reflect.construct(t,n||[],du(e).constructor):t.apply(e,n))}function cu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cu=function(){return!!e})()}function fu(e,t,n,r){var i=hu(du(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function hu(){return hu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=du(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hu.apply(null,arguments)}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},du(e)}function pu(e,t){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pu(e,t)}function vu(e,t,n){return(t=yu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e){var t=function(e,t){if("object"!=su(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==su(t)?t:t+""}iu.scope=ca.BLOCK_BLOT;var mu=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=uu(this,t,[e,n])).selection=r,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i.savedLength=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}(t,e),function(e,t,n){return t&&lu(e.prototype,t),n&&lu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0===this.savedLength){for(var r=this,i=0;null!=r&&r.statics.scope!==ca.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this.savedLength=t.CONTENTS.length,r.optimize(),r.formatAt(i,t.CONTENTS.length,e,n),this.savedLength=0)}else fu(t,"format",this,3)([e,n])}},{key:"index",value:function(e,n){return e===this.textNode?0:fu(t,"index",this,3)([e,n])}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){fu(t,"remove",this,3)([]),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var e=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var n,r=this.prev instanceof El?this.prev:null,i=r?r.length():0,o=this.next instanceof El?this.next:null,a=o?o.text:"",s=this.textNode,l=s.data.split(t.CONTENTS).join("");if(s.data=t.CONTENTS,r)n=r,(l||o)&&(r.insertAt(r.length(),l+a),o&&o.remove());else if(o)n=o,o.insertAt(0,l);else{var u=document.createTextNode(l);n=this.scroll.create(u),this.parent.insertBefore(n,this)}if(this.remove(),e){var c=function(e,t){return r&&e===r.domNode?t:e===s?i+t-1:o&&e===o.domNode?i+l.length+t:null},f=c(e.start.node,e.start.offset),h=c(e.end.node,e.end.offset);if(null!==f&&null!==h)return{startNode:n.domNode,startOffset:f,endNode:n.domNode,endOffset:h}}return null}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"optimize",value:function(e){fu(t,"optimize",this,3)([e]);for(var n=this.parent;n;){if("A"===n.domNode.tagName){this.savedLength=t.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}])}(Ra);vu(mu,"blotName","cursor"),vu(mu,"className","ql-cursor"),vu(mu,"tagName","span"),vu(mu,"CONTENTS","\ufeff");const bu=mu;var gu=__webpack_require__(3788);const wu=new WeakMap;var _u=["error","warn","log","info"],ku="warn";function xu(e){if(ku&&_u.indexOf(e)<=_u.indexOf(ku)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console)[e].apply(t,r)}}function Ou(e){return _u.reduce((function(t,n){return t[n]=xu.bind(console,n,e),t}),{})}Ou.level=function(e){ku=e},xu.level=Ou.level;const Pu=Ou;function Su(e){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(e)}function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lu(r.key),r)}}function ju(e,t,n){return t=Au(t),function(e,t){if(t&&("object"==Su(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tu()?Reflect.construct(t,n||[],Au(e).constructor):t.apply(e,n))}function Tu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tu=function(){return!!e})()}function Du(){return Du="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Au(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Du.apply(null,arguments)}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Au(e)}function Cu(e,t){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cu(e,t)}function Mu(e,t,n){return(t=Lu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e){var t=function(e,t){if("object"!=Su(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Su(t)?t:t+""}var Ru=Pu("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((function(e){var n,r=wu.get(e);r&&r.emitter&&(n=r.emitter).handleDOM.apply(n,t)}))}))}));var Iu=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ju(this,t)).domListeners={},e.on("error",Ru.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cu(e,t)}(t,e),function(e,t,n){return t&&Eu(e.prototype,t),n&&Eu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"emit",value:function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Ru.log).call.apply(e,[Ru].concat(r)),function(e,t,n,r){var i=Du(Au(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"emit",this,3)(r)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:n})}}])}(gu);Mu(Iu,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Mu(Iu,"sources",{API:"api",SILENT:"silent",USER:"user"});const Nu=Iu;function Bu(e){return Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(e)}function Fu(e){return function(e){if(Array.isArray(e))return qu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Vu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vu(e,t){if(e){if("string"==typeof e)return qu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(e,t):void 0}}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uu(r.key),r)}}function Yu(e,t,n){return t&&Hu(e.prototype,t),n&&Hu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uu(e){var t=function(e,t){if("object"!=Bu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bu(t)?t:t+""}function Gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Xu=Pu("quill:selection"),Wu=Yu((function e(t){Gu(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=t,this.length=n})),$u=function(){return Yu((function e(t,n){var r=this;Gu(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Wu(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||r.composing||setTimeout(r.update.bind(r,Nu.sources.USER),1)})),this.emitter.on(Nu.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(Nu.events.SCROLL_UPDATE,(function(t,n){try{r.root.contains(e.start.node)&&r.root.contains(e.end.node)&&r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset);var i=n.some((function(e){return"characterData"===e.type||"childList"===e.type||"attributes"===e.type&&e.target===r.root}));r.update(i?Nu.sources.SILENT:t)}catch(e){}}))}})),this.emitter.on(Nu.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s),r.update(Nu.sources.SILENT)}})),this.update(Nu.sources.SILENT)}),[{key:"handleComposition",value:function(){var e=this;this.emitter.on(Nu.events.COMPOSITION_BEFORE_START,(function(){e.composing=!0})),this.emitter.on(Nu.events.COMPOSITION_END,(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(Nu.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,ca.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=this.scroll.find(n.start.node,!1);if(null==r)return;if(r instanceof Oa){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;var i=zu(this.scroll.leaf(e),2),o=i[0],a=i[1];if(null==o)return null;if(n>0&&a===o.length()){var s=zu(this.scroll.leaf(e+1),1)[0];if(s)zu(this.scroll.line(e),1)[0]===zu(this.scroll.line(e+1),1)[0]&&(o=s,a=0)}var l=zu(o.position(a,!0),2);t=l[0],a=l[1];var u=document.createRange();if(n>0){u.setStart(t,a);var c=zu(this.scroll.leaf(e+n),2);if(o=c[0],a=c[1],null==o)return null;var f=zu(o.position(a,!0),2);return t=f[0],a=f[1],u.setEnd(t,a),u.getBoundingClientRect()}var h,d="left";if(t instanceof Text){if(!t.data.length)return null;a<t.data.length?(u.setStart(t,a),u.setEnd(t,a+1)):(u.setStart(t,a-1),u.setEnd(t,a),d="right"),h=u.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;h=o.domNode.getBoundingClientRect(),a>0&&(d="right")}return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return Xu.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||null!=document.activeElement&&Ku(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=zu(e,2),r=n[0],i=n[1],o=t.scroll.find(r,!0),a=o.offset(t.scroll);return 0===i?a:o instanceof Oa?a+o.index(r,i):a+o.length()})),i=Math.min(Math.max.apply(Math,Fu(r)),this.scroll.length()-1),o=Math.min.apply(Math,[i].concat(Fu(r)));return new Wu(o,i-o)}},{key:"normalizeNative",value:function(e){if(!Ku(this.root,e.startContainer)||!e.collapsed&&!Ku(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=this.scroll.length(),r=function(e,r){e=Math.min(n-1,e);var i=zu(t.scroll.leaf(e),2),o=i[0],a=i[1];return o?o.position(a,r):[null,-1]};return[].concat(Fu(r(e.index,!1)),Fu(r(e.index+e.length,!0)))}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Xu.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus({preventScroll:!0});var a=(this.getNativeRange()||{}).native;if(null==a||i||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){e instanceof Element&&"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu.sources.API;if("string"==typeof t&&(n=t,t=!1),Xu.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,Fu(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu.sources.USER,t=this.lastRange,n=zu(this.getRange(),2),r=n[0],i=n[1];if(this.lastRange=r,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!cl(t,this.lastRange)){var o;if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){var a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}var s,l=[Nu.events.SELECTION_CHANGE,Hs(this.lastRange),Hs(t),e];if((o=this.emitter).emit.apply(o,[Nu.events.EDITOR_CHANGE].concat(l)),e!==Nu.sources.SILENT)(s=this.emitter).emit.apply(s,l)}}}])}();function Ku(e,t){try{t.parentNode}catch(e){return!1}return e.contains(t)}const Zu=$u;function Ju(e){return sc(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oc(e)||ic()}function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t,n){return(t=uc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function rc(e,t){return sc(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||oc(e,t)||ic()}function ic(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oc(e,t){if(e){if("string"==typeof e)return ac(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sc(e){if(Array.isArray(e))return e}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uc(r.key),r)}}function uc(e){var t=function(e,t){if("object"!=nc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nc(t)?t:t+""}var cc=/^[ -~]*$/,fc=function(){return function(e,t,n){return t&&lc(e.prototype,t),n&&lc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}),[{key:"applyDelta",value:function(e){var t=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var r,i,o=yc(e),a=new Va,s=(r=o.ops.slice(),i=[],r.forEach((function(e){"string"==typeof e.insert?e.insert.split("\n").forEach((function(t,n){n&&i.push({insert:"\n",attributes:e.attributes}),t&&i.push({insert:t,attributes:e.attributes})})):i.push(e)})),i);return s.reduce((function(e,r){var i=Va.Op.length(r),o=r.attributes||{},s=!1,l=!1;if(null!=r.insert){if(a.retain(i),"string"==typeof r.insert){var u=r.insert;l=!u.endsWith("\n")&&(n<=e||!!t.scroll.descendant(iu,e)[0]),t.scroll.insertAt(e,u);var c=rc(t.scroll.line(e),2),f=c[0],h=c[1],d=Uo({},au(f));if(f instanceof ru){var p=rc(f.descendant(Oa,h),1)[0];p&&(d=Uo(d,au(p)))}o=Va.AttributeMap.diff(d,o)||{}}else if("object"===nc(r.insert)){var v=Object.keys(r.insert)[0];if(null==v)return e;var y=null!=t.scroll.query(v,ca.INLINE);if(y)(n<=e||t.scroll.descendant(iu,e)[0])&&(l=!0);else if(e>0){var m=rc(t.scroll.descendant(Oa,e-1),2),b=m[0],g=m[1];if(b instanceof El)"\n"!==b.value()[g]&&(s=!0);else b instanceof Ra&&b.statics.scope===ca.INLINE_BLOT&&(s=!0)}if(t.scroll.insertAt(e,v,r.insert[v]),y){var w=rc(t.scroll.descendant(Oa,e),1)[0];if(w){var _=Uo({},au(w));o=Va.AttributeMap.diff(_,o)||{}}}}n+=i}else if(a.push(r),null!==r.retain&&"object"===nc(r.retain)){var k=Object.keys(r.retain)[0];if(null==k)return e;t.scroll.updateEmbedAt(e,k,r.retain[k])}Object.keys(o).forEach((function(n){t.scroll.formatAt(e,i,n,o[n])}));var x=s?1:0,O=l?1:0;return n+=x+O,a.retain(x),a.delete(O),e+i+x+O}),0),a.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+Va.Op.length(n)}),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new Va).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((function(i){n.scroll.lines(e,Math.max(t,1)).forEach((function(e){e.format(i,r[i])}))})),this.scroll.optimize();var i=(new Va).retain(e).retain(t,Hs(r));return this.update(i)}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])}));var i=(new Va).retain(e).retain(t,Hs(r));return this.update(i)}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new Va)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=rc(e,1)[0];t instanceof ru?n.push(t):t instanceof Oa&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(Oa,e,t));var i=rc([n,r].map((function(e){var t=e.shift();if(null==t)return{};for(var n=au(t);Object.keys(n).length>0;){var r=e.shift();if(null==r)return n;n=pc(au(r),n)}return n})),2),o=i[0],a=i[1];return ec(ec({},o),a)}},{key:"getHTML",value:function(e,t){var n=rc(this.scroll.line(e),2),r=n[0],i=n[1];if(r){var o=r.length();return!(r.length()>=i+t)||0===i&&t===o?dc(this.scroll,e,t,!0):dc(r,i,t,!0)}return""}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertContents",value:function(e,t){var n=yc(t),r=(new Va).retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(r)}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new Va).retain(e).insert(tc({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new Va).retain(e).insert(t,Hs(r)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;if((null==e?void 0:e.statics.blotName)!==ru.blotName)return!1;var t=e;return!(t.children.length>1)&&t.children.head instanceof gl}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=rc(this.scroll.line(e+t),2),i=r[0],o=r[1],a=0,s=new Va;null!=i&&(a=i.length()-o,s=i.delta().slice(o,o+a-1).insert("\n"));var l=this.getContents(e,t+a).diff((new Va).insert(n).concat(s)),u=(new Va).retain(e).concat(l);return this.applyDelta(u)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(cc)&&this.scroll.find(t[0].target)){var i=this.scroll.find(t[0].target),o=au(i),a=i.offset(this.scroll),s=t[0].oldValue.replace(bu.CONTENTS,""),l=(new Va).insert(s),u=(new Va).insert(i.value()),c=n&&{oldRange:mc(n.oldRange,-a),newRange:mc(n.newRange,-a)};e=(new Va).retain(a).concat(l.diff(u,c)).reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new Va),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&cl(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}])}();function hc(e,t,n){if(0===e.length){var r=rc(vc(n.pop()),1)[0];return t<=0?"</li></".concat(r,">"):"</li></".concat(r,">").concat(hc([],t-1,n))}var i=Ju(e),o=i[0],a=o.child,s=o.offset,l=o.length,u=o.indent,c=o.type,f=i.slice(1),h=rc(vc(c),2),d=h[0],p=h[1];if(u>t)return n.push(c),u===t+1?"<".concat(d,"><li").concat(p,">").concat(dc(a,s,l)).concat(hc(f,u,n)):"<".concat(d,"><li>").concat(hc(e,t+1,n));var v=n[n.length-1];if(u===t&&c===v)return"</li><li".concat(p,">").concat(dc(a,s,l)).concat(hc(f,u,n));var y=rc(vc(n.pop()),1)[0];return"</li></".concat(y,">").concat(hc(e,t-1,n))}function dc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in e&&"function"==typeof e.html)return e.html(t,n);if(e instanceof El)return Tl(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;");if(e instanceof ja){if("list-container"===e.statics.blotName){var i=[];return e.children.forEachAt(t,n,(function(e,t,n){var r="formats"in e&&"function"==typeof e.formats?e.formats():{};i.push({child:e,offset:t,length:n,indent:r.indent||0,type:r.list})})),hc(i,-1,[])}var o=[];if(e.children.forEachAt(t,n,(function(e,t,n){o.push(dc(e,t,n))})),r||"list"===e.statics.blotName)return o.join("");var a=e.domNode,s=a.outerHTML,l=a.innerHTML,u=rc(s.split(">".concat(l,"<")),2),c=u[0],f=u[1];return"<table"===c?'<table style="border: 1px solid #000;">'.concat(o.join(""),"<").concat(f):"".concat(c,">").concat(o.join(""),"<").concat(f)}return e.domNode instanceof Element?e.domNode.outerHTML:""}function pc(e,t){return Object.keys(t).reduce((function(n,r){if(null==e[r])return n;var i=t[r];return i===e[r]?n[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?n[r]=i.concat([e[r]]):n[r]=i:n[r]=[i,e[r]],n}),{})}function vc(e){var t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function yc(e){return e.reduce((function(e,t){if("string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new Va)}function mc(e,t){var n=e.index,r=e.length;return new Wu(n+t,r)}const bc=fc;function gc(e){return gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(e)}function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kc(r.key),r)}}function _c(e,t,n){return t&&wc(e.prototype,t),n&&wc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kc(e){var t=function(e,t){if("object"!=gc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gc(t)?t:t+""}var xc=_c((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=t,this.options=n}));!function(e,t,n){(t=kc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xc,"DEFAULTS",{});const Oc=xc;function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ec(r.key),r)}}function Ec(e){var t=function(e,t){if("object"!=Pc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pc(t)?t:t+""}function jc(e,t,n){return t=Ac(t),function(e,t){if(t&&("object"==Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tc()?Reflect.construct(t,n||[],Ac(e).constructor):t.apply(e,n))}function Tc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Tc=function(){return!!e})()}function Dc(){return Dc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ac(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Dc.apply(null,arguments)}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ac(e)}function Cc(e,t){return Cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cc(e,t)}var Mc="\ufeff",Lc=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=jc(this,t,[e,n])).contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable","false"),Array.from(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(Mc),r.rightGuard=document.createTextNode(Mc),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cc(e,t)}(t,e),function(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function(e,t,n,r){var i=Dc(Ac(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"index",this,3)([e,n])}},{key:"restore",value:function(e){var t,n=null,r=e.data.split(Mc).join("");if(e===this.leftGuard)if(this.prev instanceof El){var i=this.prev.length();this.prev.insertAt(i,r),n={startNode:this.prev.domNode,startOffset:i+r.length}}else t=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(t),this),n={startNode:t,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof El?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(t=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(t),this.next),n={startNode:t,startOffset:r.length}));return e.data=Mc,n}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}])}(Ra);const Rc=Lc;function Ic(e){return Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(e)}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bc(r.key),r)}}function Bc(e){var t=function(e,t){if("object"!=Ic(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ic(t)?t:t+""}var Fc=function(){return function(e,t,n){return t&&Nc(e.prototype,t),n&&Nc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=Bc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"isComposing",!1),this.scroll=t,this.emitter=n,this.setupListeners()}),[{key:"setupListeners",value:function(){var e=this;this.scroll.domNode.addEventListener("compositionstart",(function(t){e.isComposing||e.handleCompositionStart(t)})),this.scroll.domNode.addEventListener("compositionend",(function(t){e.isComposing&&queueMicrotask((function(){e.handleCompositionEnd(t)}))}))}},{key:"handleCompositionStart",value:function(e){var t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof Rc||(this.emitter.emit(Nu.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Nu.events.COMPOSITION_START,e),this.isComposing=!0)}},{key:"handleCompositionEnd",value:function(e){this.emitter.emit(Nu.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Nu.events.COMPOSITION_END,e),this.isComposing=!1}}])}();const zc=Fc;var Vc;function qc(e){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(e)}function Hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uc(r.key),r)}}function Yc(e,t,n){return(t=Uc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uc(e){var t=function(e,t){if("object"!=qc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qc(t)?t:t+""}var Gc=function(){return function(e,t,n){return t&&Hc(e.prototype,t),n&&Hc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yc(this,"modules",{}),this.quill=t,this.options=n}),[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}])}();Vc=Gc,Yc(Gc,"DEFAULTS",{modules:{}}),Yc(Gc,"themes",{default:Vc});const Xc=Gc;var Wc=function(e){var t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*r,left:t.left}},$c=function(e){var t=parseInt(e,10);return Number.isNaN(t)?0:t},Kc=function(e,t,n,r,i,o){return e<n&&t>r?0:e<n?-(n-e+i):t>r?t-e>r-n?e+i-n:t-r+o:0};const Zc=function(e,t){for(var n,r=e.ownerDocument,i=t,o=e;o;){var a,s,l,u,c=o===r.body,f=c?{top:0,right:null!==(a=null===(s=window.visualViewport)||void 0===s?void 0:s.width)&&void 0!==a?a:r.documentElement.clientWidth,bottom:null!==(l=null===(u=window.visualViewport)||void 0===u?void 0:u.height)&&void 0!==l?l:r.documentElement.clientHeight,left:0}:Wc(o),h=getComputedStyle(o),d=Kc(i.left,i.right,f.left,f.right,$c(h.scrollPaddingLeft),$c(h.scrollPaddingRight)),p=Kc(i.top,i.bottom,f.top,f.bottom,$c(h.scrollPaddingTop),$c(h.scrollPaddingBottom));if(d||p)if(c){var v;null===(v=r.defaultView)||void 0===v||v.scrollBy(d,p)}else{var y=o,m=y.scrollLeft,b=y.scrollTop;p&&(o.scrollTop+=p),d&&(o.scrollLeft+=d);var g=o.scrollLeft-m,w=o.scrollTop-b;i={left:i.left-g,top:i.top-w,right:i.right-g,bottom:i.bottom-w}}o=c||"fixed"===h.position?null:(n=o).parentElement||n.getRootNode().host||null}};var Jc=["block","break","cursor","inline","scroll","text"];const Qc=function(e,t,n){var r=new pa;return Jc.forEach((function(e){var n=t.query(e);n&&r.register(n)})),e.forEach((function(e){var i=t.query(e);i||n.error('Cannot register "'.concat(e,'" specified in "formats" config. Are you sure it was registered?'));for(var o=0;i;){var a;if(r.register(i),i="blotName"in i&&null!==(a=i.requiredContainer)&&void 0!==a?a:null,(o+=1)>100){n.error('Cycle detected in registering blot requiredContainer: "'.concat(e,'"'));break}}})),r};var ef=["modules"],tf=["modules"];function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}function rf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){cf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ff(r.key),r)}}function cf(e,t,n){return(t=ff(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ff(e){var t=function(e,t){if("object"!=nf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nf(t)?t:t+""}var hf=Pu("quill"),df=new pa;ja.uiClass="ql-ui";var pf=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=bf(t,r),this.container=this.options.container,null!=this.container){this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",wu.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Nu;var o=Ba.blotName,a=this.options.registry.query(o);if(!a||!("blotName"in a))throw new Error('Cannot initialize Quill without "'.concat(o,'" blot'));if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new bc(this.scroll),this.selection=new Zu(this.scroll,this.emitter),this.composition=new zc(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Nu.events.EDITOR_CHANGE,(function(e){e===Nu.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(Nu.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=sf(n.selection.getRange(),1)[0],o=r&&i?{oldRange:r,newRange:i}:void 0;gf.call(n,(function(){return n.editor.update(null,t,o)}),e)})),this.emitter.on(Nu.events.SCROLL_EMBED_UPDATE,(function(t,r){var i=n.selection.lastRange,o=sf(n.selection.getRange(),1)[0],a=i&&o?{oldRange:i,newRange:o}:void 0;gf.call(n,(function(){var e=(new Va).retain(t.offset(n)).retain(cf({},t.statics.blotName,r));return n.editor.update(e,[],a)}),e.sources.USER)})),i){var s=this.clipboard.convert({html:"".concat(i,"<p><br></p>"),text:"\n"});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}else hf.error("Invalid Quill container",t)}return function(e,t,n){return t&&uf(e.prototype,t),n&&uf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,i=sf(wf(e,t,n),4);return e=i[0],t=i[1],n=i[3],gf.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(e){this.allowReadOnlyEdits=!0;var t=e();return this.allowReadOnlyEdits=!1,t}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu.sources.API;return gf.call(this,(function(){var r=n.getSelection(!0),i=new Va;if(null==r)return i;if(n.scroll.query(e,ca.BLOCK))i=n.editor.formatLine(r.index,r.length,cf({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,cf({},e,t))}return n.setSelection(r,Nu.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,i){var o,a=this,s=sf(wf(e,t,n,r,i),4);return e=s[0],t=s[1],o=s[2],i=s[3],gf.call(this,(function(){return a.editor.formatLine(e,t,o)}),i,e,0)}},{key:"formatText",value:function(e,t,n,r,i){var o,a=this,s=sf(wf(e,t,n,r,i),4);return e=s[0],t=s[1],o=s[2],i=s[3],gf.call(this,(function(){return a.editor.formatText(e,t,o)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;if(!(n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length)))return null;var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=sf(wf(e,t),2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;"number"==typeof e&&(t=null!=t?t:this.getLength()-e);var n=sf(wf(e,t),2);return e=n[0],t=n[1],this.editor.getHTML(e,t)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;"number"==typeof e&&(t=null!=t?t:this.getLength()-e);var n=sf(wf(e,t),2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return gf.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),o,t)}},{key:"insertText",value:function(e,t,n,r,i){var o,a=this,s=sf(wf(e,0,n,r,i),4);return e=s[0],o=s[2],i=s[3],gf.call(this,(function(){return a.editor.insertText(e,t,o)}),i,e,t.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var e;return(e=this.emitter).off.apply(e,arguments)}},{key:"on",value:function(){var e;return(e=this.emitter).on.apply(e,arguments)}},{key:"once",value:function(){var e;return(e=this.emitter).once.apply(e,arguments)}},{key:"removeFormat",value:function(e,t,n){var r=this,i=sf(wf(e,t,n),4);return e=i[0],t=i[1],n=i[3],gf.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollRectIntoView",value:function(e){Zc(this.root,e)}},{key:"scrollIntoView",value:function(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}},{key:"scrollSelectionIntoView",value:function(){var e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu.sources.API;return gf.call(this,(function(){e=new Va(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.insertContents(0,e),o=t.editor.deleteText(t.getLength()-1,1);return r.compose(i).compose(o)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=sf(wf(t,n,r),4);t=i[0],n=i[1],r=i[3],this.selection.setRange(new Wu(Math.max(0,t),n),r),r!==Nu.sources.SILENT&&this.scrollSelectionIntoView()}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu.sources.API,n=(new Va).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nu.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nu.sources.API;return gf.call(this,(function(){return e=new Va(e),t.editor.applyDelta(e)}),n,!0)}}],[{key:"debug",value:function(e){!0===e&&(e="log"),Pu.level(e)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wu.get(e)||df.find(e,t)}},{key:"import",value:function(e){return null==this.imports[e]&&hf.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(){var e=this;if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0],n=!!(arguments.length<=1?void 0:arguments[1]),r="attrName"in t?t.attrName:t.blotName;"string"==typeof r?this.register("formats/".concat(r),t,n):Object.keys(t).forEach((function(r){e.register(r,t[r],n)}))}else{var i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],a=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[i]||a||hf.warn("Overwriting ".concat(i," with"),o),this.imports[i]=o,(i.startsWith("blots/")||i.startsWith("formats/"))&&o&&"boolean"!=typeof o&&"abstract"!==o.blotName&&df.register(o),"function"==typeof o.register&&o.register(df)}}}])}();function vf(e){return"string"==typeof e?document.querySelector(e):e}function yf(e){return Object.entries(null!=e?e:{}).reduce((function(e,t){var n=sf(t,2),r=n[0],i=n[1];return af(af({},e),{},cf({},r,!0===i?{}:i))}),{})}function mf(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==e[1]})))}function bf(e,t){var n=vf(e);if(!n)throw new Error("Invalid Quill container");var r=!t.theme||t.theme===pf.DEFAULTS.theme?Xc:pf.import("themes/".concat(t.theme));if(!r)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"));var i=pf.DEFAULTS,o=i.modules,a=rf(i,ef),s=r.DEFAULTS,l=s.modules,u=rf(s,tf),c=yf(t.modules);null!=c&&c.toolbar&&c.toolbar.constructor!==Object&&(c=af(af({},c),{},{toolbar:{container:c.toolbar}}));var f=Uo({},yf(o),yf(l),c),h=af(af(af({},a),mf(u)),mf(t)),d=t.registry;return d?t.formats&&hf.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?Qc(t.formats,h.registry,hf):h.registry,af(af({},h),{},{registry:d,container:n,theme:r,modules:Object.entries(f).reduce((function(e,t){var n=sf(t,2),r=n[0],i=n[1];if(!i)return e;var o=pf.import("modules/".concat(r));return null==o?(hf.error("Cannot load ".concat(r," module. Are you sure you registered it?")),e):af(af({},e),{},cf({},r,Uo({},o.DEFAULTS||{},i)))}),{}),bounds:vf(h.bounds)})}function gf(e,t,n,r){if(!this.isEnabled()&&t===Nu.sources.USER&&!this.allowReadOnlyEdits)return new Va;var i=null==n?null:this.getSelection(),o=this.editor.delta,a=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=_f(i,a,t):0!==r&&(i=_f(i,n,r,t)),this.setSelection(i,Nu.sources.SILENT)),a.length()>0){var s,l,u=[Nu.events.TEXT_CHANGE,a,o,t];if((s=this.emitter).emit.apply(s,[Nu.events.EDITOR_CHANGE].concat(u)),t!==Nu.sources.SILENT)(l=this.emitter).emit.apply(l,u)}return a}function wf(e,t,n,r,i){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=n,n=t,t=0),"object"===nf(n)?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[e,t,o,i=i||Nu.sources.API]}function _f(e,t,n,r){var i,o,a="number"==typeof n?n:0;if(null==e)return null;if(t&&"function"==typeof t.transformPosition){var s=sf([e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==Nu.sources.USER)})),2);i=s[0],o=s[1]}else{var l=sf([e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===Nu.sources.USER?e:a>=0?e+a:Math.max(t,e+a)})),2);i=l[0],o=l[1]}return new Wu(i,o-i)}function kf(e){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(e)}function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Of(r.key),r)}}function Of(e){var t=function(e,t){if("object"!=kf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kf(t)?t:t+""}function Pf(e,t,n){return t=Ef(t),function(e,t){if(t&&("object"==kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sf()?Reflect.construct(t,n||[],Ef(e).constructor):t.apply(e,n))}function Sf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Sf=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ef(e)}function jf(e,t){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jf(e,t)}cf(pf,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:df,theme:"default"}),cf(pf,"events",Nu.events),cf(pf,"sources",Nu.sources),cf(pf,"version","2.0.3"),cf(pf,"imports",{delta:Va,parchment:e,"core/module":Oc,"core/theme":Xc});var Tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pf(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}(t,e),function(e,t,n){return t&&xf(e.prototype,t),n&&xf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(La);const Df=Tf;function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}function Cf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qf(r.key),r)}}function Rf(e,t,n){return t=Ff(t),function(e,t){if(t&&("object"==Af(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,If()?Reflect.construct(t,n||[],Ff(e).constructor):t.apply(e,n))}function If(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(If=function(){return!!e})()}function Nf(e,t,n,r){var i=Bf(Ff(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Bf(){return Bf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ff(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Bf.apply(null,arguments)}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ff(e)}function zf(e,t){return zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zf(e,t)}function Vf(e,t,n){return(t=qf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qf(e){var t=function(e,t){if("object"!=Af(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Af(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Af(t)?t:t+""}function Hf(e){return e instanceof ru||e instanceof iu}function Yf(e){return"function"==typeof e.updateContent}var Uf=function(e){function t(e,n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=r.emitter;return(i=Rf(this,t,[e,n])).emitter=o,i.batch=!1,i.optimize(),i.enable(),i.domNode.addEventListener("dragstart",(function(e){return i.handleDragStart(e)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zf(e,t)}(t,e),function(e,t,n){return t&&Lf(e.prototype,t),n&&Lf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){if(this.batch){var e=this.batch;this.batch=!1,this.update(e)}}},{key:"emitMount",value:function(e){this.emitter.emit(Nu.events.SCROLL_BLOT_MOUNT,e)}},{key:"emitUnmount",value:function(e){this.emitter.emit(Nu.events.SCROLL_BLOT_UNMOUNT,e)}},{key:"emitEmbedUpdate",value:function(e,t){this.emitter.emit(Nu.events.SCROLL_EMBED_UPDATE,e,t)}},{key:"deleteAt",value:function(e,n){var r=Cf(this.line(e),2),i=r[0],o=r[1],a=Cf(this.line(e+n),1)[0];if(Nf(t,"deleteAt",this,3)([e,n]),null!=a&&i!==a&&o>0){if(i instanceof iu||a instanceof iu)return void this.optimize();var s=a.children.head instanceof gl?null:a.children.head;i.moveChildren(a,s),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e?"true":"false")}},{key:"formatAt",value:function(e,n,r,i){Nf(t,"formatAt",this,3)([e,n,r,i]),this.optimize()}},{key:"insertAt",value:function(e,n,r){if(e>=this.length())if(null==r||null==this.scroll.query(n,ca.BLOCK)){var i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),null==r&&n.endsWith("\n")?i.insertAt(0,n.slice(0,-1),r):i.insertAt(0,n,r)}else{var o=this.scroll.create(n,r);this.appendChild(o)}else Nf(t,"insertAt",this,3)([e,n,r]);this.optimize()}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===ca.INLINE_BLOT){var r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),Nf(t,"insertBefore",this,3)([r,n])}else Nf(t,"insertBefore",this,3)([e,n])}},{key:"insertContents",value:function(e,t){var n=this,r=this.deltaToRenderBlocks(t.concat((new Va).insert("\n"))),i=r.pop();if(null!=i){this.batchStart();var o=r.shift();if(o){var a="block"===o.type&&(0===o.delta.length()||!this.descendant(iu,e)[0]&&e<this.length()),s="block"===o.type?o.delta:(new Va).insert(Vf({},o.key,o.value));Gf(this,e,s);var l="block"===o.type?1:0,u=e+s.length()+l;a&&this.insertAt(u-1,"\n");var c=au(this.line(e)[0]),f=Va.AttributeMap.diff(c,o.attributes)||{};Object.keys(f).forEach((function(e){n.formatAt(u-1,1,e,f[e])})),e=u}var h=Cf(this.children.find(e),2),d=h[0],p=h[1];if(r.length&&(d&&(d=d.split(p),p=0),r.forEach((function(e){if("block"===e.type){Gf(n.createBlock(e.attributes,d||void 0),0,e.delta)}else{var t=n.create(e.key,e.value);n.insertBefore(t,d||void 0),Object.keys(e.attributes).forEach((function(n){t.format(n,e.attributes[n])}))}}))),"block"===i.type&&i.delta.length())Gf(this,d?d.offset(d.scroll)+p:this.length(),i.delta);this.batchEnd(),this.optimize()}}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(e){var t=this.path(e).pop();if(!t)return[null,-1];var n=Cf(t,2),r=n[0],i=n[1];return r instanceof Oa?[r,i]:[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(Hf,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function(e,t,r){var i=[],o=r;return e.children.forEachAt(t,r,(function(e,t,r){Hf(e)?i.push(e):e instanceof La&&(i=i.concat(n(e,t,o))),o-=r})),i};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(Nf(t,"optimize",this,3)([e,n]),e.length>0&&this.emitter.emit(Nu.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return Nf(t,"path",this,3)([e]).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(e){var n=this;if(this.batch)Array.isArray(e)&&(this.batch=this.batch.concat(e));else{var r=Nu.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter((function(e){var t=e.target,r=n.find(t,!0);return r&&!Yf(r)}))).length>0&&this.emitter.emit(Nu.events.SCROLL_BEFORE_UPDATE,r,e),Nf(t,"update",this,3)([e.concat([])]),e.length>0&&this.emitter.emit(Nu.events.SCROLL_UPDATE,r,e)}}},{key:"updateEmbedAt",value:function(e,t,n){var r=this.descendant((function(e){return e instanceof iu}),e),i=Cf(r,1)[0];i&&i.statics.blotName===t&&Yf(i)&&i.updateContent(n)}},{key:"handleDragStart",value:function(e){e.preventDefault()}},{key:"deltaToRenderBlocks",value:function(e){var t=this,n=[],r=new Va;return e.forEach((function(e){var i=null==e?void 0:e.insert;if(i)if("string"==typeof i){var o=i.split("\n");o.slice(0,-1).forEach((function(t){var i;r.insert(t,e.attributes),n.push({type:"block",delta:r,attributes:null!==(i=e.attributes)&&void 0!==i?i:{}}),r=new Va}));var a=o[o.length-1];a&&r.insert(a,e.attributes)}else{var s,l=Object.keys(i)[0];if(!l)return;if(t.query(l,ca.INLINE))r.push(e);else r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new Va,n.push({type:"blockEmbed",key:l,value:i[l],attributes:null!==(s=e.attributes)&&void 0!==s?s:{}})}})),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}},{key:"createBlock",value:function(e,t){var n,r=this,i={};Object.entries(e).forEach((function(e){var t=Cf(e,2),o=t[0],a=t[1];null!=r.query(o,ca.BLOCK&ca.BLOT)?n=o:i[o]=a}));var o=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(o,t||void 0);var a=o.length();return Object.entries(i).forEach((function(e){var t=Cf(e,2),n=t[0],r=t[1];o.formatAt(0,a,n,r)})),o}}])}(Ba);function Gf(e,t,n){n.reduce((function(t,n){var r=Va.Op.length(n),i=n.attributes||{};if(null!=n.insert)if("string"==typeof n.insert){var o=n.insert;e.insertAt(t,o);var a=au(Cf(e.descendant(Oa,t),1)[0]);i=Va.AttributeMap.diff(a,i)||{}}else if("object"===Af(n.insert)){var s=Object.keys(n.insert)[0];if(null==s)return t;if(e.insertAt(t,s,n.insert[s]),null!=e.scroll.query(s,ca.INLINE)){var l=au(Cf(e.descendant(Oa,t),1)[0]);i=Va.AttributeMap.diff(l,i)||{}}}return Object.keys(i).forEach((function(n){e.formatAt(t,r,n,i[n])})),t+r}),t)}Vf(Uf,"blotName","scroll"),Vf(Uf,"className","ql-editor"),Vf(Uf,"tagName","DIV"),Vf(Uf,"defaultChild",ru),Vf(Uf,"allowedChildren",[ru,iu,Df]);const Xf=Uf;var Wf={scope:ca.BLOCK,whitelist:["right","center","justify"]},$f=new fa("align","align",Wf),Kf=new ya("align","ql-align",Wf),Zf=new ba("align","text-align",Wf);function Jf(e){return Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(e)}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eh(r.key),r)}}function eh(e){var t=function(e,t){if("object"!=Jf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jf(t)?t:t+""}function th(e,t,n){return t=ih(t),function(e,t){if(t&&("object"==Jf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nh()?Reflect.construct(t,n||[],ih(e).constructor):t.apply(e,n))}function nh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nh=function(){return!!e})()}function rh(){return rh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ih(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rh.apply(null,arguments)}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(e)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oh(e,t)}var ah=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),th(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}(t,e),function(e,t,n){return t&&Qf(e.prototype,t),n&&Qf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"value",value:function(e){var n=function(e,t,n,r){var i=rh(ih(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"value",this,3)([e]);if(!n.startsWith("rgb("))return n;n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var r=n.split(",").map((function(e){return"00".concat(parseInt(e,10).toString(16)).slice(-2)})).join("");return"#".concat(r)}}])}(ba),sh=new ya("color","ql-color",{scope:ca.INLINE}),lh=new ah("color","color",{scope:ca.INLINE}),uh=new ya("background","ql-bg",{scope:ca.INLINE}),ch=new ah("background","background-color",{scope:ca.INLINE});function fh(e){return fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(e)}function hh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vh(r.key),r)}}function ph(e,t,n){return t&&dh(e.prototype,t),n&&dh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vh(e){var t=function(e,t){if("object"!=fh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fh(t)?t:t+""}function yh(e,t,n){return t=gh(t),function(e,t){if(t&&("object"==fh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mh()?Reflect.construct(t,n||[],gh(e).constructor):t.apply(e,n))}function mh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mh=function(){return!!e})()}function bh(){return bh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=gh(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},bh.apply(null,arguments)}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(e)}function wh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_h(e,t)}function _h(e,t){return _h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_h(e,t)}var kh=function(e){function t(){return hh(this,t),yh(this,t,arguments)}return wh(t,e),ph(t,[{key:"code",value:function(e,t){return this.children.map((function(e){return e.length()<=1?"":e.domNode.innerText})).join("\n").slice(e,e+t)}},{key:"html",value:function(e,t){return"<pre>\n".concat(Tl(this.code(e,t)),"\n</pre>")}}],[{key:"create",value:function(e){var n=function(e,t,n,r){var i=bh(gh(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"create",this,2)([e]);return n.setAttribute("spellcheck","false"),n}}])}(Df),xh=function(e){function t(){return hh(this,t),yh(this,t,arguments)}return wh(t,e),ph(t,null,[{key:"register",value:function(){pf.register(kh)}}])}(ru);!function(e,t,n){(t=vh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xh,"TAB","  ");var Oh=function(e){function t(){return hh(this,t),yh(this,t,arguments)}return wh(t,e),ph(t)}(Vl);Oh.blotName="code",Oh.tagName="CODE",xh.blotName="code-block",xh.className="ql-code-block",xh.tagName="DIV",kh.blotName="code-block-container",kh.className="ql-code-block-container",kh.tagName="DIV",kh.allowedChildren=[xh],xh.allowedChildren=[El,gl,bu],xh.requiredContainer=kh;var Ph={scope:ca.BLOCK,whitelist:["rtl"]},Sh=new fa("direction","dir",Ph),Eh=new ya("direction","ql-direction",Ph),jh=new ba("direction","direction",Ph);function Th(e){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(e)}function Dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ah(r.key),r)}}function Ah(e){var t=function(e,t){if("object"!=Th(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Th(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Th(t)?t:t+""}function Ch(e,t,n){return t=Rh(t),function(e,t){if(t&&("object"==Th(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mh()?Reflect.construct(t,n||[],Rh(e).constructor):t.apply(e,n))}function Mh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mh=function(){return!!e})()}function Lh(){return Lh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Rh(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Lh.apply(null,arguments)}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rh(e)}function Ih(e,t){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ih(e,t)}var Nh={scope:ca.INLINE,whitelist:["serif","monospace"]},Bh=new ya("font","ql-font",Nh),Fh=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ch(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ih(e,t)}(t,e),function(e,t,n){return t&&Dh(e.prototype,t),n&&Dh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"value",value:function(e){return function(e,t,n,r){var i=Lh(Rh(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"value",this,3)([e]).replace(/["']/g,"")}}])}(ba),zh=new Fh("font","font-family",Nh),Vh=new ya("size","ql-size",{scope:ca.INLINE,whitelist:["small","large","huge"]}),qh=new ba("size","font-size",{scope:ca.INLINE,whitelist:["10px","18px","32px"]});function Hh(e){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(e)}function Yh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(n),!0).forEach((function(t){Wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wh(e,t,n){return(t=Kh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kh(r.key),r)}}function Kh(e){var t=function(e,t){if("object"!=Hh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hh(t)?t:t+""}function Zh(e,t,n){return t=Qh(t),function(e,t){if(t&&("object"==Hh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jh()?Reflect.construct(t,n||[],Qh(e).constructor):t.apply(e,n))}function Jh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jh=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qh(e)}function ed(e,t){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ed(e,t)}var td=Pu("quill:keyboard"),nd=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",rd=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Zh(this,t,[e,n])).bindings={},Object.keys(r.options.bindings).forEach((function(e){r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:"Enter",shiftKey:null},r.handleEnter),r.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:"Backspace"},{collapsed:!0},r.handleBackspace),r.addBinding({key:"Delete"},{collapsed:!0},r.handleDelete)):(r.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},r.handleBackspace),r.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},r.handleDelete)),r.addBinding({key:"Backspace"},{collapsed:!1},r.handleDeleteRange),r.addBinding({key:"Delete"},{collapsed:!1},r.handleDeleteRange),r.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},r.handleBackspace),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}(t,e),function(e,t,n){return t&&$h(e.prototype,t),n&&$h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"addBinding",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!==Hh(e))return null;e=Hs(e)}e.shortKey&&(e[nd]=e.shortKey,delete e.shortKey);return e}(e);null!=i?("function"==typeof n&&(n={handler:n}),"function"==typeof r&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach((function(e){var o=Xh(Xh(Xh({},i),{},{key:e},n),r);t.bindings[o.key]=t.bindings[o.key]||[],t.bindings[o.key].push(o)}))):td.warn("Attempted to add invalid keyboard binding",i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented&&!n.isComposing&&!(229===n.keyCode&&("Enter"===n.key||"Backspace"===n.key))){var r=(e.bindings[n.key]||[]).concat(e.bindings[n.which]||[]).filter((function(e){return t.match(n,e)}));if(0!==r.length){var i=pf.find(n.target,!0);if(!i||i.scroll===e.quill.scroll){var o=e.quill.getSelection();if(null!=o&&e.quill.hasFocus()){var a=Yh(e.quill.getLine(o.index),2),s=a[0],l=a[1],u=Yh(e.quill.getLeaf(o.index),2),c=u[0],f=u[1],h=Yh(0===o.length?[c,f]:e.quill.getLeaf(o.index+o.length),2),d=h[0],p=h[1],v=c instanceof za?c.value().slice(0,f):"",y=d instanceof za?d.value().slice(p):"",m={collapsed:0===o.length,empty:0===o.length&&s.length()<=1,format:e.quill.getFormat(o),line:s,offset:l,prefix:v,suffix:y,event:n};r.some((function(t){if(null!=t.collapsed&&t.collapsed!==m.collapsed)return!1;if(null!=t.empty&&t.empty!==m.empty)return!1;if(null!=t.offset&&t.offset!==m.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==m.format[e]})))return!1}else if("object"===Hh(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=m.format[e]:!1===t.format[e]?null==m.format[e]:cl(t.format[e],m.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(m.prefix))&&(!(null!=t.suffix&&!t.suffix.test(m.suffix))&&!0!==t.handler.call(e,o,m,t))}))&&n.preventDefault()}}}}}))}},{key:"handleBackspace",value:function(e,t){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(!(0===e.index||this.quill.getLength()<=1)){var r={},i=Yh(this.quill.getLine(e.index),1)[0],o=(new Va).retain(e.index-n).delete(n);if(0===t.offset){var a=Yh(this.quill.getLine(e.index-1),1)[0];if(a)if(!("block"===a.statics.blotName&&a.length()<=1)){var s=i.formats(),l=this.quill.getFormat(e.index-1,1);if(r=Va.AttributeMap.diff(s,l)||{},Object.keys(r).length>0){var u=(new Va).retain(e.index+i.length()-2).retain(1,r);o=o.compose(u)}}}this.quill.updateContents(o,pf.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},i=Yh(this.quill.getLine(e.index),1)[0],o=(new Va).retain(e.index).delete(n);if(t.offset>=i.length()-1){var a=Yh(this.quill.getLine(e.index+1),1)[0];if(a){var s=i.formats(),l=this.quill.getFormat(e.index,1);r=Va.AttributeMap.diff(s,l)||{},Object.keys(r).length>0&&(o=o.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(o,pf.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(e){ud({range:e,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(e,t){var n=this,r=Object.keys(t.format).reduce((function(e,r){return n.quill.scroll.query(r,ca.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{}),i=(new Va).retain(e.index).delete(e.length).insert("\n",r);this.quill.updateContents(i,pf.sources.USER),this.quill.setSelection(e.index+1,pf.sources.SILENT),this.quill.focus()}}],[{key:"match",value:function(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&(t.key===e.key||t.key===e.which)}}])}(Oc),id={bindings:{bold:sd("bold"),italic:sd("italic"),underline:sd("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",pf.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",pf.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",pf.sources.USER):null!=t.format.list&&this.quill.format("list",!1,pf.sources.USER)}},"indent code-block":od(!0),"outdent code-block":od(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,pf.sources.USER)}},tab:{key:"Tab",handler:function(e,t){if(t.format.table)return!0;this.quill.history.cutoff();var n=(new Va).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,pf.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,pf.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,pf.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(e,t){var n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,pf.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(e){var t=Yh(this.quill.getLine(e.index),2),n=t[0],r=t[1],i=Xh(Xh({},n.formats()),{},{list:"checked"}),o=(new Va).retain(e.index).insert("\n",i).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,pf.sources.USER),this.quill.setSelection(e.index+1,pf.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=Yh(this.quill.getLine(e.index),2),r=n[0],i=n[1],o=(new Va).retain(e.index).insert("\n",t.format).retain(r.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,pf.sources.USER),this.quill.setSelection(e.index+1,pf.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler:function(e){var t=this.quill.getModule("table");if(t){var n=Yh(t.getTable(e),4),r=n[0],i=function(e,t,n,r){if(null==t.prev&&null==t.next)return null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1;if(null==t.prev)return-1;if(null==t.next)return 1;return null}(0,n[1],n[2],n[3]);if(null==i)return;var o=r.offset();if(i<0){var a=(new Va).retain(o).insert("\n");this.quill.updateContents(a,pf.sources.USER),this.quill.setSelection(e.index+1,e.length,pf.sources.SILENT)}else if(i>0){o+=r.length();var s=(new Va).retain(o).insert("\n");this.quill.updateContents(s,pf.sources.USER),this.quill.setSelection(o,pf.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler:function(e,t){var n=t.event,r=t.line,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,pf.sources.USER):this.quill.setSelection(i+r.length(),pf.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){if(null==this.quill.scroll.query("list"))return!0;var n,r=t.prefix.length,i=Yh(this.quill.getLine(e.index),2),o=i[0],a=i[1];if(a>r)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(e.index," ",pf.sources.USER),this.quill.history.cutoff();var s=(new Va).retain(e.index-a).delete(r+1).retain(o.length()-2-a).retain(1,{list:n});return this.quill.updateContents(s,pf.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,pf.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(e){for(var t=Yh(this.quill.getLine(e.index),2),n=t[0],r=t[1],i=2,o=n;null!=o&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,(i-=1)<=0){var a=(new Va).retain(e.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,pf.sources.USER),this.quill.setSelection(e.index-1,pf.sources.SILENT),!1}return!0}},"embed left":ad("ArrowLeft",!1),"embed left shift":ad("ArrowLeft",!0),"embed right":ad("ArrowRight",!1),"embed right shift":ad("ArrowRight",!0),"table down":ld(!1),"table up":ld(!0)}};function od(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler:function(t,n){var r=n.event,i=this.quill.scroll.query("code-block").TAB;if(0===t.length&&!r.shiftKey)return this.quill.insertText(t.index,i,pf.sources.USER),void this.quill.setSelection(t.index+i.length,pf.sources.SILENT);var o=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t),a=t.index,s=t.length;o.forEach((function(t,n){e?(t.insertAt(0,i),0===n?a+=i.length:s+=i.length):t.domNode.textContent.startsWith(i)&&(t.deleteAt(0,i.length),0===n?a-=i.length:s-=i.length)})),this.quill.update(pf.sources.USER),this.quill.setSelection(a,s,pf.sources.SILENT)}}}function ad(e,t){return Wh(Wh({key:e,shiftKey:t,altKey:null},"ArrowLeft"===e?"prefix":"suffix",/^$/),"handler",(function(n){var r=n.index;return"ArrowRight"===e&&(r+=n.length+1),!(Yh(this.quill.getLeaf(r),1)[0]instanceof Ra)||("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,pf.sources.USER):this.quill.setSelection(n.index-1,pf.sources.USER):t?this.quill.setSelection(n.index,n.length+1,pf.sources.USER):this.quill.setSelection(n.index+n.length+1,pf.sources.USER),!1)}))}function sd(e){return{key:e[0],shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],pf.sources.USER)}}}function ld(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler:function(t,n){var r=e?"prev":"next",i=n.line,o=i.parent[r];if(null!=o){if("table-row"===o.statics.blotName){for(var a=o.children.head,s=i;null!=s.prev;)s=s.prev,a=a.next;var l=a.offset(this.quill.scroll)+Math.min(n.offset,a.length()-1);this.quill.setSelection(l,0,pf.sources.USER)}}else{var u=i.table()[r];null!=u&&(e?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,pf.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,pf.sources.USER))}return!1}}}function ud(e){var t=e.quill,n=e.range,r=t.getLines(n),i={};if(r.length>1){var o=r[0].formats(),a=r[r.length-1].formats();i=Va.AttributeMap.diff(a,o)||{}}t.deleteText(n,pf.sources.USER),Object.keys(i).length>0&&t.formatLine(n.index,1,i,pf.sources.USER),t.setSelection(n.index,pf.sources.SILENT)}function cd(e){return function(e){if(Array.isArray(e))return fd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}rd.DEFAULTS=id;var hd=/font-weight:\s*normal/,dd=["P","OL","UL"],pd=function(e){return e&&dd.includes(e.tagName)};var vd=/\bmso-list:[^;]*ignore/i,yd=/\bmso-list:[^;]*\bl(\d+)/i,md=/\bmso-list:[^;]*\blevel(\d+)/i,bd=function(e){var t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],r=[];t.forEach((function(e){(e.getAttribute("style")||"").match(vd)?n.push(e):r.push(e)})),n.forEach((function(e){var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}));for(var i=e.documentElement.innerHTML,o=r.map((function(e){return function(e,t){var n=e.getAttribute("style"),r=null==n?void 0:n.match(yd);if(!r)return null;var i=Number(r[1]),o=null==n?void 0:n.match(md),a=o?Number(o[1]):1,s=new RegExp("@list l".concat(i,":level").concat(a,"\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)"),"i"),l=t.match(s);return{id:i,indent:a,type:l&&"bullet"===l[1]?"bullet":"ordered",element:e}}(e,i)})).filter((function(e){return e})),a=function(){for(var e,t=[],n=o.shift();n;){var r;t.push(n),n=o.length&&(null===(r=o[0])||void 0===r?void 0:r.element)===n.element.nextElementSibling&&o[0].id===n.id?o.shift():null}var i=document.createElement("ul");t.forEach((function(e){var t=document.createElement("li");t.setAttribute("data-list",e.type),e.indent>1&&t.setAttribute("class","ql-indent-".concat(e.indent-1)),t.innerHTML=e.element.innerHTML,i.appendChild(t)}));var a=null===(e=t[0])||void 0===e?void 0:e.element,s=(null!=a?a:{}).parentNode;a&&(null==s||s.replaceChild(i,a)),t.slice(1).forEach((function(e){var t=e.element;null==s||s.removeChild(t)}))};o.length;)a()};var gd=[function(e){"urn:schemas-microsoft-com:office:word"===e.documentElement.getAttribute("xmlns:w")&&bd(e)},function(e){e.querySelector('[id^="docs-internal-guid-"]')&&(function(e){Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((function(e){var t;return null===(t=e.getAttribute("style"))||void 0===t?void 0:t.match(hd)})).forEach((function(t){var n,r=e.createDocumentFragment();r.append.apply(r,cd(t.childNodes)),null===(n=t.parentNode)||void 0===n||n.replaceChild(r,t)}))}(e),function(e){Array.from(e.querySelectorAll("br")).filter((function(e){return pd(e.previousElementSibling)&&pd(e.nextElementSibling)})).forEach((function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}))}(e))}];const wd=function(e){e.documentElement&&gd.forEach((function(t){t(e)}))};function _d(e){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pd(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cd(r.key),r)}}function Ed(e,t,n){return t=Td(t),function(e,t){if(t&&("object"==_d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jd()?Reflect.construct(t,n||[],Td(e).constructor):t.apply(e,n))}function jd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jd=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Td(e)}function Dd(e,t){return Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dd(e,t)}function Ad(e,t,n){return(t=Cd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cd(e){var t=function(e,t){if("object"!=_d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_d(t)?t:t+""}var Md=Pu("quill:clipboard"),Ld=[[Node.TEXT_NODE,function(e,t,n){var r,i=e.data;if("O:P"===(null===(r=e.parentElement)||void 0===r?void 0:r.tagName))return t.insert(i.trim());if(!qd(e)){if(0===i.trim().length&&i.includes("\n")&&!function(e,t){return e.previousElementSibling&&e.nextElementSibling&&!zd(e.previousElementSibling,t)&&!zd(e.nextElementSibling,t)}(e,n))return t;i=(i=i.replace(/[^\S\u00a0]/g," ")).replace(/ {2,}/g," "),(null==e.previousSibling&&null!=e.parentElement&&zd(e.parentElement,n)||e.previousSibling instanceof Element&&zd(e.previousSibling,n))&&(i=i.replace(/^ /,"")),(null==e.nextSibling&&null!=e.parentElement&&zd(e.parentElement,n)||e.nextSibling instanceof Element&&zd(e.nextSibling,n))&&(i=i.replace(/ $/,"")),i=i.replaceAll(" "," ")}return t.insert(i)}],[Node.TEXT_NODE,Ud],["br",function(e,t){Fd(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,Ud],[Node.ELEMENT_NODE,function(e,t,n){var r=n.query(e);if(null==r)return t;if(r.prototype instanceof Ra){var i={},o=r.value(e);if(null!=o)return i[r.blotName]=o,(new Va).insert(i,r.formats(e,n))}else if(r.prototype instanceof Ca&&!Fd(t,"\n")&&t.insert("\n"),"blotName"in r&&"formats"in r&&"function"==typeof r.formats)return Bd(t,r.blotName,r.formats(e,n),n);return t}],[Node.ELEMENT_NODE,function(e,t,n){var r=fa.keys(e),i=ya.keys(e),o=ba.keys(e),a={};return r.concat(i).concat(o).forEach((function(t){var r=n.query(t,ca.ATTRIBUTE);null!=r&&(a[r.attrName]=r.value(e),a[r.attrName])||(null==(r=Rd[t])||r.attrName!==t&&r.keyName!==t||(a[r.attrName]=r.value(e)||void 0),null==(r=Id[t])||r.attrName!==t&&r.keyName!==t||(r=Id[t],a[r.attrName]=r.value(e)||void 0))})),Object.entries(a).reduce((function(e,t){var r=Od(t,2);return Bd(e,r[0],r[1],n)}),t)}],[Node.ELEMENT_NODE,function(e,t,n){var r,i={},o=e.style||{};"italic"===o.fontStyle&&(i.italic=!0);"underline"===o.textDecoration&&(i.underline=!0);"line-through"===o.textDecoration&&(i.strike=!0);(null!==(r=o.fontWeight)&&void 0!==r&&r.startsWith("bold")||parseInt(o.fontWeight,10)>=700)&&(i.bold=!0);if(t=Object.entries(i).reduce((function(e,t){var r=Od(t,2);return Bd(e,r[0],r[1],n)}),t),parseFloat(o.textIndent||0)>0)return(new Va).insert("\t").concat(t);return t}],["li",function(e,t,n){var r=n.query(e);if(null==r||"list"!==r.blotName||!Fd(t,"\n"))return t;var i=-1,o=e.parentNode;for(;null!=o;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?t:t.reduce((function(e,t){return t.insert?t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,xd({indent:i},t.attributes||{})):e}),new Va)}],["ol, ul",function(e,t,n){var r=e,i="OL"===r.tagName?"ordered":"bullet",o=r.getAttribute("data-checked");o&&(i="true"===o?"checked":"unchecked");return Bd(t,"list",i,n)}],["pre",function(e,t,n){var r=n.query("code-block"),i=!r||!("formats"in r)||"function"!=typeof r.formats||r.formats(e,n);return Bd(t,"code-block",i,n)}],["tr",function(e,t,n){var r,i,o="TABLE"===(null===(r=e.parentElement)||void 0===r?void 0:r.tagName)?e.parentElement:null===(i=e.parentElement)||void 0===i?void 0:i.parentElement;if(null!=o){return Bd(t,"table",Array.from(o.querySelectorAll("tr")).indexOf(e)+1,n)}return t}],["b",Yd("bold")],["i",Yd("italic")],["strike",Yd("strike")],["style",function(){return new Va}]],Rd=[$f,Sh].reduce((function(e,t){return e[t.keyName]=t,e}),{}),Id=[Zf,ch,lh,jh,zh,qh].reduce((function(e,t){return e[t.keyName]=t,e}),{}),Nd=function(e){function t(e,n){var r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=Ed(this,t,[e,n])).quill.root.addEventListener("copy",(function(e){return i.onCaptureCopy(e,!1)})),i.quill.root.addEventListener("cut",(function(e){return i.onCaptureCopy(e,!0)})),i.quill.root.addEventListener("paste",i.onCapturePaste.bind(i)),i.matchers=[],Ld.concat(null!==(r=i.options.matchers)&&void 0!==r?r:[]).forEach((function(e){var t=Od(e,2),n=t[0],r=t[1];i.addMatcher(n,r)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dd(e,t)}(t,e),function(e,t,n){return t&&Sd(e.prototype,t),n&&Sd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){var t=e.html,n=e.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[xh.blotName])return(new Va).insert(n||"",Ad({},xh.blotName,r[xh.blotName]));if(!t)return(new Va).insert(n||"",r);var i=this.convertHTML(t);return Fd(i,"\n")&&(null==i.ops[i.ops.length-1].attributes||r.table)?i.compose((new Va).retain(i.length()-1).delete(1)):i}},{key:"normalizeHTML",value:function(e){wd(e)}},{key:"convertHTML",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html");this.normalizeHTML(t);var n=t.body,r=new WeakMap,i=Od(this.prepareMatching(n,r),2),o=i[0],a=i[1];return Hd(this.quill.scroll,n,o,a,r)}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pf.sources.API;if("string"==typeof e){var r=this.convert({html:e,text:""});this.quill.setContents(r,t),this.quill.setSelection(0,pf.sources.SILENT)}else{var i=this.convert({html:t,text:""});this.quill.updateContents((new Va).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),pf.sources.SILENT)}}},{key:"onCaptureCopy",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.defaultPrevented){e.preventDefault();var i=Od(this.quill.selection.getRange(),1)[0];if(null!=i){var o=this.onCopy(i,r),a=o.html,s=o.text;null===(t=e.clipboardData)||void 0===t||t.setData("text/plain",s),null===(n=e.clipboardData)||void 0===n||n.setData("text/html",a),r&&ud({range:i,quill:this.quill})}}}},{key:"normalizeURIList",value:function(e){return e.split(/\r?\n/).filter((function(e){return"#"!==e[0]})).join("\n")}},{key:"onCapturePaste",value:function(e){var t,n,r;if(!e.defaultPrevented&&this.quill.isEnabled()){e.preventDefault();var i=this.quill.getSelection(!0);if(null!=i){var o=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/html"),a=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain");if(!o&&!a){var s,l=null===(s=e.clipboardData)||void 0===s?void 0:s.getData("text/uri-list");l&&(a=this.normalizeURIList(l))}var u=Array.from((null===(r=e.clipboardData)||void 0===r?void 0:r.files)||[]);if(!o&&u.length>0)this.quill.uploader.upload(i,u);else{if(o&&u.length>0){var c,f=(new DOMParser).parseFromString(o,"text/html");if(1===f.body.childElementCount&&"IMG"===(null===(c=f.body.firstElementChild)||void 0===c?void 0:c.tagName))return void this.quill.uploader.upload(i,u)}this.onPaste(i,{html:o,text:a})}}}}},{key:"onCopy",value:function(e){var t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}},{key:"onPaste",value:function(e,t){var n=t.text,r=t.html,i=this.quill.getFormat(e.index),o=this.convert({text:n,html:r},i);Md.log("onPaste",o,{text:n,html:r});var a=(new Va).retain(e.index).delete(e.length).concat(o);this.quill.updateContents(a,pf.sources.USER),this.quill.setSelection(a.length()-e.length,pf.sources.SILENT),this.quill.scrollSelectionIntoView()}},{key:"prepareMatching",value:function(e,t){var n=[],r=[];return this.matchers.forEach((function(i){var o=Od(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:r.push(s);break;case Node.ELEMENT_NODE:n.push(s);break;default:Array.from(e.querySelectorAll(a)).forEach((function(e){if(t.has(e)){var n=t.get(e);null==n||n.push(s)}else t.set(e,[s])}))}})),[n,r]}}])}(Oc);function Bd(e,t,n,r){return r.query(t)?e.reduce((function(e,r){if(!r.insert)return e;if(r.attributes&&r.attributes[t])return e.push(r);var i=n?Ad({},t,n):{};return e.insert(r.insert,xd(xd({},i),r.attributes))}),new Va):e}function Fd(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function zd(e,t){if(!(e instanceof Element))return!1;var n=t.query(e);return!(n&&n.prototype instanceof Ra)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}Ad(Nd,"DEFAULTS",{matchers:[]});var Vd=new WeakMap;function qd(e){return null!=e&&(Vd.has(e)||("PRE"===e.tagName?Vd.set(e,!0):Vd.set(e,qd(e.parentNode))),Vd.get(e))}function Hd(e,t,n,r,i){return t.nodeType===t.TEXT_NODE?r.reduce((function(n,r){return r(t,n,e)}),new Va):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((function(o,a){var s=Hd(e,a,n,r,i);return a.nodeType===t.ELEMENT_NODE&&(s=n.reduce((function(t,n){return n(a,t,e)}),s),s=(i.get(a)||[]).reduce((function(t,n){return n(a,t,e)}),s)),o.concat(s)}),new Va):new Va}function Yd(e){return function(t,n,r){return Bd(n,e,!0,r)}}function Ud(e,t,n){if(!Fd(t,"\n")){if(zd(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&e.nextSibling)for(var r=e.nextSibling;null!=r;){if(zd(r,n))return t.insert("\n");var i=n.query(r);if(i&&i.prototype instanceof iu)return t.insert("\n");r=r.firstChild}}return t}function Gd(e){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(e)}function Xd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qd(r.key),r)}}function Wd(e,t,n){return t=Kd(t),function(e,t){if(t&&("object"==Gd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$d()?Reflect.construct(t,n||[],Kd(e).constructor):t.apply(e,n))}function $d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($d=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kd(e)}function Zd(e,t){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zd(e,t)}function Jd(e,t,n){return(t=Qd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qd(e){var t=function(e,t){if("object"!=Gd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gd(t)?t:t+""}var ep=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jd(r=Wd(this,t,[e,n]),"lastRecorded",0),Jd(r,"ignoreChange",!1),Jd(r,"stack",{undo:[],redo:[]}),Jd(r,"currentRange",null),r.quill.on(pf.events.EDITOR_CHANGE,(function(e,t,n,i){e===pf.events.SELECTION_CHANGE?t&&i!==pf.sources.SILENT&&(r.currentRange=t):e===pf.events.TEXT_CHANGE&&(r.ignoreChange||(r.options.userOnly&&i!==pf.sources.USER?r.transform(t):r.record(t,n)),r.currentRange=np(r.currentRange,t))})),r.quill.keyboard.addBinding({key:"z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"y",shortKey:!0},r.redo.bind(r)),r.quill.root.addEventListener("beforeinput",(function(e){"historyUndo"===e.inputType?(r.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(r.redo(),e.preventDefault())})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zd(e,t)}(t,e),function(e,t,n){return t&&Xd(e.prototype,t),n&&Xd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();if(n){var r=this.quill.getContents(),i=n.delta.invert(r);this.stack[t].push({delta:i,range:np(n.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,pf.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=e.invert(t),r=this.currentRange,i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();o&&(n=n.compose(o.delta),r=o.range)}else this.lastRecorded=i;0!==n.length()&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){tp(this.stack.undo,e),tp(this.stack.redo,e)}},{key:"undo",value:function(){this.change("undo","redo")}},{key:"restoreSelection",value:function(e){if(e.range)this.quill.setSelection(e.range,pf.sources.USER);else{var t=function(e,t){var n=t.reduce((function(e,t){return e+(t.delete||0)}),0),r=t.length()-n;(function(e,t){var n=t.ops[t.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"==typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((function(t){return null!=e.query(t,ca.BLOCK)}));return!1})(e,t)&&(r-=1);return r}(this.quill.scroll,e.delta);this.quill.setSelection(t,pf.sources.USER)}}}])}(Oc);function tp(e,t){for(var n=t,r=e.length-1;r>=0;r-=1){var i=e[r];e[r]={delta:n.transform(i.delta,!0),range:i.range&&np(i.range,n)},n=i.delta.transform(n),0===e[r].delta.length()&&e.splice(r,1)}}function np(e,t){if(!e)return e;var n=t.transformPosition(e.index);return{index:n,length:t.transformPosition(e.index+e.length)-n}}function rp(e){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(e)}function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,op(r.key),r)}}function op(e){var t=function(e,t){if("object"!=rp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rp(t)?t:t+""}function ap(e,t,n){return t=lp(t),function(e,t){if(t&&("object"==rp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sp()?Reflect.construct(t,n||[],lp(e).constructor):t.apply(e,n))}function sp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sp=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(e)}function up(e,t){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},up(e,t)}Jd(ep,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});var cp=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=ap(this,t,[e,n]),e.root.addEventListener("drop",(function(t){t.preventDefault();var n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(t.clientX,t.clientY);else if(document.caretPositionFromPoint){var i=document.caretPositionFromPoint(t.clientX,t.clientY);(n=document.createRange()).setStart(i.offsetNode,i.offset),n.setEnd(i.offsetNode,i.offset)}var o=n&&e.selection.normalizeNative(n);if(o){var a,s=e.selection.normalizedToRange(o);null!==(a=t.dataTransfer)&&void 0!==a&&a.files&&r.upload(s,t.dataTransfer.files)}})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&up(e,t)}(t,e),function(e,t,n){return t&&ip(e.prototype,t),n&&ip(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"upload",value:function(e,t){var n=this,r=[];Array.from(t).forEach((function(e){var t;e&&null!==(t=n.options.mimetypes)&&void 0!==t&&t.includes(e.type)&&r.push(e)})),r.length>0&&this.options.handler.call(this,e,r)}}])}(Oc);cp.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(e,t){var n=this;if(this.quill.scroll.query("image")){var r=t.map((function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}))}));Promise.all(r).then((function(t){var r=t.reduce((function(e,t){return e.insert({image:t})}),(new Va).retain(e.index).delete(e.length));n.quill.updateContents(r,Nu.sources.USER),n.quill.setSelection(e.index+t.length,Nu.sources.SILENT)}))}}};const fp=cp;function hp(e){return hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(e)}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pp(r.key),r)}}function pp(e){var t=function(e,t){if("object"!=hp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hp(t)?t:t+""}function vp(e,t,n){return t=mp(t),function(e,t){if(t&&("object"==hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yp()?Reflect.construct(t,n||[],mp(e).constructor):t.apply(e,n))}function yp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yp=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mp(e)}function bp(e,t){return bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bp(e,t)}var gp=["insertText","insertReplacementText"],wp=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=vp(this,t,[e,n]),e.root.addEventListener("beforeinput",(function(e){r.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||e.on(pf.events.COMPOSITION_BEFORE_START,(function(){r.handleCompositionStart()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bp(e,t)}(t,e),function(e,t,n){return t&&dp(e.prototype,t),n&&dp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"deleteRange",value:function(e){ud({range:e,quill:this.quill})}},{key:"replaceText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){var n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new Va).retain(e.index).insert(t,n),pf.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,pf.sources.SILENT),!0}},{key:"handleBeforeInput",value:function(e){if(!this.quill.composition.isComposing&&!e.defaultPrevented&&gp.includes(e.inputType)){var t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(t&&!0!==t.collapsed){var n=function(e){var t;if("string"==typeof e.data)return e.data;if(null!==(t=e.dataTransfer)&&void 0!==t&&t.types.includes("text/plain"))return e.dataTransfer.getData("text/plain");return null}(e);if(null!=n){var r=this.quill.selection.normalizeNative(t),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,n)&&e.preventDefault()}}}}},{key:"handleCompositionStart",value:function(){var e=this.quill.getSelection();e&&this.replaceText(e)}}])}(Oc);const _p=wp;function kp(e){return kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(e)}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tp(r.key),r)}}function Op(e,t,n){return t=Sp(t),function(e,t){if(t&&("object"==kp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pp()?Reflect.construct(t,n||[],Sp(e).constructor):t.apply(e,n))}function Pp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pp=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sp(e)}function Ep(e,t){return Ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ep(e,t)}function jp(e,t,n){return(t=Tp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tp(e){var t=function(e,t){if("object"!=kp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kp(t)?t:t+""}var Dp=/Mac/i.test(navigator.platform),Ap=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jp(r=Op(this,t,[e,n]),"isListening",!1),jp(r,"selectionChangeDeadline",0),r.handleArrowKeys(),r.handleNavigationShortcuts(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ep(e,t)}(t,e),function(e,t,n){return t&&xp(e.prototype,t),n&&xp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"handleArrowKeys",value:function(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler:function(e,t){var n=t.line,r=t.event;if(!(n instanceof ja&&n.uiNode))return!0;var i="rtl"===getComputedStyle(n.domNode).direction;return!!(i&&"ArrowRight"!==r.key||!i&&"ArrowLeft"!==r.key)||(this.quill.setSelection(e.index-1,e.length+(r.shiftKey?1:0),pf.sources.USER),!1)}})}},{key:"handleNavigationShortcuts",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(t){!t.defaultPrevented&&function(e){return"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"Home"===e.key||!(!Dp||"a"!==e.key||!0!==e.ctrlKey)}(t)&&e.ensureListeningToSelectionChange()}))}},{key:"ensureListeningToSelectionChange",value:function(){var e=this;if(this.selectionChangeDeadline=Date.now()+100,!this.isListening){this.isListening=!0;document.addEventListener("selectionchange",(function(){e.isListening=!1,Date.now()<=e.selectionChangeDeadline&&e.handleSelectionChange()}),{once:!0})}}},{key:"handleSelectionChange",value:function(){var e=document.getSelection();if(e){var t=e.getRangeAt(0);if(!0===t.collapsed&&0===t.startOffset){var n=this.quill.scroll.find(t.startContainer);if(n instanceof ja&&n.uiNode){var r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(r)}}}}}])}(Oc);const Cp=Ap;pf.register({"blots/block":ru,"blots/block/embed":iu,"blots/break":gl,"blots/container":Df,"blots/cursor":bu,"blots/embed":Rc,"blots/inline":Vl,"blots/scroll":Xf,"blots/text":El,"modules/clipboard":Nd,"modules/history":ep,"modules/keyboard":rd,"modules/uploader":fp,"modules/input":_p,"modules/uiNode":Cp});const Mp=pf;function Lp(e){return Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(e)}function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ip(r.key),r)}}function Ip(e){var t=function(e,t){if("object"!=Lp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lp(t)?t:t+""}function Np(e,t,n){return t=Vp(t),function(e,t){if(t&&("object"==Lp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bp()?Reflect.construct(t,n||[],Vp(e).constructor):t.apply(e,n))}function Bp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bp=function(){return!!e})()}function Fp(e,t,n,r){var i=zp(Vp(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function zp(){return zp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Vp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},zp.apply(null,arguments)}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vp(e)}function qp(e,t){return qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qp(e,t)}var Hp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Np(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}(t,e),function(e,t,n){return t&&Rp(e.prototype,t),n&&Rp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"add",value:function(e,n){var r=0;if("+1"===n||"-1"===n){var i=this.value(e)||0;r="+1"===n?i+1:i-1}else"number"==typeof n&&(r=n);return 0===r?(this.remove(e),!0):Fp(t,"add",this,3)([e,r.toString()])}},{key:"canAdd",value:function(e,n){return Fp(t,"canAdd",this,3)([e,n])||Fp(t,"canAdd",this,3)([e,parseInt(n,10)])}},{key:"value",value:function(e){return parseInt(Fp(t,"value",this,3)([e]),10)||void 0}}])}(ya);const Yp=new Hp("indent","ql-indent",{scope:ca.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});function Up(e){return Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(e)}function Gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jp(r.key),r)}}function Xp(e,t,n){return t=$p(t),function(e,t){if(t&&("object"==Up(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wp()?Reflect.construct(t,n||[],$p(e).constructor):t.apply(e,n))}function Wp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wp=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$p(e)}function Kp(e,t){return Kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kp(e,t)}function Zp(e,t,n){return(t=Jp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jp(e){var t=function(e,t){if("object"!=Up(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Up(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Up(t)?t:t+""}var Qp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xp(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kp(e,t)}(t,e),function(e,t,n){return t&&Gp(e.prototype,t),n&&Gp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(ru);Zp(Qp,"blotName","blockquote"),Zp(Qp,"tagName","blockquote");const ev=Qp;function tv(e){return tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(e)}function nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lv(r.key),r)}}function rv(e,t,n){return t=ov(t),function(e,t){if(t&&("object"==tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iv()?Reflect.construct(t,n||[],ov(e).constructor):t.apply(e,n))}function iv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iv=function(){return!!e})()}function ov(e){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ov(e)}function av(e,t){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},av(e,t)}function sv(e,t,n){return(t=lv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lv(e){var t=function(e,t){if("object"!=tv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tv(t)?t:t+""}var uv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rv(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}(t,e),function(e,t,n){return t&&nv(e.prototype,t),n&&nv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}])}(ru);sv(uv,"blotName","header"),sv(uv,"tagName",["H1","H2","H3","H4","H5","H6"]);const cv=uv;function fv(e){return fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(e)}function hv(e,t,n,r){var i=dv(wv(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function dv(){return dv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=wv(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dv.apply(null,arguments)}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yv(r.key),r)}}function vv(e,t,n){return t&&pv(e.prototype,t),n&&pv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yv(e){var t=function(e,t){if("object"!=fv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fv(t)?t:t+""}function mv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bv(e,t,n){return t=wv(t),function(e,t){if(t&&("object"==fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gv()?Reflect.construct(t,n||[],wv(e).constructor):t.apply(e,n))}function gv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gv=function(){return!!e})()}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wv(e)}function _v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kv(e,t)}function kv(e,t){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kv(e,t)}var xv=function(e){function t(){return mv(this,t),bv(this,t,arguments)}return _v(t,e),vv(t)}(Df);xv.blotName="list-container",xv.tagName="OL";var Ov=function(e){function t(e,n){var r;mv(this,t),r=bv(this,t,[e,n]);var i=n.ownerDocument.createElement("span"),o=function(t){if(e.isEnabled()){var i=r.statics.formats(n,e);"checked"===i?(r.format("list","unchecked"),t.preventDefault()):"unchecked"===i&&(r.format("list","checked"),t.preventDefault())}};return i.addEventListener("mousedown",o),i.addEventListener("touchstart",o),r.attachUI(i),r}return _v(t,e),vv(t,[{key:"format",value:function(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):hv(t,"format",this,3)([e,n])}}],[{key:"create",value:function(e){var n=hv(t,"create",this,2)([]);return n.setAttribute("data-list",e),n}},{key:"formats",value:function(e){return e.getAttribute("data-list")||void 0}},{key:"register",value:function(){pf.register(xv)}}])}(ru);function Pv(e){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(e)}function Sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lv(r.key),r)}}function Ev(e,t,n){return t=Av(t),function(e,t){if(t&&("object"==Pv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jv()?Reflect.construct(t,n||[],Av(e).constructor):t.apply(e,n))}function jv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jv=function(){return!!e})()}function Tv(e,t,n,r){var i=Dv(Av(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Dv(){return Dv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Av(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Dv.apply(null,arguments)}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Av(e)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cv(e,t)}function Mv(e,t,n){return(t=Lv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lv(e){var t=function(e,t){if("object"!=Pv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pv(t)?t:t+""}Ov.blotName="list",Ov.tagName="LI",xv.allowedChildren=[Ov],Ov.requiredContainer=xv;var Rv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ev(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}(t,e),function(e,t,n){return t&&Sv(e.prototype,t),n&&Sv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"optimize",value:function(e){Tv(t,"optimize",this,3)([e]),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Tv(t,"create",this,2)([])}},{key:"formats",value:function(){return!0}}])}(Vl);Mv(Rv,"blotName","bold"),Mv(Rv,"tagName",["STRONG","B"]);const Iv=Rv;function Nv(e){return Nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(e)}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yv(r.key),r)}}function Fv(e,t,n){return t=Vv(t),function(e,t){if(t&&("object"==Nv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zv()?Reflect.construct(t,n||[],Vv(e).constructor):t.apply(e,n))}function zv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zv=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vv(e)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qv(e,t)}function Hv(e,t,n){return(t=Yv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yv(e){var t=function(e,t){if("object"!=Nv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nv(t)?t:t+""}var Uv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fv(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}(t,e),function(e,t,n){return t&&Bv(e.prototype,t),n&&Bv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(Iv);Hv(Uv,"blotName","italic"),Hv(Uv,"tagName",["EM","I"]);const Gv=Uv;function Xv(e){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(e)}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ny(r.key),r)}}function $v(e,t,n){return t=Qv(t),function(e,t){if(t&&("object"==Xv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kv()?Reflect.construct(t,n||[],Qv(e).constructor):t.apply(e,n))}function Kv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kv=function(){return!!e})()}function Zv(e,t,n,r){var i=Jv(Qv(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Jv(){return Jv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Qv(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jv.apply(null,arguments)}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qv(e)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ey(e,t)}function ty(e,t,n){return(t=ny(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ny(e){var t=function(e,t){if("object"!=Xv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xv(t)?t:t+""}var ry=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$v(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}(t,e),function(e,t,n){return t&&Wv(e.prototype,t),n&&Wv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"format",value:function(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("href",this.constructor.sanitize(n)):Zv(t,"format",this,3)([e,n])}}],[{key:"create",value:function(e){var n=Zv(t,"create",this,2)([e]);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return iy(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}])}(Vl);function iy(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}function oy(e){return oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(e)}function ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dy(r.key),r)}}function sy(e,t,n){return t=cy(t),function(e,t){if(t&&("object"==oy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ly()?Reflect.construct(t,n||[],cy(e).constructor):t.apply(e,n))}function ly(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ly=function(){return!!e})()}function uy(){return uy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=cy(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},uy.apply(null,arguments)}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cy(e)}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fy(e,t)}function hy(e,t,n){return(t=dy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dy(e){var t=function(e,t){if("object"!=oy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oy(t)?t:t+""}ty(ry,"blotName","link"),ty(ry,"tagName","A"),ty(ry,"SANITIZED_URL","about:blank"),ty(ry,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);var py=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sy(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}(t,e),function(e,t,n){return t&&ay(e.prototype,t),n&&ay(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function(e,t,n,r){var i=uy(cy(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"create",this,2)([e])}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}])}(Vl);hy(py,"blotName","script"),hy(py,"tagName",["SUB","SUP"]);const vy=py;function yy(e){return yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(e)}function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xy(r.key),r)}}function by(e,t,n){return t=wy(t),function(e,t){if(t&&("object"==yy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gy()?Reflect.construct(t,n||[],wy(e).constructor):t.apply(e,n))}function gy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gy=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wy(e)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_y(e,t)}function ky(e,t,n){return(t=xy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xy(e){var t=function(e,t){if("object"!=yy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yy(t)?t:t+""}var Oy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),by(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}(t,e),function(e,t,n){return t&&my(e.prototype,t),n&&my(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(Iv);ky(Oy,"blotName","strike"),ky(Oy,"tagName",["S","STRIKE"]);const Py=Oy;function Sy(e){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(e)}function Ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,My(r.key),r)}}function jy(e,t,n){return t=Dy(t),function(e,t){if(t&&("object"==Sy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ty()?Reflect.construct(t,n||[],Dy(e).constructor):t.apply(e,n))}function Ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ty=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dy(e)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ay(e,t)}function Cy(e,t,n){return(t=My(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function My(e){var t=function(e,t){if("object"!=Sy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sy(t)?t:t+""}var Ly=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jy(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}(t,e),function(e,t,n){return t&&Ey(e.prototype,t),n&&Ey(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(Vl);Cy(Ly,"blotName","underline"),Cy(Ly,"tagName","U");const Ry=Ly;function Iy(e){return Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(e)}function Ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yy(r.key),r)}}function By(e,t,n){return t=Vy(t),function(e,t){if(t&&("object"==Iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fy()?Reflect.construct(t,n||[],Vy(e).constructor):t.apply(e,n))}function Fy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fy=function(){return!!e})()}function zy(){return zy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Vy(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},zy.apply(null,arguments)}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vy(e)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qy(e,t)}function Hy(e,t,n){return(t=Yy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yy(e){var t=function(e,t){if("object"!=Iy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iy(t)?t:t+""}var Uy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),By(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}(t,e),function(e,t,n){return t&&Ny(e.prototype,t),n&&Ny(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"html",value:function(){var e=this.value().formula;return"<span>".concat(e,"</span>")}}],[{key:"create",value:function(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");var n=function(e,t,n,r){var i=zy(Vy(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"create",this,2)([e]);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}])}(Rc);Hy(Uy,"blotName","formula"),Hy(Uy,"className","ql-formula"),Hy(Uy,"tagName","SPAN");const Gy=Uy;function Xy(e){return Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(e)}function Wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nm(r.key),r)}}function $y(e,t,n){return t=Qy(t),function(e,t){if(t&&("object"==Xy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ky()?Reflect.construct(t,n||[],Qy(e).constructor):t.apply(e,n))}function Ky(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ky=function(){return!!e})()}function Zy(e,t,n,r){var i=Jy(Qy(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Jy(){return Jy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Qy(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jy.apply(null,arguments)}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qy(e)}function em(e,t){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},em(e,t)}function tm(e,t,n){return(t=nm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nm(e){var t=function(e,t){if("object"!=Xy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xy(t)?t:t+""}var rm=["alt","height","width"],im=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$y(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}(t,e),function(e,t,n){return t&&Wy(e.prototype,t),n&&Wy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"format",value:function(e,n){rm.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):Zy(t,"format",this,3)([e,n])}}],[{key:"create",value:function(e){var n=Zy(t,"create",this,2)([e]);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return rm.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return iy(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}])}(Ra);tm(im,"blotName","image"),tm(im,"tagName","IMG");const om=im;function am(e){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(e)}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vm(r.key),r)}}function lm(e,t,n){return t=hm(t),function(e,t){if(t&&("object"==am(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,um()?Reflect.construct(t,n||[],hm(e).constructor):t.apply(e,n))}function um(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(um=function(){return!!e})()}function cm(e,t,n,r){var i=fm(hm(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function fm(){return fm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=hm(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fm.apply(null,arguments)}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hm(e)}function dm(e,t){return dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dm(e,t)}function pm(e,t,n){return(t=vm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vm(e){var t=function(e,t){if("object"!=am(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==am(t)?t:t+""}var ym=["height","width"],mm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lm(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}(t,e),function(e,t,n){return t&&sm(e.prototype,t),n&&sm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"format",value:function(e,n){ym.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):cm(t,"format",this,3)([e,n])}},{key:"html",value:function(){var e=this.value().video;return'<a href="'.concat(e,'">').concat(e,"</a>")}}],[{key:"create",value:function(e){var n=cm(t,"create",this,2)([e]);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return ym.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return ry.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}])}(iu);pm(mm,"blotName","video"),pm(mm,"className","ql-video"),pm(mm,"tagName","IFRAME");const bm=mm;function gm(e){return gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(e)}function wm(e,t,n){return(t=Sm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return km(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?km(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function km(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function xm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sm(r.key),r)}}function Pm(e,t,n){return t&&Om(e.prototype,t),n&&Om(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sm(e){var t=function(e,t){if("object"!=gm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gm(t)?t:t+""}function Em(e,t,n){return t=Mm(t),function(e,t){if(t&&("object"==gm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jm()?Reflect.construct(t,n||[],Mm(e).constructor):t.apply(e,n))}function jm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jm=function(){return!!e})()}function Tm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dm(e,t)}function Dm(e,t){return Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dm(e,t)}function Am(e,t,n,r){var i=Cm(Mm(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Cm(){return Cm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Mm(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Cm.apply(null,arguments)}function Mm(e){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mm(e)}var Lm=new ya("code-token","hljs",{scope:ca.INLINE}),Rm=function(e){function t(e,n,r){var i;return xm(this,t),i=Em(this,t,[e,n,r]),Lm.add(i.domNode,r),i}return Tm(t,e),Pm(t,[{key:"format",value:function(e,n){e!==t.blotName?Am(t,"format",this,3)([e,n]):n?Lm.add(this.domNode,n):(Lm.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){Am(t,"optimize",this,3)(arguments),Lm.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(e,n){for(;null!=e&&e!==n.domNode;){if(e.classList&&e.classList.contains(xh.className))return Am(t,"formats",this,2)([e,n]);e=e.parentNode}}}])}(Vl);Rm.blotName="code-token",Rm.className="ql-token";var Im=function(e){function t(){return xm(this,t),Em(this,t,arguments)}return Tm(t,e),Pm(t,[{key:"format",value:function(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):Am(t,"format",this,3)([e,n])}},{key:"replaceWith",value:function(e,n){return this.formatAt(0,this.length(),Rm.blotName,!1),Am(t,"replaceWith",this,3)([e,n])}}],[{key:"create",value:function(e){var n=Am(t,"create",this,2)([e]);return"string"==typeof e&&n.setAttribute("data-language",e),n}},{key:"formats",value:function(e){return e.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}])}(xh),Nm=function(e){function t(){return xm(this,t),Em(this,t,arguments)}return Tm(t,e),Pm(t,[{key:"attach",value:function(){Am(t,"attach",this,3)([]),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(e,t){e===Im.blotName&&(this.forceNext=!0,this.children.forEach((function(n){n.format(e,t)})))}},{key:"formatAt",value:function(e,n,r,i){r===Im.blotName&&(this.forceNext=!0),Am(t,"formatAt",this,3)([e,n,r,i])}},{key:"highlight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var r=Array.from(this.domNode.childNodes).filter((function(e){return e!==t.uiNode})),i="".concat(r.map((function(e){return e.textContent})).join("\n"),"\n"),o=Im.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||null==this.cachedText){var a=this.children.reduce((function(e,t){return e.concat(ou(t,!1))}),new Va),s=e(i,o);a.diff(s).reduce((function(e,n){var r=n.retain,i=n.attributes;return r?(i&&Object.keys(i).forEach((function(n){[Im.blotName,Rm.blotName].includes(n)&&t.formatAt(e,r,n,i[n])})),e+r):e}),0)}this.cachedText=i,this.forceNext=!1}}}},{key:"html",value:function(e,t){var n=_m(this.children.find(e),1)[0],r=n?Im.formats(n.domNode):"plain";return'<pre data-language="'.concat(r,'">\n').concat(Tl(this.code(e,t)),"\n</pre>")}},{key:"optimize",value:function(e){if(Am(t,"optimize",this,3)([e]),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var n=Im.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}])}(kh);Nm.allowedChildren=[Im],Im.requiredContainer=Nm,Im.allowedChildren=[Rm,bu,El,gl];var Bm=function(e){function t(e,n){var r;if(xm(this,t),null==(r=Em(this,t,[e,n])).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return r.languages=r.options.languages.reduce((function(e,t){return e[t.key]=!0,e}),{}),r.highlightBlot=r.highlightBlot.bind(r),r.initListener(),r.initTimer(),r}return Tm(t,e),Pm(t,[{key:"initListener",value:function(){var e=this;this.quill.on(pf.events.SCROLL_BLOT_MOUNT,(function(t){if(t instanceof Nm){var n=e.quill.root.ownerDocument.createElement("select");e.options.languages.forEach((function(e){var t=e.key,r=e.label,i=n.ownerDocument.createElement("option");i.textContent=r,i.setAttribute("value",t),n.appendChild(i)})),n.addEventListener("change",(function(){t.format(Im.blotName,n.value),e.quill.root.focus(),e.highlight(t,!0)})),null==t.uiNode&&(t.attachUI(n),t.children.head&&(n.value=Im.formats(t.children.head.domNode)))}}))}},{key:"initTimer",value:function(){var e=this,t=null;this.quill.on(pf.events.SCROLL_OPTIMIZE,(function(){t&&clearTimeout(t),t=setTimeout((function(){e.highlight(),t=null}),e.options.interval)}))}},{key:"highlight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(pf.sources.USER);var r=this.quill.getSelection();(null==t?this.quill.scroll.descendants(Nm):[t]).forEach((function(t){t.highlight(e.highlightBlot,n)})),this.quill.update(pf.sources.SILENT),null!=r&&this.quill.setSelection(r,pf.sources.SILENT)}}},{key:"highlightBlot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(t=this.languages[t]?t:"plain"))return Tl(e).split("\n").reduce((function(e,n,r){return 0!==r&&e.insert("\n",wm({},xh.blotName,t)),e.insert(n)}),new Va);var n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(xh.className),n.innerHTML=function(e,t,n){if("string"==typeof e.versionString){var r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value}(this.options.hljs,t,e),Hd(this.quill.scroll,n,[function(e,t){var n=Lm.value(e);return n?t.compose((new Va).retain(t.length(),wm({},Rm.blotName,n))):t}],[function(e,n){return e.data.split("\n").reduce((function(e,n,r){return 0!==r&&e.insert("\n",wm({},xh.blotName,t)),e.insert(n)}),n)}],new WeakMap)}}],[{key:"register",value:function(){pf.register(Rm,!0),pf.register(Im,!0),pf.register(Nm,!0)}}])}(Oc);function Fm(e){return Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(e)}function zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qm(r.key),r)}}function Ym(e,t,n){return t&&Hm(e.prototype,t),n&&Hm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Um(e,t,n){return t=$m(t),function(e,t){if(t&&("object"==Fm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gm()?Reflect.construct(t,n||[],$m(e).constructor):t.apply(e,n))}function Gm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gm=function(){return!!e})()}function Xm(e,t,n,r){var i=Wm($m(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Wm(){return Wm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wm.apply(null,arguments)}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$m(e)}function Km(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zm(e,t)}function Jm(e,t,n){return(t=Qm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e){var t=function(e,t){if("object"!=Fm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fm(t)?t:t+""}Bm.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var eb=function(e){function t(){return qm(this,t),Um(this,t,arguments)}return Km(t,e),Ym(t,[{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"format",value:function(e,n){e===t.blotName&&n?this.domNode.setAttribute("data-row",n):Xm(t,"format",this,3)([e,n])}},{key:"row",value:function(){return this.parent}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){return this.row()&&this.row().table()}}],[{key:"create",value:function(e){var n=Xm(t,"create",this,2)([]);return e?n.setAttribute("data-row",e):n.setAttribute("data-row",ib()),n}},{key:"formats",value:function(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}}])}(ru);Jm(eb,"blotName","table"),Jm(eb,"tagName","TD");var tb=function(e){function t(){return qm(this,t),Um(this,t,arguments)}return Km(t,e),Ym(t,[{key:"checkMerge",value:function(){if(Xm(t,"checkMerge",this,3)([])&&null!=this.next.children.head){var e=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===r.table&&e.table===i.table}return!1}},{key:"optimize",value:function(e){var n=this;Xm(t,"optimize",this,3)([e]),this.children.forEach((function(e){if(null!=e.next){var t=e.formats(),r=e.next.formats();if(t.table!==r.table){var i=n.splitAfter(e);i&&i.optimize(),n.prev&&n.prev.optimize()}}}))}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){return this.parent&&this.parent.parent}}])}(Df);Jm(tb,"blotName","table-row"),Jm(tb,"tagName","TR");var nb=function(e){function t(){return qm(this,t),Um(this,t,arguments)}return Km(t,e),Ym(t)}(Df);Jm(nb,"blotName","table-body"),Jm(nb,"tagName","TBODY");var rb=function(e){function t(){return qm(this,t),Um(this,t,arguments)}return Km(t,e),Ym(t,[{key:"balanceCells",value:function(){var e=this,t=this.descendants(tb),n=t.reduce((function(e,t){return Math.max(t.children.length,e)}),0);t.forEach((function(t){new Array(n-t.children.length).fill(0).forEach((function(){var n;null!=t.children.head&&(n=eb.formats(t.children.head.domNode));var r=e.scroll.create(eb.blotName,n);t.appendChild(r),r.optimize()}))}))}},{key:"cells",value:function(e){return this.rows().map((function(t){return t.children.at(e)}))}},{key:"deleteColumn",value:function(e){var t=zm(this.descendant(nb),1)[0];null!=t&&null!=t.children.head&&t.children.forEach((function(t){var n=t.children.at(e);null!=n&&n.remove()}))}},{key:"insertColumn",value:function(e){var t=this,n=zm(this.descendant(nb),1)[0];null!=n&&null!=n.children.head&&n.children.forEach((function(n){var r=n.children.at(e),i=eb.formats(n.children.head.domNode),o=t.scroll.create(eb.blotName,i);n.insertBefore(o,r)}))}},{key:"insertRow",value:function(e){var t=this,n=zm(this.descendant(nb),1)[0];if(null!=n&&null!=n.children.head){var r=ib(),i=this.scroll.create(tb.blotName);n.children.head.children.forEach((function(){var e=t.scroll.create(eb.blotName,r);i.appendChild(e)}));var o=n.children.at(e);n.insertBefore(i,o)}}},{key:"rows",value:function(){var e=this.children.head;return null==e?[]:e.children.map((function(e){return e}))}}])}(Df);function ib(){var e=Math.random().toString(36).slice(2,6);return"row-".concat(e)}function ob(e){return ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(e)}function ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ub(r.key),r)}}function ub(e){var t=function(e,t){if("object"!=ob(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ob(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ob(t)?t:t+""}function cb(e,t,n){return t=hb(t),function(e,t){if(t&&("object"==ob(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fb()?Reflect.construct(t,n||[],hb(e).constructor):t.apply(e,n))}function fb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fb=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hb(e)}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},db(e,t)}Jm(rb,"blotName","table-container"),Jm(rb,"tagName","TABLE"),rb.allowedChildren=[nb],nb.requiredContainer=rb,nb.allowedChildren=[tb],tb.requiredContainer=nb,tb.allowedChildren=[eb],eb.requiredContainer=tb;var pb=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=cb(this,t,arguments)).listenBalanceCells(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}(t,e),function(e,t,n){return t&&lb(e.prototype,t),n&&lb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"balanceTables",value:function(){this.quill.scroll.descendants(rb).forEach((function(e){e.balanceCells()}))}},{key:"deleteColumn",value:function(){var e=ab(this.getTable(),3),t=e[0],n=e[2];null!=n&&(t.deleteColumn(n.cellOffset()),this.quill.update(pf.sources.USER))}},{key:"deleteRow",value:function(){var e=ab(this.getTable(),2)[1];null!=e&&(e.remove(),this.quill.update(pf.sources.USER))}},{key:"deleteTable",value:function(){var e=ab(this.getTable(),1)[0];if(null!=e){var t=e.offset();e.remove(),this.quill.update(pf.sources.USER),this.quill.setSelection(t,pf.sources.SILENT)}}},{key:"getTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==e)return[null,null,null,-1];var t=ab(this.quill.getLine(e.index),2),n=t[0],r=t[1];if(null==n||n.statics.blotName!==eb.blotName)return[null,null,null,-1];var i=n.parent;return[i.parent.parent,i,n,r]}},{key:"insertColumn",value:function(e){var t=this.quill.getSelection();if(t){var n=ab(this.getTable(t),3),r=n[0],i=n[1],o=n[2];if(null!=o){var a=o.cellOffset();r.insertColumn(a+e),this.quill.update(pf.sources.USER);var s=i.rowOffset();0===e&&(s+=1),this.quill.setSelection(t.index+s,t.length,pf.sources.SILENT)}}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(e){var t=this.quill.getSelection();if(t){var n=ab(this.getTable(t),3),r=n[0],i=n[1];if(null!=n[2]){var o=i.rowOffset();r.insertRow(o+e),this.quill.update(pf.sources.USER),e>0?this.quill.setSelection(t,pf.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,pf.sources.SILENT)}}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertTable",value:function(e,t){var n=this.quill.getSelection();if(null!=n){var r=new Array(e).fill(0).reduce((function(e){var n=new Array(t).fill("\n").join("");return e.insert(n,{table:ib()})}),(new Va).retain(n.index));this.quill.updateContents(r,pf.sources.USER),this.quill.setSelection(n.index,pf.sources.SILENT),this.balanceTables()}}},{key:"listenBalanceCells",value:function(){var e=this;this.quill.on(pf.events.SCROLL_OPTIMIZE,(function(t){t.some((function(t){return!!["TD","TR","TBODY","TABLE"].includes(t.target.tagName)&&(e.quill.once(pf.events.TEXT_CHANGE,(function(t,n,r){r===pf.sources.USER&&e.balanceTables()})),!0)}))}))}}],[{key:"register",value:function(){pf.register(eb),pf.register(tb),pf.register(nb),pf.register(rb)}}])}(Oc);const vb=pb;function yb(e){return yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(e)}function mb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wb(r.key),r)}}function wb(e){var t=function(e,t){if("object"!=yb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yb(t)?t:t+""}function _b(e,t){if(t&&("object"==yb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kb=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xb(e)}function Ob(e,t){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ob(e,t)}var Pb=Pu("quill:toolbar"),Sb=function(e){function t(e,n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t,n){return t=xb(t),_b(e,kb()?Reflect.construct(t,n||[],xb(e).constructor):t.apply(e,n))}(this,t,[e,n]),Array.isArray(r.options.container)){var i,o=document.createElement("div");o.setAttribute("role","toolbar"),function(e,t){Array.isArray(t[0])||(t=[t]);t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)Eb(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-".concat(t)),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",String(e)):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):Eb(n,t,r)}})),e.appendChild(n)}))}(o,r.options.container),null===(i=e.container)||void 0===i||null===(i=i.parentNode)||void 0===i||i.insertBefore(o,e.container),r.container=o}else"string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;return r.container instanceof HTMLElement?(r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},r.options.handlers&&Object.keys(r.options.handlers).forEach((function(e){var t,n=null===(t=r.options.handlers)||void 0===t?void 0:t[e];n&&r.addHandler(e,n)})),Array.from(r.container.querySelectorAll("button, select")).forEach((function(e){r.attach(e)})),r.quill.on(pf.events.EDITOR_CHANGE,(function(){var e=mb(r.quill.selection.getRange(),1)[0];r.update(e)})),r):(Pb.error("Container required for toolbar",r.options),_b(r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ob(e,t)}(t,e),function(e,t,n){return t&&gb(e.prototype,t),n&&gb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=Array.from(e.classList).find((function(e){return 0===e.indexOf("ql-")}));if(n)if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null!=this.handlers[n]||null!=this.quill.scroll.query(n)){var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var i;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var o=e.options[e.selectedIndex];i=!o.hasAttribute("selected")&&(o.value||!1)}else i=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var a=mb(t.quill.selection.getRange(),1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,i);else if(t.quill.scroll.query(n).prototype instanceof Ra){if(!(i=prompt("Enter ".concat(n))))return;t.quill.updateContents((new Va).retain(a.index).delete(a.length).insert(function(e,t,n){return(t=wb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,i)),pf.sources.USER)}else t.quill.format(n,i,pf.sources.USER);t.update(a)})),this.controls.push([n,e])}else Pb.warn("ignoring attaching to nonexistent format",n,e)}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=mb(n,2),i=r[0],o=r[1];if("SELECT"===o.tagName){var a=null;if(null==e)a=null;else if(null==t[i])a=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){var s=t[i];"string"==typeof s&&(s=s.replace(/"/g,'\\"')),a=o.querySelector('option[value="'.concat(s,'"]'))}null==a?(o.value="",o.selectedIndex=-1):a.selected=!0}else if(null==e)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){var l=t[i],u=l===o.getAttribute("value")||null!=l&&l.toString()===o.getAttribute("value")||null==l&&!o.getAttribute("value");o.classList.toggle("ql-active",u),o.setAttribute("aria-pressed",u.toString())}else{var c=null!=t[i];o.classList.toggle("ql-active",c),o.setAttribute("aria-pressed",c.toString())}}))}}])}(Oc);function Eb(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-".concat(t)),r.setAttribute("aria-pressed","false"),null!=n?(r.value=n,r.setAttribute("aria-label","".concat(t,": ").concat(n))):r.setAttribute("aria-label",t),e.appendChild(r)}Sb.DEFAULTS={},Sb.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0===t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=e.quill.scroll.query(t,ca.INLINE)&&e.quill.format(t,!1,pf.sources.USER)}))}else this.quill.removeFormat(t.index,t.length,pf.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",pf.sources.USER):e||"right"!==t||this.quill.format("align",!1,pf.sources.USER),this.quill.format("direction",e,pf.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0,10);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,pf.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,pf.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,pf.sources.USER):this.quill.format("list","unchecked",pf.sources.USER):this.quill.format("list",e,pf.sources.USER)}}};var jb='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';const Tb={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:jb,"code-block":jb,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};function Db(e){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(e)}function Ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cb(r.key),r)}}function Cb(e){var t=function(e,t){if("object"!=Db(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Db(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Db(t)?t:t+""}var Mb=0;function Lb(e,t){e.setAttribute(t,"".concat(!("true"===e.getAttribute(t))))}var Rb=function(){return function(e,t,n){return t&&Ab(e.prototype,t),n&&Ab(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.key){case"Enter":n.togglePicker();break;case"Escape":n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}),[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),Lb(this.label,"aria-expanded"),Lb(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");var r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.key){case"Enter":t.selectItem(n,!0),e.preventDefault();break;case"Escape":t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-".concat(Mb),Mb+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;Array.from(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}},{key:"update",value:function(){var e;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}])}();const Ib=Rb;function Nb(e){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(e)}function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fb(r.key),r)}}function Fb(e){var t=function(e,t){if("object"!=Nb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nb(t)?t:t+""}function zb(e,t,n){return t=Yb(t),function(e,t){if(t&&("object"==Nb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vb()?Reflect.construct(t,n||[],Yb(e).constructor):t.apply(e,n))}function Vb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vb=function(){return!!e})()}function qb(e,t,n,r){var i=Hb(Yb(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Hb(){return Hb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Yb(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hb.apply(null,arguments)}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yb(e)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ub(e,t)}var Gb=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=zb(this,t,[e])).label.innerHTML=n,r.container.classList.add("ql-color-picker"),Array.from(r.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}(t,e),function(e,t,n){return t&&Bb(e.prototype,t),n&&Bb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"buildItem",value:function(e){var n=qb(t,"buildItem",this,3)([e]);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){qb(t,"selectItem",this,3)([e,n]);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}])}(Ib);const Xb=Gb;function Wb(e){return Wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(e)}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kb(r.key),r)}}function Kb(e){var t=function(e,t){if("object"!=Wb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wb(t)?t:t+""}function Zb(e,t,n){return t=eg(t),function(e,t){if(t&&("object"==Wb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jb()?Reflect.construct(t,n||[],eg(e).constructor):t.apply(e,n))}function Jb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jb=function(){return!!e})()}function Qb(){return Qb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=eg(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qb.apply(null,arguments)}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eg(e)}function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tg(e,t)}var ng=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Zb(this,t,[e])).container.classList.add("ql-icon-picker"),Array.from(r.container.querySelectorAll(".ql-picker-item")).forEach((function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}(t,e),function(e,t,n){return t&&$b(e.prototype,t),n&&$b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"selectItem",value:function(e,n){!function(e,t,n,r){var i=Qb(eg(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"selectItem",this,3)([e,n]);var r=e||this.defaultItem;if(null!=r){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}])}(Ib);const rg=ng;function ig(e){return ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(e)}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ag(r.key),r)}}function ag(e){var t=function(e,t){if("object"!=ig(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ig(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ig(t)?t:t+""}var sg=function(){return function(e,t,n){return t&&og(e.prototype,t),n&&og(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){var r,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,r=this.quill.root,"visible"!==(i=getComputedStyle(r,null).overflowY)&&"clip"!==i&&this.quill.root.addEventListener("scroll",(function(){o.root.style.marginTop="".concat(-1*o.quill.root.scrollTop,"px")})),this.hide()}),[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left="".concat(t,"px"),this.root.style.top="".concat(n,"px"),this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left="".concat(t+o,"px")),i.left<r.left&&(o=r.left-i.left,this.root.style.left="".concat(t+o,"px")),i.bottom>r.bottom){var a=i.bottom-i.top,s=e.bottom-e.top+a;this.root.style.top="".concat(n-s,"px"),this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}])}();const lg=sg;function ug(e){return ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(e)}function cg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dg(r.key),r)}}function hg(e,t,n){return t&&fg(e.prototype,t),n&&fg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dg(e){var t=function(e,t){if("object"!=ug(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ug(t)?t:t+""}function pg(e,t,n){return t=mg(t),function(e,t){if(t&&("object"==ug(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vg()?Reflect.construct(t,n||[],mg(e).constructor):t.apply(e,n))}function vg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vg=function(){return!!e})()}function yg(){return yg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=mg(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yg.apply(null,arguments)}function mg(e){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mg(e)}function bg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gg(e,t)}var wg=[!1,"center","right","justify"],_g=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],kg=[!1,"serif","monospace"],xg=["1","2","3",!1],Og=["small",!1,"large","huge"],Pg=function(e){function t(e,n){var r;cg(this,t),r=pg(this,t,[e,n]);var i=function(t){document.body.contains(e.root)?(null==r.tooltip||r.tooltip.root.contains(t.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(t.target)||e.close()}))):document.body.removeEventListener("click",i)};return e.emitter.listenDOM("click",document.body,i),r}return bg(t,e),hg(t,[{key:"addModule",value:function(e){var n=function(e,t,n,r){var i=yg(mg(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"addModule",this,3)([e]);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){Array.from(e).forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=Array.from(e).map((function(e){if(e.classList.contains("ql-align")&&(null==e.querySelector("option")&&Eg(e,wg),"object"===ug(t.align)))return new rg(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&Eg(e,_g,"background"===n?"#ffffff":"#000000"),new Xb(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?Eg(e,kg):e.classList.contains("ql-header")?Eg(e,xg):e.classList.contains("ql-size")&&Eg(e,Og)),new Ib(e)}));this.quill.on(Nu.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}])}(Xc);Pg.DEFAULTS=Uo({},Xc.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",(function(){var n=e.quill.getSelection(!0);e.quill.uploader.upload(n,t.files),t.value=""})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Sg=function(e){function t(e,n){var r;return cg(this,t),(r=pg(this,t,[e,n])).textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return bg(t,e),hg(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){"Enter"===t.key?(e.save(),t.preventDefault()):"Escape"===t.key&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide(),this.restoreFocus()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=this.textbox){null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");var n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-".concat(e))||""),this.root.setAttribute("data-mode",e)}}},{key:"restoreFocus",value:function(){this.quill.focus({preventScroll:!0})}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Nu.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Nu.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return"".concat(t[1]||"https","://www.youtube.com/embed/").concat(t[2],"?showinfo=0");if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return"".concat(t[1]||"https","://player.vimeo.com/video/").concat(t[2],"/");return e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Nu.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",Nu.sources.USER),this.quill.setSelection(r+2,Nu.sources.USER)}}this.textbox.value="",this.hide()}}])}(lg);function Eg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(t)),e.appendChild(r)}))}function jg(e){return jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(e)}function Tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fg(r.key),r)}}function Ag(e,t,n){return t&&Dg(e.prototype,t),n&&Dg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cg(e,t,n){return t=Ig(t),function(e,t){if(t&&("object"==jg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mg()?Reflect.construct(t,n||[],Ig(e).constructor):t.apply(e,n))}function Mg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mg=function(){return!!e})()}function Lg(e,t,n,r){var i=Rg(Ig(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Rg(){return Rg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ig(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rg.apply(null,arguments)}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ig(e)}function Ng(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bg(e,t)}function Fg(e){var t=function(e,t){if("object"!=jg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jg(t)?t:t+""}var zg=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],Vg=function(e){function t(e,n){var r;return Tg(this,t),(r=Cg(this,t,[e,n])).quill.on(Nu.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===Nu.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===Nu.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width="".concat(r.root.offsetWidth,"px");var o=r.quill.getLines(t.index,t.length);if(1===o.length){var a=r.quill.getBounds(t);null!=a&&r.position(a)}else{var s=o[o.length-1],l=r.quill.getIndex(s),u=Math.min(s.length()-1,t.index+t.length-l),c=r.quill.getBounds(new Wu(l,u));null!=c&&r.position(c)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return Ng(t,e),Ag(t,[{key:"listen",value:function(){var e=this;Lg(t,"listen",this,3)([]),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(Nu.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();if(null!=t){var n=e.quill.getBounds(t);null!=n&&e.position(n)}}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=Lg(t,"position",this,3)([e]),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",0!==n&&(r.style.marginLeft="".concat(-1*n-r.offsetWidth/2,"px")),n}}])}(Sg);!function(e,t,n){(t=Fg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Vg,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));var qg=function(e){function t(e,n){var r;return Tg(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=zg),(r=Cg(this,t,[e,n])).quill.container.classList.add("ql-bubble"),r}return Ng(t,e),Ag(t,[{key:"extendToolbar",value:function(e){this.tooltip=new Vg(this.quill,this.options.bounds),null!=e.container&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Tb),this.buildPickers(e.container.querySelectorAll("select"),Tb))}}])}(Pg);function Hg(e){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(e)}function Yg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ug(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ug(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rw(r.key),r)}}function Wg(e,t,n){return t&&Xg(e.prototype,t),n&&Xg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $g(e,t,n){return t=Qg(t),function(e,t){if(t&&("object"==Hg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kg()?Reflect.construct(t,n||[],Qg(e).constructor):t.apply(e,n))}function Kg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kg=function(){return!!e})()}function Zg(e,t,n,r){var i=Jg(Qg(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Jg(){return Jg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Qg(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jg.apply(null,arguments)}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qg(e)}function ew(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tw(e,t)}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tw(e,t)}function nw(e,t,n){return(t=rw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rw(e){var t=function(e,t){if("object"!=Hg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hg(t)?t:t+""}qg.DEFAULTS=Uo({},Pg.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,pf.sources.USER)}}}}});var iw=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],ow=function(e){function t(){var e;Gg(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nw(e=$g(this,t,[].concat(r)),"preview",e.root.querySelector("a.ql-preview")),e}return ew(t,e),Wg(t,[{key:"listen",value:function(){var e=this;Zg(t,"listen",this,3)([]),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,Nu.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(Nu.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===Nu.sources.USER){var i=Yg(e.quill.scroll.descendant(ry,t.index),2),o=i[0],a=i[1];if(null!=o){e.linkRange=new Wu(t.index-a,o.length());var s=ry.formats(o.domNode);e.preview.textContent=s,e.preview.setAttribute("href",s),e.show();var l=e.quill.getBounds(e.linkRange);return void(null!=l&&e.position(l))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){Zg(t,"show",this,3)([]),this.root.removeAttribute("data-mode")}}])}(Sg);nw(ow,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));var aw=function(e){function t(e,n){var r;return Gg(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=iw),(r=$g(this,t,[e,n])).quill.container.classList.add("ql-snow"),r}return ew(t,e),Wg(t,[{key:"extendToolbar",value:function(e){null!=e.container&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Tb),this.buildPickers(e.container.querySelectorAll("select"),Tb),this.tooltip=new ow(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)})))}}])}(Pg);aw.DEFAULTS=Uo({},Pg.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0===t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:".concat(n)),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1,pf.sources.USER)}}}}});const sw=aw;Mp.register({"attributors/attribute/direction":Sh,"attributors/class/align":Kf,"attributors/class/background":uh,"attributors/class/color":sh,"attributors/class/direction":Eh,"attributors/class/font":Bh,"attributors/class/size":Vh,"attributors/style/align":Zf,"attributors/style/background":ch,"attributors/style/color":lh,"attributors/style/direction":jh,"attributors/style/font":zh,"attributors/style/size":qh},!0),Mp.register({"formats/align":Kf,"formats/direction":Eh,"formats/indent":Yp,"formats/background":ch,"formats/color":lh,"formats/font":Bh,"formats/size":Vh,"formats/blockquote":ev,"formats/code-block":xh,"formats/header":cv,"formats/list":Ov,"formats/bold":Iv,"formats/code":Oh,"formats/italic":Gv,"formats/link":ry,"formats/script":vy,"formats/strike":Py,"formats/underline":Ry,"formats/formula":Gy,"formats/image":om,"formats/video":bm,"modules/syntax":Bm,"modules/table":vb,"modules/toolbar":Sb,"themes/bubble":qg,"themes/snow":sw,"ui/icons":Tb,"ui/picker":Ib,"ui/icon-picker":rg,"ui/color-picker":Xb,"ui/tooltip":lg},!0);const lw=Mp;var uw=__webpack_require__(4534),cw=__webpack_require__.n(uw);function fw(){return fw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=vw(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fw.apply(null,arguments)}function hw(e,t,n){return t=vw(t),function(e,t){if(t&&("object"==kw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dw(e)}(e,pw()?Reflect.construct(t,n||[],vw(e).constructor):t.apply(e,n))}function dw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pw=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vw(e)}function yw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mw(e,t)}function bw(e){return function(e){if(Array.isArray(e))return Pw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ow(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gw(e,t,n){return(t=jw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(null,arguments)}function _w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||Ow(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(e){return kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(e)}function xw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ow(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ow(e,t){if(e){if("string"==typeof e)return Pw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pw(e,t):void 0}}function Pw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jw(r.key),r)}}function Ew(e,t,n){return t&&Sw(e.prototype,t),n&&Sw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jw(e){var t=function(e,t){if("object"!=kw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kw(t)?t:t+""}function Tw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Dw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},Aw=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,n=window.getComputedStyle(e).overflowY,r=-1!==n.indexOf("hidden"),i=-1!==n.indexOf("visible");return t&&!r&&!i},Cw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return!(!e||e===document.body||t&&e===t)&&(Aw(e)?e:Cw(e.parentElement,t))},Mw=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild},Lw=function(e){return"".concat(e||"").split(" ").filter((function(e){return!!e}))},Rw=function(e,t,n){e&&Lw(t).forEach((function(t){e.classList.toggle(t,n||!1)}))},Iw=Ew((function e(t){Tw(this,e),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()})),Nw={passive:!1},Bw=function(){return Ew((function e(t,n){var r=n.start,i=void 0===r?function(){return!0}:r,o=n.move,a=void 0===o?function(){}:o,s=n.end,l=void 0===s?function(){}:s;Tw(this,e),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=t,this.startCallback=i,this.moveCallback=a,this.endCallback=l;for(var u=0,c=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"];u<c.length;u++){var f=c[u];this[f]=this[f].bind(this)}this.element.addEventListener("mousedown",this.onPointerStart,Nw),this.element.addEventListener("touchstart",this.onTouchStart,Nw),this.element.addEventListener("touchmove",this.onMove,Nw),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}),[{key:"onPointerStart",value:function(e){if(e.buttons&&0===e.button){var t=new Iw(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}}},{key:"onTouchStart",value:function(e){for(var t=0,n=Array.from(e.changedTouches||[]);t<n.length;t++){var r=n[t];this.triggerPointerStart(new Iw(r),e)}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var t,n=this,r=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new Iw(e)})):[new Iw(e)],o=[],a=xw(i);try{var s=function(){var e=t.value,r=n.currentPointers.findIndex((function(t){return t.id===e.id}));r<0||(o.push(e),n.currentPointers[r]=e)};for(a.s();!(t=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}o.length&&this.moveCallback(e,this.currentPointers.slice(),r)}},{key:"onPointerEnd",value:function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new Iw(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){for(var t=0,n=Array.from(e.changedTouches||[]);t<n.length;t++){var r=n[t];this.triggerPointerEnd(e,new Iw(r))}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var n=this.currentPointers.findIndex((function(e){return e.id===t.id}));n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,Nw),this.element.removeEventListener("touchstart",this.onTouchStart,Nw),this.element.removeEventListener("touchmove",this.onMove,Nw),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}])}();function Fw(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function zw(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var Vw=function(e){return"object"==kw(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},qw=function(e){for(var t=arguments.length<=1?0:arguments.length-1,n=0;n<t;n++){var r=(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])||{};Object.entries(r).forEach((function(t){var n=_w(t,2),r=n[0],i=n[1],o=Array.isArray(i)?[]:{};e[r]||ww(e,gw({},r,o)),Vw(i)?ww(e[r],qw(o,i)):Array.isArray(i)?ww(e,gw({},r,bw(i))):ww(e,gw({},r,i))}))}return e},Hw=function(e,t){return e.split(".").reduce((function(e,t){return"object"==kw(e)?e[t]:void 0}),t)},Yw=function(){return Ew((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Tw(this,e),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t);var n,r=xw(Object.getOwnPropertyNames(Object.getPrototypeOf(this)));try{for(r.s();!(n=r.n()).done;){var i=n.value;i.startsWith("on")&&"function"==typeof this[i]&&(this[i]=this[i].bind(this))}}catch(e){r.e(e)}finally{r.f()}}),[{key:"setOptions",value:function(e){this.options=e?qw({},this.constructor.defaults,e):{};for(var t=0,n=Object.entries(this.option("on")||{});t<n.length;t++){var r=_w(n[t],2),i=r[0],o=r[1];this.on(i,o)}}},{key:"option",value:function(e){for(var t,n=Hw(e,this.options),r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n&&"function"==typeof n&&(n=(t=n).call.apply(t,[this,this].concat(i))),n}},{key:"optionFor",value:function(e,t,n){for(var r,i,o=Hw(t,e),a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];"string"!=typeof(i=o)||isNaN(i)||isNaN(parseFloat(i))||(o=parseFloat(o)),"true"===o&&(o=!0),"false"===o&&(o=!1),o&&"function"==typeof o&&(o=(r=o).call.apply(r,[this,this,e].concat(s)));var u=Hw(t,this.options);return u&&"function"==typeof u?o=u.call.apply(u,[this,this,e].concat(s,[o])):void 0===o&&(o=u),void 0===o?n:o}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,n,r){var i="";return r?i=t.option("".concat(n[0]+n.toLowerCase().substring(1),".l10n.").concat(r)):n&&(i=t.option("l10n.".concat(n))),i||(i=e),i}));for(var r=0;r<n.length;r++)e=e.split(n[r][0]).join(n[r][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))}},{key:"on",value:function(e,t){var n=this,r=[];"string"==typeof e?r=e.split(" "):Array.isArray(e)&&(r=e),this.events||(this.events=new Map),r.forEach((function(e){var r=n.events.get(e);r||(n.events.set(e,[]),r=[]),r.includes(t)||r.push(t),n.events.set(e,r)}))}},{key:"off",value:function(e,t){var n=this,r=[];"string"==typeof e?r=e.split(" "):Array.isArray(e)&&(r=e),r.forEach((function(e){var r=n.events.get(e);if(Array.isArray(r)){var i=r.indexOf(t);i>-1&&r.splice(i,1)}}))}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];bw(this.events.get(e)||[]).forEach((function(e){return e.apply(void 0,[t].concat(r))})),"*"!==e&&this.emit.apply(this,["*",e].concat(r))}}])}();Object.defineProperty(Yw,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Yw,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var Uw,Gw=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tw(this,t),e=hw(this,t,[n]),Object.defineProperty(dw(e),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return yw(t,e),Ew(t,[{key:"attachPlugins",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Map,n=0,r=Object.entries(e);n<r.length;n++){var i=_w(r[n],2),o=i[0],a=i[1],s=this.option(o),l=this.plugins[o];l||!1===s?l&&!1===s&&(l.detach(),delete this.plugins[o]):t.set(o,new a(this,s||{}))}var u,c=xw(t);try{for(c.s();!(u=c.n()).done;){var f=_w(u.value,2),h=f[0],d=f[1];this.plugins[h]=d,d.attach()}}catch(e){c.e(e)}finally{c.f()}}},{key:"detachPlugins",value:function(e){var t,n=xw(e=e||Object.keys(this.plugins));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.plugins[r];i&&i.detach(),delete this.plugins[r]}}catch(e){n.e(e)}finally{n.f()}return this.emit("detachPlugins"),this}}])}(Yw);!function(e){e[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy"}(Uw||(Uw={}));var Xw=["a","b","c","d","e","f"],Ww={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},$w={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:Ww},Kw='<circle cx="25" cy="25" r="20"></circle>',Zw='<div class="f-spinner"><svg viewBox="0 0 50 50">'+Kw+Kw+"</svg></div>",Jw=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},Qw=function(e,t){e&&Lw(t).forEach((function(t){e.classList.remove(t)}))},e_=function(e,t){e&&Lw(t).forEach((function(t){e.classList.add(t)}))},t_={a:1,b:0,c:0,d:1,e:0,f:0},n_=1e4,r_="mousemove",i_="drag",o_="content",a_="auto",s_=null,l_=null,u_=function(e){function t(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Tw(this,t),n=hw(this,t,[i]),Object.defineProperty(dw(n),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(n),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(n),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(n),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(n),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(dw(n),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(dw(n),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"state",{enumerable:!0,configurable:!0,writable:!0,value:Uw.Init}),Object.defineProperty(dw(n),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(n),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(dw(n),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(dw(n),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(dw(n),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(dw(n),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(dw(n),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(dw(n),"current",{enumerable:!0,configurable:!0,writable:!0,value:ww({},t_)}),Object.defineProperty(dw(n),"target",{enumerable:!0,configurable:!0,writable:!0,value:ww({},t_)}),Object.defineProperty(dw(n),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(dw(n),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");n.container=e,n.initContent(),n.attachPlugins(ww(ww({},t.Plugins),o)),n.emit("attachPlugins"),n.emit("init");var a=n.content;if(a.addEventListener("load",n.onLoad),a.addEventListener("error",n.onError),n.isContentLoading){if(n.option("spinner")){e.classList.add(n.cn("isLoading"));var s=Mw(Zw);!e.contains(a)||a.parentElement instanceof HTMLPictureElement?n.spinner=e.appendChild(s):n.spinner=(null===(r=a.parentElement)||void 0===r?void 0:r.insertBefore(s,a))||null}n.emit("beforeLoad")}else queueMicrotask((function(){n.enable()}));return n}return yw(t,e),Ew(t,[{key:"fits",get:function(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}},{key:"isTouchDevice",get:function(){return null===l_&&(l_=window.matchMedia("(hover: none)").matches),l_}},{key:"isMobile",get:function(){return null===s_&&(s_=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),s_}},{key:"panMode",get:function(){return this.options.panMode!==r_||this.isTouchDevice?i_:r_}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return e===a_?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,n=e.b;return Math.sqrt(t*t+n*n)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,n=e.b;return Math.sqrt(t*t+n*n)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,n=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,n)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;for(var e=0,t=Xw;e<t.length;e++){var n=t[e],r="e"==n||"f"===n?1e-4:1e-5;if(Math.abs(this.target[n]-this.current[n])>r)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}},{key:"initContent",value:function(){var e=this.container,t=this.cn(o_),n=this.option(o_)||e.querySelector(".".concat(t));if(n||(n=e.querySelector("img,picture")||e.firstElementChild)&&e_(n,t),n instanceof HTMLPictureElement&&(n=n.querySelector("img")),!n)throw new Error("No content found");this.content=n}},{key:"onLoad",value:function(){var e=this.spinner,t=this.container,n=this.state;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),n===Uw.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==Uw.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=Uw.Error,this.emit("error"))}},{key:"getNextScale",value:function(e){var t=this.fullScale,n=this.targetScale,r=this.coverScale,i=this.maxScale,o=this.minScale,a=o;switch(e){case"toggleMax":a=n-o<.5*(i-o)?i:o;break;case"toggleCover":a=n-o<.5*(r-o)?r:o;break;case"toggleZoom":a=n-o<.5*(t-o)?t:o;break;case"iterateZoom":var s=[1,t,i].sort((function(e,t){return e-t})),l=s.findIndex((function(e){return e>n+1e-5}));a=s[l]||1}return a}},{key:"attachObserver",value:function(){var e,t=this,n=function(){var e=t.container,n=t.containerRect;return Math.abs(n.width-e.getBoundingClientRect().width)>.1||Math.abs(n.height-e.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){t.updateTimer||(n()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){n()&&t.onResize(),t.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}},{key:"detachObserver",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new Bw(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(r_,this.onMouseMove)}},{key:"detachEvents",value:function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener(r_,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){var e=this;this.setTargetForce();for(var t=this.friction,n=this.option("maxVelocity"),r=0,i=Xw;r<i.length;r++){var o=i[r];t?(this.velocity[o]*=1-t,n&&!this.isScaling&&(this.velocity[o]=Math.max(Math.min(this.velocity[o],n),-1*n)),this.current[o]+=this.velocity[o]):this.current[o]=this.target[o]}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")}},{key:"setTargetForce",value:function(){for(var e=0,t=Xw;e<t.length;e++){var n=t[e];"e"===n&&this.isBouncingX||"f"===n&&this.isBouncingY||(this.velocity[n]=(1/(1-this.friction)-1)*(this.target[n]-this.current[n]))}}},{key:"checkBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.current,r=n.e+e,i=n.f+t,o=this.getBounds(),a=o.x,s=o.y,l=a.min,u=a.max,c=s.min,f=s.max,h=0,d=0;return l!==1/0&&r<l?h=l-r:u!==1/0&&r>u&&(h=u-r),c!==1/0&&i<c?d=c-i:f!==1/0&&i>f&&(d=f-i),Math.abs(h)<1e-4&&(h=0),Math.abs(d)<1e-4&&(d=0),ww(ww({},o),{xDiff:h,yDiff:d,inBounds:!h&&!d})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),n=t.x,r=t.y;n.min!==1/0&&(e.e=Math.max(e.e,n.min)),n.max!==1/0&&(e.e=Math.min(e.e,n.max)),r.min!==1/0&&(e.f=Math.max(e.f,r.min)),r.max!==1/0&&(e.f=Math.min(e.f,r.max))}},{key:"calculateContentDim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=this.content,n=this.contentRect,r=n.fitWidth,i=n.fitHeight,o=n.fullWidth,a=n.fullHeight,s=o,l=a;if(this.option("zoom")||0!==this.angle){var u=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight),c=u?o:r,f=u?a:i,h=this.getMatrix(e),d=new DOMPoint(0,0).matrixTransform(h),p=new DOMPoint(0+c,0).matrixTransform(h),v=new DOMPoint(0+c,0+f).matrixTransform(h),y=new DOMPoint(0,0+f).matrixTransform(h),m=Math.abs(v.x-d.x),b=Math.abs(v.y-d.y),g=Math.abs(y.x-p.x),w=Math.abs(y.y-p.y);s=Math.max(m,g),l=Math.max(b,w)}return{contentWidth:s,contentHeight:l}}},{key:"setEdgeForce",value:function(){if(this.ignoreBounds||this.isDragging||this.panMode===r_||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),n=t.x,r=t.y,i=t.xDiff,o=t.yDiff,a=this.option("maxVelocity"),s=this.velocity.e,l=this.velocity.f;0!==i?(this.isBouncingX=!0,i*s<=0?s+=.14*i:(s=.14*i,n.min!==1/0&&(this.target.e=Math.max(e.e,n.min)),n.max!==1/0&&(this.target.e=Math.min(e.e,n.max))),a&&(s=Math.max(Math.min(s,a),-1*a))):this.isBouncingX=!1,0!==o?(this.isBouncingY=!0,o*l<=0?l+=.14*o:(l=.14*o,r.min!==1/0&&(this.target.f=Math.max(e.f,r.min)),r.max!==1/0&&(this.target.f=Math.min(e.f,r.max))),a&&(l=Math.max(Math.min(l,a),-1*a))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=s),this.isBouncingY&&(this.velocity.f=l)}},{key:"enable",value:function(){for(var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),n=0,r=Xw;n<r.length;n++){var i=r[n];this.current[i]=this.target[i]=t[i]}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=Uw.Ready,this.emit("ready")}},{key:"onClick",value:function(e){var t,n=this;"click"===e.type&&0===e.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var r=e.target;if(r&&!e.defaultPrevented){if(r.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!function(){var e=window.getSelection();return e&&"Range"===e.type}()||r.closest("button")){var i=r.closest("[data-panzoom-action]"),o=r.closest("[data-panzoom-change]"),a=i||o,s=a&&Jw(a)?a.dataset:null;if(s){var l=s.panzoomChange,u=s.panzoomAction;if((l||u)&&e.preventDefault(),l){var c={};try{c=JSON.parse(l)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(c)}if(u)return void(this[u]&&this[u]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(!r.closest("[data-fancybox]")){var f=this.content.getBoundingClientRect(),h=this.dragStart;if(!h.time||this.canZoomOut()||!(Math.abs(f.x-h.x)>2||Math.abs(f.y-h.y)>2)){this.dragStart.time=0;var d=function(t){n.option("zoom",e)&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof n[t]&&(e.preventDefault(),n[t]({event:e}))},p=this.option("click",e),v=this.option("dblClick",e);v?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===n.clicks?(n.emit("click",e),!e.defaultPrevented&&p&&d(p)):(n.emit("dblClick",e),e.defaultPrevented||d(v)),n.clicks=0,n.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&p&&d(p))}}}}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,n){var r;if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var i=this.content.getBoundingClientRect();if(this.dragStart={x:i.x,y:i.y,top:i.top,left:i.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===r_&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;var o=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(o.nodeName)||o.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null===(r=window.getSelection())||void 0===r||r.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(o.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,n){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&Dw(this.targetScale)<=Dw(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var r=this.content,i=zw(n[0],n[1]),o=zw(t[0],t[1]),a=0,s=0;if(t.length>1){var l=r.getBoundingClientRect();a=i.clientX-l.left-.5*l.width,s=i.clientY-l.top-.5*l.height}var u=Fw(n[0],n[1]),c=Fw(t[0],t[1]),f=u?c/u:1,h=o.clientX-i.clientX,d=o.clientY-i.clientY;this.dragOffset.x+=h,this.dragOffset.y+=d,this.dragOffset.time=Date.now()-this.dragStart.time;var p=Dw(this.targetScale)===Dw(this.minScale)&&this.option("lockAxis");if(p&&!this.lockedAxis)if("xy"===p||"y"===p||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var v=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=v>45&&v<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,h=0,d=0}else this.lockedAxis=p;if(Cw(e.target,this.content)&&(p="x",this.dragOffset.y=0),!p||"xy"===p||this.lockedAxis===p||Dw(this.targetScale)!==Dw(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var y=this.checkBounds(h,d);this.option("rubberband")?("x"!==this.isInfinite&&(y.xDiff>0&&h<0||y.xDiff<0&&h>0)&&(h*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*y.xDiff))),"y"!==this.isInfinite&&(y.yDiff>0&&d<0||y.yDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*y.yDiff)))):(y.xDiff&&(h=0),y.yDiff&&(d=0));var m=this.targetScale,b=this.minScale,g=this.maxScale;m<.5*b&&(f=Math.max(f,b)),m>1.5*g&&(f=Math.min(f,g)),"y"===this.lockedAxis&&Dw(m)===Dw(b)&&(h=0),"x"===this.lockedAxis&&Dw(m)===Dw(b)&&(d=0),this.applyChange({originX:a,originY:s,panX:h,panY:d,scale:f,friction:this.option("dragFriction"),ignoreBounds:!0})}}}},{key:"onPointerUp",value:function(e,t,n){if(n.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),Cw(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==Uw.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}},{key:"startDecelAnim",value:function(){var e,t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var n=0,r=Xw;n<r.length;n++){var i=r[n];this.velocity[i]=0}this.target.e=this.current.e,this.target.f=this.current.f,Qw(this.container,"is-scaling"),Qw(this.container,"is-animating"),this.isTicking=!1;var o=this.trackingPoints,a=o[0],s=o[o.length-1],l=0,u=0,c=0;s&&a&&(l=s.clientX-a.clientX,u=s.clientY-a.clientY,c=s.time-a.time);var f=(null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1;1!==f&&(l*=f,u*=f);var h=0,d=0,p=0,v=0,y=this.option("decelFriction"),m=this.targetScale;if(c>0){p=Math.abs(l)>3?l/(c/30):0,v=Math.abs(u)>3?u/(c/30):0;var b=this.option("maxVelocity");b&&(p=Math.max(Math.min(p,b),-1*b),v=Math.max(Math.min(v,b),-1*b))}p&&(h=p/(1/(1-y)-1)),v&&(d=v/(1/(1-y)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&Dw(m)===this.minScale)&&(h=p=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&Dw(m)===this.minScale)&&(d=v=0);var g=this.dragOffset.x,w=this.dragOffset.y,_=this.option("dragMinThreshold")||0;Math.abs(g)<_&&Math.abs(w)<_&&(h=d=0,p=v=0),(this.option("zoom")&&(m<this.minScale-1e-5||m>this.maxScale+1e-5)||t&&!h&&!d)&&(y=.35),this.applyChange({panX:h,panY:d,friction:y}),this.emit("decel",p,v,g,w)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,n),this.panMode!==r_&&!e.defaultPrevented){var r=this.option("wheel");"pan"===r?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===r&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");for(var e=this.current,t=this.target,n=this.content,r=this.contentRect,i=ww({},t_),o=0,a=Xw;o<a.length;o++){var s=a[o],l="e"==s||"f"===s?n_:1e5;i[s]=Dw(e[s],l),Math.abs(t[s]-e[s])<("e"==s||"f"===s?.51:.001)&&(e[s]=t[s])}var u=i.a,c=i.b,f=i.c,h=i.d,d=i.e,p=i.f,v="matrix(".concat(u,", ").concat(c,", ").concat(f,", ").concat(h,", ").concat(d,", ").concat(p,")"),y=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option("transformParent")&&(y=y.parentElement||y),y.style.transform!==v){y.style.transform=v;var m=this.calculateContentDim(),b=m.contentWidth,g=m.contentHeight;r.width=b,r.height=g,this.emit("afterTransform")}}},{key:"updateMetrics",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this&&this.state!==Uw.Destroy&&!this.isContentLoading){var r=Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1),i=this.container,o=this.content,a=o instanceof HTMLImageElement,s=i.getBoundingClientRect(),l=getComputedStyle(this.container),u=s.width*r,c=s.height*r,f=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),h=u-(parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),d=c-f;this.containerRect={width:u,height:c,innerWidth:h,innerHeight:d};var p=parseFloat(o.dataset.width||"")||function(e){return(e instanceof HTMLImageElement?e.naturalWidth:e instanceof SVGElement?e.width.baseVal.value:Math.max(e.offsetWidth,e.scrollWidth))||0}(o),v=parseFloat(o.dataset.height||"")||function(e){return(e instanceof HTMLImageElement?e.naturalHeight:e instanceof SVGElement?e.height.baseVal.value:Math.max(e.offsetHeight,e.scrollHeight))||0}(o),y=this.option("width",p)||a_,m=this.option("height",v)||a_,b=y===a_,g=m===a_;"number"!=typeof y&&(y=p),"number"!=typeof m&&(m=v),b&&(y=p*(m/v)),g&&(m=v/(p/y));var w=o.parentElement instanceof HTMLPictureElement?o.parentElement:o;this.option("transformParent")&&(w=w.parentElement||w);var _=w.getAttribute("style")||"";w.style.setProperty("transform","none","important"),a&&(w.style.width="",w.style.height=""),w.offsetHeight;var k=o.getBoundingClientRect(),x=k.width*r,O=k.height*r,P=x,S=O;x=Math.min(x,y),O=Math.min(O,m),a?(e=function(e,t,n,r){var i=n/e,o=r/t,a=Math.min(i,o);return{width:e*=a,height:t*=a}}(y,m,x,O),x=e.width,O=e.height):(x=Math.min(x,y),O=Math.min(O,m));var E=.5*(S-O),j=.5*(P-x);this.contentRect=ww(ww({},this.contentRect),{top:k.top-s.top+E,bottom:s.bottom-k.bottom+E,left:k.left-s.left+j,right:s.right-k.right+j,fitWidth:x,fitHeight:O,width:x,height:O,fullWidth:y,fullHeight:m}),w.style.cssText=_,a&&(w.style.width="".concat(x,"px"),w.style.height="".concat(O,"px")),this.setTransform(),!0!==n&&this.emit("refresh"),this.ignoreBounds||(Dw(this.targetScale)<Dw(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===Uw.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}}},{key:"calculateBounds",value:function(){var e=this.calculateContentDim(this.target),t=e.contentWidth,n=e.contentHeight,r=this.targetScale,i=this.lockedAxis,o=this.contentRect,a=o.fitWidth,s=o.fitHeight,l=0,u=0,c=0,f=0,h=this.option("infinite");if(!0===h||i&&h===i)l=-1/0,c=1/0,u=-1/0,f=1/0;else{var d=this.containerRect,p=this.contentRect,v=Dw(a*r,n_),y=Dw(s*r,n_),m=d.innerWidth,b=d.innerHeight;if(d.width===v&&(m=d.width),d.width===y&&(b=d.height),t>m){l=-1*(c=.5*(t-m));var g=.5*(p.right-p.left);l+=g,c+=g}if(a>m&&t<m&&(l-=.5*(a-m),c-=.5*(a-m)),n>b){u=-1*(f=.5*(n-b));var w=.5*(p.bottom-p.top);u+=w,f+=w}s>b&&n<b&&(l-=.5*(s-b),c-=.5*(s-b))}return{x:{min:l,max:c},y:{min:u,max:f}}}},{key:"getBounds",value:function(){var e=this.option("bounds");return e!==a_?e:this.calculateBounds()}},{key:"updateControls",value:function(){var e=this,t=e.container,n=e.panMode,r=e.contentRect,i=e.targetScale,o=e.minScale,a=o,s=e.option("click")||!1;s&&(a=e.getNextScale(s));var l=e.canZoomIn(),u=e.canZoomOut(),c=n===i_&&!!this.option("touch"),f=u&&c;if(c&&(Dw(i)<Dw(o)&&!this.panOnlyZoomed&&(f=!0),(Dw(r.width,1)>Dw(r.fitWidth,1)||Dw(r.height,1)>Dw(r.fitHeight,1))&&(f=!0)),Dw(r.width*i,1)<Dw(r.fitWidth,1)&&(f=!1),n===r_&&(f=!1),Rw(t,this.cn("isDraggable"),f),this.option("zoom")){var h=l&&Dw(a)>Dw(i),d=!h&&!f&&u&&Dw(a)<Dw(i);Rw(t,this.cn("canZoomIn"),h),Rw(t,this.cn("canZoomOut"),d);var p,v=xw(t.querySelectorAll("[data-panzoom-action]"));try{for(v.s();!(p=v.n()).done;){var y=p.value,m=!1,b=!1;switch(y.dataset.panzoomAction){case"zoomIn":l?m=!0:b=!0;break;case"zoomOut":u?m=!0:b=!0;break;case"toggleZoom":case"iterateZoom":l||u?m=!0:b=!0;var g=y.querySelector("g");g&&(g.style.display=l?"":"none")}m?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):b&&(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"))}}catch(e){v.e(e)}finally{v.f()}}}},{key:"panTo",value:function(e){var t=e.x,n=void 0===t?this.target.e:t,r=e.y,i=void 0===r?this.target.f:r,o=e.scale,a=void 0===o?this.targetScale:o,s=e.friction,l=void 0===s?this.option("friction"):s,u=e.angle,c=void 0===u?0:u,f=e.originX,h=void 0===f?0:f,d=e.originY,p=void 0===d?0:d,v=e.flipX,y=void 0!==v&&v,m=e.flipY,b=void 0!==m&&m,g=e.ignoreBounds,w=void 0!==g&&g;this.state!==Uw.Destroy&&this.applyChange({panX:n-this.target.e,panY:i-this.target.f,scale:a/this.targetScale,angle:c,originX:h,originY:p,friction:l,flipX:y,flipY:b,ignoreBounds:w})}},{key:"applyChange",value:function(e){var t=e.panX,n=void 0===t?0:t,r=e.panY,i=void 0===r?0:r,o=e.scale,a=void 0===o?1:o,s=e.angle,l=void 0===s?0:s,u=e.originX,c=void 0===u?-this.current.e:u,f=e.originY,h=void 0===f?-this.current.f:f,d=e.friction,p=void 0===d?this.option("friction"):d,v=e.flipX,y=void 0!==v&&v,m=e.flipY,b=void 0!==m&&m,g=e.ignoreBounds,w=void 0!==g&&g,_=e.bounce,k=void 0===_?this.option("bounce"):_,x=this.state;if(x!==Uw.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=p||0,this.ignoreBounds=w;var O=this.current,P=O.e,S=O.f,E=this.getMatrix(this.target),j=(new DOMMatrix).translate(P,S).translate(c,h).translate(n,i);if(this.option("zoom")){if(!w){var T=this.targetScale,D=this.minScale,A=this.maxScale;T*a<D&&(a=D/T),T*a>A&&(a=A/T)}j=j.scale(a)}j=j.translate(-c,-h).translate(-P,-S).multiply(E),l&&(j=j.rotate(l)),y&&(j=j.scale(-1,1)),b&&(j=j.scale(1,-1));for(var C=0,M=Xw;C<M.length;C++){var L=M[C];"e"!==L&&"f"!==L&&(j[L]>this.minScale+1e-5||j[L]<this.minScale-1e-5)?this.target[L]=j[L]:this.target[L]=Dw(j[L],n_)}(this.targetScale<this.scale||Math.abs(a-1)>.1||this.panMode===r_||!1===k)&&!w&&this.clampTargetBounds(),x===Uw.Init?this.animate():this.isResting||(this.state=Uw.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==Uw.Init&&this.state!==Uw.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var n=0,r=Xw;n<r.length;n++){var i=r[n];this.velocity[i]=0,"current"===e?this.current[i]=this.target[i]:"target"===e&&(this.target[i]=this.current[i])}this.setTransform(),Qw(this.container,"is-scaling"),Qw(this.container,"is-animating"),this.isTicking=!1,this.state=Uw.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),e_(this.container,"is-animating"),this.isScaling&&e_(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))}},{key:"panWithMouse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");if(this.pmme=e,this.panMode===r_&&e&&!(Dw(this.targetScale)<=Dw(this.minScale))){this.emit("mouseMove",e);var n=this.container,r=this.containerRect,i=this.contentRect,o=r.width,a=r.height,s=n.getBoundingClientRect(),l=(e.clientX||0)-s.left,u=(e.clientY||0)-s.top,c=this.calculateContentDim(this.target),f=c.contentWidth,h=c.contentHeight,d=this.option("mouseMoveFactor");d>1&&(f!==o&&(f*=d),h!==a&&(h*=d));var p=.5*(f-o)-l/o*100/100*(f-o);p+=.5*(i.right-i.left);var v=.5*(h-a)-u/a*100/100*(h-a);v+=.5*(i.bottom-i.top),this.applyChange({panX:p-this.target.e,panY:v-this.target.f,friction:t})}}},{key:"zoomWithWheel",value:function(e){if(this.state!==Uw.Destroy&&this.state!==Uw.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var n=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),r=Math.max(-1,Math.min(1,n)),i=this.targetScale,o=this.maxScale,a=this.minScale,s=i*(100+45*r)/100;Dw(s)<Dw(a)&&Dw(i)<=Dw(a)?(this.cwd+=Math.abs(r),s=a):Dw(s)>Dw(o)&&Dw(i)>=Dw(o)?(this.cwd+=Math.abs(r),s=o):(this.cwd=0,s=Math.max(Math.min(s,o),a)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),Dw(s)!==Dw(i)&&this.zoomTo(s,{event:e}))}}}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(Dw(this.contentRect.width,1)<Dw(this.contentRect.fitWidth,1)||Dw(this.targetScale)<Dw(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&Dw(this.targetScale)>Dw(this.minScale)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.getNextScale("toggleMax"),e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.getNextScale("toggleCover"),e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.friction,r=void 0===n?a_:n,i=t.originX,o=void 0===i?a_:i,a=t.originY,s=void 0===a?a_:a,l=t.event;if(!this.isContentLoading&&this.state!==Uw.Destroy){var u=this.targetScale,c=this.fullScale,f=this.maxScale,h=this.coverScale;if(this.stop(),this.panMode===r_&&(l=this.pmme||l),l||o===a_||s===a_){var d=this.content.getBoundingClientRect(),p=this.container.getBoundingClientRect(),v=l?l.clientX:p.left+.5*p.width,y=l?l.clientY:p.top+.5*p.height;o=v-d.left-.5*d.width,s=y-d.top-.5*d.height}var m=1;"number"==typeof e?m=e:"full"===e?m=c:"cover"===e?m=h:"max"===e?m=f:"fit"===e?m=1:"next"===e&&(m=this.getNextScale("iterateZoom")),m=m/u||1,r=r===a_?m>1?.15:.25:r,this.applyChange({scale:m,originX:o,originY:s,friction:r}),l&&this.panMode===r_&&this.panWithMouse(l,r)}}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this.containerRect,t=this.contentRect,n=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this.containerRect,t=this.contentRect,n=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen");e.classList.toggle(t);var r=e.classList.contains(t);r?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(r?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,n=e.b,r=e.c,i=e.d,o=e.e,a=e.f;return new DOMMatrix([t,n,r,i,o,a])}},{key:"reset",value:function(e){if(this.state!==Uw.Init&&this.state!==Uw.Destroy){this.stop("current");for(var t=0,n=Xw;t<n.length;t++){var r=n[t];this.target[r]=t_[r]}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=Uw.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=Uw.Destroy,this.detachEvents(),this.detachObserver();for(var e=this.container,t=this.content,n=this.option("classes")||{},r=0,i=Object.values(n);r<i.length;r++){var o=i[r];e.classList.remove(o+"")}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}])}(Gw);Object.defineProperty(u_,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:$w}),Object.defineProperty(u_,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var c_,f_=function(e,t){var n=!0;return function(){n&&(n=!1,e.apply(void 0,arguments),setTimeout((function(){n=!0}),t))}},h_=function(e,t){var n=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)})),n};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Destroy=2]="Destroy"}(c_||(c_={}));var d_=function(e){if("string"==typeof e||e instanceof HTMLElement)e={html:e};else{var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return ww({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},p_=function(){return ww({index:-1,slides:[],dim:0,pos:-1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},v_=function(e){function t(e,n){var r;return Tw(this,t),r=hw(this,t,[n]),Object.defineProperty(dw(r),"instance",{enumerable:!0,configurable:!0,writable:!0,value:e}),r}return yw(t,e),Ew(t,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}])}(Yw),y_=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(e),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return yw(t,e),Ew(t,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e=this.list;if(!e){e=document.createElement("ul"),e_(e,this.cn("list")),e.setAttribute("role","tablist");var t=this.instance.container;t.appendChild(e),e_(t,this.cn("hasDots")),this.list=e}return e}},{key:"refresh",value:function(){var e,t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),r=Math.max(2e3,this.option("maxCount")),i=this.option("dynamicFrom");if(t<n||t>r)this.cleanup();else{var o="number"==typeof i&&t>5&&t>=i,a=!this.list||this.isDynamic!==o||this.list.children.length!==t;a&&this.cleanup();var s=this.build();if(Rw(s,this.cn("isDynamic"),!!o),a)for(var l=0;l<t;l++)s.append(this.createItem(l));for(var u,c=0,f=0,h=bw(s.children);f<h.length;f++){var d=h[f],p=c===this.instance.page;p&&(u=d),Rw(d,this.cn("isCurrent"),p),null===(e=d.children[0])||void 0===e||e.setAttribute("aria-selected",p?"true":"false");for(var v=0,y=["isBeforePrev","isPrev","isNext","isAfterNext"];v<y.length;v++){var m=y[v];Qw(d,this.cn(m))}c++}if(u=u||s.firstChild,o&&u){var b=u.previousElementSibling,g=b&&b.previousElementSibling;e_(b,this.cn("isPrev")),e_(g,this.cn("isBeforePrev"));var w=u.nextElementSibling,_=w&&w.nextElementSibling;e_(w,this.cn("isNext")),e_(_,this.cn("isAfterNext"))}this.isDynamic=o}}},{key:"createItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=document.createElement("li");n.setAttribute("role","presentation");var r=Mw(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return n.appendChild(r),null===(e=n.children[0])||void 0===e||e.setAttribute("role","tab"),n}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,Qw(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}])}(v_);Object.defineProperty(y_,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var m_="disabled",b_="next",g_="prev",w_=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return yw(t,e),Ew(t,[{key:"onRefresh",value:function(){var e=this.instance,t=e.pages.length,n=e.page;if(t<2)this.cleanup();else{this.build();var r=this.prev,i=this.next;r&&i&&(r.removeAttribute(m_),i.removeAttribute(m_),e.isInfinite||(n<=0&&r.setAttribute(m_,""),n>=t-1&&i.setAttribute(m_,"")))}}},{key:"addBtn",value:function(e){var t,n=this.instance,r=document.createElement("button");r.setAttribute("tabindex","0"),r.setAttribute("title",n.localize("{{".concat(e.toUpperCase(),"}}"))),e_(r,this.cn("button")+" "+this.cn(e===b_?"isNext":"isPrev"));var i,o=n.isRTL?e===b_?g_:b_:e;return r.innerHTML=n.localize(this.option("".concat(o,"Tpl"))),r.dataset["carousel".concat((i=e,i?i.match("^[a-z]")?i.charAt(0).toUpperCase()+i.substring(1):i:""))]="true",null===(t=this.container)||void 0===t||t.appendChild(r),r}},{key:"build",value:function(){var e=this.instance.container,t=this.cn("container"),n=this.container,r=this.prev,i=this.next;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(n=document.createElement("div"),e_(n,t),e.appendChild(n)),this.container=n,i||(i=n.querySelector("[data-carousel-next]")),i||(i=this.addBtn(b_)),this.next=i,r||(r=n.querySelector("[data-carousel-prev]")),r||(r=this.addBtn(g_)),this.prev=r}},{key:"cleanup",value:function(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}])}(v_);Object.defineProperty(w_,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var __=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return yw(t,e),Ew(t,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){var e=this.nav,t=this.target;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===c_.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===c_.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,n){this.onNavTouch(e,e.panzoom,n)}},{key:"onNavTouch",value:function(e,t,n){var r,i;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var o=n.target,a=this.nav,s=this.target;if(a&&s&&o){var l=o.closest("[data-index]");if(n.stopPropagation(),n.preventDefault(),l){var u=parseInt(l.dataset.index||"",10)||0,c=s.getPageForSlide(u),f=a.getPageForSlide(u);a.slideTo(f),s.slideTo(c,{friction:(null===(i=null===(r=this.nav)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.Sync.option("friction"))||0}),this.markSelectedSlide(u)}}}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e,t,n=this.target,r=this.nav;if(n&&r&&r.state===c_.Ready&&n.state===c_.Ready){var i=null===(t=null===(e=n.pages[n.page])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.index,o=r.getPageForSlide(i);this.markSelectedSlide(i),r.slideTo(o,null===r.prevPage&&null===n.prevPage?{friction:0}:void 0)}}},{key:"markSelectedSlide",value:function(e){var t=this.nav;t&&t.state===c_.Ready&&(this.selectedIndex=e,bw(t.slides).map((function(t){t.el&&t.el.classList[t.index===e?"add":"remove"]("is-nav-selected")})))}},{key:"attach",value:function(){var e=this,t=e.options.target,n=e.options.nav;t?e.addAsNavFor(t):n&&e.addAsTargetFor(n)}},{key:"detach",value:function(){var e=this,t=e.nav,n=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,n&&(n.off("ready",e.onTargetReady),n.off("refresh",e.onTargetChange),n.off("change",e.onTargetChange)),e.target=null}}])}(v_);Object.defineProperty(__,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var k_={Navigation:w_,Dots:y_,Sync:__},x_="animationend",O_="isSelected",P_="slide",S_=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Tw(this,t),n=hw(this,t),Object.defineProperty(dw(n),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(dw(n),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(dw(n),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(dw(n),"state",{enumerable:!0,configurable:!0,writable:!0,value:c_.Init}),Object.defineProperty(dw(n),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(dw(n),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(dw(n),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(dw(n),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(n),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(dw(n),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(n),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof e&&(e=document.querySelector(e)),!e||!Jw(e))throw new Error("No Element found");return n.container=e,n.slideNext=f_(n.slideNext.bind(n),150),n.slidePrev=f_(n.slidePrev.bind(n),150),n.userOptions=r,n.userPlugins=i,queueMicrotask((function(){n.processOptions()})),n}return yw(t,e),Ew(t,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===c_.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this.contentDim,n=this.viewportDim,r=this.pages,i=this.slides[0];return r.length>=2&&i&&t+i.dim>=n&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}},{key:"processOptions",value:function(){var e,n,r=this,i=qw({},t.defaults,this.userOptions),o="",a=i.breakpoints;if(a&&Vw(a))for(var s=0,l=Object.entries(a);s<l.length;s++){var u=_w(l[s],2),c=u[0],f=u[1];window.matchMedia(c).matches&&Vw(f)&&(o+=c,qw(i,f))}o===this.bp&&this.state!==c_.Init||(this.bp=o,this.state===c_.Ready&&(i.initialSlide=(null===(n=null===(e=this.pages[this.page])||void 0===e?void 0:e.slides[0])||void 0===n?void 0:n.index)||0),this.state!==c_.Init&&this.destroy(),function(e,t,n,r){var i=fw(vw(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"setOptions",this,3)([i]),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){r.init()}),0))}},{key:"init",value:function(){this.state=c_.Init,this.emit("init"),this.attachPlugins(ww(ww({},t.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=c_.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var e,t,n=this.container,r=this.option("classes");e_(n,this.cn("container")),Rw(n,r.isLTR,!this.isRTL),Rw(n,r.isRTL,this.isRTL),Rw(n,r.isVertical,!this.isHorizontal),Rw(n,r.isHorizontal,this.isHorizontal);var i=this.option("viewport")||n.querySelector(".".concat(r.viewport));i||(i=document.createElement("div"),e_(i,r.viewport),(e=i).append.apply(e,bw(h_(n,".".concat(r.slide)))),n.prepend(i)),i.addEventListener("scroll",this.onScroll);var o=this.option("track")||n.querySelector(".".concat(r.track));o||(o=document.createElement("div"),e_(o,r.track),(t=o).append.apply(t,bw(Array.from(i.childNodes)))),o.setAttribute("aria-live","polite"),i.contains(o)||i.prepend(o),this.viewport=i,this.track=o,this.emit("initLayout")}},{key:"initSlides",value:function(){var e=this,t=this.track;if(t){var n=bw(this.slides),r=[];bw(h_(t,".".concat(this.cn(P_)))).forEach((function(t){if(Jw(t)){var n=d_({el:t,isDom:!0,index:e.slides.length});r.push(n)}}));for(var i=0,o=[].concat(bw(this.option("slides",[])||[]),bw(n));i<o.length;i++){var a=o[i];r.push(d_(a))}this.slides=r;for(var s=0;s<this.slides.length;s++)this.slides[s].index=s;for(var l=0,u=r;l<u.length;l++){var c=u[l];this.emit("beforeInitSlide",c,c.index),this.emit("initSlide",c,c.index)}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}},{key:"setInitialPosition",value:function(){var e=this.track,t=this.pages,n=this.isHorizontal;if(e&&t.length){var r=this.page;t[r]||(this.page=r=0);var i=(t[r].pos||0)*(this.isRTL&&n?1:-1),o=n?"".concat(i,"px"):"0",a=n?"0":"".concat(i,"px");e.style.transform="translate3d(".concat(o,", ").concat(a,", 0) scale(1)"),this.option("adaptiveHeight")&&this.setViewportHeight()}}},{key:"initPanzoom",value:function(){var e=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var t=this.option("Panzoom")||{};this.panzoom=new u_(this.viewport,qw({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(t){return!(e.pages.length<2&&!t.options.infinite)},bounds:function(){return e.getBounds()},maxVelocity:function(t){return Math.abs(t.target[e.axis]-t.current[e.axis])<2*e.viewportDim?100:0}},t)),this.panzoom.on("*",(function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.emit.apply(e,["Panzoom.".concat(n),t].concat(i))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e=[],t=this.contentDim,n=this.viewportDim,r=this.option("slidesPerPage");r=("auto"===r||t<=n)&&!1!==this.option("fill")?1/0:parseFloat(r+"");var i,o=0,a=0,s=0,l=xw(this.slides);try{for(l.s();!(i=l.n()).done;){var u=i.value;(!e.length||a+u.dim-n>.05||s>=r)&&(e.push(p_()),o=e.length-1,a=0,s=0),e[o].slides.push(u),a+=u.dim+u.gap,s++}}catch(e){l.e(e)}finally{l.f()}return e}},{key:"processPages",value:function(){var e=this.pages,t=this.contentDim,n=this.viewportDim,r=this.isInfinite,i=this.option("center"),o=this.option("fill"),a=o&&i&&t>n&&!r;if(e.forEach((function(e,r){var o;e.index=r,e.pos=(null===(o=e.slides[0])||void 0===o?void 0:o.pos)||0,e.dim=0;var s,l=xw(e.slides.entries());try{for(l.s();!(s=l.n()).done;){var u=_w(s.value,2),c=u[0],f=u[1];e.dim+=f.dim,c<e.slides.length-1&&(e.dim+=f.gap)}}catch(e){l.e(e)}finally{l.f()}a&&e.pos+.5*e.dim<.5*n?e.pos=0:a&&e.pos+.5*e.dim>=t-.5*n?e.pos=t-n:i&&(e.pos+=-.5*(n-e.dim))})),e.forEach((function(e){o&&!r&&t>n&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,t-n)),e.pos=Dw(e.pos,1e3),e.dim=Dw(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)})),r)return e;var s,l=[];return e.forEach((function(e){var t=ww({},e);s&&t.pos===s.pos?(s.dim+=t.dim,s.slides=[].concat(bw(s.slides),bw(t.slides))):(t.index=l.length,s=t,l.push(t))})),l}},{key:"getPageFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t,n,r,i=this.isHorizontal?"width":"height",o=0,a=e.el,s=!(!a||a.parentNode);if(a?o=parseFloat(a.dataset[i]||"")||0:((a=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(a)),e_(a,this.cn(P_)+" "+e.class+" "+e.customClass),o)a.style[i]="".concat(o,"px"),a.style["width"===i?"height":"width"]="";else{s&&(this.track||document.body).prepend(a),o=a.getBoundingClientRect()[i]*Math.max(1,(null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1);var l=a[this.isHorizontal?"offsetWidth":"offsetHeight"];l-1>o&&(o=l)}var u=getComputedStyle(a);return"content-box"===u.boxSizing&&(this.isHorizontal?(o+=parseFloat(u.paddingLeft)||0,o+=parseFloat(u.paddingRight)||0):(o+=parseFloat(u.paddingTop)||0,o+=parseFloat(u.paddingBottom)||0)),r=parseFloat(u[this.isHorizontal?"marginRight":"marginBottom"])||0,s?null===(n=a.parentElement)||void 0===n||n.removeChild(a):e.el||a.remove(),{dim:Dw(o,1e3),gap:Dw(r,1e3)}}},{key:"getBounds",value:function(){var e=this.isInfinite,t=this.isRTL,n=this.isHorizontal,r=this.pages,i={min:0,max:0};if(e)i={min:-1/0,max:1/0};else if(r.length){var o=r[0].pos,a=r[r.length-1].pos;i=t&&n?{min:o,max:a}:{min:-1*a,max:-1*o}}return{x:n?i:{min:0,max:0},y:n?{min:0,max:0}:i}}},{key:"repositionSlides",value:function(){var e,t=this.isHorizontal,n=this.isRTL,r=this.isInfinite,i=this.viewport,o=this.viewportDim,a=this.contentDim,s=this.page,l=this.pages,u=this.slides,c=this.panzoom,f=0,h=0,d=0,p=0;c?p=-1*c.current[this.axis]:l[s]&&(p=l[s].pos||0),e=t?n?"right":"left":"top",n&&t&&(p*=-1);var v,y=xw(u);try{for(y.s();!(v=y.n()).done;){var m=v.value,b=m.el;b?("top"===e?(b.style.right="",b.style.left=""):b.style.top="",m.index!==f?b.style[e]=0===h?"":"".concat(Dw(h,1e3),"px"):b.style[e]="",d+=m.dim+m.gap,f++):h+=m.dim+m.gap}}catch(e){y.e(e)}finally{y.f()}if(r&&d&&i){var g=getComputedStyle(i),w="padding",_=t?"Right":"Bottom",k=parseFloat(g[w+(t?"Left":"Top")]);p-=k,o+=k,o+=parseFloat(g[w+_]);var x,O=xw(u);try{for(O.s();!(x=O.n()).done;){var P=x.value;P.el&&(Dw(P.pos)<Dw(o)&&Dw(P.pos+P.dim+P.gap)<Dw(p)&&Dw(p)>Dw(a-o)&&(P.el.style[e]="".concat(Dw(h+d,1e3),"px")),Dw(P.pos+P.gap)>=Dw(a-o)&&Dw(P.pos)>Dw(p+o)&&Dw(p)<Dw(o)&&(P.el.style[e]="-".concat(Dw(d,1e3),"px")))}}catch(e){O.e(e)}finally{O.f()}}var S,E,j=bw(this.inTransition);if(j.length>1&&(S=l[j[0]],E=l[j[1]]),S&&E){var T,D=0,A=xw(u);try{for(A.s();!(T=A.n()).done;){var C=T.value;C.el?this.inTransition.has(C.index)&&S.slides.indexOf(C)<0&&(C.el.style[e]="".concat(Dw(D+(S.pos-E.pos),1e3),"px")):D+=C.dim+C.gap}}catch(e){A.e(e)}finally{A.f()}}}},{key:"createSlideEl",value:function(e){var t=this.track,n=this.slides;if(t&&e&&(!e.el||!e.el.parentNode)){var r=e.el||document.createElement("div");e_(r,this.cn(P_)),e_(r,e.class),e_(r,e.customClass);var i=e.html;i&&(i instanceof HTMLElement?r.appendChild(i):r.innerHTML=e.html+"");var o=[];n.forEach((function(e,t){e.el&&o.push(t)}));var a=e.index,s=null;o.length&&(s=n[o.reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}))]);var l=s&&s.el&&s.el.parentNode?s.index<e.index?s.el.nextSibling:s.el:null;t.insertBefore(r,t.contains(l)?l:null),e.el=r,this.emit("createSlide",e)}}},{key:"removeSlideEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null==e?void 0:e.el;if(n&&n.parentNode){var r=this.cn(O_);if(n.classList.contains(r)&&(Qw(n,r),this.emit("unselectSlide",e)),e.isDom&&!t)return n.removeAttribute("aria-hidden"),n.removeAttribute("data-index"),void(n.style.left="");this.emit("removeSlide",e);var i=new CustomEvent(x_);n.dispatchEvent(i),e.el&&(e.el.remove(),e.el=null)}}},{key:"transitionTo",value:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!o)return!1;var a=this.page,s=this.pages,l=this.panzoom;i=parseInt((i||0).toString())||0;var u=this.getPageFromIndex(i);if(!l||!s[u]||s.length<2||Math.abs(((null===(t=null===(e=s[a])||void 0===e?void 0:e.slides[0])||void 0===t?void 0:t.dim)||0)-this.viewportDim)>1)return!1;var c=i>a?1:-1;this.isInfinite&&(0===a&&i===s.length-1&&(c=-1),a===s.length-1&&0===i&&(c=1));var f=s[u].pos*(this.isRTL?1:-1);if(a===u&&Math.abs(f-l.target[this.axis])<1)return!1;this.clearTransitions();var h=l.isResting;e_(this.container,this.cn("inTransition"));var d=(null===(n=s[a])||void 0===n?void 0:n.slides[0])||null,p=(null===(r=s[u])||void 0===r?void 0:r.slides[0])||null;this.inTransition.add(p.index),this.createSlideEl(p);var v=d.el,y=p.el;h||o===P_||(o="fadeFast",v=null);var m=this.isRTL?"next":"prev",b=this.isRTL?"prev":"next";return v&&(this.inTransition.add(d.index),d.transition=o,v.addEventListener(x_,this.onAnimationEnd),v.classList.add("f-".concat(o,"Out"),"to-".concat(c>0?b:m))),y&&(p.transition=o,y.addEventListener(x_,this.onAnimationEnd),y.classList.add("f-".concat(o,"In"),"from-".concat(c>0?m:b))),l.current[this.axis]=f,l.target[this.axis]=f,l.requestTick(),this.onChange(u),!0}},{key:"manageSlideVisiblity",value:function(){var e,t=new Set,n=new Set,r=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),i=xw(this.slides);try{for(i.s();!(e=i.n()).done;){var o=e.value;r.has(o)?t.add(o):n.add(o)}}catch(e){i.e(e)}finally{i.f()}var a,s=xw(this.inTransition);try{for(s.s();!(a=s.n()).done;){var l=a.value;t.add(this.slides[l])}}catch(e){s.e(e)}finally{s.f()}var u,c=xw(t);try{for(c.s();!(u=c.n()).done;){var f=u.value;this.createSlideEl(f),this.lazyLoadSlide(f)}}catch(e){c.e(e)}finally{c.f()}var h,d=xw(n);try{for(d.s();!(h=d.n()).done;){var p=h.value;t.has(p)||this.removeSlideEl(p)}}catch(e){d.e(e)}finally{d.f()}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn(O_);if(t){var n,r=xw(this.slides);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.el;o&&(o.dataset.index="".concat(i.index),o.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(i)?o.removeAttribute(e):o.setAttribute(e,"true"):this.pages[this.page].slides.includes(i)?(o.classList.contains(t)||(e_(o,t),this.emit("selectSlide",i)),o.removeAttribute(e)):(o.classList.contains(t)&&(Qw(o,t),this.emit("unselectSlide",i)),o.setAttribute(e,"true")))}}catch(e){r.e(e)}finally{r.f()}}}}},{key:"flipInfiniteTrack",value:function(){var e=this.axis,t=this.isHorizontal,n=this.isInfinite,r=this.isRTL,i=this.viewportDim,o=this.contentDim,a=this.panzoom;if(a&&n){var s=a.current[e],l=a.target[e]-s,u=0,c=.5*i;r&&t?(s<-c&&(u=-1,s+=o),s>o-c&&(u=1,s-=o)):(s>c&&(u=1,s-=o),s<-o+c&&(u=-1,s+=o)),u&&(a.current[e]=s,a.target[e]=s+l)}}},{key:"lazyLoadImg",value:function(e,t){var n=this,r=this,i="f-fadeIn",o="is-preloading",a=!1,s=null,l=function(){a||(a=!0,s&&(s.remove(),s=null),Qw(t,o),t.complete&&(e_(t,i),setTimeout((function(){Qw(t,i)}),350)),n.option("adaptiveHeight")&&e.el&&n.pages[n.page].slides.indexOf(e)>-1&&(r.updateMetrics(),r.setViewportHeight()),n.emit("load",e))};e_(t,o),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",(function(){l()})),t.addEventListener("load",(function(){l()})),setTimeout((function(){var n=t.parentNode;n&&e.el&&(t.complete?l():a||(s=Mw(Zw),n.insertBefore(s,t)))}),300)}},{key:"lazyLoadSlide",value:function(e){var t=e&&e.el;if(t){var n=new Set,r=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&r.push(t),r.map((function(e){e instanceof HTMLImageElement?n.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc,"')"),delete e.dataset.lazySrc)}));var i,o=xw(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.lazyLoadImg(e,a)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"onAnimationEnd",value:function(e){var t,n=e.target,r=n?parseInt(n.dataset.index||"",10)||0:-1,i=this.slides[r],o=e.animationName;if(n&&i&&o){var a=!!this.inTransition.has(r)&&i.transition;a&&o.substring(0,a.length+2)==="f-".concat(a)&&this.inTransition.delete(r),this.inTransition.size||this.clearTransitions(),r===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}}},{key:"onDecel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(this.option("dragFree"))this.setPageFromPosition();else{var o,a=this.isRTL,s=this.isHorizontal,l=this.axis,u=this.pages,c=u.length,f=Math.abs(Math.atan2(n,t)/(Math.PI/180));if(o=f>45&&f<135?s?0:n:s?t:0,c){var h=this.page,d=a&&s?1:-1,p=e.current[l]*d,v=this.getPageFromPosition(p).pageIndex;Math.abs(o)>5?(u[h].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(h=v),h=a&&s?o<0?h-1:h+1:o<0?h+1:h-1):h=0===r&&0===i?h:v,this.slideTo(h,{transition:!1,friction:e.option("decelFriction")})}}}},{key:"onClick",value:function(e){var t,n,r=e.target,i=r&&Jw(r)?r.dataset:null;i&&(void 0!==i.carouselPage?(n="slideTo",t=i.carouselPage):void 0!==i.carouselNext?n="slideNext":void 0!==i.carouselPrev&&(n="slidePrev")),n?(e.preventDefault(),e.stopPropagation(),r&&!r.hasAttribute("disabled")&&this[n](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onScroll",value:function(){var e;null===(e=this.viewport)||void 0===e||e.scroll(0,0)}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=c_.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.friction,r=void 0===n?this.option("friction"):n,i=t.transition,o=void 0===i?this.option("transition"):i;if(this.state!==c_.Destroy){e=parseInt((e||0).toString())||0;var a=this.getPageFromIndex(e),s=this.axis,l=this.isHorizontal,u=this.isRTL,c=this.pages,f=this.panzoom,h=c.length,d=u&&l?1:-1;if(f&&h){if(this.page!==a){var p=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",p,e),p.defaultPrevented)return}if(!this.transitionTo(e,o)){var v=c[a].pos;if(this.isInfinite){var y=this.contentDim,m=f.target[s]*d;2===h?v+=y*Math.floor(parseFloat(e+"")/2):v=[v,v-y,v+y].reduce((function(e,t){return Math.abs(t-m)<Math.abs(e-m)?t:e}))}v*=d,Math.abs(f.target[s]-v)<1||(f.panTo({x:l?v:0,y:l?0:v,friction:r}),this.onChange(a))}}}}},{key:"slideToClosest",value:function(e){if(this.panzoom){var t=this.getPageFromPosition().pageIndex;this.slideTo(t,e)}}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),Qw(this.container,this.cn("inTransition"));var e,t=["to-prev","to-next","from-prev","from-next"],n=xw(this.slides);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.el;if(i){var o;i.removeEventListener(x_,this.onAnimationEnd),(o=i.classList).remove.apply(o,t);var a=r.transition;a&&i.classList.remove("f-".concat(a,"Out"),"f-".concat(a,"In"))}}}catch(e){n.e(e)}finally{n.f()}this.manageSlideVisiblity()}},{key:"addSlide",value:function(e,t){var n,r,i,o,a,s,l=this.panzoom,u=(null===(r=this.pages[this.page])||void 0===r?void 0:r.pos)||0,c=(null===(i=this.pages[this.page])||void 0===i?void 0:i.dim)||0,f=this.contentDim<this.viewportDim,h=[],d=xw(Array.isArray(t)?t:[t]);try{for(d.s();!(s=d.n()).done;){var p=s.value;h.push(d_(p))}}catch(e){d.e(e)}finally{d.f()}(n=this.slides).splice.apply(n,[e,0].concat(h));for(var v=0;v<this.slides.length;v++)this.slides[v].index=v;for(var y=0,m=h;y<m.length;y++){var b=m[y];this.emit("beforeInitSlide",b,b.index)}if(this.page>=e&&(this.page+=h.length),this.updateMetrics(),l){var g=(null===(o=this.pages[this.page])||void 0===o?void 0:o.pos)||0,w=(null===(a=this.pages[this.page])||void 0===a?void 0:a.dim)||0,_=this.pages.length||1,k=this.isRTL?c-w:w-c,x=this.isRTL?u-g:g-u;f&&1===_?(e<=this.page&&(l.current[this.axis]-=k,l.target[this.axis]-=k),l.panTo(gw({},this.isHorizontal?"x":"y",-1*g))):x&&e<=this.page&&(l.target[this.axis]-=x,l.current[this.axis]-=x,l.requestTick())}for(var O=0,P=h;O<P.length;O++){var S=P[O];this.emit("initSlide",S,S.index)}}},{key:"prependSlide",value:function(e){this.addSlide(0,e)}},{key:"appendSlide",value:function(e){this.addSlide(this.slides.length,e)}},{key:"removeSlide",value:function(e){var t=this.slides.length;e=(e%t+t)%t;var n=this.slides[e];if(n){this.removeSlideEl(n,!0),this.slides.splice(e,1);for(var r=0;r<this.slides.length;r++)this.slides[r].index=r;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",n)}}},{key:"updateMetrics",value:function(){var e=this.panzoom,t=this.viewport,n=this.track,r=this.slides,i=this.isHorizontal,o=this.isInfinite;if(n){var a=i?"width":"height",s=i?"offsetWidth":"offsetHeight";if(t){var l=Math.max(t[s],Dw(t.getBoundingClientRect()[a],1e3)),u=getComputedStyle(t),c="padding",f=i?"Right":"Bottom";l-=parseFloat(u[c+(i?"Left":"Top")])+parseFloat(u[c+f]),this.viewportDim=l}var h,d,p=0,v=xw(r.entries());try{for(v.s();!(d=v.n()).done;){var y,m=_w(d.value,2),b=m[0],g=m[1],w=0,_=0;!g.el&&h?(w=h.dim,_=h.gap):(w=(y=this.getSlideMetrics(g)).dim,_=y.gap,h=g),w=Dw(w,1e3),_=Dw(_,1e3),g.dim=w,g.gap=_,g.pos=p,p+=w,(o||b<r.length-1)&&(p+=_)}}catch(e){v.e(e)}finally{v.f()}p=Dw(p,1e3),this.contentDim=p,e&&(e.contentRect[a]=p,e.contentRect[i?"fullWidth":"fullHeight"]=p),this.pages=this.createPages(),this.pages=this.processPages(),this.state===c_.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];void 0===e&&(e=this.page);var r=this,i=r.panzoom,o=r.contentDim,a=r.pages[e]||0;if(!a||!i)return e>this.page?-1:1;var s=-1*i.current.e,l=Dw((s-a.pos)/(1*a.dim),1e3),u=l,c=l;this.isInfinite&&!0!==n&&(u=Dw((s-a.pos+o)/(1*a.dim),1e3),c=Dw((s-a.pos-o)/(1*a.dim),1e3));var f=[l,u,c].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?f:f>1?1:f<-1?-1:f}},{key:"setViewportHeight",value:function(){var e=this.page,t=this.pages,n=this.viewport,r=this.isHorizontal;if(n&&t[e]){var i=0;r&&this.track&&(this.track.style.height="auto",t[e].slides.forEach((function(e){e.el&&(i=Math.max(i,e.el.offsetHeight))}))),n.style.height=i?"".concat(i,"px"):""}}},{key:"getPageForSlide",value:function(e){var t,n=xw(this.pages);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=xw(i.slides);try{for(o.s();!(r=o.n()).done;){if(r.value.index===e)return i.index}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return-1}},{key:"getVisibleSlides",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Set,r=this.panzoom,i=this.contentDim,o=this.viewportDim,a=this.pages,s=this.page;if(o){i=i+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;var l=0;l=r&&r.state!==Uw.Init&&r.state!==Uw.Destroy?-1*r.current[this.axis]:a[s]&&a[s].pos||0,this.isInfinite&&(l-=Math.floor(l/i)*i),this.isRTL&&this.isHorizontal&&(l*=-1);var u,c=l-o*t,f=l+o*(t+1),h=this.isInfinite?[-1,0,1]:[0],d=xw(this.slides);try{for(d.s();!(u=d.n()).done;){var p,v=u.value,y=xw(h);try{for(y.s();!(p=y.n()).done;){var m=p.value,b=v.pos+m*i,g=b+v.dim+v.gap;b<f&&g>c&&n.add(v)}}catch(e){y.e(e)}finally{y.f()}}}catch(e){d.e(e)}finally{d.f()}}return n}},{key:"getPageFromPosition",value:function(e){var t,n=this.viewportDim,r=this.contentDim,i=this.slides,o=this.pages,a=this.panzoom,s=o.length,l=i.length,u=i[0],c=i[l-1],f=this.option("center"),h=0,d=void 0===e?-1*((null==a?void 0:a.target[this.axis])||0):e;f&&(d+=.5*n),this.isInfinite?(d<u.pos-.5*c.gap&&(d-=r,h=-1),d>c.pos+c.dim+.5*c.gap&&(d-=r,h=1)):d=Math.max(u.pos||0,Math.min(d,c.pos));var p=c,v=i.find((function(e){var t=e.pos-.5*p.gap,n=e.pos+e.dim+.5*e.gap;return p=e,d>=t&&d<n}));return v||(v=c),{page:(t=this.getPageForSlide(v.index))+h*s,pageIndex:t}}},{key:"setPageFromPosition",value:function(){var e=this.getPageFromPosition().pageIndex;this.onChange(e)}},{key:"destroy",value:function(){var e=this;if(![c_.Destroy].includes(this.state)){this.state=c_.Destroy;var t=this.container,n=this.viewport,r=this.track,i=this.slides,o=this.panzoom,a=this.option("classes");t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),o&&(o.destroy(),this.panzoom=null),i&&i.forEach((function(t){e.removeSlideEl(t)})),this.detachPlugins(),n&&(n.removeEventListener("scroll",this.onScroll),n.offsetParent&&r&&r.offsetParent&&n.replaceWith.apply(n,bw(r.childNodes)));for(var s=0,l=Object.entries(a);s<l.length;s++){var u=_w(l[s],2),c=u[0],f=u[1];"container"!==c&&f&&t.classList.remove(f)}this.track=null,this.viewport=null,this.page=0,this.slides=[];var h=this.events.get("ready");this.events=new Map,h&&this.events.set("ready",h)}}}])}(Gw);Object.defineProperty(S_,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:u_}),Object.defineProperty(S_,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(S_,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:k_});var E_,j_,T_,D_=function(e){if(!Jw(e))return 0;var t=window.scrollY,n=window.innerHeight,r=t+n,i=e.getBoundingClientRect(),o=i.y+t,a=i.height,s=o+a;if(t>s||r<o)return 0;if(t<o&&r>s)return 100;if(o<t&&s>r)return 100;var l=a;o<t&&(l-=t-o),s>r&&(l-=s-r);var u=l/n*100;return Math.round(u)},A_=!("undefined"==typeof window||!window.document||!window.document.createElement),C_=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),M_=function(e){if(e&&A_){void 0===E_&&document.createElement("div").focus({get preventScroll(){return E_=!0,!1}});try{if(E_)e.focus({preventScroll:!0});else{var t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"})}}catch(e){}}},L_=function(){var e,t=document,n="",r="",i="";return t.fullscreenEnabled?(n="requestFullscreen",r="exitFullscreen",i="fullscreenElement"):t.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",r="webkitExitFullscreen",i="webkitFullscreenElement"),n&&(e={request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.documentElement;return"webkitRequestFullscreen"===n?e[n](Element.ALLOW_KEYBOARD_INPUT):e[n]()},exit:function(){return t[i]&&t[r]()},isFullscreen:function(){return t[i]}}),e},R_={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:ww(ww({},Ww),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},trapFocus:!0,wheel:"zoom"};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Closing=2]="Closing",e[e.CustomClosing=3]="CustomClosing",e[e.Destroy=4]="Destroy"}(j_||(j_={})),function(e){e[e.Loading=0]="Loading",e[e.Opening=1]="Opening",e[e.Ready=2]="Ready",e[e.Closing=3]="Closing"}(T_||(T_={}));var I_="",N_=!1,B_=!1,F_=null,z_=function(){var e="",t="",n=Qk.getInstance();if(n){var r=n.carousel,i=n.getSlide();if(r&&i){var o=i.slug||void 0,a=i.triggerEl||void 0;!(t=o||n.option("slug")||"")&&a&&a.dataset&&(t=a.dataset.fancybox||""),t&&"true"!==t&&(e="#"+t+(!o&&r.slides.length>1?"-"+(i.index+1):""))}}return{hash:e,slug:t,index:1}},V_=function(){var e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],r=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:r}},q_=function(){var e=V_(),t=e.slug,n=e.index;if(t){var r=document.querySelector('[data-slug="'.concat(t,'"]'));if(r&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!Qk.getInstance()){var i=document.querySelectorAll('[data-fancybox="'.concat(t,'"]'));i.length&&((r=i[n-1])&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}},H_=function(){if(!1!==Qk.defaults.Hash){var e=Qk.getInstance();if(!1!==(null==e?void 0:e.options.Hash)){var t=V_(),n=t.slug,r=t.index,i=z_().slug;e&&(n===i?e.jumpTo(r-1):(N_=!0,e.close())),q_()}}},Y_=function(){F_&&clearTimeout(F_),queueMicrotask((function(){H_()}))},U_=function(){window.addEventListener("hashchange",Y_,!1),setTimeout((function(){H_()}),500)};A_&&(/complete|interactive|loaded/.test(document.readyState)?U_():document.addEventListener("DOMContentLoaded",U_));var G_="is-zooming-in",X_=function(e){function t(){return Tw(this,t),hw(this,t,arguments)}return yw(t,e),Ew(t,[{key:"onCreateSlide",value:function(e,t,n){var r=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof r&&this.setImage(n,r)}},{key:"onRemoveSlide",value:function(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}},{key:"onChange",value:function(e,t,n,r){Qw(this.instance.container,G_);var i,o=xw(t.slides);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.panzoom;s&&a.index!==n&&s.reset(.35)}}catch(e){o.e(e)}finally{o.f()}}},{key:"onClose",value:function(){var e,t=this.instance,n=t.container,r=t.getSlide();if(n&&n.parentElement&&r){var i=r.el,o=r.contentEl,a=r.panzoom,s=r.thumbElSrc;if(i&&s&&o&&a&&!a.isContentLoading&&a.state!==Uw.Init&&a.state!==Uw.Destroy){a.updateMetrics();var l=this.getZoomInfo(r);if(l){this.instance.state=j_.CustomClosing,n.classList.remove(G_),n.classList.add("is-zooming-out"),o.style.backgroundImage="url('".concat(s,"')");var u=n.getBoundingClientRect();1===((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)&&ww(n.style,{position:"absolute",top:"".concat(n.offsetTop+window.scrollY,"px"),left:"".concat(n.offsetLeft+window.scrollX,"px"),bottom:"auto",right:"auto",width:"".concat(u.width,"px"),height:"".concat(u.height,"px"),overflow:"hidden"});var c=l.x,f=l.y,h=l.scale,d=l.opacity;if(d){var p=function(e,t){var n=t-e;return function(t){return 1+((t-e)/n*-1||0)}}(a.scale,h);a.on("afterTransform",(function(){o.style.opacity=p(a.scale)+""}))}a.on("endAnimation",(function(){t.destroy()})),a.target.a=h,a.target.b=0,a.target.c=0,a.target.d=h,a.panTo({x:c,y:f,scale:h,friction:d?.2:.33,ignoreBounds:!0}),a.isResting&&t.destroy()}}}}},{key:"setImage",value:function(e,t){var n=this,r=this.instance;e.src=t,this.process(e,t).then((function(t){var i=e.contentEl,o=e.imageEl,a=e.thumbElSrc,s=e.el;if(!r.isClosing()&&i&&o){i.offsetHeight;var l,u=!!r.isOpeningSlide(e)&&n.getZoomInfo(e);if(n.option("protected")&&s){s.addEventListener("contextmenu",(function(e){e.preventDefault()}));var c=document.createElement("div");e_(c,"fancybox-protected"),i.appendChild(c)}if(a&&u){var f=t.contentRect,h=Math.max(f.fullWidth,f.fullHeight),d=null;!u.opacity&&h>1200&&(d=document.createElement("img"),e_(d,"fancybox-ghost"),d.src=a,i.appendChild(d));var p=function(){d&&(e_(d,"f-fadeFastOut"),setTimeout((function(){d&&(d.remove(),d=null)}),200))};(l=a,new Promise((function(e,t){var n=new Image;n.onload=e,n.onerror=t,n.src=l}))).then((function(){r.hideLoading(e),e.state=T_.Opening,n.instance.emit("reveal",e),n.zoomIn(e).then((function(){p(),n.instance.done(e)}),(function(){})),d&&setTimeout((function(){p()}),h>2500?800:200)}),(function(){r.hideLoading(e),r.revealContent(e)}))}else{var v=n.optionFor(e,"initialSize"),y=n.optionFor(e,"zoom"),m={event:r.prevMouseMoveEvent||r.options.event,friction:y?.12:0},b=r.optionFor(e,"showClass")||void 0,g=!0;r.isOpeningSlide(e)&&("full"===v?t.zoomToFull(m):"cover"===v?t.zoomToCover(m):"max"===v?t.zoomToMax(m):g=!1,t.stop("current")),g&&b&&(b=t.isDragging?"f-fadeIn":""),r.hideLoading(e),r.revealContent(e,b)}}}),(function(){r.setError(e,"{{IMAGE_ERROR}}")}))}},{key:"process",value:function(e,t){var n=this;return new Promise((function(r,i){var o,a=n.instance,s=e.el;a.clearContent(e),a.showLoading(e);var l=n.optionFor(e,"content");if("string"==typeof l&&(l=Mw(l)),!l||!Jw(l)){if((l=document.createElement("img"))instanceof HTMLImageElement){var u,c=e.caption;u="string"==typeof c&&c?c.replace(/<[^>]+>/gi,"").substring(0,1e3):"Image ".concat(e.index+1," of ").concat((null===(o=a.carousel)||void 0===o?void 0:o.pages.length)||1),l.src=t||"",l.alt=u,l.draggable=!1,e.srcset&&l.setAttribute("srcset",e.srcset),n.instance.isOpeningSlide(e)&&(l.fetchPriority="high")}e.sizes&&l.setAttribute("sizes",e.sizes)}e_(l,"fancybox-image"),e.imageEl=l,a.setContent(e,l,!1),e.panzoom=new u_(s,qw({transformParent:!0},n.option("Panzoom")||{},{content:l,width:function(t,n){return a.optionFor(e,"width","auto",n)||"auto"},height:function(t,n){return a.optionFor(e,"height","auto",n)||"auto"},wheel:function(){var e=a.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(t,n){var r,i;if(a.isCompact||a.isClosing())return!1;if(e.index!==(null===(r=a.getSlide())||void 0===r?void 0:r.index))return!1;if(n){var o=n.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(o.nodeName))return!1}var s=!n||n.target&&(null===(i=e.contentEl)||void 0===i?void 0:i.contains(n.target));return a.option(s?"contentClick":"backdropClick")||!1},dblClick:function(){return a.isCompact?"toggleZoom":a.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:function(e){r(e)},error:function(){i()},destroy:function(){i()}}}))}))}},{key:"zoomIn",value:function(e){var t=this;return new Promise((function(n,r){var i=t.instance,o=i.container,a=e.panzoom,s=e.contentEl,l=e.el;a&&a.updateMetrics();var u=t.getZoomInfo(e);if(u&&l&&s&&a&&o){var c=u.x,f=u.y,h=u.scale,d=u.opacity,p=function(){e.state!==T_.Closing&&(d&&(s.style.opacity=Math.max(Math.min(1,1-(1-a.scale)/(1-h)),0)+""),a.scale>=1&&a.scale>a.targetScale-.1&&n(a))},v=function(e){(e.scale<.99||e.scale>1.01)&&!e.isDragging||(Qw(o,G_),s.style.opacity="",e.off("endAnimation",v),e.off("touchStart",v),e.off("afterTransform",p),n(e))};a.on("endAnimation",v),a.on("touchStart",v),a.on("afterTransform",p),a.on(["error","destroy"],(function(){r()})),a.panTo({x:c,y:f,scale:h,friction:0,ignoreBounds:!0}),a.stop("current");var y={event:"mousemove"===a.panMode?i.prevMouseMoveEvent||i.options.event:void 0},m=t.optionFor(e,"initialSize");e_(o,G_),i.hideLoading(e),"full"===m?a.zoomToFull(y):"cover"===m?a.zoomToCover(y):"max"===m?a.zoomToMax(y):a.reset(.172)}else r()}))}},{key:"getZoomInfo",value:function(e){var t=e.el,n=e.imageEl,r=e.thumbEl,i=e.panzoom,o=this.instance,a=o.container;if(!t||!n||!r||!i||D_(r)<3||!this.optionFor(e,"zoom")||!a||o.state===j_.Destroy)return!1;if("0"===getComputedStyle(a).getPropertyValue("--f-images-zoom"))return!1;var s=window.visualViewport||null;if(1!==(s?s.scale:1))return!1;var l=r.getBoundingClientRect(),u=l.top,c=l.left,f=l.width,h=l.height,d=i.contentRect,p=d.top,v=d.left,y=d.fitWidth,m=d.fitHeight;if(!(f&&h&&y&&m))return!1;var b=i.container.getBoundingClientRect(),g=-1*((v+=b.left)+.5*y-(c+.5*f)),w=-1*((p+=b.top)+.5*m-(u+.5*h)),_=f/y,k=this.option("zoomOpacity")||!1;return"auto"===k&&(k=Math.abs(f/h-y/m)>.1),{x:g,y:w,scale:_,opacity:k}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}])}(v_);Object.defineProperty(X_,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"function"==typeof SuppressedError&&SuppressedError;var W_="html",$_="image",K_="map",Z_="youtube",J_="vimeo",Q_="html5video",ek=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(e),r=new URLSearchParams(n.search),i=new URLSearchParams,o=0,a=[].concat(bw(r),bw(Object.entries(t)));o<a.length;o++){var s=_w(a[o],2),l=s[0],u=s[1]+"";if("t"===l){var c=u.match(/((\d*)m)?(\d*)s?/);c&&i.set("start",60*parseInt(c[2]||"0")+parseInt(c[3]||"0")+"")}else i.set(l,u)}var f=i+"",h=e.match(/#t=((.*)?\d+s)/);return h&&(f+="#t=".concat(h[1])),f},tk=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"],nk=function(e){function t(){return Tw(this,t),hw(this,t,arguments)}return yw(t,e),Ew(t,[{key:"onBeforeInitSlide",value:function(e,t,n){this.processType(n)}},{key:"onCreateSlide",value:function(e,t,n){this.setContent(n)}},{key:"onClearContent",value:function(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);var n=t.iframeEl;n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null);var r=t.contentEl,i=t.placeholderEl;if("inline"===t.type&&r&&i)r.classList.remove("fancybox__content"),"none"!==getComputedStyle(r).getPropertyValue("display")&&(r.style.display="none"),setTimeout((function(){i&&(r&&i.parentNode&&i.parentNode.insertBefore(r,i),i.remove())}),0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}},{key:"onSelectSlide",value:function(e,t,n){n.state===T_.Ready&&this.playVideo()}},{key:"onUnselectSlide",value:function(e,t,n){var r,i,o;if(n.type!==Q_)n.type===J_?o={method:"pause",value:"true"}:n.type===Z_&&(o={event:"command",func:"pauseVideo"}),o&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),n.poller&&clearTimeout(n.poller);else try{null===(i=null===(r=n.el)||void 0===r?void 0:r.querySelector("video"))||void 0===i||i.pause()}catch(e){}}},{key:"onDone",value:function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}},{key:"onRefresh",value:function(e,t){var n=this;t.slides.forEach((function(e){e.el&&(n.resizeIframe(e),n.setAspectRatio(e))}))}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event)for(var n=0,r=Array.from(document.getElementsByClassName("fancybox__iframe"));n<r.length;n++){var i=r[n];i instanceof HTMLIFrameElement&&i.contentWindow===e.source&&(i.dataset.ready="true")}}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){var o=document.getElementById(t.id);o&&(o.dataset.ready="true")}}catch(e){}}},{key:"loadAjaxContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);var n=this.instance,r=new XMLHttpRequest;n.showLoading(e),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&n.state===j_.Ready&&(n.hideLoading(e),200===r.status?n.setContent(e,r.responseText):n.setError(e,404===r.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var i=e.ajax||null;r.open(i?"POST":"GET",t+""),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(i),e.xhr=r}},{key:"setInlineContent",value:function(e){var t=null;if(Jw(e.src))t=e.src;else if("string"==typeof e.src){var n=e.src.split("#",2).pop();t=n?document.getElementById(n):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){var r=(t=t.cloneNode(!0)).dataset.animationName;r&&(t.classList.remove(r),delete t.dataset.animationName);var i=t.getAttribute("id");i=i?"".concat(i,"--clone"):"clone-".concat(this.instance.id,"-").concat(e.index),t.setAttribute("id",i)}else if(t.parentNode){var o=document.createElement("div");o.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(o,t),e.placeholderEl=o}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"setIframeContent",value:function(e){var t=this,n=e.src,r=e.el;if(n&&"string"==typeof n&&r){r.classList.add("is-loading");var i=this.instance,o=document.createElement("iframe");o.className="fancybox__iframe",o.setAttribute("id","fancybox__iframe_".concat(i.id,"_").concat(e.index));for(var a=0,s=Object.entries(this.optionFor(e,"iframeAttr")||{});a<s.length;a++){var l=_w(s[a],2),u=l[0],c=l[1];o.setAttribute(u,c)}o.onerror=function(){i.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=o;var f=this.optionFor(e,"preload");if("iframe"!==e.type||!1===f)return o.setAttribute("src",e.src+""),i.setContent(e,o,!1),this.resizeIframe(e),void i.revealContent(e);i.showLoading(e),o.onload=function(){if(o.src.length){var n="true"!==o.dataset.ready;o.dataset.ready="true",t.resizeIframe(e),n?i.revealContent(e):i.hideLoading(e)}},o.setAttribute("src",n),i.setContent(e,o,!1)}}},{key:"resizeIframe",value:function(e){var t=e.type,n=e.iframeEl;if(t!==Z_&&t!==J_){var r=null==n?void 0:n.parentElement;if(n&&r){var i=e.autoSize;void 0===i&&(i=this.optionFor(e,"autoSize"));var o=e.width||0,a=e.height||0;o&&a&&(i=!1);var s=r&&r.style;if(!1!==e.preload&&!1!==i&&s)try{var l=window.getComputedStyle(r),u=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),c=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),f=n.contentWindow;if(f){var h=f.document,d=h.getElementsByTagName(W_)[0],p=h.body;s.width="",p.style.overflow="hidden",o=o||d.scrollWidth+u,s.width="".concat(o,"px"),p.style.overflow="",s.flex="0 0 auto",s.height="".concat(p.scrollHeight,"px"),a=d.scrollHeight+c}}catch(e){}if(o||a){var v={flex:"0 1 auto",width:"",height:""};o&&"auto"!==o&&(v.width="".concat(o,"px")),a&&"auto"!==a&&(v.height="".concat(a,"px")),ww(s,v)}}}}},{key:"playVideo",value:function(){var e=this.instance.getSlide();if(e){var t=e.el;if(t&&t.offsetParent&&this.optionFor(e,"videoAutoplay")){if(e.type===Q_)try{var n=t.querySelector("video");if(n){var r=n.play();void 0!==r&&r.then((function(){})).catch((function(e){n.muted=!0,n.play()}))}}catch(e){}if(e.type===Z_||e.type===J_){var i=function(){if(e.iframeEl&&e.iframeEl.contentWindow){var t;if("true"===e.iframeEl.dataset.ready)return(t=e.type===Z_?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);e.type===Z_&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(i,250)};i()}}}}},{key:"processType",value:function(e){if(e.html)return e.type=W_,e.src=e.html,void(e.html="");var t=this.instance.optionFor(e,"src","");if(t&&"string"==typeof t){var n=e.type,r=null;if(r=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var i=this.optionFor(e,Z_),o=i.nocookie,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["nocookie"]),s="www.youtube".concat(o?"-nocookie":"",".com"),l=ek(t,a),u=encodeURIComponent(r[2]);e.videoId=u,e.src="https://".concat(s,"/embed/").concat(u,"?").concat(l),e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/".concat(u,"/mqdefault.jpg"),n=Z_}else if(r=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){var c=ek(t,this.optionFor(e,J_)),f=encodeURIComponent(r[1]),h=r[4]||"";e.videoId=f,e.src="https://player.vimeo.com/video/".concat(f,"?").concat(h?"h=".concat(h).concat(c?"&":""):"").concat(c),n=J_}if(!n&&e.triggerEl){var d=e.triggerEl.dataset.type;tk.includes(d)&&(n=d)}n||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(r=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=Q_,e.videoFormat=e.videoFormat||"video/"+("ogv"===r[1]?"ogg":r[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n=$_:t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(r=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google.".concat(r[1],"/?ll=").concat((r[2]?r[2]+"&z="+Math.floor(parseFloat(r[3]))+(r[4]?r[4].replace(/^\//,"&"):""):r[4]+"").replace(/\?/,"&"),"&output=").concat(r[4]&&r[4].indexOf("layer=c")>0?"svembed":"embed"),n=K_):(r=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google.".concat(r[1],"/maps?q=").concat(r[2].replace("query=","q=").replace("api=1",""),"&output=embed"),n=K_),n=n||this.instance.option("defaultType"),e.type=n,n===$_&&(e.thumbSrc=e.thumbSrc||e.src)}}},{key:"setContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case W_:this.instance.setContent(e,t);break;case Q_:var n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case K_:case Z_:case J_:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}},{key:"setAspectRatio",value:function(e){var t=e.contentEl;if(e.el&&t&&e.type&&[Z_,J_,Q_].includes(e.type)){var n,r=e.width||"auto",i=e.height||"auto";if("auto"===r||"auto"===i){var o=((n=this.optionFor(e,"videoRatio"))+"").match(/(\d+)\s*\/\s?(\d+)/);n=o&&o.length>2?parseFloat(o[1])/parseFloat(o[2]):parseFloat(n+"")}else r&&i&&(n=r/i);if(n){t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;var a=t.getBoundingClientRect(),s=a.width||1,l=a.height||1;t.style.aspectRatio=n+"",n<s/l?(i="auto"===i?l:Math.min(l,i),t.style.width="auto",t.style.height="".concat(i,"px")):(r="auto"===r?s:Math.min(s,r),t.style.width="".concat(r,"px"),t.style.height="auto")}}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}])}(v_);Object.defineProperty(nk,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});var rk="play",ik="pause",ok="ready",ak=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:ok}),Object.defineProperty(dw(e),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(e),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return yw(t,e),Ew(t,[{key:"isActive",get:function(){return this.state!==ok}},{key:"onReady",value:function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}},{key:"onChange",value:function(){this.removeProgressBar(),this.pause()}},{key:"onSettle",value:function(){this.resume()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.resume():this.pause()}},{key:"onMouseEnter",value:function(){this.inHover=!0,this.pause()}},{key:"onMouseLeave",value:function(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}},{key:"onTimerEnd",value:function(){var e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}},{key:"removeProgressBar",value:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}},{key:"createProgressBar",value:function(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();var t=this.instance,n=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],r=this.option("progressParentEl");if(r||(r=(1===n.length?n[0].el:null)||t.viewport),!r)return null;var i=document.createElement("div");return e_(i,"f-progress"),r.prepend(i),this.progressBar=i,i.offsetHeight,i}},{key:"set",value:function(){var e=this,t=e.instance;if(!(t.pages.length<2||e.timer)){var n=e.option("timeout");e.state=rk,e_(t.container,"has-autoplay");var r=e.createProgressBar();r&&(r.style.transitionDuration="".concat(n,"ms"),r.style.transform="scaleX(1)"),e.timer=setTimeout((function(){e.timer=null,e.inHover||e.onTimerEnd()}),n),e.emit("set")}}},{key:"clear",value:function(){var e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}},{key:"start",value:function(){var e=this;if(e.set(),e.state!==ok){if(e.option("pauseOnHover")){var t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}},{key:"stop",value:function(){var e=this,t=e.state,n=e.instance.container;e.clear(),e.state=ok,n.removeEventListener("mouseenter",e.onMouseEnter,!1),n.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),Qw(n,"has-autoplay"),t!==ok&&e.emit("stop")}},{key:"pause",value:function(){var e=this;e.state===rk&&(e.state=ik,e.clear(),e.emit(ik))}},{key:"resume",value:function(){var e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==rk){if(e.state===ik&&!e.inHover){var n=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",n),n.defaultPrevented||e.set()}}else e.set();else e.stop()}},{key:"toggle",value:function(){this.state===rk||this.state===ik?this.stop():this.start()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}])}(v_);Object.defineProperty(ak,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var sk=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return yw(t,e),Ew(t,[{key:"onPrepare",value:function(e){var t=this,n=e.carousel;if(n){var r=e.container;r&&(n.options.Autoplay=qw({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:function(){return t.option("progressParentEl")||null},on:{start:function(){e.emit("startSlideshow")},set:function(t){var n;r.classList.add("has-slideshow"),(null===(n=e.getSlide())||void 0===n?void 0:n.state)!==T_.Ready&&t.pause()},stop:function(){r.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:function(t,n){var r,i,o;!n||!n.cancelable||(null===(r=e.getSlide())||void 0===r?void 0:r.state)===T_.Ready&&(null===(o=null===(i=e.carousel)||void 0===i?void 0:i.panzoom)||void 0===o?void 0:o.isResting)||n.preventDefault()}}}),n.attachPlugins({Autoplay:ak}),this.ref=n.plugins.Autoplay)}}},{key:"onReady",value:function(e){var t=e.carousel,n=this.ref;n&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&n.start()}},{key:"onDone",value:function(e,t){var n=this.ref,r=e.carousel;if(n&&r){var i=t.panzoom;i&&i.on("startAnimation",(function(){e.isCurrentSlide(t)&&n.stop()})),e.isCurrentSlide(t)&&n.resume()}}},{key:"onKeydown",value:function(e,t){var n,r=this.ref;r&&t===this.option("key")&&"BUTTON"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName)&&r.toggle()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}])}(v_);Object.defineProperty(sk,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:function(e){var t;return(null===(t=e.instance.container)||void 0===t?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}});var lk,uk={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Hidden=2]="Hidden"}(lk||(lk={}));var ck="isResting",fk="thumbWidth",hk="thumbHeight",dk="thumbClipWidth",pk=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(dw(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:lk.Init}),e}return yw(t,e),Ew(t,[{key:"isModern",get:function(){return"modern"===this.type}},{key:"onInitSlide",value:function(e,t){var n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[dk]=parseFloat(n[dk]||"")||t[dk]||0,t[hk]=parseFloat(n.thumbHeight||"")||t[hk]||0),this.addSlide(t)}},{key:"onInitSlides",value:function(){this.build()}},{key:"onChange",value:function(){var e;if(this.isModern){var t=this.container,n=this.instance,r=n.panzoom,i=this.carousel,o=i?i.panzoom:null,a=n.page;if(r&&i&&o){if(r.isDragging){Qw(t,this.cn(ck));var s=(null===(e=i.pages[a])||void 0===e?void 0:e.pos)||0;s+=n.getProgress(a)*(this[dk]+this.thumbGap);var l=o.getBounds();-1*s>l.x.min&&-1*s<l.x.max&&o.panTo({x:-1*s,friction:.12})}else Rw(t,this.cn(ck),r.isResting);this.shiftModern()}}}},{key:"onRefresh",value:function(){this.updateProps();var e,t=xw(this.instance.slides||[]);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.resizeModernSlide(n)}}catch(e){t.e(e)}finally{t.f()}this.shiftModern()}},{key:"isDisabled",value:function(){var e=this.option("minCount")||0;if(e){var t,n=0,r=xw(this.instance.slides||[]);try{for(r.s();!(t=r.n()).done;){t.value.thumbSrc&&n++}}catch(e){r.e(e)}finally{r.f()}if(n<e)return!0}var i=this.option("type");return["modern","classic"].indexOf(i)<0}},{key:"getThumb",value:function(e){var t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}},{key:"addSlide",value:function(e){var t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}},{key:"getSlides",value:function(){var e,t=[],n=xw(this.instance.slides||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(this.getThumb(r))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"resizeModernSlide",value:function(e){this.isModern&&(e[fk]=e[dk]&&e[hk]?Math.round(this[hk]*(e[dk]/e[hk])):this[fk])}},{key:"updateProps",value:function(){var e=this.container;if(e){var t=function(t){return parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-"+t))||0};this.thumbGap=t("gap"),this.thumbExtraGap=t("extra-gap"),this[fk]=t("width")||40,this[dk]=t("clip-width")||40,this[hk]=t("height")||40}}},{key:"build",value:function(){var e=this;if(e.state===lk.Init)if(e.isDisabled())e.emit("disabled");else{var t=e.instance,n=t.container,r=e.getSlides(),i=e.option("type");e.type=i;var o=e.option("parentEl"),a=e.cn("container"),s=e.cn("track"),l=null==o?void 0:o.querySelector("."+a);l||(l=document.createElement("div"),e_(l,a),o?o.appendChild(l):n.after(l)),e_(l,"is-".concat(i)),e_(n,e.cn("hasThumbs")),e.container=l,e.updateProps();var u=l.querySelector("."+s);u||(u=document.createElement("div"),e_(u,e.cn("track")),l.appendChild(u)),e.track=u;var c=qw({},{track:u,infinite:!1,center:!0,fill:"classic"===i,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},e.option("Carousel")||{},{Sync:{target:t},slides:r}),f=new t.constructor(l,c);f.on("createSlide",(function(t,n){e.setProps(n.index),e.emit("createSlide",n,n.el)})),f.on("ready",(function(){e.shiftModern(),e.emit("ready")})),f.on("refresh",(function(){e.shiftModern()})),f.on("Panzoom.click",(function(t,n,r){e.onClick(r)})),e.carousel=f,e.state=lk.Ready}}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.instance,n=t.pages,r=t.page,i=function(e){if(e){var t=e.closest("[data-carousel-index]");if(t)return[parseInt(t.dataset.carouselIndex||"",10)||0,t]}return[-1,void 0]},o=function(e,t){var n=document.elementFromPoint(e,t);return n?i(n):[-1,void 0]},a=_w(i(e.target),2),s=a[0];a[1];if(!(s>-1)){var l=this[dk],u=e.clientX,c=e.clientY,f=_w(o(u-l,c),2),h=f[0],d=f[1],p=_w(o(u+l,c),2),v=p[0],y=p[1];d&&y?(s=Math.abs(u-d.getBoundingClientRect().right)<Math.abs(u-y.getBoundingClientRect().left)?h:v)===r&&(s=s===h?v:h):d?s=h:y&&(s=v),s>-1&&n[s]&&t.slideTo(s)}}},{key:"getShift",value:function(e){var t,n=this,r=n.instance,i=n.carousel;if(!r||!i)return 0;var o=n[fk],a=n[dk],s=n.thumbGap,l=n.thumbExtraGap;if(!(null===(t=i.slides[e])||void 0===t?void 0:t.el))return 0;var u=.5*(o-a),c=r.pages.length-1,f=r.getProgress(0),h=r.getProgress(c),d=r.getProgress(e,!1,!0),p=0,v=u+l+s,y=f<0&&f>-1,m=h>0&&h<1;return 0===e?(p=v*Math.abs(f),m&&1===f&&(p-=v*Math.abs(h))):e===c?(p=v*Math.abs(h)*-1,y&&-1===h&&(p+=v*Math.abs(f))):y||m?(p=-1*v,p+=v*Math.abs(f),p+=v*(1-Math.abs(h))):p=v*d,p}},{key:"setProps",value:function(e){var t,n=this;if(n.isModern){var r=n.instance,i=n.carousel;if(r&&i){var o=null===(t=i.slides[e])||void 0===t?void 0:t.el;if(o&&o.childNodes.length){var a=Dw(1-Math.abs(r.getProgress(e))),s=Dw(n.getShift(e));o.style.setProperty("--progress",a?a+"":""),o.style.setProperty("--shift",s+"")}}}}},{key:"shiftModern",value:function(){var e=this;if(e.isModern){var t=e.instance,n=e.track,r=t.panzoom,i=e.carousel;if(t&&n&&r&&i&&r.state!==Uw.Init&&r.state!==Uw.Destroy){var o,a=xw(t.slides);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.setProps(s.index)}}catch(e){a.e(e)}finally{a.f()}var l=(e[dk]+e.thumbGap)*(i.slides.length||0);n.style.setProperty("--width",l+"")}}}},{key:"cleanup",value:function(){var e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=lk.Init,Qw(e.instance.container,e.cn("hasThumbs"))}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===c_.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}}])}(v_);Object.defineProperty(pk,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:uk});var vk=ww(ww({},uk),{key:"t",showOnStart:!0,parentEl:null}),yk="is-masked",mk="aria-hidden",bk=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return yw(t,e),Ew(t,[{key:"isEnabled",get:function(){var e=this.ref;return e&&!e.isDisabled()}},{key:"isHidden",get:function(){return this.hidden}},{key:"onClick",value:function(e,t){t.stopPropagation()}},{key:"onCreateSlide",value:function(e,t){var n,r,i,o=(null===(i=null===(r=null===(n=this.instance)||void 0===n?void 0:n.carousel)||void 0===r?void 0:r.slides[t.index])||void 0===i?void 0:i.type)||"",a=t.el;if(a&&o){var s="for-".concat(o);["video","youtube","vimeo","html5video"].includes(o)&&(s+=" for-video"),e_(a,s)}}},{key:"onInit",value:function(){var e,t=this,n=this,r=n.instance,i=r.carousel;if(!n.ref&&i){var o=n.option("parentEl")||r.footer||r.container;if(o){var a=qw({},n.options,{parentEl:o,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:r.option("Carousel.friction")||0}},on:{ready:function(e){var r=e.container;r&&t.hidden&&(n.refresh(),r.style.transition="none",n.hide(),r.offsetHeight,queueMicrotask((function(){r.style.transition="",n.show()})))}}});a.Carousel=a.Carousel||{},a.Carousel.on=qw((null===(e=n.options.Carousel)||void 0===e?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),i.options.Thumbs=a,i.attachPlugins({Thumbs:pk}),n.ref=i.plugins.Thumbs,n.option("showOnStart")||(n.ref.state=lk.Hidden,n.hidden=!0)}}}},{key:"onResize",value:function(){var e,t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}},{key:"onKeydown",value:function(e,t){var n=this.option("key");n&&n===t&&this.toggle()}},{key:"toggle",value:function(){var e=this.ref;if(e&&!e.isDisabled())return e.state===lk.Hidden?(e.state=lk.Init,void e.build()):void(this.hidden?this.show():this.hide())}},{key:"show",value:function(){var e=this.ref;if(e&&!e.isDisabled()){var t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(mk),t.classList.remove(yk),this.hidden=!1)}}},{key:"hide",value:function(){var e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(yk),t.setAttribute(mk,"true")),this.hidden=!0}},{key:"refresh",value:function(){var e=this.ref;if(e&&e.state){var t=e.container,n=(null==t?void 0:t.firstChild)||null;t&&n&&n.childNodes.length&&(t.style.maxHeight="".concat(n.getBoundingClientRect().height,"px"))}}},{key:"attach",value:function(){var e=this,t=e.instance;t.state===j_.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e,t=this,n=t.instance;n.off("Carousel.init",t.onInit),n.off("resize",t.onResize),n.off("keydown",t.onKeydown),null===(e=n.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),t.ref=null}}])}(v_);Object.defineProperty(bk,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:vk});var gk,wk={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};!function(e){e[e.Init=0]="Init",e[e.Ready=1]="Ready",e[e.Disabled=2]="Disabled"}(gk||(gk={}));var _k={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},kk="has-toolbar",xk="fancybox__toolbar",Ok=function(e){function t(){var e;return Tw(this,t),e=hw(this,t,arguments),Object.defineProperty(dw(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:gk.Init}),Object.defineProperty(dw(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return yw(t,e),Ew(t,[{key:"onReady",value:function(e){var t;if(e.carousel){var n=this.option("display"),r=this.option("absolute"),i=this.option("enabled");if("auto"===i){var o=this.instance.carousel,a=0;if(o){var s,l=xw(o.slides);try{for(l.s();!(s=l.n()).done;){var u=s.value;(u.panzoom||"image"===u.type)&&a++}}catch(e){l.e(e)}finally{l.f()}}a||(i=!1)}i||(n=void 0);var c=0,f={left:[],middle:[],right:[]};if(n)for(var h=0,d=["left","middle","right"];h<d.length;h++){var p,v=d[h],y=xw(n[v]);try{for(y.s();!(p=y.n()).done;){var m=p.value,b=this.createEl(m);b&&(null===(t=f[v])||void 0===t||t.push(b),c++)}}catch(e){y.e(e)}finally{y.f()}}var g=null;if(c&&(g=this.createContainer()),g){for(var w=0,_=Object.entries(f);w<_.length;w++){var k=_w(_[w],2),x=k[0],O=k[1],P=document.createElement("div");e_(P,xk+"__column is-"+x);var S,E=xw(O);try{for(E.s();!(S=E.n()).done;){var j=S.value;P.appendChild(j)}}catch(e){E.e(e)}finally{E.f()}"auto"!==r||"middle"!==x||O.length||(r=!0),g.appendChild(P)}!0===r&&e_(g,"is-absolute"),this.state=gk.Ready,this.onRefresh()}else this.state=gk.Disabled}}},{key:"onClick",value:function(e){var t,n,r=this.instance,i=r.getSlide(),o=null==i?void 0:i.panzoom,a=e.target,s=a&&Jw(a)?a.dataset:null;if(s){if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=r.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();var l=null===(n=r.carousel)||void 0===n?void 0:n.plugins.Autoplay,u=l.isActive;return o&&"mousemove"===o.panMode&&!u&&o.reset(),void(u?l.stop():l.start())}var c=s.panzoomAction,f=s.panzoomChange;if((f||c)&&(e.preventDefault(),e.stopPropagation()),f){var h={};try{h=JSON.parse(f)}catch(e){}o&&o.applyChange(h)}else c&&o&&o[c]&&o[c]()}}},{key:"onChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===T_.Ready){var n,r=t&&!t.error&&t.panzoom,i=xw(e.querySelectorAll("[data-panzoom-action]"));try{for(i.s();!(n=i.n()).done;){var o=n.value;r?(o.removeAttribute("disabled"),o.removeAttribute("tabindex")):(o.setAttribute("disabled",""),o.setAttribute("tabindex","-1"))}}catch(e){i.e(e)}finally{i.f()}var a,s=r&&r.canZoomIn(),l=r&&r.canZoomOut(),u=xw(e.querySelectorAll('[data-panzoom-action="zoomIn"]'));try{for(u.s();!(a=u.n()).done;){var c=a.value;s?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"))}}catch(e){u.e(e)}finally{u.f()}var f,h=xw(e.querySelectorAll('[data-panzoom-action="zoomOut"]'));try{for(h.s();!(f=h.n()).done;){var d=f.value;l?(d.removeAttribute("disabled"),d.removeAttribute("tabindex")):(d.setAttribute("disabled",""),d.setAttribute("tabindex","-1"))}}catch(e){h.e(e)}finally{h.f()}var p,v=xw(e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]'));try{for(v.s();!(p=v.n()).done;){var y=p.value;l||s?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"));var m=y.querySelector("g");m&&(m.style.display=s?"":"none")}}catch(e){v.e(e)}finally{v.f()}}}}}},{key:"onDone",value:function(e,t){var n,r=this;null===(n=t.panzoom)||void 0===n||n.on("afterTransform",(function(){r.instance.isCurrentSlide(t)&&r.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}},{key:"createContainer",value:function(){var e=this.instance.container;if(!e)return null;var t=this.option("parentEl")||e,n=t.querySelector("."+xk);return n||(n=document.createElement("div"),e_(n,xk),t.prepend(n)),n.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&e_(e,kk),this.container=n,n}},{key:"createEl",value:function(e){var t=this,n=this.instance,r=n.carousel;if(!r)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!L_())return null;var i,o=null,a=r.slides.length||0,s=0,l=0,u=xw(r.slides);try{for(u.s();!(i=u.n()).done;){var c=i.value;(c.panzoom||"image"===c.type)&&s++,("image"===c.type||c.downloadSrc)&&l++}}catch(e){u.e(e)}finally{u.f()}if(a<2&&["infobar","prev","next"].includes(e))return o;if(void 0!==wk[e]&&!s)return null;if("download"===e&&!l)return null;if("thumbs"===e){var f=n.plugins.Thumbs;if(!f||!f.isEnabled)return null}if("slideshow"===e&&(!r.plugins.Autoplay||a<2))return null;if(void 0!==wk[e]){var h=wk[e];(o=document.createElement("button")).setAttribute("title",this.instance.localize("{{".concat(e.toUpperCase(),"}}"))),e_(o,"f-button"),h.action&&(o.dataset.panzoomAction=h.action),h.change&&(o.dataset.panzoomChange=JSON.stringify(h.change)),o.appendChild(Mw(this.instance.localize(h.icon)))}else{var d=(this.option("items")||[])[e];d&&(o=Mw(this.instance.localize(d.tpl)),"function"==typeof d.click&&o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof d.click&&d.click.call(t,t,e)})))}var p=null==o?void 0:o.querySelector("svg");if(p)for(var v=0,y=Object.entries(_k);v<y.length;v++){var m=_w(y[v],2),b=m[0],g=m[1];p.getAttribute(b)||p.setAttribute(b,String(g))}return o}},{key:"removeContainer",value:function(){var e=this.container;e&&e.remove(),this.container=null,this.state=gk.Disabled;var t=this.instance.container;t&&Qw(t,kk)}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}])}(v_);Object.defineProperty(Ok,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});var Pk,Sk={Hash:function(e){function t(){return Tw(this,t),hw(this,t,arguments)}return yw(t,e),Ew(t,[{key:"onReady",value:function(){N_=!1}},{key:"onChange",value:function(e){F_&&clearTimeout(F_);var t=z_().hash,n=V_().hash,r=e.isOpeningSlide(e.getSlide());r&&(I_=n===t?"":n),t&&t!==n&&(F_=setTimeout((function(){try{if(e.state===j_.Ready){var n="replaceState";r&&!B_&&(n="pushState",B_=!0),window.history[n]({},document.title,window.location.pathname+window.location.search+t)}}catch(e){}}),300))}},{key:"onClose",value:function(e){if(F_&&clearTimeout(F_),!N_&&B_)return B_=!1,N_=!1,void window.history.back();if(!N_)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(I_||""))}catch(e){}}},{key:"attach",value:function(){var e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}},{key:"detach",value:function(){var e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}}],[{key:"parseURL",value:function(){return V_()}},{key:"startFromUrl",value:function(){q_()}},{key:"destroy",value:function(){window.removeEventListener("hashchange",Y_,!1)}}])}(v_),Html:nk,Images:X_,Slideshow:sk,Thumbs:bk,Toolbar:Ok},Ek="with-fancybox",jk="hide-scrollbar",Tk="--fancybox-scrollbar-compensate",Dk="--fancybox-body-margin",Ak="aria-hidden",Ck="is-using-tab",Mk="is-animated",Lk="is-compact",Rk="is-loading",Ik="is-opening",Nk="has-caption",Bk="disabled",Fk="tabindex",zk="download",Vk="href",qk="src",Hk=function(e){return"string"==typeof e},Yk=function(){var e=window.getSelection();return!!e&&"Range"===e.type},Uk=null,Gk=null,Xk=0,Wk=0,$k=0,Kk=0,Zk=new Map,Jk=0,Qk=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Tw(this,t),e=hw(this,t,[r]),Object.defineProperty(dw(e),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(dw(e),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(dw(e),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(e),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(e),"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(dw(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:j_.Init}),Object.defineProperty(dw(e),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(dw(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(dw(e),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Pk||(Pk=L_()),e.id=r.id||++Jk,Zk.set(e.id,dw(e)),e.userSlides=n,e.userPlugins=i,queueMicrotask((function(){e.init()})),e}return yw(t,e),Ew(t,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}},{key:"init",value:function(){var e=this;if(this.state!==j_.Destroy){this.state=j_.Init,this.attachPlugins(ww(ww({},t.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&function(){if(A_){var e=document,t=e.body,n=e.documentElement;if(!t.classList.contains(jk)){var r=window.innerWidth-n.getBoundingClientRect().width,i=parseFloat(window.getComputedStyle(t).marginRight);r<0&&(r=0),n.style.setProperty(Tk,"".concat(r,"px")),i&&t.style.setProperty(Dk,"".concat(i,"px")),t.classList.add(jk)}}}(),this.initLayout(),this.scale();var n=function(){e.initCarousel(e.userSlides),e.state=j_.Ready,e.attachEvents(),e.emit("ready"),setTimeout((function(){e.container&&e.container.setAttribute(Ak,"false")}),16)};this.option("Fullscreen.autoStart")&&Pk&&!Pk.isFullscreen()?Pk.request().then((function(){e.startedFs=!0,n()})).catch((function(){return n()})):n()}}},{key:"initLayout",value:function(){var e,t,n=this,r=this.option("parentEl")||document.body,i=Mw(this.localize(this.option("tpl.main")||""));if(i){if(i.setAttribute("id","fancybox-".concat(this.id)),i.setAttribute("aria-label",this.localize("{{MODAL}}")),i.classList.toggle(Lk,this.isCompact),e_(i,this.option("mainClass")||""),e_(i,Ik),this.container=i,this.footer=i.querySelector(".fancybox__footer"),r.appendChild(i),e_(document.documentElement,Ek),Uk&&Gk||(Uk=document.createElement("span"),e_(Uk,"fancybox-focus-guard"),Uk.setAttribute(Fk,"0"),Uk.setAttribute(Ak,"true"),Uk.setAttribute("aria-label","Focus guard"),Gk=Uk.cloneNode(),null===(e=i.parentElement)||void 0===e||e.insertBefore(Uk,i),null===(t=i.parentElement)||void 0===t||t.append(Gk)),i.addEventListener("mousedown",(function(e){Xk=e.pageX,Wk=e.pageY,Qw(i,Ck)})),this.option("closeExisting")){var o,a=xw(Zk.values());try{for(a.s();!(o=a.n()).done;){var s=o.value;s.id!==this.id&&s.close()}}catch(e){a.e(e)}finally{a.f()}}else this.option("animated")&&(e_(i,Mk),setTimeout((function(){n.isClosing()||Qw(i,Mk)}),350));this.emit("initLayout")}}},{key:"initCarousel",value:function(e){var t=this,n=this.container;if(n){var r=n.querySelector(".fancybox__carousel");if(r){var i=this.carousel=new S_(r,qw({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));i.on("*",(function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.emit.apply(t,["Carousel.".concat(n),e].concat(i))})),i.on(["ready","change"],(function(){t.manageCaption()})),this.on("Carousel.removeSlide",(function(e,n,r){t.clearContent(r),r.state=void 0})),i.on("Panzoom.touchStart",(function(){var e,n;t.isCompact||t.endIdle(),(null===(e=document.activeElement)||void 0===e?void 0:e.closest(".f-thumbs"))&&(null===(n=t.container)||void 0===n||n.focus())})),i.on("settle",(function(){t.idleTimer||t.isCompact||!t.option("idle")||t.setIdle(),t.option("autoFocus")&&!t.isClosing&&t.checkFocus()})),this.option("dragToClose")&&(i.on("Panzoom.afterTransform",(function(e,n){var r=t.getSlide();if(!r||!Aw(r.el)){var i=t.container;if(i){var o=Math.abs(n.current.f),a=o<1?"":Math.max(.5,Math.min(1,1-o/n.contentRect.fitHeight*1.5));i.style.setProperty("--fancybox-ts",a?"0s":""),i.style.setProperty("--fancybox-opacity",a+"")}}})),i.on("Panzoom.touchEnd",(function(e,n,r){var i,o=t.getSlide();if(!(o&&Aw(o.el)||n.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName))){var a=Math.abs(n.dragOffset.y);"y"===n.lockedAxis&&(a>=200||a>=50&&n.dragOffset.time<300)&&(r&&r.cancelable&&r.preventDefault(),t.close(r,"f-throwOut"+(n.current.f<0?"Up":"Down")))}}))),i.on("change",(function(e){var n,r=null===(n=t.getSlide())||void 0===n?void 0:n.triggerEl;if(r){var i=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});r.dispatchEvent(i)}})),i.on(["refresh","change"],(function(e){var n=t.container;if(n){var r,i=xw(n.querySelectorAll("[data-fancybox-current-index]"));try{for(i.s();!(r=i.n()).done;){r.value.innerHTML=e.page+1}}catch(e){i.e(e)}finally{i.f()}var o,a=xw(n.querySelectorAll("[data-fancybox-count]"));try{for(a.s();!(o=a.n()).done;){o.value.innerHTML=e.pages.length}}catch(e){a.e(e)}finally{a.f()}if(!e.isInfinite){var s,l=xw(n.querySelectorAll("[data-fancybox-next]"));try{for(l.s();!(s=l.n()).done;){var u=s.value;e.page<e.pages.length-1?(u.removeAttribute(Bk),u.removeAttribute(Fk)):(u.setAttribute(Bk,""),u.setAttribute(Fk,"-1"))}}catch(e){l.e(e)}finally{l.f()}var c,f=xw(n.querySelectorAll("[data-fancybox-prev]"));try{for(f.s();!(c=f.n()).done;){var h=c.value;e.page>0?(h.removeAttribute(Bk),h.removeAttribute(Fk)):(h.setAttribute(Bk,""),h.setAttribute(Fk,"-1"))}}catch(e){f.e(e)}finally{f.f()}}var d=t.getSlide();if(d){var p=d.downloadSrc||"";p||"image"!==d.type||d.error||!Hk(d[qk])||(p=d[qk]);var v,y=xw(n.querySelectorAll("[data-fancybox-download]"));try{for(y.s();!(v=y.n()).done;){var m=v.value,b=d.downloadFilename;p?(m.removeAttribute(Bk),m.removeAttribute(Fk),m.setAttribute(Vk,p),m.setAttribute(zk,b||p),m.setAttribute("target","_blank")):(m.setAttribute(Bk,""),m.setAttribute(Fk,"-1"),m.removeAttribute(Vk),m.removeAttribute(zk))}}catch(e){y.e(e)}finally{y.f()}}}})),this.emit("initCarousel")}}}},{key:"attachEvents",value:function(){var e=this,t=e.container;if(t){t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);var n=window.visualViewport;n&&(n.addEventListener("scroll",e.onResize),n.addEventListener("resize",e.onResize))}}},{key:"detachEvents",value:function(){var e=this,t=e.container;if(t){document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);var n=window.visualViewport;n&&(n.removeEventListener("resize",e.onResize),n.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}}},{key:"scale",value:function(){var e=this.container;if(e){var t=window.visualViewport,n=Math.max(1,(null==t?void 0:t.scale)||1),r="",i="",o="";if(t&&n>1){var a="".concat(t.offsetLeft,"px"),s="".concat(t.offsetTop,"px");r=t.width*n+"px",i=t.height*n+"px",o="translate3d(".concat(a,", ").concat(s,", 0) scale(").concat(1/n,")")}e.style.transform=o,e.style.width=r,e.style.height=i}}},{key:"onClick",value:function(e){var t,n=this,r=this.container,i=this.isCompact;if(r&&!this.isClosing()){!i&&this.option("idle")&&this.resetIdle();var o=e.composedPath()[0];if(o.closest(".fancybox-spinner")||o.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(o.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(o.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(("click"!==e.type||0!==e.detail)&&!(Math.abs(e.pageX-Xk)>30||Math.abs(e.pageY-Wk)>30)){var a=document.activeElement;if(!(Yk()&&a&&r.contains(a)))if(i&&"image"===(null===(t=this.getSlide())||void 0===t?void 0:t.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((function(){n.toggleIdle(),n.clickTimer=null}),350);else if(this.emit("click",e),!e.defaultPrevented){var s=!1;if(o.closest(".fancybox__content")){if(a){if(a.closest("[contenteditable]"))return;o.matches(C_)||a.blur()}if(Yk())return;s=this.option("contentClick")}else o.closest(".fancybox__carousel")&&!o.matches(C_)&&(s=this.option("backdropClick"));"close"===s?(e.preventDefault(),this.close(e)):"next"===s?(e.preventDefault(),this.next()):"prev"===s&&(e.preventDefault(),this.prev())}}}}},{key:"onWheel",value:function(e){var t=e.target,n=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(n="slide");var r="slide"===n,i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),o=Math.max(-1,Math.min(1,i)),a=Date.now();this.pwt&&a-this.pwt<300?r&&e.preventDefault():(this.pwt=a,this.emit("wheel",e,o),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"===n&&(Cw(t)||(e.preventDefault(),this[o>0?"prev":"next"]()))))}},{key:"onScroll",value:function(){window.scrollTo($k,Kk)}},{key:"onKeydown",value:function(e){if(this.isTopmost()){this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();var t=e.key,n=this.option("keyboard");if(n){var r=e.composedPath()[0],i=document.activeElement&&document.activeElement.classList,o=i&&i.contains("f-button")||r.dataset.carouselPage||r.dataset.carouselIndex;if(("Escape"===t||o||!Jw(r)||!r.isContentEditable&&-1===["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(r.nodeName))&&("Tab"===e.key?e_(this.container,Ck):Qw(this.container,Ck),!(e.ctrlKey||e.altKey||e.shiftKey))){this.emit("keydown",t,e);var a=n[t];a&&"function"==typeof this[a]&&(e.preventDefault(),this[a]())}}}}},{key:"onResize",value:function(){var e=this.container;if(e){var t=this.isCompact;e.classList.toggle(Lk,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}}},{key:"onFocus",value:function(e){this.isTopmost()&&this.checkFocus(e)}},{key:"onMousemove",value:function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}},{key:"manageCloseBtn",value:function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var n=this.plugins.Toolbar;if(n&&n.state===gk.Ready)return}if(t&&e.contentEl&&!e.closeBtnEl){var r=this.option("tpl.closeButton");if(r){var i=Mw(this.localize(r));e.closeBtnEl=e.contentEl.appendChild(i),e.el&&e_(e.el,"has-close-btn")}}}},{key:"manageCaption",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i="fancybox__caption",o=this.container;if(o){Qw(o,Nk);var a=this.isCompact||this.option("commonCaption"),s=!a;if(this.caption&&this.stop(this.caption),s&&this.caption&&(this.caption.remove(),this.caption=null),a&&!this.caption){var l,u=xw((null===(e=this.carousel)||void 0===e?void 0:e.slides)||[]);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.captionEl&&(c.captionEl.remove(),c.captionEl=void 0,Qw(c.el,Nk),null===(t=c.el)||void 0===t||t.removeAttribute("aria-labelledby"))}}catch(e){u.e(e)}finally{u.f()}}if(r||(r=this.getSlide()),r&&(!a||this.isCurrentSlide(r))){var f=r.el,h=this.optionFor(r,"caption","");if(h){var d=null;if(s){if(d=r.captionEl||null,f&&!d){var p=i+"_".concat(this.id,"_").concat(r.index);d=document.createElement("div"),e_(d,i),d.setAttribute("id",p),r.captionEl=f.appendChild(d),e_(f,Nk),f.setAttribute("aria-labelledby",p)}}else(d=this.caption)||(d=o.querySelector("."+i)),d||((d=document.createElement("div")).dataset.fancyboxCaption="",e_(d,i),(this.footer||o).prepend(d)),e_(o,Nk),this.caption=d;d&&(d.innerHTML="",Hk(h)||"number"==typeof h?d.innerHTML=h+"":h instanceof HTMLElement&&d.appendChild(h))}else a&&this.caption&&this.animate(this.caption,"f-fadeOut",(function(){n.caption&&(n.caption.innerHTML="")}))}}}},{key:"checkFocus",value:function(e){this.focus(e)}},{key:"focus",value:function(e){var t;if(!this.ignoreFocusChange){var n=document.activeElement||null,r=(null==e?void 0:e.target)||null,i=this.container,o=null===(t=this.carousel)||void 0===t?void 0:t.viewport;if(i&&o&&(e||!n||!i.contains(n))){var a=this.getSlide(),s=a&&a.state===T_.Ready?a.el:null;if(s&&!s.contains(n)&&i!==n){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;for(var l=[],u=null,c=0,f=Array.from(i.querySelectorAll(C_));c<f.length;c++){var h=f[c],d=!h.offsetParent||!!h.closest('[aria-hidden="true"]'),p=s&&s.contains(h),v=!o.contains(h);if(h===i||(p||v)&&!d){l.push(h);var y=h.dataset.origTabindex;void 0!==y&&y&&(h.tabIndex=parseFloat(y)),h.removeAttribute("data-orig-tabindex"),!h.hasAttribute("autoFocus")&&u||(u=h)}else{var m=void 0===h.dataset.origTabindex?h.getAttribute("tabindex")||"":h.dataset.origTabindex;m&&(h.dataset.origTabindex=m),h.tabIndex=-1}}var b=null;e?(!r||l.indexOf(r)<0)&&(b=u||i,l.length&&(n===Gk?b=l[0]:this.lastFocus!==i&&n!==Uk||(b=l[l.length-1]))):b=a&&"image"===a.type?i:u||i,b&&M_(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}}},{key:"next",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){var e;this.carousel&&(e=this.carousel).slideTo.apply(e,arguments)}},{key:"isTopmost",value:function(){var e;return(null===(e=t.getInstance())||void 0===e?void 0:e.id)==this.id}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;if(e&&t){this.stop(e);var r=function(i){i.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",r),delete e.dataset.animationName,n&&n(),Qw(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",r),e_(e,t)}else n&&n()}},{key:"stop",value:function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}},{key:"setContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.isClosing()){var r=e.el;if(r){var i=null;if(Jw(t)?i=t:(i=Mw(t+""),Jw(i)||((i=document.createElement("div")).innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(i.nodeName.toLowerCase())){var o=document.createElement("div");o.appendChild(i),i=o}Jw(i)&&e.filter&&!e.error&&(i=i.querySelector(e.filter)),i&&Jw(i)?(e_(i,"fancybox__content"),e.id&&i.setAttribute("id",e.id),r.classList.add("has-".concat(e.error?"error":e.type||"unknown")),r.prepend(i),"none"===i.style.display&&(i.style.display=""),"none"===getComputedStyle(i).getPropertyValue("display")&&(i.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=i,n&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}}}},{key:"revealContent",value:function(e,t){var n=this,r=e.el,i=e.contentEl;r&&i&&(this.emit("reveal",e),this.hideLoading(e),e.state=T_.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(i,t,(function(){n.done(e)})):this.done(e))}},{key:"done",value:function(e){var t=this;this.isClosing()||(e.state=T_.Ready,this.emit("done",e),e_(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((function(){var n;null===(n=e.panzoom)||void 0===n||n.updateControls(),t.option("autoFocus")&&t.focus()})),this.isOpeningSlide(e)&&(Qw(this.container,Ik),!this.isCompact&&this.option("idle")&&this.setIdle()))}},{key:"isCurrentSlide",value:function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index}},{key:"isOpeningSlide",value:function(e){var t,n;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e&&e.index===(null===(n=this.getSlide())||void 0===n?void 0:n.index)}},{key:"showLoading",value:function(e){var t=this;e.state=T_.Loading;var n=e.el;n&&(e_(n,Rk),this.emit("loading",e),e.spinnerEl||setTimeout((function(){if(!t.isClosing()&&!e.spinnerEl&&e.state===T_.Loading){var r=Mw(Zw);e_(r,"fancybox-spinner"),e.spinnerEl=r,n.prepend(r),t.animate(r,"f-fadeIn")}}),250))}},{key:"hideLoading",value:function(e){var t=e.el;if(t){var n=e.spinnerEl;this.isClosing()?null==n||n.remove():(Qw(t,Rk),n&&this.animate(n,"f-fadeOut",(function(){n.remove()})),e.state===T_.Loading&&(this.emit("loaded",e),e.state=T_.Ready))}}},{key:"setError",value:function(e,t){if(!this.isClosing()){var n=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",n,e),!n.defaultPrevented){e.error=t,this.hideLoading(e),this.clearContent(e);var r=document.createElement("div");r.classList.add("fancybox-error"),r.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,r)}}}},{key:"clearContent",value:function(e){if(void 0!==e.state){this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);var t=e.el;t&&(Qw(t,"has-error"),Qw(t,"has-unknown"),Qw(t,"has-".concat(e.type||"unknown"))),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}}},{key:"getSlide",value:function(){var e,t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}},{key:"close",value:function(e,t){var n=this;if(!this.isClosing()){var r=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",r,e),!r.defaultPrevented){e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());var i=function(){n.proceedClose(e,t)};this.startedFs&&Pk&&Pk.isFullscreen()?Promise.resolve(Pk.exit()).then((function(){return i()})):i()}}}},{key:"clearIdle",value:function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}},{key:"setIdle",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){e.clearIdle(),e.idle=!0,e_(e.container,"is-idle"),e.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(t)n();else{var r=this.option("idle");r&&(this.idleTimer=setTimeout(n,r))}}},{key:"endIdle",value:function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,Qw(this.container,"is-idle"),this.emit("endIdle"))}},{key:"resetIdle",value:function(){this.endIdle(),this.setIdle()}},{key:"toggleIdle",value:function(){this.idle?this.endIdle():this.setIdle(!0)}},{key:"toggleFullscreen",value:function(){var e=this;Pk&&(Pk.isFullscreen()?Pk.exit():Pk.request().then((function(){e.startedFs=!0})))}},{key:"isClosing",value:function(){return[j_.Closing,j_.CustomClosing,j_.Destroy].includes(this.state)}},{key:"proceedClose",value:function(e,t){var n,r,i=this;this.state=j_.Closing,this.clearIdle(),this.detachEvents();var o=this.container,a=this.carousel,s=this.getSlide(),l=s&&this.option("placeFocusBack")?s.triggerEl||this.option("triggerEl"):null;if(l&&(D_(l)?M_(l):l.focus()),o&&(Qw(o,Ik),e_(o,"is-closing"),o.setAttribute(Ak,"true"),this.option("animated")&&e_(o,Mk),o.style.pointerEvents="none"),a){a.clearTransitions(),null===(n=a.panzoom)||void 0===n||n.destroy(),null===(r=a.plugins.Navigation)||void 0===r||r.detach();var u,c=xw(a.slides);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.state=T_.Closing,this.hideLoading(f);var h=f.contentEl;h&&this.stop(h);var d=null==f?void 0:f.panzoom;d&&(d.stop(),d.detachEvents(),d.detachObserver()),this.isCurrentSlide(f)||a.emit("removeSlide",f)}}catch(e){c.e(e)}finally{c.f()}}$k=window.scrollX,Kk=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==j_.CustomClosing?(void 0===t&&s&&(t=this.optionFor(s,"hideClass")),t&&s?(this.animate(s.contentEl,t,(function(){a&&a.emit("removeSlide",s)})),setTimeout((function(){i.destroy()}),500)):this.destroy()):setTimeout((function(){i.destroy()}),500)}},{key:"destroy",value:function(){var e;if(this.state!==j_.Destroy){window.removeEventListener("scroll",this.onScroll),this.state=j_.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();var n=this.container;n&&n.remove(),Zk.delete(this.id);var r=t.getInstance();r?r.focus():(Uk&&(Uk.remove(),Uk=null),Gk&&(Gk.remove(),Gk=null),Qw(document.documentElement,Ek),function(){if(A_){var e=document,t=e.body;t.classList.remove(jk),t.style.setProperty(Dk,""),e.documentElement.style.setProperty(Tk,"")}}(),this.emit("destroy"))}}}],[{key:"bind",value:function(e,n,r){if(A_){var i,o="",a={};if(void 0===e?i=document.body:Hk(e)?(i=document.body,o=e,"object"==kw(n)&&(a=n||{})):(i=e,Hk(n)&&(o=n),"object"==kw(r)&&(a=r||{})),i&&Jw(i)){o=o||"[data-fancybox]";var s=t.openers.get(i)||new Map;s.set(o,a),t.openers.set(i,s),1===s.size&&i.addEventListener("click",t.fromEvent)}}}},{key:"unbind",value:function(e,n){var r,i="";if(Hk(e)?(r=document.body,i=e):(r=e,Hk(n)&&(i=n)),r){var o=t.openers.get(r);o&&i&&o.delete(i),i&&o||(t.openers.delete(r),r.removeEventListener("click",t.fromEvent))}}},{key:"destroy",value:function(){for(var e;e=t.getInstance();)e.destroy();var n,r=xw(t.openers.keys());try{for(r.s();!(n=r.n()).done;){n.value.removeEventListener("click",t.fromEvent)}}catch(e){r.e(e)}finally{r.f()}t.openers=new Map}},{key:"fromEvent",value:function(e){if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var n,r,i,o,a=e.composedPath()[0],s=a.closest("[data-fancybox-trigger]");if(s){var l=s.dataset.fancyboxTrigger||"",u=document.querySelectorAll('[data-fancybox="'.concat(l,'"]')),c=parseInt(s.dataset.fancyboxIndex||"",10)||0;a=u[c]||a}if(a&&a instanceof Element)if(bw(t.openers).reverse().find((function(e){var t=_w(e,2),s=t[0],l=t[1];return!(!s.contains(a)||!bw(l).reverse().find((function(e){var t=_w(e,2),l=t[0],u=t[1],c=a.closest(l);return!!c&&(n=s,r=l,i=c,o=u,!0)})))})),n&&r&&i){o=o||{},e.preventDefault(),a=i;var f=[],h=qw({},R_,o);h.event=e,h.triggerEl=a,h.delegate=s;var d=h.groupAll,p=h.groupAttr,v=p&&a?a.getAttribute("".concat(p)):"";if((!a||v||d)&&(f=[].slice.call(n.querySelectorAll(r))),a&&!d&&(f=v?f.filter((function(e){return e.getAttribute("".concat(p))===v})):[a]),f.length){var y=t.getInstance();return y&&y.options.triggerEl&&f.indexOf(y.options.triggerEl)>-1?void 0:(a&&(h.startIndex=f.indexOf(a)),t.fromNodes(f,h))}}}}},{key:"fromSelector",value:function(e,n,r){var i=null,o="",a={};if(Hk(e)?(i=document.body,o=e,"object"==kw(n)&&(a=n||{})):e instanceof HTMLElement&&Hk(n)&&(i=e,o=n,"object"==kw(r)&&(a=r||{})),!i||!o)return!1;var s=t.openers.get(i);return!!s&&(!!(a=qw({},s.get(o)||{},a))&&t.fromNodes(Array.from(i.querySelectorAll(o)),a))}},{key:"fromNodes",value:function(e,n){n=qw({},R_,n||{});var r,i=[],o=xw(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.dataset||{},l=s[qk]||a.getAttribute(Vk)||a.getAttribute("currentSrc")||a.getAttribute(qk)||void 0,u=void 0,c=n.delegate,f=void 0;c&&i.length===n.startIndex&&(u=c instanceof HTMLImageElement?c:c.querySelector("img:not([aria-hidden])")),u||(u=a instanceof HTMLImageElement?a:a.querySelector("img:not([aria-hidden])")),u&&(!(f=u.currentSrc||u[qk]||void 0)&&u.dataset&&(f=u.dataset.lazySrc||u.dataset[qk]||void 0));var h={src:l,triggerEl:a,thumbEl:u,thumbElSrc:f,thumbSrc:f};for(var d in s){var p=s[d]+"";p="false"!==p&&("true"===p||p),h[d]=p}i.push(h)}}catch(e){o.e(e)}finally{o.f()}return new t(i,n)}},{key:"getInstance",value:function(e){return e?Zk.get(e):Array.from(Zk.values()).reverse().find((function(e){return!e.isClosing()&&e}))||null}},{key:"getSlide",value:function(){var e;return(null===(e=t.getInstance())||void 0===e?void 0:e.getSlide())||null}},{key:"show",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"next",value:function(){var e=t.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=t.getInstance();e&&e.prev()}},{key:"close",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e){var o,a=xw(Zk.values());try{for(a.s();!(o=a.n()).done;){var s=o.value;s.close.apply(s,r)}}catch(e){a.e(e)}finally{a.f()}}else{var l=t.getInstance();l&&l.close.apply(l,r)}}}])}(Gw);Object.defineProperty(Qk,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Qk,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:R_}),Object.defineProperty(Qk,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Sk}),Object.defineProperty(Qk,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});var ex=function(e,t){return ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ex(e,t)};function tx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ex(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nx=function(){return nx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nx.apply(this,arguments)};function rx(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var ix,ox="ADD_CHOICE",ax="REMOVE_CHOICE",sx="FILTER_CHOICES",lx="ACTIVATE_CHOICES",ux="CLEAR_CHOICES",cx="ADD_GROUP",fx="ADD_ITEM",hx="REMOVE_ITEM",dx="HIGHLIGHT_ITEM",px="showDropdown",vx="hideDropdown",yx="change",mx="choice",bx="search",gx="addItem",wx="removeItem",_x="highlightItem",kx="highlightChoice",xx="unhighlightItem",Ox=9,Px=16,Sx=46,Ex=8,jx=13,Tx=65,Dx=27,Ax=38,Cx=40,Mx=33,Lx=34,Rx=["fuseOptions","classNames"],Ix="text",Nx="select-one",Bx="select-multiple",Fx=function(e){return{type:ax,choice:e}},zx=function(e){return{type:hx,item:e}},Vx=function(e,t){return{type:dx,item:e,highlighted:t}},qx=function(e){return Array.from({length:e},(function(){return function(e,t){return Math.floor(Math.random()*(t-e)+e)}(0,36).toString(36)})).join("")},Hx=function(e){if("string"!=typeof e){if(null==e)return"";if("object"==typeof e){if("raw"in e)return Hx(e.raw);if("trusted"in e)return e.trusted}return e}return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},Yx=(ix=document.createElement("div"),function(e){ix.innerHTML=e.trim();for(var t=ix.children[0];ix.firstChild;)ix.removeChild(ix.firstChild);return t}),Ux=function(e,t){return"function"==typeof e?e(Hx(t),t):e},Gx=function(e){return"function"==typeof e?e():e},Xx=function(e){if("string"==typeof e)return e;if("object"==typeof e){if("trusted"in e)return e.trusted;if("raw"in e)return e.raw}return""},Wx=function(e,t){return e?function(e){if("string"==typeof e)return e;if("object"==typeof e){if("escaped"in e)return e.escaped;if("trusted"in e)return e.trusted}return""}(t):Hx(t)},$x=function(e,t,n){e.innerHTML=Wx(t,n)},Kx=function(e,t){return e.rank-t.rank},Zx=function(e){return Array.isArray(e)?e:[e]},Jx=function(e){return e&&Array.isArray(e)?e.map((function(e){return".".concat(e)})).join(""):".".concat(e)},Qx=function(e,t){var n;(n=e.classList).add.apply(n,Zx(t))},eO=function(e,t){var n;(n=e.classList).remove.apply(n,Zx(t))},tO=function(e){if(void 0!==e)try{return JSON.parse(e)}catch(t){return e}return{}},nO=function(){function e(e){var t=e.element,n=e.type,r=e.classNames;this.element=t,this.classNames=r,this.type=n,this.isActive=!1}return e.prototype.show=function(){return Qx(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return eO(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}(),rO=function(){function e(e){var t=e.element,n=e.type,r=e.classNames,i=e.position;this.element=t,this.classNames=r,this.type=n,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return e.prototype.shouldFlip=function(e,t){var n=!1;return"auto"===this.position?n=this.element.getBoundingClientRect().top-t>=0&&!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(n=!0),n},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e,t){Qx(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e,t)&&(Qx(this.element,this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){eO(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(eO(this.element,this.classNames.flippedState),this.isFlipped=!1)},e.prototype.addFocusState=function(){Qx(this.element,this.classNames.focusState)},e.prototype.removeFocusState=function(){eO(this.element,this.classNames.focusState)},e.prototype.enable=function(){eO(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===Nx&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){Qx(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===Nx&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){var t=this.element,n=e.parentNode;n&&(e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t)),t.appendChild(e)},e.prototype.unwrap=function(e){var t=this.element,n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))},e.prototype.addLoadingState=function(){Qx(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){eO(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e}(),iO=function(){function e(e){var t=e.element,n=e.type,r=e.classNames,i=e.preventPaste;this.element=t,this.type=n,this.classNames=r,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){var e=this.element;e.addEventListener("paste",this._onPaste),e.addEventListener("input",this._onInput,{passive:!0}),e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener("input",this._onInput),e.removeEventListener("paste",this._onPaste),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value="",e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element;e.style.minWidth="".concat(e.placeholder.length+1,"ch"),e.style.width="".concat(e.value.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==Nx&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}(),oO=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.prepend=function(e){var t=this.element.firstElementChild;t?this.element.insertBefore(e,t):this.element.append(e)},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var n=this;if(e){var r=this.element.offsetHeight,i=this.element.scrollTop+r,o=e.offsetHeight,a=e.offsetTop+o,s=t>0?this.element.scrollTop+a-i:e.offsetTop;requestAnimationFrame((function(){n._animateScroll(s,t)}))}},e.prototype._scrollDown=function(e,t,n){var r=(n-e)/t,i=r>1?r:1;this.element.scrollTop=e+i},e.prototype._scrollUp=function(e,t,n){var r=(e-n)/t,i=r>1?r:1;this.element.scrollTop=e-i},e.prototype._animateScroll=function(e,t){var n=this,r=this.element.scrollTop,i=!1;t>0?(this._scrollDown(r,4,e),r<e&&(i=!0)):(this._scrollUp(r,4,e),r>e&&(i=!0)),i&&requestAnimationFrame((function(){n._animateScroll(e,t)}))},e}(),aO=function(){function e(e){var t=e.element,n=e.classNames;this.element=t,this.classNames=n,this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){var e=this.element;Qx(e,this.classNames.input),e.hidden=!0,e.tabIndex=-1;var t=e.getAttribute("style");t&&e.setAttribute("data-choice-orig-style",t),e.setAttribute("data-choice","active")},e.prototype.reveal=function(){var e=this.element;eO(e,this.classNames.input),e.hidden=!1,e.removeAttribute("tabindex");var t=e.getAttribute("data-choice-orig-style");t?(e.removeAttribute("data-choice-orig-style"),e.setAttribute("style",t)):e.removeAttribute("style"),e.removeAttribute("data-choice")},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){!function(e,t,n){void 0===n&&(n=null);var r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});e.dispatchEvent(r)}(this.element,e,t||{})},e}(),sO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tx(t,e),t}(aO),lO=function(e,t){return void 0===t&&(t=!0),void 0===e?t:!!e},uO=function(e){if("string"==typeof e&&(e=e.split(" ").filter((function(e){return e.length}))),Array.isArray(e)&&e.length)return e},cO=function(e,t,n){if(void 0===n&&(n=!0),"string"==typeof e){var r=Hx(e);return cO({value:e,label:n||r===e?e:{escaped:r,raw:e},selected:!0},!1)}var i=e;if("choices"in i){if(!t)throw new TypeError("optGroup is not allowed");var o=i,a=o.choices.map((function(e){return cO(e,!1)}));return{id:0,label:Xx(o.label)||o.value,active:!!a.length,disabled:!!o.disabled,choices:a}}var s=i;return{id:0,group:null,score:0,rank:0,value:s.value,label:s.label||s.value,active:lO(s.active),selected:lO(s.selected,!1),disabled:lO(s.disabled,!1),placeholder:lO(s.placeholder,!1),highlighted:!1,labelClass:uO(s.labelClass),labelDescription:s.labelDescription,customProperties:s.customProperties}},fO=function(e){return"SELECT"===e.tagName},hO=function(e){function t(t){var n=t.element,r=t.classNames,i=t.template,o=t.extractPlaceholder,a=e.call(this,{element:n,classNames:r})||this;return a.template=i,a.extractPlaceholder=o,a}return tx(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),t.prototype.addOptions=function(e){var t=this,n=document.createDocumentFragment();e.forEach((function(e){var r=e;if(!r.element){var i=t.template(r);n.appendChild(i),r.element=i}})),this.element.appendChild(n)},t.prototype.optionsAsChoices=function(){var e=this,t=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach((function(n){!function(e){return"OPTION"===e.tagName}(n)?function(e){return"OPTGROUP"===e.tagName}(n)&&t.push(e._optgroupToChoice(n)):t.push(e._optionToChoice(n))})),t},t.prototype._optionToChoice=function(e){return!e.hasAttribute("value")&&e.hasAttribute("placeholder")&&(e.setAttribute("value",""),e.value=""),{id:0,group:null,score:0,rank:0,value:e.value,label:e.innerText,element:e,active:!0,selected:this.extractPlaceholder?e.selected:e.hasAttribute("selected"),disabled:e.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!e.value||e.hasAttribute("placeholder")),labelClass:void 0!==e.dataset.labelClass?uO(e.dataset.labelClass):void 0,labelDescription:void 0!==e.dataset.labelDescription?e.dataset.labelDescription:void 0,customProperties:tO(e.dataset.customProperties)}},t.prototype._optgroupToChoice=function(e){var t=this,n=e.querySelectorAll("option"),r=Array.from(n).map((function(e){return t._optionToChoice(e)}));return{id:0,label:e.label||"",element:e,active:!!r.length,disabled:e.disabled,choices:r}},t}(aO),dO={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(e){return!!e&&""!==e},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(e,t){var n=e.value,r=e.label,i=void 0===r?n:r,o=t.value,a=t.label,s=void 0===a?o:a;return Xx(i).localeCompare(Xx(s),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat(e,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(e){return"Remove item: ".concat(e)},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},appendGroupInSearch:!1},pO=function(e){var t=e.itemEl;t&&(t.remove(),e.itemEl=void 0)};var vO={groups:function(e,t){var n=e,r=!0;switch(t.type){case cx:n.push(t.group);break;case ux:n=[];break;default:r=!1}return{state:n,update:r}},items:function(e,t,n){var r=e,i=!0;switch(t.type){case fx:t.item.selected=!0,(o=t.item.element)&&(o.selected=!0,o.setAttribute("selected","")),r.push(t.item);break;case hx:var o;if(t.item.selected=!1,o=t.item.element){o.selected=!1,o.removeAttribute("selected");var a=o.parentElement;a&&fO(a)&&a.type===Nx&&(a.value="")}pO(t.item),r=r.filter((function(e){return e.id!==t.item.id}));break;case ax:pO(t.choice),r=r.filter((function(e){return e.id!==t.choice.id}));break;case dx:var s=t.highlighted,l=r.find((function(e){return e.id===t.item.id}));l&&l.highlighted!==s&&(l.highlighted=s,n&&function(e,t,n){var r=e.itemEl;r&&(eO(r,n),Qx(r,t))}(l,s?n.classNames.highlightedState:n.classNames.selectedState,s?n.classNames.selectedState:n.classNames.highlightedState));break;default:i=!1}return{state:r,update:i}},choices:function(e,t,n){var r=e,i=!0;switch(t.type){case ox:r.push(t.choice);break;case ax:t.choice.choiceEl=void 0,t.choice.group&&(t.choice.group.choices=t.choice.group.choices.filter((function(e){return e.id!==t.choice.id}))),r=r.filter((function(e){return e.id!==t.choice.id}));break;case fx:case hx:t.item.choiceEl=void 0;break;case sx:var o=[];t.results.forEach((function(e){o[e.item.id]=e})),r.forEach((function(e){var t=o[e.id];void 0!==t?(e.score=t.score,e.rank=t.rank,e.active=!0):(e.score=0,e.rank=0,e.active=!1),n&&n.appendGroupInSearch&&(e.choiceEl=void 0)}));break;case lx:r.forEach((function(e){e.active=t.active,n&&n.appendGroupInSearch&&(e.choiceEl=void 0)}));break;case ux:r=[];break;default:i=!1}return{state:r,update:i}}},yO=function(){function e(e){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=e}return Object.defineProperty(e.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),e.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},e.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach((function(t){return t(e)}))},e.prototype.subscribe=function(e){return this._listeners.push(e),this},e.prototype.dispatch=function(e){var t=this,n=this._state,r=!1,i=this._changeSet||this.changeSet(!1);Object.keys(vO).forEach((function(o){var a=vO[o](n[o],e,t._context);a.update&&(r=!0,i[o]=!0,n[o]=a.state)})),r&&(this._txn?this._changeSet=i:this._listeners.forEach((function(e){return e(i)})))},e.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach((function(e){return e(t)})))}}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter((function(e){return!e.disabled&&e.active&&e.highlighted}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter((function(e){return e.active}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.choices.filter((function(e){return!e.disabled&&!e.placeholder}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this;return this.state.groups.filter((function(t){var n=t.active&&!t.disabled,r=e.state.choices.some((function(e){return e.active&&!e.disabled}));return n&&r}),[])},enumerable:!1,configurable:!0}),e.prototype.inTxn=function(){return this._txn>0},e.prototype.getChoiceById=function(e){return this.activeChoices.find((function(t){return t.id===e}))},e.prototype.getGroupById=function(e){return this.groups.find((function(t){return t.id===e}))},e}(),mO="no-choices",bO="no-results",gO="add-choice",wO="";function _O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kO(Object(n),!0).forEach((function(t){_O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OO(e){return Array.isArray?Array.isArray(e):"[object Array]"===AO(e)}function PO(e){return"string"==typeof e}function SO(e){return"number"==typeof e}function EO(e){return!0===e||!1===e||function(e){return jO(e)&&null!==e}(e)&&"[object Boolean]"==AO(e)}function jO(e){return"object"==typeof e}function TO(e){return null!=e}function DO(e){return!e.trim().length}function AO(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const CO=Object.prototype.hasOwnProperty;class MO{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=LO(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function LO(e){let t=null,n=null,r=null,i=1,o=null;if(PO(e)||OO(e))r=e,t=RO(e),n=IO(e);else{if(!CO.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const a=e.name;if(r=a,CO.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(a));t=RO(a),n=IO(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function RO(e){return OO(e)?e:e.split(".")}function IO(e){return OO(e)?e.join("."):e}const NO={useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const i=(e,t,o)=>{if(TO(e))if(t[o]){const a=e[t[o]];if(!TO(a))return;if(o===t.length-1&&(PO(a)||SO(a)||EO(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(OO(a)){r=!0;for(let e=0,n=a.length;e<n;e+=1)i(a[e],t,o+1)}else t.length&&i(a,t,o+1)}else n.push(e)};return i(e,PO(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var BO=xO(xO(xO(xO({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),NO);const FO=/[^ ]+/g;class zO{constructor({getFn:e=BO.getFn,fieldNormWeight:t=BO.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const i=t.match(FO).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,PO(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();PO(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!TO(e)||DO(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(TO(i))if(OO(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(TO(r))if(PO(r)&&!DO(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else OO(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(PO(i)&&!DO(i)){let e={v:i,n:this.norm.get(i)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function VO(e,t,{getFn:n=BO.getFn,fieldNormWeight:r=BO.fieldNormWeight}={}){const i=new zO({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(LO)),i.setSources(t),i.create(),i}function qO(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=BO.distance,ignoreLocation:o=BO.ignoreLocation}={}){const a=t/e.length;if(o)return a;const s=Math.abs(r-n);return i?a+s/i:s?1:a}const HO=32;function YO(e,t,n,{location:r=BO.location,distance:i=BO.distance,threshold:o=BO.threshold,findAllMatches:a=BO.findAllMatches,minMatchCharLength:s=BO.minMatchCharLength,includeMatches:l=BO.includeMatches,ignoreLocation:u=BO.ignoreLocation}={}){if(t.length>HO)throw new Error((e=>`Pattern length exceeds max of ${e}.`)(HO));const c=t.length,f=e.length,h=Math.max(0,Math.min(r,f));let d=o,p=h;const v=s>1||l,y=v?Array(f):[];let m;for(;(m=e.indexOf(t,p))>-1;){let e=qO(t,{currentLocation:m,expectedLocation:h,distance:i,ignoreLocation:u});if(d=Math.min(e,d),p=m+c,v){let e=0;for(;e<c;)y[m+e]=1,e+=1}}p=-1;let b=[],g=1,w=c+f;const _=1<<c-1;for(let r=0;r<c;r+=1){let o=0,s=w;for(;o<s;){qO(t,{errors:r,currentLocation:h+s,expectedLocation:h,distance:i,ignoreLocation:u})<=d?o=s:w=s,s=Math.floor((w-o)/2+o)}w=s;let l=Math.max(1,h-s+1),m=a?f:Math.min(h+s,f)+c,k=Array(m+2);k[m+1]=(1<<r)-1;for(let o=m;o>=l;o-=1){let a=o-1,s=n[e.charAt(a)];if(v&&(y[a]=+!!s),k[o]=(k[o+1]<<1|1)&s,r&&(k[o]|=(b[o+1]|b[o])<<1|1|b[o+1]),k[o]&_&&(g=qO(t,{errors:r,currentLocation:a,expectedLocation:h,distance:i,ignoreLocation:u}),g<=d)){if(d=g,p=a,p<=h)break;l=Math.max(1,2*h-p)}}if(qO(t,{errors:r+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:u})>d)break;b=k}const k={isMatch:p>=0,score:Math.max(.001,g)};if(v){const e=function(e=[],t=BO.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=e.length;o<a;o+=1){let a=e[o];a&&-1===r?r=o:a||-1===r||(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(y,s);e.length?l&&(k.indices=e):k.isMatch=!1}return k}function UO(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class GO{constructor(e,{location:t=BO.location,threshold:n=BO.threshold,distance:r=BO.distance,includeMatches:i=BO.includeMatches,findAllMatches:o=BO.findAllMatches,minMatchCharLength:a=BO.minMatchCharLength,isCaseSensitive:s=BO.isCaseSensitive,ignoreLocation:l=BO.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:UO(e),startIndex:t})},c=this.pattern.length;if(c>HO){let e=0;const t=c%HO,n=c-t;for(;e<n;)u(this.pattern.substr(e,HO),e),e+=HO;if(t){const e=c-HO;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,ignoreLocation:l}=this.options;let u=[],c=0,f=!1;this.chunks.forEach((({pattern:t,alphabet:h,startIndex:d})=>{const{isMatch:p,score:v,indices:y}=YO(e,t,h,{location:r+d,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});p&&(f=!0),c+=v,p&&y&&(u=[...u,...y])}));let h={isMatch:f,score:f?c/this.chunks.length:1};return f&&n&&(h.indices=u),h}}class XO{constructor(e){this.pattern=e}static isMultiMatch(e){return WO(e,this.multiRegex)}static isSingleMatch(e){return WO(e,this.singleRegex)}search(){}}function WO(e,t){const n=e.match(t);return n?n[1]:null}class $O extends XO{constructor(e,{location:t=BO.location,threshold:n=BO.threshold,distance:r=BO.distance,includeMatches:i=BO.includeMatches,findAllMatches:o=BO.findAllMatches,minMatchCharLength:a=BO.minMatchCharLength,isCaseSensitive:s=BO.isCaseSensitive,ignoreLocation:l=BO.ignoreLocation}={}){super(e),this._bitapSearch=new GO(e,{location:t,threshold:n,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class KO extends XO{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const ZO=[class extends XO{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},KO,class extends XO{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends XO{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends XO{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends XO{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends XO{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},$O],JO=ZO.length,QO=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const eP=new Set([$O.type,KO.type]);class tP{constructor(e,{isCaseSensitive:t=BO.isCaseSensitive,includeMatches:n=BO.includeMatches,minMatchCharLength:r=BO.minMatchCharLength,ignoreLocation:i=BO.ignoreLocation,findAllMatches:o=BO.findAllMatches,location:a=BO.location,threshold:s=BO.threshold,distance:l=BO.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:o,ignoreLocation:i,location:a,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(QO).filter((e=>e&&!!e.trim())),r=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let o=!1,a=-1;for(;!o&&++a<JO;){const e=ZO[a];let n=e.isMultiMatch(i);n&&(r.push(new e(n,t)),o=!0)}if(!o)for(a=-1;++a<JO;){const e=ZO[a];let n=e.isSingleMatch(i);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let i=0,o=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];o.length=0,i=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:l,indices:u,score:c}=r.search(e);if(!l){a=0,i=0,o.length=0;break}if(i+=1,a+=c,n){const e=r.constructor.type;eP.has(e)?o=[...o,...u]:o.push(u)}}if(i){let e={isMatch:!0,score:a/i};return n&&(e.indices=o),e}}return{isMatch:!1,score:1}}}const nP=[];function rP(e,t){for(let n=0,r=nP.length;n<r;n+=1){let r=nP[n];if(r.condition(e,t))return new r(e,t)}return new GO(e,t)}const iP="$and",oP="$or",aP="$path",sP="$val",lP=e=>!(!e[iP]&&!e[oP]),uP=e=>({[iP]:Object.keys(e).map((t=>({[t]:e[t]})))});function cP(e,t,{auto:n=!0}={}){const r=e=>{let i=Object.keys(e);const o=(e=>!!e[aP])(e);if(!o&&i.length>1&&!lP(e))return r(uP(e));if((e=>!OO(e)&&jO(e)&&!lP(e))(e)){const r=o?e[aP]:i[0],a=o?e[sP]:e[r];if(!PO(a))throw new Error((e=>`Invalid value for key ${e}`)(r));const s={keyId:IO(r),pattern:a};return n&&(s.searcher=rP(a,t)),s}let a={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];OO(n)&&n.forEach((e=>{a.children.push(r(e))}))})),a};return lP(e)||(e=uP(e)),r(e)}function fP(e,t){const n=e.matches;t.matches=[],TO(n)&&n.forEach((e=>{if(!TO(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let i={indices:n,value:r};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function hP(e,t){t.score=e.score}class dP{constructor(e,t={},n){this.options=xO(xO({},BO),t),this.options.useExtendedSearch,this._keyStore=new MO(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof zO))throw new Error("Incorrect 'index' type");this._myIndex=t||VO(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){TO(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let s=PO(e)?PO(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=BO.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:i})=>{const o=e?e.weight:null;n*=Math.pow(0===i&&o?Number.EPSILON:i,(o||1)*(t?1:r))})),e.score=n}))}(s,{ignoreFieldNorm:a}),i&&s.sort(o),SO(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=BO.includeMatches,includeScore:r=BO.includeScore}={}){const i=[];return n&&i.push(fP),r&&i.push(hP),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,r)})),r}))}(s,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=rP(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:i})=>{if(!TO(e))return;const{isMatch:o,score:a,indices:s}=t.searchIn(e);o&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:s}]})})),r}_searchLogical(e){const t=cP(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:i}=e,o=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return o&&o.length?[{idx:r,item:t,matches:o}]:[]}const i=[];for(let o=0,a=e.children.length;o<a;o+=1){const a=e.children[o],s=n(a,t,r);if(s.length)i.push(...s);else if(e.operator===iP)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach((({$:e,i:r})=>{if(TO(e)){let a=n(t,e,r);a.length&&(i[r]||(i[r]={idx:r,item:e,matches:[]},o.push(i[r])),a.forEach((({matches:e})=>{i[r].matches.push(...e)})))}})),o}_searchObjectList(e){const t=rP(e,this.options),{keys:n,records:r}=this._myIndex,i=[];return r.forEach((({$:e,i:r})=>{if(!TO(e))return;let o=[];n.forEach(((n,r)=>{o.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),o.length&&i.push({idx:r,item:e,matches:o})})),i}_findMatches({key:e,value:t,searcher:n}){if(!TO(t))return[];let r=[];if(OO(t))t.forEach((({v:t,i,n:o})=>{if(!TO(t))return;const{isMatch:a,score:s,indices:l}=n.searchIn(t);a&&r.push({score:s,key:e,value:t,idx:i,norm:o,indices:l})}));else{const{v:i,n:o}=t,{isMatch:a,score:s,indices:l}=n.searchIn(i);a&&r.push({score:s,key:e,value:i,norm:o,indices:l})}return r}}dP.version="7.0.0",dP.createIndex=VO,dP.parseIndex=function(e,{getFn:t=BO.getFn,fieldNormWeight:n=BO.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new zO({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o},dP.config=BO,dP.parseQuery=cP,function(...e){nP.push(...e)}(tP);var pP=function(){function e(e){this._haystack=[],this._fuseOptions=nx(nx({},e.fuseOptions),{keys:rx([],e.searchFields,!0),includeMatches:!0})}return e.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},e.prototype.reset=function(){this._haystack=[],this._fuse=void 0},e.prototype.isEmptyIndex=function(){return!this._haystack.length},e.prototype.search=function(e){return this._fuse||(this._fuse=new dP(this._haystack,this._fuseOptions)),this._fuse.search(e).map((function(e,t){return{item:e.item,score:e.score||0,rank:t+1}}))},e}();var vP=function(e,t,n){var r=e.dataset,i=t.customProperties,o=t.labelClass,a=t.labelDescription;o&&(r.labelClass=Zx(o).join(" ")),a&&(r.labelDescription=a),n&&i&&("string"==typeof i?r.customProperties=i:"object"!=typeof i||function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(i)||(r.customProperties=JSON.stringify(i)))},yP=function(e,t,n){var r=t&&e.querySelector("label[for='".concat(t,"']")),i=r&&r.innerText;i&&n.setAttribute("aria-label",i)},mP={containerOuter:function(e,t,n,r,i,o,a){var s=e.classNames.containerOuter,l=document.createElement("div");return Qx(l,s),l.dataset.type=o,t&&(l.dir=t),r&&(l.tabIndex=0),n&&(l.setAttribute("role",i?"combobox":"listbox"),i?l.setAttribute("aria-autocomplete","list"):a||yP(this._docRoot,this.passedElement.element.id,l),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false")),a&&l.setAttribute("aria-labelledby",a),l},containerInner:function(e){var t=e.classNames.containerInner,n=document.createElement("div");return Qx(n,t),n},itemList:function(e,t){var n=e.searchEnabled,r=e.classNames,i=r.list,o=r.listSingle,a=r.listItems,s=document.createElement("div");return Qx(s,i),Qx(s,t?o:a),this._isSelectElement&&n&&s.setAttribute("role","listbox"),s},placeholder:function(e,t){var n=e.allowHTML,r=e.classNames.placeholder,i=document.createElement("div");return Qx(i,r),$x(i,n,t),i},item:function(e,t,n){var r=e.allowHTML,i=e.removeItemButtonAlignLeft,o=e.removeItemIconText,a=e.removeItemLabelText,s=e.classNames,l=s.item,u=s.button,c=s.highlightedState,f=s.itemSelectable,h=s.placeholder,d=Xx(t.value),p=document.createElement("div");if(Qx(p,l),t.labelClass){var v=document.createElement("span");$x(v,r,t.label),Qx(v,t.labelClass),p.appendChild(v)}else $x(p,r,t.label);if(p.dataset.item="",p.dataset.id=t.id,p.dataset.value=d,vP(p,t,!0),(t.disabled||this.containerOuter.isDisabled)&&p.setAttribute("aria-disabled","true"),this._isSelectElement&&(p.setAttribute("aria-selected","true"),p.setAttribute("role","option")),t.placeholder&&(Qx(p,h),p.dataset.placeholder=""),Qx(p,t.highlighted?c:f),n){t.disabled&&eO(p,f),p.dataset.deletable="";var y=document.createElement("button");y.type="button",Qx(y,u),$x(y,!0,Ux(o,t.value));var m=Ux(a,t.value);m&&y.setAttribute("aria-label",m),y.dataset.button="",i?p.insertAdjacentElement("afterbegin",y):p.appendChild(y)}return p},choiceList:function(e,t){var n=e.classNames.list,r=document.createElement("div");return Qx(r,n),t||r.setAttribute("aria-multiselectable","true"),r.setAttribute("role","listbox"),r},choiceGroup:function(e,t){var n=e.allowHTML,r=e.classNames,i=r.group,o=r.groupHeading,a=r.itemDisabled,s=t.id,l=t.label,u=t.disabled,c=Xx(l),f=document.createElement("div");Qx(f,i),u&&Qx(f,a),f.setAttribute("role","group"),f.dataset.group="",f.dataset.id=s,f.dataset.value=c,u&&f.setAttribute("aria-disabled","true");var h=document.createElement("div");return Qx(h,o),$x(h,n,l||""),f.appendChild(h),f},choice:function(e,t,n,r){var i=e.allowHTML,o=e.classNames,a=o.item,s=o.itemChoice,l=o.itemSelectable,u=o.selectedState,c=o.itemDisabled,f=o.description,h=o.placeholder,d=t.label,p=Xx(t.value),v=document.createElement("div");v.id=t.elementId,Qx(v,a),Qx(v,s),r&&"string"==typeof d&&(d=Wx(i,d),d={trusted:d+=" (".concat(r,")")});var y=v;if(t.labelClass){var m=document.createElement("span");$x(m,i,d),Qx(m,t.labelClass),y=m,v.appendChild(m)}else $x(v,i,d);if(t.labelDescription){var b="".concat(t.elementId,"-description");y.setAttribute("aria-describedby",b);var g=document.createElement("span");$x(g,i,t.labelDescription),g.id=b,Qx(g,f),v.appendChild(g)}return t.selected&&Qx(v,u),t.placeholder&&Qx(v,h),v.setAttribute("role",t.group?"treeitem":"option"),v.dataset.choice="",v.dataset.id=t.id,v.dataset.value=p,n&&(v.dataset.selectText=n),t.group&&(v.dataset.groupId="".concat(t.group.id)),vP(v,t,!1),t.disabled?(Qx(v,c),v.dataset.choiceDisabled="",v.setAttribute("aria-disabled","true")):(Qx(v,l),v.dataset.choiceSelectable=""),v},input:function(e,t){var n=e.classNames,r=n.input,i=n.inputCloned,o=e.labelId,a=document.createElement("input");return a.type="search",Qx(a,r),Qx(a,i),a.autocomplete="off",a.autocapitalize="off",a.spellcheck=!1,a.setAttribute("role","textbox"),a.setAttribute("aria-autocomplete","list"),t?a.setAttribute("aria-label",t):o||yP(this._docRoot,this.passedElement.element.id,a),a},dropdown:function(e){var t=e.classNames,n=t.list,r=t.listDropdown,i=document.createElement("div");return Qx(i,n),Qx(i,r),i.setAttribute("aria-expanded","false"),i},notice:function(e,t,n){var r=e.classNames,i=r.item,o=r.itemChoice,a=r.addChoice,s=r.noResults,l=r.noChoices,u=r.notice;void 0===n&&(n=wO);var c=document.createElement("div");switch($x(c,!0,t),Qx(c,i),Qx(c,o),Qx(c,u),n){case gO:Qx(c,a);break;case bO:Qx(c,s);break;case mO:Qx(c,l)}return n===gO&&(c.dataset.choiceSelectable="",c.dataset.choice=""),c},option:function(e){var t=Xx(e.label),n=new Option(t,e.value,!1,e.selected);return vP(n,e,!0),n.disabled=e.disabled,e.selected&&n.setAttribute("selected",""),n}},bP="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,gP={},wP=function(e){if(e)return e.dataset.id?parseInt(e.dataset.id,10):void 0},_P="[data-choice-selectable]",kP=function(){function e(t,n){void 0===t&&(t="[data-choice]"),void 0===n&&(n={});var r=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var i=e.defaults;this.config=nx(nx(nx({},i.allOptions),i.options),n),Rx.forEach((function(e){r.config[e]=nx(nx(nx({},i.allOptions[e]),i.options[e]),n[e])}));var o=this.config;o.silent||this._validateConfig();var a=o.shadowRoot||document.documentElement;this._docRoot=a;var s="string"==typeof t?a.querySelector(t):t;if(!s||"object"!=typeof s||!function(e){return"INPUT"===e.tagName}(s)&&!fO(s)){if(!s&&"string"==typeof t)throw TypeError("Selector ".concat(t," failed to find an element"));throw TypeError("Expected one of the following types text|select-one|select-multiple")}var l=s.type,u=l===Ix;(u||1!==o.maxItemCount)&&(o.singleModeForMultiSelect=!1),o.singleModeForMultiSelect&&(l=Bx);var c=l===Nx,f=l===Bx,h=c||f;if(this._elementType=l,this._isTextElement=u,this._isSelectOneElement=c,this._isSelectMultipleElement=f,this._isSelectElement=c||f,this._canAddUserChoices=u&&o.addItems||h&&o.addChoices,"boolean"!=typeof o.renderSelectedChoices&&(o.renderSelectedChoices="always"===o.renderSelectedChoices||c),"auto"===o.closeDropdownOnSelect?o.closeDropdownOnSelect=u||c||o.singleModeForMultiSelect:o.closeDropdownOnSelect=lO(o.closeDropdownOnSelect),o.placeholder&&(o.placeholderValue?this._hasNonChoicePlaceholder=!0:s.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,o.placeholderValue=s.dataset.placeholder)),n.addItemFilter&&"function"!=typeof n.addItemFilter){var d=n.addItemFilter instanceof RegExp?n.addItemFilter:new RegExp(n.addItemFilter);o.addItemFilter=d.test.bind(d)}if(this._isTextElement)this.passedElement=new sO({element:s,classNames:o.classNames});else{var p=s;this.passedElement=new hO({element:p,classNames:o.classNames,template:function(e){return r._templates.option(e)},extractPlaceholder:o.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new yO(o),this._currentValue="",o.searchEnabled=!u&&o.searchEnabled||f,this._canSearch=o.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(e,t){var n=e.id||e.name&&"".concat(e.name,"-").concat(qx(2))||qx(4);return n=n.replace(/(:|\.|\[|\]|,)/g,""),"".concat(t,"-").concat(n)}(s,"choices-"),this._direction=s.dir,!this._direction){var v=window.getComputedStyle(s).direction;v!==window.getComputedStyle(document.documentElement).direction&&(this._direction=v)}if(this._idNames={itemChoice:"item-choice"},this._templates=i.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return o.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),this.initialised=!0,void(this.initialisedOK=!1);this.init(),this._initialItems=this._store.items.map((function(e){return e.value}))}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return gP},get allOptions(){return dO},get templates(){return mP}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised&&void 0===this.initialisedOK){this._searcher=function(e){return new pP(e)}(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;"function"==typeof e&&e.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=e.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=this._store.items.find((function(t){return t.id===e.id}));return!n||n.highlighted||(this._store.dispatch(Vx(n,!0)),t&&this.passedElement.triggerEvent(_x,this._getChoiceForOutput(n))),this},e.prototype.unhighlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var n=this._store.items.find((function(t){return t.id===e.id}));return n&&n.highlighted?(this._store.dispatch(Vx(n,!1)),t&&this.passedElement.triggerEvent(xx,this._getChoiceForOutput(n)),this):this},e.prototype.highlightAll=function(){var e=this;return this._store.withTxn((function(){e._store.items.forEach((function(t){t.highlighted||(e._store.dispatch(Vx(t,!0)),e.passedElement.triggerEvent(_x,e._getChoiceForOutput(t)))}))})),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn((function(){e._store.items.forEach((function(t){t.highlighted&&(e._store.dispatch(Vx(t,!1)),e.passedElement.triggerEvent(_x,e._getChoiceForOutput(t)))}))})),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.withTxn((function(){t._store.items.filter((function(t){return t.value===e})).forEach((function(e){return t._removeItem(e)}))})),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.withTxn((function(){t._store.items.filter((function(t){return t.id!==e})).forEach((function(e){return t._removeItem(e)}))})),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.withTxn((function(){t._store.highlightedActiveItems.forEach((function(n){t._removeItem(n),e&&t._triggerChange(n.value)}))})),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||(void 0===e&&(e=!this._canSearch),requestAnimationFrame((function(){t.dropdown.show();var n=t.dropdown.element.getBoundingClientRect();t.containerOuter.open(n.bottom,n.height),e||t.input.focus(),t.passedElement.triggerEvent(px)}))),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame((function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(vx)})),this):this},e.prototype.getValue=function(e){var t=this,n=this._store.items.map((function(n){return e?n.value:t._getChoiceForOutput(n)}));return this._isSelectOneElement||this.config.singleModeForMultiSelect?n[0]:n},e.prototype.setValue=function(e){var t=this;return this.initialisedOK?(this._store.withTxn((function(){e.forEach((function(e){e&&t._addChoice(cO(e,!1))}))})),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},e.prototype.setChoiceByValue=function(e){var t=this;return this.initialisedOK?(this._isTextElement||(this._store.withTxn((function(){(Array.isArray(e)?e:[e]).forEach((function(e){return t._findAndSelectChoiceByValue(e)})),t.unhighlightAll()})),this._searcher.reset()),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},e.prototype.setChoices=function(e,t,n,r,i){var o=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===n&&(n="label"),void 0===r&&(r=!1),void 0===i&&(i=!0),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(r&&this.clearChoices(),"function"==typeof e){var a=e(this);if("function"==typeof Promise&&a instanceof Promise)return new Promise((function(e){return requestAnimationFrame(e)})).then((function(){return o._handleLoadingState(!0)})).then((function(){return a})).then((function(e){return o.setChoices(e,t,n,r)})).catch((function(e){o.config.silent||console.error(e)})).then((function(){return o._handleLoadingState(!1)})).then((function(){return o}));if(!Array.isArray(a))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof a));return this.setChoices(a,t,n,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn((function(){i&&(o._isSearching=!1);var r="value"===t,a="label"===n;e.forEach((function(e){if("choices"in e){var i=e;a||(i=nx(nx({},i),{label:i[n]})),o._addGroup(cO(i,!0))}else{var s=e;a&&r||(s=nx(nx({},s),{value:s[t],label:s[n]})),o._addChoice(cO(s,!1))}})),o.unhighlightAll()})),this._searcher.reset(),this},e.prototype.refresh=function(e,t,n){var r=this;return void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1),this._isSelectElement?(this._store.withTxn((function(){var i=r.passedElement.optionsAsChoices(),o={};n||r._store.items.forEach((function(e){e.id&&e.active&&e.selected&&!e.disabled&&(o[e.value]=!0)})),r.clearStore(!1);var a=function(e){n?r._store.dispatch(zx(e)):o[e.value]&&(e.selected=!0)};i.forEach((function(e){"choices"in e?e.choices.forEach(a):a(e)})),r._addPredefinedChoices(i,t,e),r._isSearching&&r._searchChoices(r.input.value)})),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},e.prototype.removeChoice=function(e){var t=this._store.choices.find((function(t){return t.value===e}));return t?(this._clearNotice(),this._store.dispatch(Fx(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent(wx,this._getChoiceForOutput(t)),this):this},e.prototype.clearChoices=function(){var e=this;return this._store.withTxn((function(){e._store.choices.forEach((function(t){t.selected||e._store.dispatch(Fx(t))}))})),this._searcher.reset(),this},e.prototype.clearStore=function(e){return void 0===e&&(e=!0),this._stopSearch(),e&&this.passedElement.element.replaceChildren(""),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._stopSearch(),this},e.prototype._validateConfig=function(){var e=this.config,t=function(e,t){var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.filter((function(e){return r.indexOf(e)<0}))}(e,dO);t.length&&console.warn("Unknown config option(s) passed",t.join(", ")),e.allowHTML&&e.allowHtmlUserInput&&(e.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),e.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},e.prototype._render=function(e){void 0===e&&(e={choices:!0,groups:!0,items:!0}),this._store.inTxn()||(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},e.prototype._renderChoices=function(){var e=this;if(this._canAddItems()){var t=this.config,n=this._isSearching,r=this._store,i=r.activeGroups,o=r.activeChoices,a=0;if(n&&t.searchResultLimit>0?a=t.searchResultLimit:t.renderChoiceLimit>0&&(a=t.renderChoiceLimit),this._isSelectElement){var s=o.filter((function(e){return!e.element}));s.length&&this.passedElement.addOptions(s)}var l=document.createDocumentFragment(),u=function(e){return e.filter((function(e){return!e.placeholder&&(n?!!e.rank:t.renderSelectedChoices||!e.selected)}))},c=!1,f=function(r,i,o){n?r.sort(Kx):t.shouldSort&&r.sort(t.sorter);var s=r.length;s=!i&&a&&s>a?a:s,s--,r.every((function(r,i){var a=r.choiceEl||e._templates.choice(t,r,t.itemSelectText,o);return r.choiceEl=a,l.appendChild(a),r.disabled||!n&&r.selected||(c=!0),i<s}))};o.length&&(t.resetScrollPosition&&requestAnimationFrame((function(){return e.choiceList.scrollToTop()})),this._hasNonChoicePlaceholder||n||!this._isSelectOneElement||f(o.filter((function(e){return e.placeholder&&!e.group})),!1,void 0),i.length&&!n?(t.shouldSort&&i.sort(t.sorter),f(o.filter((function(e){return!e.placeholder&&!e.group})),!1,void 0),i.forEach((function(r){var i=u(r.choices);if(i.length){if(r.label){var o=r.groupEl||e._templates.choiceGroup(e.config,r);r.groupEl=o,o.remove(),l.appendChild(o)}f(i,!0,t.appendGroupInSearch&&n?r.label:void 0)}}))):f(u(o),!1,void 0)),c||(this._notice||(this._notice={text:Gx(n?t.noResultsText:t.noChoicesText),type:n?bO:mO}),l.replaceChildren("")),this._renderNotice(l),this.choiceList.element.replaceChildren(l),c&&this._highlightChoice()}},e.prototype._renderItems=function(){var e=this,t=this._store.items||[],n=this.itemList.element,r=this.config,i=document.createDocumentFragment(),o=function(e){return n.querySelector('[data-item][data-id="'.concat(e.id,'"]'))},a=function(t){var n=t.itemEl;n&&n.parentElement||(n=o(t)||e._templates.item(r,t,r.removeItemButton),t.itemEl=n,i.appendChild(n))};t.forEach(a);var s=!!i.childNodes.length;if(this._isSelectOneElement&&this._hasNonChoicePlaceholder){var l=n.children.length;if(s||l>1){var u=n.querySelector(Jx(r.classNames.placeholder));u&&u.remove()}else l||(s=!0,a(cO({selected:!0,value:"",label:r.placeholderValue||"",placeholder:!0},!1)))}s&&(n.append(i),r.shouldSortItems&&!this._isSelectOneElement&&(t.sort(r.sorter),t.forEach((function(e){var t=o(e);t&&(t.remove(),i.append(t))})),n.append(i))),this._isTextElement&&(this.passedElement.value=t.map((function(e){return e.value})).join(r.delimiter))},e.prototype._displayNotice=function(e,t,n){void 0===n&&(n=!0);var r=this._notice;r&&(r.type===t&&r.text===e||r.type===gO&&(t===bO||t===mO))?n&&this.showDropdown(!0):(this._clearNotice(),this._notice=e?{text:e,type:t}:void 0,this._renderNotice(),n&&e&&this.showDropdown(!0))},e.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector(Jx(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},e.prototype._renderNotice=function(e){var t=this._notice;if(t){var n=this._templates.notice(this.config,t.text,t.type);e?e.append(n):this.choiceList.prepend(n)}},e.prototype._getChoiceForOutput=function(e,t){return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:e.group?e.group.label:void 0,element:e.element,keyCode:t}},e.prototype._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent(yx,{value:e})},e.prototype._handleButtonAction=function(e){var t=this,n=this._store.items;if(n.length&&this.config.removeItems&&this.config.removeItemButton){var r=e&&wP(e.parentElement),i=r&&n.find((function(e){return e.id===r}));i&&this._store.withTxn((function(){if(t._removeItem(i),t._triggerChange(i.value),t._isSelectOneElement&&!t._hasNonChoicePlaceholder){var e=t._store.choices.reverse().find((function(e){return!e.disabled&&e.placeholder}));e&&(t._addItem(e),t.unhighlightAll(),e.value&&t._triggerChange(e.value))}}))}},e.prototype._handleItemAction=function(e,t){var n=this;void 0===t&&(t=!1);var r=this._store.items;if(r.length&&this.config.removeItems&&!this._isSelectOneElement){var i=wP(e);i&&(r.forEach((function(e){e.id!==i||e.highlighted?!t&&e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)})),this.input.focus())}},e.prototype._handleChoiceAction=function(e){var t=this,n=wP(e),r=n&&this._store.getChoiceById(n);if(!r||r.disabled)return!1;var i=this.dropdown.isActive;if(!r.selected){if(!this._canAddItems())return!0;this._store.withTxn((function(){t._addItem(r,!0,!0),t.clearInput(),t.unhighlightAll()})),this._triggerChange(r.value)}return i&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},e.prototype._handleBackspace=function(e){var t=this.config;if(t.removeItems&&e.length){var n=e[e.length-1],r=e.some((function(e){return e.highlighted}));t.editItems&&!r&&n?(this.input.value=n.value,this.input.setWidth(),this._removeItem(n),this._triggerChange(n.value)):(r||this.highlightItem(n,!1),this.removeHighlightedItems(!0))}},e.prototype._loadChoices=function(){var e,t=this,n=this.config;if(this._isTextElement){if(this._presetChoices=n.items.map((function(e){return cO(e,!1)})),this.passedElement.value){var r=this.passedElement.value.split(n.delimiter).map((function(e){return cO(e,!1,t.config.allowHtmlUserInput)}));this._presetChoices=this._presetChoices.concat(r)}this._presetChoices.forEach((function(e){e.selected=!0}))}else if(this._isSelectElement){this._presetChoices=n.choices.map((function(e){return cO(e,!0)}));var i=this.passedElement.optionsAsChoices();i&&(e=this._presetChoices).push.apply(e,i)}},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.element;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(t.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed)if(null!=e&&e.length>=this.config.searchFloor){var t=this.config.searchChoices?this._searchChoices(e):0;null!==t&&this.passedElement.triggerEvent(bx,{value:e,resultCount:t})}else this._store.choices.some((function(e){return!e.active}))&&this._stopSearch()},e.prototype._canAddItems=function(){var e=this.config,t=e.maxItemCount,n=e.maxItemText;return!(!e.singleModeForMultiSelect&&t>0&&t<=this._store.items.length)||(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice("function"==typeof n?n(t):n,gO),!1)},e.prototype._canCreateItem=function(e){var t=this.config,n=!0,r="";if(n&&"function"==typeof t.addItemFilter&&!t.addItemFilter(e)&&(n=!1,r=Ux(t.customAddItemText,e)),n){var i=this._store.choices.find((function(n){return t.valueComparer(n.value,e)}));if(this._isSelectElement){if(i)return this._displayNotice("",gO),!1}else this._isTextElement&&!t.duplicateItemsAllowed&&i&&(n=!1,r=Ux(t.uniqueItemText,e))}return n&&(r=Ux(t.addItemText,e)),r&&this._displayNotice(r,gO),n},e.prototype._searchChoices=function(e){var t=e.trim().replace(/\s{2,}/," ");if(!t.length||t===this._currentValue)return null;var n=this._searcher;n.isEmptyIndex()&&n.index(this._store.searchableChoices);var r=n.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var i=this._notice;return(i&&i.type)!==gO&&(r.length?this._clearNotice():this._displayNotice(Gx(this.config.noResultsText),bO)),this._store.dispatch(function(e){return{type:sx,results:e}}(r)),r.length},e.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch({type:lx,active:!0}),this.passedElement.triggerEvent(bx,{value:"",resultCount:0}))},e.prototype._addEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,n=this.input.element;e.addEventListener("touchend",this._onTouchEnd,!0),t.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})),n.addEventListener("keyup",this._onKeyUp,{passive:!0}),n.addEventListener("input",this._onInput,{passive:!0}),n.addEventListener("focus",this._onFocus,{passive:!0}),n.addEventListener("blur",this._onBlur,{passive:!0}),n.form&&n.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,n=this.input.element;e.removeEventListener("touchend",this._onTouchEnd,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)),n.removeEventListener("keyup",this._onKeyUp),n.removeEventListener("input",this._onInput),n.removeEventListener("focus",this._onFocus),n.removeEventListener("blur",this._onBlur),n.form&&n.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,n=this.dropdown.isActive,r=1===e.key.length||2===e.key.length&&e.key.charCodeAt(0)>=55296||"Unidentified"===e.key;switch(this._isTextElement||n||t===Dx||t===Ox||t===Px||(this.showDropdown(),!this.input.isFocussed&&r&&(this.input.value+=e.key," "===e.key&&e.preventDefault())),t){case Tx:return this._onSelectKey(e,this.itemList.element.hasChildNodes());case jx:return this._onEnterKey(e,n);case Dx:return this._onEscapeKey(e,n);case Ax:case Mx:case Cx:case Lx:return this._onDirectionKey(e,n);case Ex:case Sx:return this._onDeleteKey(e,this._store.items,this.input.isFocussed)}},e.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},e.prototype._onInput=function(){var e=this.input.value;e?this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice()))):this._isTextElement?this.hideDropdown(!0):this._stopSearch()},e.prototype._onSelectKey=function(e,t){(e.ctrlKey||e.metaKey)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t){var n=this,r=this.input.value,i=e.target;if(e.preventDefault(),i&&i.hasAttribute("data-button"))this._handleButtonAction(i);else if(t){var o=this.dropdown.element.querySelector(Jx(this.config.classNames.highlightedState));if(!o||!this._handleChoiceAction(o))if(i&&r){if(this._canAddItems()){var a=!1;this._store.withTxn((function(){if(!(a=n._findAndSelectChoiceByValue(r,!0))){if(!n._canAddUserChoices)return;if(!n._canCreateItem(r))return;n._addChoice(cO(r,!1,n.config.allowHtmlUserInput),!0,!0),a=!0}n.clearInput(),n.unhighlightAll()})),a&&(this._triggerChange(r),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}else this.hideDropdown(!0)}else(this._isSelectElement||this._notice)&&this.showDropdown()},e.prototype._onEscapeKey=function(e,t){t&&(e.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},e.prototype._onDirectionKey=function(e,t){var n,r,i,o=e.keyCode;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var a=o===Cx||o===Lx?1:-1,s=void 0;if(e.metaKey||o===Lx||o===Mx)s=a>0?this.dropdown.element.querySelector("".concat(_P,":last-of-type")):this.dropdown.element.querySelector(_P);else{var l=this.dropdown.element.querySelector(Jx(this.config.classNames.highlightedState));s=l?function(e,t,n){void 0===n&&(n=1);for(var r="".concat(n>0?"next":"previous","ElementSibling"),i=e[r];i;){if(i.matches(t))return i;i=i[r]}return null}(l,_P,a):this.dropdown.element.querySelector(_P)}s&&(n=s,r=this.choiceList.element,void 0===(i=a)&&(i=1),(i>0?r.scrollTop+r.offsetHeight>=n.offsetTop+n.offsetHeight:n.offsetTop>=r.scrollTop)||this.choiceList.scrollToChildElement(s,a),this._highlightChoice(s)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,n){this._isSelectOneElement||e.target.value||!n||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation());this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(bP&&this.choiceList.element.contains(t)){var n=this.choiceList.element.firstElementChild;this._isScrollingOnIe="ltr"===this._direction?e.offsetX>=n.offsetWidth:e.offsetX<n.offsetLeft}if(t!==this.input.element){var r=t.closest("[data-button],[data-item],[data-choice]");r instanceof HTMLElement&&("button"in r.dataset?this._handleButtonAction(r):"item"in r.dataset?this._handleItemAction(r,e.shiftKey):"choice"in r.dataset&&this._handleChoiceAction(r)),e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target,n=this.containerOuter;n.element.contains(t)?this.dropdown.isActive||n.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),n.element.focus()):(n.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},e.prototype._onFocus=function(e){var t=e.target,n=this.containerOuter;if(t&&n.element.contains(t)){var r=t===this.input.element;this._isTextElement?r&&n.addFocusState():this._isSelectMultipleElement?r&&(this.showDropdown(!0),n.addFocusState()):(n.addFocusState(),r&&this.showDropdown(!0))}},e.prototype._onBlur=function(e){var t=e.target,n=this.containerOuter;t&&n.element.contains(t)&&!this._isScrollingOnIe?t===this.input.element?(n.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):t===this.containerOuter.element&&n.removeFocusState():(this._isScrollingOnIe=!1,this.input.element.focus())},e.prototype._onFormReset=function(){var e=this;this._store.withTxn((function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)}))},e.prototype._highlightChoice=function(e){void 0===e&&(e=null);var t=Array.from(this.dropdown.element.querySelectorAll(_P));if(t.length){var n=e,r=this.config.classNames.highlightedState;Array.from(this.dropdown.element.querySelectorAll(Jx(r))).forEach((function(e){eO(e,r),e.setAttribute("aria-selected","false")})),n?this._highlightPosition=t.indexOf(n):(n=t.length>this._highlightPosition?t[this._highlightPosition]:t[t.length-1])||(n=t[0]),Qx(n,r),n.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(kx,{el:n}),this.dropdown.isActive&&(this.input.setActiveDescendant(n.id),this.containerOuter.setActiveDescendant(n.id))}},e.prototype._addItem=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),!e.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(e.id),this._store.dispatch(function(e){return{type:fx,item:e}}(e)),t&&(this.passedElement.triggerEvent(gx,this._getChoiceForOutput(e)),n&&this.passedElement.triggerEvent(mx,this._getChoiceForOutput(e)))},e.prototype._removeItem=function(e){if(e.id){this._store.dispatch(zx(e));var t=this._notice;t&&t.type===mO&&this._clearNotice(),this.passedElement.triggerEvent(wx,this._getChoiceForOutput(e))}},e.prototype._addChoice=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),e.id)throw new TypeError("Can not re-add a choice which has already been added");var r=this.config;if(!this._isSelectElement&&r.duplicateItemsAllowed||!this._store.choices.find((function(t){return r.valueComparer(t.value,e.value)}))){this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(e.id);var i=r.prependValue,o=r.appendValue;i&&(e.value=i+e.value),o&&(e.value+=o.toString()),(i||o)&&e.element&&(e.element.value=e.value),this._clearNotice(),this._store.dispatch(function(e){return{type:ox,choice:e}}(e)),e.selected&&this._addItem(e,t,n)}},e.prototype._addGroup=function(e,t){var n=this;if(void 0===t&&(t=!0),e.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(function(e){return{type:cx,group:e}}(e)),e.choices&&(this._lastAddedGroupId++,e.id=this._lastAddedGroupId,e.choices.forEach((function(r){r.group=e,e.disabled&&(r.disabled=!0),n._addChoice(r,t)})))},e.prototype._createTemplates=function(){var e=this,t=this.config.callbackOnCreateTemplates,n={};"function"==typeof t&&(n=t.call(this,Yx,Wx,Zx));var r={};Object.keys(this._templates).forEach((function(t){r[t]=t in n?n[t].bind(e):e._templates[t].bind(e)})),this._templates=r},e.prototype._createElements=function(){var e=this._templates,t=this.config,n=this._isSelectOneElement,r=t.position,i=t.classNames,o=this._elementType;this.containerOuter=new rO({element:e.containerOuter(t,this._direction,this._isSelectElement,n,t.searchEnabled,o,t.labelId),classNames:i,type:o,position:r}),this.containerInner=new rO({element:e.containerInner(t),classNames:i,type:o,position:r}),this.input=new iO({element:e.input(t,this._placeholderValue),classNames:i,type:o,preventPaste:!t.paste}),this.choiceList=new oO({element:e.choiceList(t,n)}),this.itemList=new oO({element:e.itemList(t,n)}),this.dropdown=new nO({element:e.dropdown(t),classNames:i,type:o})},e.prototype._createStructure=function(){var e=this,t=e.containerInner,n=e.containerOuter,r=e.passedElement,i=this.dropdown.element;r.conceal(),t.wrap(r.element),n.wrap(t.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),n.element.appendChild(t.element),n.element.appendChild(i),t.element.appendChild(this.itemList.element),i.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&i.insertBefore(this.input.element,i.firstChild):t.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},e.prototype._initStore=function(){var e=this;this._store.subscribe(this._render).withTxn((function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)})),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},e.prototype._addPredefinedChoices=function(e,t,n){var r=this;(void 0===t&&(t=!1),void 0===n&&(n=!0),t)&&(-1===e.findIndex((function(e){return e.selected}))&&e.some((function(e){return!e.disabled&&!("choices"in e)&&(e.selected=!0,!0)})));e.forEach((function(e){"choices"in e?r._isSelectElement&&r._addGroup(e,n):r._addChoice(e,n)}))},e.prototype._findAndSelectChoiceByValue=function(e,t){var n=this;void 0===t&&(t=!1);var r=this._store.choices.find((function(t){return n.config.valueComparer(t.value,e)}));return!(!r||r.disabled||r.selected)&&(this._addItem(r,!0,t),!0)},e.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},e.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent){if(!this.initialised)throw new TypeError("".concat(e," called on a non-initialised instance of Choices"));if(!this.initialisedOK)throw new TypeError("".concat(e," called for an element which has multiple instances of Choices initialised on it"))}},e.version="11.0.3",e}();const xP=function(e){var t=document,n=e.container||t.createElement("div"),r=e.preventSubmit||0;n.id=n.id||"autocomplete-"+b();var i,o,a=n.style,s=e.debounceWaitMs||0,l=e.disableAutoSelect||!1,u=n.parentElement,c=[],f="",h=2,d=e.showOnFocus,p=0,v=!1,y=!1;if(void 0!==e.minLength&&(h=e.minLength),!e.input)throw new Error("input undefined");var m=e.input;function b(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function g(){var e=n.parentNode;e&&e.removeChild(n)}function w(){o&&window.clearTimeout(o)}function _(){return!!n.parentNode}function k(){p++,c=[],f="",i=void 0,m.setAttribute("aria-activedescendant",""),m.setAttribute("aria-expanded","false"),g()}function x(){n.textContent="",m.setAttribute("aria-activedescendant","");var r=function(e,n,r){var i=t.createElement("div");return i.textContent=e.label||"",i};e.render&&(r=e.render);var o=function(e,n){var r=t.createElement("div");return r.textContent=e,r};e.renderGroup&&(o=e.renderGroup);var s=t.createDocumentFragment(),l=b();if(c.forEach((function(t,a){if(t.group&&t.group!==l){l=t.group;var u=o(t.group,f);u&&(u.className+=" group",s.appendChild(u))}var c=r(t,f,a);c&&(c.id=n.id+"_"+a,c.setAttribute("role","option"),c.addEventListener("click",(function(n){y=!0;try{e.onSelect(t,m)}finally{y=!1}k(),n.preventDefault(),n.stopPropagation()})),t===i&&(c.className+=" selected",c.setAttribute("aria-selected","true"),m.setAttribute("aria-activedescendant",c.id)),s.appendChild(c))})),n.appendChild(s),c.length<1){if(!e.emptyMsg)return void k();var h=t.createElement("div");h.id=n.id+"_"+b(),h.className="empty",h.textContent=e.emptyMsg,n.appendChild(h),m.setAttribute("aria-activedescendant",h.id)}n.parentNode||(u||t.body).appendChild(n),function(){if(_()){m.setAttribute("aria-expanded","true"),a.height="auto",a.width=m.offsetWidth+"px";var r,i=0;o(),o(),e.customize&&r&&e.customize(m,r,n,i)}function o(){var e=t.documentElement,n=e.clientTop||t.body.clientTop||0,o=e.clientLeft||t.body.clientLeft||0,s=window.pageYOffset||e.scrollTop,l=window.pageXOffset||e.scrollLeft,u=(r=m.getBoundingClientRect()).top+m.offsetHeight+s-n,c=r.left+l-o;a.top=u+"px",a.left=c+"px",(i=window.innerHeight-(r.top+m.offsetHeight))<0&&(i=0),a.top=u+"px",a.bottom="",a.left=c+"px",a.maxHeight=i+"px"}}(),j()}function O(){_()&&x()}function P(){O()}function S(e){e.target!==n?O():e.preventDefault()}function E(){y||M(0)}function j(){var e=n.getElementsByClassName("selected");if(e.length>0){var t=e[0],r=t.previousElementSibling;if(r&&-1!==r.className.indexOf("group")&&!r.previousElementSibling&&(t=r),t.offsetTop<n.scrollTop)n.scrollTop=t.offsetTop;else{var i=t.offsetTop+t.offsetHeight,o=n.scrollTop+n.offsetHeight;i>o&&(n.scrollTop+=i-o)}}}function T(e){c.length>0&&(!function(e){var r=t.getElementById(n.id+"_"+e);r&&(r.classList.remove("selected"),r.removeAttribute("aria-selected"),m.removeAttribute("aria-activedescendant"))}(e),function(e){var r=t.getElementById(n.id+"_"+e);r&&(r.classList.add("selected"),r.setAttribute("aria-selected","true"),m.setAttribute("aria-activedescendant",r.id))}(c.indexOf(i)),j())}function D(e,t){var n,r=_();if("Escape"===t)k();else{if(!r||c.length<1)return;"ArrowUp"===t?(n=c.indexOf(i),i=-1===n?void 0:c[(n+c.length-1)%c.length],T(n)):function(){var e=c.indexOf(i);i=c.length<1?void 0:-1===e?c[0]:c[(e+1)%c.length],T(e)}()}e.preventDefault(),r&&e.stopPropagation()}function A(t){var n=t.key;switch(n){case"ArrowUp":case"ArrowDown":case"Escape":D(t,n);break;case"Enter":!function(t){if(i){2===r&&t.preventDefault(),y=!0;try{e.onSelect(i,m)}finally{y=!1}k()}1===r&&t.preventDefault()}(t)}}function C(){d&&M(1)}function M(e){m.value.length>=h||1===e?(w(),o=window.setTimeout((function(){return L(m.value,e,m.selectionStart||0)}),0===e||2===e?s:0)):k()}function L(t,n,r){if(!v){var o=++p;e.fetch(t,(function(e){p===o&&e&&(f=t,i=(c=e).length<1||l?void 0:c[0],x())}),n,r)}}function R(t){e.keyup?e.keyup({event:t,fetch:function(){return M(0)}}):_()||"ArrowDown"!==t.key||M(0)}function I(t){e.click&&e.click({event:t,fetch:function(){return M(2)}})}function N(){setTimeout((function(){t.activeElement!==m&&k()}),200)}return n.className=[n.className,"autocomplete",e.className||""].join(" ").trim(),n.setAttribute("role","listbox"),m.setAttribute("role","combobox"),m.setAttribute("aria-expanded","false"),m.setAttribute("aria-autocomplete","list"),m.setAttribute("aria-controls",n.id),m.setAttribute("aria-owns",n.id),m.setAttribute("aria-activedescendant",""),m.setAttribute("aria-haspopup","listbox"),a.position="absolute",n.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),n.addEventListener("focus",(function(){return m.focus()})),g(),m.addEventListener("keyup",R),m.addEventListener("click",I),m.addEventListener("keydown",A),m.addEventListener("input",E),m.addEventListener("blur",N),m.addEventListener("focus",C),window.addEventListener("resize",P),t.addEventListener("scroll",S,!0),{destroy:function(){m.removeEventListener("focus",C),m.removeEventListener("keyup",R),m.removeEventListener("click",I),m.removeEventListener("keydown",A),m.removeEventListener("input",E),m.removeEventListener("blur",N),window.removeEventListener("resize",P),t.removeEventListener("scroll",S,!0),m.removeAttribute("role"),m.removeAttribute("aria-expanded"),m.removeAttribute("aria-autocomplete"),m.removeAttribute("aria-controls"),m.removeAttribute("aria-activedescendant"),m.removeAttribute("aria-owns"),m.removeAttribute("aria-haspopup"),w(),k(),v=!0},fetch:function(){L(m.value,3,m.selectionStart||0)}}};function OP(e){return e[e.length-1]}function PP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){e.includes(t)||e.push(t)})),e}function SP(e,t){return e?e.split(t):[]}function EP(e,t,n){return(void 0===t||e>=t)&&(void 0===n||e<=n)}function jP(e,t,n){return e<t?t:e>n?n:e}function TP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=Object.keys(n).reduce((function(e,t){var i=n[t];return"function"==typeof i&&(i=i(r)),"".concat(e," ").concat(t,'="').concat(i,'"')}),e);i+="<".concat(o,"></").concat(e,">");var a=r+1;return a<t?TP(e,t,n,a,i):i}function DP(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function AP(e){return new Date(e).setHours(0,0,0,0)}function CP(){return(new Date).setHours(0,0,0,0)}function MP(){switch(arguments.length){case 0:return CP();case 1:return AP(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function LP(e,t){var n=new Date(e);return n.setDate(n.getDate()+t)}function RP(e,t){var n=new Date(e),r=n.getMonth()+t,i=r%12;i<0&&(i+=12);var o=n.setMonth(r);return n.getMonth()!==i?n.setDate(0):o}function IP(e,t){var n=new Date(e),r=n.getMonth(),i=n.setFullYear(n.getFullYear()+t);return 1===r&&2===n.getMonth()?n.setDate(0):i}function NP(e,t){return(e-t+7)%7}function BP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Date(e).getDay();return LP(e,NP(t,n)-NP(r,n))}function FP(e,t){return Math.round((e-t)/6048e5)+1}function zP(e){var t=BP(e,4,1);return FP(t,BP(new Date(t).setMonth(0,4),4,1))}function VP(e,t){var n=BP(new Date(e).setMonth(0,1),t,t),r=BP(e,t,t),i=FP(r,n);return i<53?i:r===BP(new Date(e).setDate(32),t,t)?1:i}function qP(e){return VP(e,0)}function HP(e){return VP(e,6)}function YP(e,t){var n=new Date(e).getFullYear();return Math.floor(n/t)*t}function UP(e,t,n){if(1!==t&&2!==t)return e;var r=new Date(e);return 1===t?n?r.setMonth(r.getMonth()+1,0):r.setDate(1):n?r.setFullYear(r.getFullYear()+1,0,0):r.setMonth(0,1),r.setHours(0,0,0,0)}var GP=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,XP=/[\s!-/:-@[-`{-~年月日]+/,WP={},$P={y:function(e,t){return new Date(e).setFullYear(parseInt(t,10))},m:function(e,t,n){var r=new Date(e),i=parseInt(t,10)-1;if(isNaN(i)){if(!t)return NaN;var o=t.toLowerCase(),a=function(e){return e.toLowerCase().startsWith(o)};if((i=n.monthsShort.findIndex(a))<0&&(i=n.months.findIndex(a)),i<0)return NaN}return r.setMonth(i),r.getMonth()!==ZP(i)?r.setDate(0):r.getTime()},d:function(e,t){return new Date(e).setDate(parseInt(t,10))}},KP={d:function(e){return e.getDate()},dd:function(e){return JP(e.getDate(),2)},D:function(e,t){return t.daysShort[e.getDay()]},DD:function(e,t){return t.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return JP(e.getMonth()+1,2)},M:function(e,t){return t.monthsShort[e.getMonth()]},MM:function(e,t){return t.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return JP(e.getFullYear(),2).slice(-2)},yyyy:function(e){return JP(e.getFullYear(),4)}};function ZP(e){return e>-1?e%12:ZP(e+12)}function JP(e,t){return e.toString().padStart(t,"0")}function QP(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in WP)return WP[e];var t=e.split(GP),n=e.match(new RegExp(GP,"g"));if(0===t.length||!n)throw new Error("Invalid date format.");var r=n.map((function(e){return KP[e]})),i=Object.keys($P).reduce((function(e,t){return n.find((function(e){return"D"!==e[0]&&e[0].toLowerCase()===t}))&&e.push(t),e}),[]);return WP[e]={parser:function(e,t){var r=e.split(XP).reduce((function(e,t,r){if(t.length>0&&n[r]){var i=n[r][0];"M"===i?e.m=t:"D"!==i&&(e[i]=t)}return e}),{});return i.reduce((function(e,n){var i=$P[n](e,r[n],t);return isNaN(i)?e:i}),CP())},formatter:function(e,n){return r.reduce((function(r,i,o){return r+"".concat(t[o]).concat(i(e,n))}),"")+OP(t)}}}function eS(e,t,n){if(e instanceof Date||"number"==typeof e){var r=AP(e);return isNaN(r)?void 0:r}if(e){if("today"===e)return CP();if(t&&t.toValue){var i=t.toValue(e,t,n);return isNaN(i)?void 0:AP(i)}return QP(t).parser(e,n)}}function tS(e,t,n){if(isNaN(e)||!e&&0!==e)return"";var r="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(r,t,n):QP(t).formatter(r,n)}var nS=document.createRange();function rS(e){return nS.createContextualFragment(e)}function iS(e){return e.parentElement||(e.parentNode instanceof ShadowRoot?e.parentNode.host:void 0)}function oS(e){return e.getRootNode().activeElement===e}function aS(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function sS(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function lS(e){e.firstChild&&(e.removeChild(e.firstChild),lS(e))}function uS(e){return function(e){if(Array.isArray(e))return e}(e)||hS(e)||fS(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cS(e){return function(e){if(Array.isArray(e))return dS(e)}(e)||hS(e)||fS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fS(e,t){if(e){if("string"==typeof e)return dS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dS(e,t):void 0}}function hS(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function dS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pS=new WeakMap,vS=EventTarget.prototype,yS=vS.addEventListener,mS=vS.removeEventListener;function bS(e,t){var n=pS.get(e);n||(n=[],pS.set(e,n)),t.forEach((function(e){yS.call.apply(yS,cS(e)),n.push(e)}))}if(!Event.prototype.composedPath){var gS=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.push(e),e.parentNode?t=e.parentNode:e.host?t=e.host:e.defaultView&&(t=e.defaultView),t?gS(t,n):n};Event.prototype.composedPath=function(){return gS(this.target)}}function wS(e,t,n){var r=uS(e),i=r[0],o=r.slice(1);return t(i)?i:i!==n&&"HTML"!==i.tagName&&0!==o.length?wS(o,t,n):void 0}function _S(e,t){var n="function"==typeof t?t:function(e){return e instanceof Element&&e.matches(t)};return wS(e.composedPath(),n,e.currentTarget)}const kS={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},xS={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0};function OS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return PS(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(null,arguments)}var ES=xS.language,jS=xS.format,TS=xS.weekStart;function DS(e,t){return e.length<6&&t>=0&&t<7?PP(e,t):e}function AS(e,t){switch(4===e?6===t?3:!t+1:e){case 1:return zP;case 2:return qP;case 3:return HP}}function CS(e,t,n){return t.weekStart=e,t.weekEnd=(e+6)%7,4===n&&(t.getWeekNumber=AS(4,e)),e}function MS(e,t,n,r){var i=eS(e,t,n);return void 0!==i?i:r}function LS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=parseInt(e,10);return r>=0&&r<=n?r:t}function RS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;t in e&&(n in e||(e[n]=r?r(e[t]):e[t]),delete e[t])}function IS(e,t){var n,r=SS({},e),i={},o=t.constructor.locales,a=!!t.rangeSideIndex,s=t.config||{},l=s.datesDisabled,u=s.format,c=s.language,f=s.locale,h=s.maxDate,d=s.maxView,p=s.minDate,v=s.pickLevel,y=s.startView,m=s.weekNumbers,b=s.weekStart;if((RS(r,"calendarWeeks","weekNumbers",(function(e){return e?1:0})),RS(r,"clearBtn","clearButton"),RS(r,"todayBtn","todayButton"),RS(r,"todayBtnMode","todayButtonMode"),r.language)&&(r.language!==c&&(o[r.language]?n=r.language:o[n=r.language.split("-")[0]]||(n=!1)),delete r.language,n)){c=i.language=n;var g=f||o[ES];f=SS({format:jS,weekStart:TS},o[ES]),c!==ES&&SS(f,o[c]),i.locale=f,u===g.format&&(u=i.format=f.format),b===g.weekStart&&(b=CS(f.weekStart,i,m))}if(r.format){var w="function"==typeof r.format.toDisplay,_="function"==typeof r.format.toValue,k=GP.test(r.format);(w&&_||k)&&(u=i.format=r.format),delete r.format}var x=v;"pickLevel"in r&&(x=LS(r.pickLevel,v,2),delete r.pickLevel),x!==v&&(x>v&&("minDate"in r||(r.minDate=p),"maxDate"in r||(r.maxDate=h)),l&&!r.datesDisabled&&(r.datesDisabled=[]),v=i.pickLevel=x);var O=p,P=h;if("minDate"in r){var S=MP(0,0,1);(O=null===r.minDate?S:MS(r.minDate,u,f,O))!==S&&(O=UP(O,v,!1)),delete r.minDate}if("maxDate"in r&&(void 0!==(P=null===r.maxDate?void 0:MS(r.maxDate,u,f,P))&&(P=UP(P,v,!0)),delete r.maxDate),P<O?(p=i.minDate=P,h=i.maxDate=O):(p!==O&&(p=i.minDate=O),h!==P&&(h=i.maxDate=P)),r.datesDisabled){var E=r.datesDisabled;if("function"==typeof E)i.datesDisabled=null,i.checkDisabled=function(e,t){return E(new Date(e),t,a)};else{var j=i.datesDisabled=E.reduce((function(e,t){var n=eS(t,u,f);return void 0!==n?PP(e,UP(n,v,a)):e}),[]);i.checkDisabled=function(e){return j.includes(e)}}delete r.datesDisabled}if("defaultViewDate"in r){var T=eS(r.defaultViewDate,u,f);void 0!==T&&(i.defaultViewDate=T),delete r.defaultViewDate}if("weekStart"in r){var D=Number(r.weekStart)%7;isNaN(D)||(b=CS(D,i,m)),delete r.weekStart}if(r.daysOfWeekDisabled&&(i.daysOfWeekDisabled=r.daysOfWeekDisabled.reduce(DS,[]),delete r.daysOfWeekDisabled),r.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=r.daysOfWeekHighlighted.reduce(DS,[]),delete r.daysOfWeekHighlighted),"weekNumbers"in r){var A=r.weekNumbers;if(A){var C="function"==typeof A?function(e,t){return A(new Date(e),t)}:AS(A=parseInt(A,10),b);C&&(m=i.weekNumbers=A,i.getWeekNumber=C)}else m=i.weekNumbers=0,i.getWeekNumber=null;delete r.weekNumbers}if("maxNumberOfDates"in r){var M=parseInt(r.maxNumberOfDates,10);M>=0&&(i.maxNumberOfDates=M,i.multidate=1!==M),delete r.maxNumberOfDates}r.dateDelimiter&&(i.dateDelimiter=String(r.dateDelimiter),delete r.dateDelimiter);var L=d;"maxView"in r&&(L=LS(r.maxView,d),delete r.maxView),(L=v>L?v:L)!==d&&(d=i.maxView=L);var R=y;if("startView"in r&&(R=LS(r.startView,R),delete r.startView),R<v?R=v:R>d&&(R=d),R!==y&&(i.startView=R),r.prevArrow){var I=rS(r.prevArrow);I.childNodes.length>0&&(i.prevArrow=I.childNodes),delete r.prevArrow}if(r.nextArrow){var N=rS(r.nextArrow);N.childNodes.length>0&&(i.nextArrow=N.childNodes),delete r.nextArrow}if("disableTouchKeyboard"in r&&(i.disableTouchKeyboard="ontouchstart"in document&&!!r.disableTouchKeyboard,delete r.disableTouchKeyboard),r.orientation){var B=r.orientation.toLowerCase().split(/\s+/g);i.orientation={x:B.find((function(e){return"left"===e||"right"===e}))||"auto",y:B.find((function(e){return"top"===e||"bottom"===e}))||"auto"},delete r.orientation}if("todayButtonMode"in r){switch(r.todayButtonMode){case 0:case 1:i.todayButtonMode=r.todayButtonMode}delete r.todayButtonMode}return Object.entries(r).forEach((function(e){var t=OS(e,2),n=t[0],r=t[1];void 0!==r&&n in xS&&(i[n]=r)})),i}var NS={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};var BS=function(e){return e.map((function(e){return'<button type="button" class="%buttonClass% '.concat(e,'" tabindex="-1"></button>')})).join("")};const FS=DP('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        '.concat(BS(["prev-button prev-btn","view-switch","next-button next-btn"]),'\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        ').concat(BS(["today-button today-btn","clear-button clear-btn"]),"\n      </div>\n    </div>\n  </div>\n</div>")),zS=DP('<div class="days">\n  <div class="days-of-week">'.concat(TP("span",7,{class:"dow"}),'</div>\n  <div class="datepicker-grid">').concat(TP("span",42),"</div>\n</div>")),VS=DP('<div class="week-numbers calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">'.concat(TP("span",6,{class:"week"}),"</div>\n</div>"));function qS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||YS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HS(e){return function(e){if(Array.isArray(e))return US(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||YS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YS(e,t){if(e){if("string"==typeof e)return US(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?US(e,t):void 0}}function US(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function GS(e){return GS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GS(e)}function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(null,arguments)}function WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$S(r.key),r)}}function $S(e){var t=function(e,t){if("object"!=GS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GS(t)?t:t+""}var KS=function(){return function(e,t,n){return t&&WS(e.prototype,t),n&&WS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),XS(this,n,{picker:t,element:rS('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!t.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}),[{key:"init",value:function(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}},{key:"prepareForRender",value:function(e,t,n){this.disabled=[];var r=this.picker;r.setViewSwitchLabel(e),r.setPrevButtonDisabled(t),r.setNextButtonDisabled(n)}},{key:"setDisabled",value:function(e,t){t.add("disabled"),PP(this.disabled,e)}},{key:"performBeforeHook",value:function(e,t){var n=this.beforeShow(new Date(t));switch(GS(n)){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){var r=e.classList;if(!1===n.enabled&&this.setDisabled(t,r),n.classes){var i=n.classes.split(/\s+/);r.add.apply(r,HS(i)),i.includes("disabled")&&this.setDisabled(t,r)}n.content&&function(e,t){lS(e),t instanceof DocumentFragment?e.appendChild(t):"string"==typeof t?e.appendChild(rS(t)):"function"==typeof t.forEach&&t.forEach((function(t){e.appendChild(t)}))}(e,n.content)}}},{key:"renderCell",value:function(e,t,n,r,i,o){var a=i.selected,s=i.range,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];e.textContent=t,this.isMinView&&(e.dataset.date=r);var u=e.classList;if(e.className="datepicker-cell ".concat(this.cellClass),n<this.first?u.add("prev"):n>this.last&&u.add("next"),u.add.apply(u,HS(l)),(o||this.checkDisabled(r,this.id))&&this.setDisabled(r,u),s){var c=qS(s,2),f=c[0],h=c[1];n>f&&n<h&&u.add("range"),n===f&&u.add("range-start"),n===h&&u.add("range-end")}a.includes(n)&&u.add("selected"),n===this.focused&&u.add("focused"),this.beforeShow&&this.performBeforeHook(e,r)}},{key:"refreshCell",value:function(e,t,n,r){var i=qS(r,2),o=i[0],a=i[1],s=e.classList;s.remove("range","range-start","range-end","selected","focused"),t>o&&t<a&&s.add("range"),t===o&&s.add("range-start"),t===a&&s.add("range-end"),n.includes(t)&&s.add("selected"),t===this.focused&&s.add("focused")}},{key:"changeFocusedCell",value:function(e){this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}])}();function ZS(e){return ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZS(e)}function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QS(r.key),r)}}function QS(e){var t=function(e,t){if("object"!=ZS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZS(t)?t:t+""}function eE(e,t,n){return t=rE(t),function(e,t){if(t&&("object"==ZS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tE()?Reflect.construct(t,n||[],rE(e).constructor):t.apply(e,n))}function tE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tE=function(){return!!e})()}function nE(){return nE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=rE(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nE.apply(null,arguments)}function rE(e){return rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rE(e)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iE(e,t)}var oE=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eE(this,t,[e,{id:0,name:"days",cellClass:"day"}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}(t,e),function(e,t,n){return t&&JS(e.prototype,t),n&&JS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"init",value:function(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=rS(zS).firstChild;this.dow=n.firstChild,this.grid=n.lastChild,this.element.appendChild(n)}!function(e,t,n,r){var i=nE(rE(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"init",this,3)([e])}},{key:"setOptions",value:function(e){var t,n=this;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){var r=this.locale=e.locale;this.dayNames=r.daysMin,this.switchLabelFormat=r.titleFormat,t=!0}if("beforeShowDay"in e&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){var i=rS(VS).firstChild;this.weekNumbers={element:i,dow:i.firstChild,weeks:i.lastChild},this.element.insertBefore(i,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(sS(this.dow),this.weekNumbers&&sS(this.weekNumbers.dow)):(aS(this.dow),this.weekNumbers&&aS(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach((function(e,t){var r=(n.weekStart+t)%7;e.textContent=n.dayNames[r],e.className=n.daysOfWeekDisabled.includes(r)?"dow disabled":"dow"}))}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=e.getFullYear(),n=e.getMonth(),r=MP(t,n,1),i=BP(r,this.weekStart,this.weekStart);this.first=r,this.last=MP(t,n+1,0),this.start=i,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,n=e.rangepicker;this.selected=t,n&&(this.range=n.dates)}},{key:"render",value:function(){var e=this;if(this.today=this.todayHighlight?CP():void 0,this.prepareForRender(tS(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){var t=this.weekStart,n=BP(this.first,t,t);Array.from(this.weekNumbers.weeks.children).forEach((function(r,i){var o=LP(n,7*i);r.textContent=e.getWeekNumber(o,t),i>3&&r.classList[o>e.last?"add":"remove"]("next")}))}Array.from(this.grid.children).forEach((function(t,n){var r=LP(e.start,n),i=new Date(r),o=i.getDay(),a=[];e.today===r&&a.push("today"),e.daysOfWeekHighlighted.includes(o)&&a.push("highlighted"),e.renderCell(t,i.getDate(),r,r,e,r<e.minDate||r>e.maxDate||e.daysOfWeekDisabled.includes(o),a)}))}},{key:"refresh",value:function(){var e=this,t=this.range||[];Array.from(this.grid.children).forEach((function(n){e.refreshCell(n,Number(n.dataset.date),e.selected,t)}))}},{key:"refreshFocus",value:function(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}])}(KS);function aE(e){return aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aE(e)}function sE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lE(r.key),r)}}function lE(e){var t=function(e,t){if("object"!=aE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aE(t)?t:t+""}function uE(e,t,n){return t=hE(t),function(e,t){if(t&&("object"==aE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cE()?Reflect.construct(t,n||[],hE(e).constructor):t.apply(e,n))}function cE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cE=function(){return!!e})()}function fE(){return fE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=hE(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fE.apply(null,arguments)}function hE(e){return hE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hE(e)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dE(e,t)}function pE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yE(e,t){if(e&&e[0]&&e[1]){var n=pE(e,2),r=pE(n[0],2),i=r[0],o=r[1],a=pE(n[1],2),s=a[0],l=a[1];if(!(i>t||s<t))return[i===t?o:-1,s===t?l:12]}}var mE=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uE(this,t,[e,{id:1,name:"months",cellClass:"month"}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}(t,e),function(e,t,n){return t&&sE(e.prototype,t),n&&sE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"init",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(rS(TP("span",12,{"data-month":function(e){return e}}))),this.first=0,this.last=11),function(e,t,n,r){var i=fE(hE(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"init",this,3)([e])}},{key:"setOptions",value:function(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if("maxDate"in e)if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var n=new Date(e.maxDate);this.maxYear=n.getFullYear(),this.maxMonth=n.getMonth(),this.maxDate=MP(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||null===e.datesDisabled?e.checkDisabled:function(){return!1}),"beforeShowMonth"in e&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,n=e.rangepicker;this.selected=t.reduce((function(e,t){var n=new Date(t),r=n.getFullYear(),i=n.getMonth();return void 0===e[r]?e[r]=[i]:PP(e[r],i),e}),{}),n&&n.dates&&(this.range=n.dates.map((function(e){var t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]})))}},{key:"render",value:function(){var e=this;this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);var t=this.selected[this.year]||[],n=this.year<this.minYear||this.year>this.maxYear,r=this.year===this.minYear,i=this.year===this.maxYear,o=yE(this.range,this.year);Array.from(this.grid.children).forEach((function(a,s){var l=UP(new Date(e.year,s,1),1,e.isRangeEnd);e.renderCell(a,e.monthNames[s],s,l,{selected:t,range:o},n||r&&s<e.minMonth||i&&s>e.maxMonth)}))}},{key:"refresh",value:function(){var e=this,t=this.selected[this.year]||[],n=yE(this.range,this.year)||[];Array.from(this.grid.children).forEach((function(r,i){e.refreshCell(r,i,t,n)}))}},{key:"refreshFocus",value:function(){this.changeFocusedCell(this.focused)}}])}(KS);function bE(e){return bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(e)}function gE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wE(r.key),r)}}function wE(e){var t=function(e,t){if("object"!=bE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bE(t)?t:t+""}function _E(e,t,n){return t=OE(t),function(e,t){if(t&&("object"==bE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kE()?Reflect.construct(t,n||[],OE(e).constructor):t.apply(e,n))}function kE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kE=function(){return!!e})()}function xE(){return xE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=OE(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xE.apply(null,arguments)}function OE(e){return OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OE(e)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PE(e,t)}function SE(e){return function(e){if(Array.isArray(e))return EE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return EE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EE(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jE=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_E(this,t,[e,n])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}(t,e),function(e,t,n){return t&&gE(e.prototype,t),n&&gE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"init",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(SE(this.cellClass).reduce((function(e,t,n){return e+(n?t:t.toUpperCase())}),"")),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(rS(TP("span",12)))),function(e,t,n,r){var i=xE(OE(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"init",this,3)([e])}},{key:"setOptions",value:function(e){if("minDate"in e&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=YP(e.minDate,this.step),this.minDate=MP(this.minYear,0,1))),"maxDate"in e&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=YP(e.maxDate,this.step),this.maxDate=MP(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||null===e.datesDisabled?e.checkDisabled:function(){return!1}),this.beforeShowOption in e){var t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=YP(e,this.navStep),n=t+9*this.step;this.first=t,this.last=n,this.start=t-this.step,this.focused=YP(e,this.step)}},{key:"updateSelection",value:function(){var e=this,t=this.picker.datepicker,n=t.dates,r=t.rangepicker;this.selected=n.reduce((function(t,n){return PP(t,YP(n,e.step))}),[]),r&&r.dates&&(this.range=r.dates.map((function(t){if(void 0!==t)return YP(t,e.step)})))}},{key:"render",value:function(){var e=this;this.prepareForRender("".concat(this.first,"-").concat(this.last),this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(t,n){var r=e.start+n*e.step,i=UP(new Date(r,0,1),2,e.isRangeEnd);t.dataset.year=r,e.renderCell(t,r,r,i,e,r<e.minYear||r>e.maxYear)}))}},{key:"refresh",value:function(){var e=this,t=this.range||[];Array.from(this.grid.children).forEach((function(n){e.refreshCell(n,Number(n.textContent),e.selected,t)}))}},{key:"refreshFocus",value:function(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}])}(KS);function TE(e,t){var n={bubbles:!0,cancelable:!0,detail:{date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e}};e.element.dispatchEvent(new CustomEvent(t,n))}function DE(e,t){var n,r=e.config,i=e.picker,o=i.currentView,a=i.viewDate;switch(o.id){case 0:n=RP(a,t);break;case 1:n=IP(a,t);break;default:n=IP(a,t*o.navStep)}n=jP(n,r.minDate,r.maxDate),i.changeFocus(n).render()}function AE(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function CE(e){e.setDate({clear:!0})}function ME(e){var t=CP();1===e.config.todayButtonMode?e.setDate(t,{forceRefresh:!0,viewDate:t}):e.setFocusedDate(t,!0)}function LE(e){var t=function(){e.config.updateOnBlur?e.update({revert:!0}):e.refresh("input"),e.hide()},n=e.element;oS(n)?n.addEventListener("blur",t,{once:!0}):t()}function RE(e,t){var n=e.picker,r=new Date(n.viewDate),i=n.currentView.id,o=1===i?RP(r,t-r.getMonth()):IP(r,t-r.getFullYear());n.changeFocus(o).changeView(i-1).render()}function IE(e){AE(e)}function NE(e){DE(e,-1)}function BE(e){DE(e,1)}function FE(e,t){var n=_S(t,".datepicker-cell");if(n&&!n.classList.contains("disabled")){var r=e.picker.currentView,i=r.id,o=r.isMinView,a=n.dataset;o?e.setDate(Number(a.date)):RE(e,Number(1===i?a.month:a.year))}}function zE(e){e.preventDefault()}function VE(e){return VE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VE(e)}function qE(e){return function(e){if(Array.isArray(e))return UE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||YE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||YE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YE(e,t){if(e){if("string"==typeof e)return UE(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UE(e,t):void 0}}function UE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function GE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XE(r.key),r)}}function XE(e){var t=function(e,t){if("object"!=VE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VE(t)?t:t+""}var WE=["left","top","right","bottom"].reduce((function(e,t){return e[t]="datepicker-orient-".concat(t),e}),{}),$E=function(e){return e?"".concat(e,"px"):e};function KE(e,t){if("title"in t&&(t.title?(e.controls.title.textContent=t.title,sS(e.controls.title)):(e.controls.title.textContent="",aS(e.controls.title))),t.prevArrow){var n=e.controls.prevButton;lS(n),t.prevArrow.forEach((function(e){n.appendChild(e.cloneNode(!0))}))}if(t.nextArrow){var r=e.controls.nextButton;lS(r),t.nextArrow.forEach((function(e){r.appendChild(e.cloneNode(!0))}))}if(t.locale&&(e.controls.todayButton.textContent=t.locale.today,e.controls.clearButton.textContent=t.locale.clear),"todayButton"in t&&(t.todayButton?sS(e.controls.todayButton):aS(e.controls.todayButton)),"minDate"in t||"maxDate"in t){var i=e.datepicker.config,o=i.minDate,a=i.maxDate;e.controls.todayButton.disabled=!EP(CP(),o,a)}"clearButton"in t&&(t.clearButton?sS(e.controls.clearButton):aS(e.controls.clearButton))}function ZE(e){var t=e.dates,n=e.config,r=e.rangeSideIndex;return jP(t.length>0?OP(t):UP(n.defaultViewDate,n.pickLevel,r),n.minDate,n.maxDate)}function JE(e,t){"_oldViewDate"in e||t===e.viewDate||(e._oldViewDate=e.viewDate),e.viewDate=t;var n=e.currentView,r=n.id,i=n.year,o=n.first,a=n.last,s=new Date(t).getFullYear();switch(r){case 0:return t<o||t>a;case 1:return s!==i;default:return s<o||s>a}}function QE(e){return window.getComputedStyle(e).direction}function ej(e){var t=iS(e);if(t!==document.body&&t)return"visible"!==window.getComputedStyle(t).overflow?t:ej(t)}var tj=function(){return function(e,t,n){return t&&GE(e.prototype,t),n&&GE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this.datepicker=t,r=n.config,i=n.inputField,o=FS.replace(/%buttonClass%/g,r.buttonClass),a=this.element=rS(o).firstChild,s=HE(a.firstChild.children,3),l=s[0],u=s[1],c=s[2],f=l.firstElementChild,h=HE(l.lastElementChild.children,3),d=h[0],p=h[1],v=h[2],y=HE(c.firstChild.children,2),m={title:f,prevButton:d,viewSwitch:p,nextButton:v,todayButton:y[0],clearButton:y[1]};this.main=u,this.controls=m;var b=i?"dropdown":"inline";a.classList.add("datepicker-".concat(b)),KE(this,r),this.viewDate=ZE(t),bS(t,[[a,"mousedown",zE],[u,"click",FE.bind(null,t)],[m.viewSwitch,"click",IE.bind(null,t)],[m.prevButton,"click",NE.bind(null,t)],[m.nextButton,"click",BE.bind(null,t)],[m.todayButton,"click",ME.bind(null,t)],[m.clearButton,"click",CE.bind(null,t)]]),this.views=[new oE(this),new mE(this),new jE(this,{id:2,name:"years",cellClass:"year",step:1}),new jE(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[r.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),r.container?r.container.appendChild(this.element):i.after(this.element)}),[{key:"setOptions",value:function(e){KE(this,e),this.views.forEach((function(t){t.init(e,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.element.remove()}},{key:"show",value:function(){if(!this.active){var e=this.datepicker,t=this.element,n=e.inputField;if(n){var r=QE(n);r!==QE(iS(t))?t.dir=r:t.dir&&t.removeAttribute("dir"),this.place(),t.classList.add("active"),e.config.disableTouchKeyboard&&n.blur()}else t.classList.add("active");this.active=!0,TE(e,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,TE(this.datepicker,"hide"))}},{key:"place",value:function(){var e=this.element,t=e.classList,n=e.style;n.display="block";var r=this.element.getBoundingClientRect(),i=r.width,o=r.height,a=this.element.offsetParent;n.display="";var s=this.datepicker,l=s.config,u=s.inputField,c=u.getBoundingClientRect(),f=c.left,h=c.top,d=c.right,p=c.bottom,v=c.width,y=c.height,m=l.orientation,b=m.x,g=m.y,w=f,_=h;if(a!==document.body&&a){var k=a.getBoundingClientRect();w-=k.left-a.scrollLeft,_-=k.top-a.scrollTop}else w+=window.scrollX,_+=window.scrollY;var x=ej(u),O=0,P=0,S=document.documentElement,E=S.clientWidth,j=S.clientHeight;if(x){var T=x.getBoundingClientRect();T.top>0&&(P=T.top),T.left>0&&(O=T.left),T.right<E&&(E=T.right),T.bottom<j&&(j=T.bottom)}var D=0;"auto"===b&&(f<O?(b="left",D=O-f):f+i>E?(b="right",E<d&&(D=E-d)):b="rtl"===QE(u)?d-i<O?"left":"right":"left"),"right"===b&&(w+=v-i),w+=D,"auto"===g&&(g=h-o>P&&p+o>j?"top":"bottom"),"top"===g?_-=o:_+=y,t.remove.apply(t,qE(Object.values(WE))),t.add(WE[b],WE[g]),n.left=$E(w),n.top=$E(_)}},{key:"setViewSwitchLabel",value:function(e){this.controls.viewSwitch.textContent=e}},{key:"setPrevButtonDisabled",value:function(e){this.controls.prevButton.disabled=e}},{key:"setNextButtonDisabled",value:function(e){this.controls.nextButton.disabled=e}},{key:"changeView",value:function(e){var t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}},{key:"changeFocus",value:function(e){return this._renderMethod=JE(this,e)?"render":"refreshFocus",this.views.forEach((function(e){e.updateFocus()})),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=void 0===e?ZE(this.datepicker):e;return this._renderMethod=JE(this,t)?"render":"refresh",this.views.forEach((function(e){e.updateFocus(),e.updateSelection()})),this}},{key:"render",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.currentView,n=this.datepicker,r=this._oldView,i=new Date(this._oldViewDate),o=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[o](),r&&(this.main.replaceChild(t.element,r.element),TE(n,"changeView")),!isNaN(i)){var a=new Date(this.viewDate);a.getFullYear()!==i.getFullYear()&&TE(n,"changeYear"),a.getMonth()!==i.getMonth()&&TE(n,"changeMonth")}}}])}();function nj(e,t,n,r,i,o){if(EP(e,i,o))return r(e)?nj(t(e,n),t,n,r,i,o):e}function rj(e,t,n){var r,i=e.picker,o=i.currentView,a=o.step||1,s=i.viewDate;switch(o.id){case 0:s=LP(s,n?7*t:t),r=LP;break;case 1:s=RP(s,n?4*t:t),r=RP;break;default:s=IP(s,t*(n?4:1)*a),r=IP}void 0!==(s=nj(s,r,t<0?-a:a,(function(e){return o.disabled.includes(e)}),o.minDate,o.maxDate))&&i.changeFocus(s).render()}function ij(e,t){var n=e.config,r=e.picker,i=e.editMode,o=r.active,a=t.key,s=t.altKey,l=t.shiftKey,u=t.ctrlKey||t.metaKey,c=function(){t.preventDefault(),t.stopPropagation()};if("Tab"!==a)if("Enter"!==a){var f,h=n.shortcutKeys,d={key:a,ctrlOrMetaKey:u,altKey:s,shiftKey:l},p=Object.keys(h).find((function(e){var t=h[e];return!Object.keys(t).find((function(e){return t[e]!==d[e]}))}));if(p)if("toggle"===p?f=p:i?"exitEditMode"===p&&(f=p):o?"hide"===p?f=p:"prevButton"===p?f=[DE,[e,-1]]:"nextButton"===p?f=[DE,[e,1]]:"viewSwitch"===p?f=[AE,[e]]:n.clearButton&&"clearButton"===p?f=[CE,[e]]:n.todayButton&&"todayButton"===p&&(f=[ME,[e]]):"show"===p&&(f=p),f)return Array.isArray(f)?f[0].apply(null,f[1]):e[f](),void c();if(o&&!i){var v=function(n,r){l||u||s?e.enterEditMode():(rj(e,n,r),t.preventDefault())};"ArrowLeft"===a?v(-1,!1):"ArrowRight"===a?v(1,!1):"ArrowUp"===a?v(-1,!0):"ArrowDown"===a?v(1,!0):("Backspace"===a||"Delete"===a||a&&1===a.length&&!u)&&e.enterEditMode()}}else if(o)if(i)e.exitEditMode({update:!0,autohide:n.autohide});else{var y=r.currentView;y.isMinView?e.setDate(r.viewDate):(r.changeView(y.id-1).render(),c())}else e.update();else LE(e)}function oj(e){e.config.showOnFocus&&!e._showing&&e.show()}function aj(e,t){var n=t.target;(e.picker.active||e.config.showOnClick)&&(n._active=oS(n),n._clicking=setTimeout((function(){delete n._active,delete n._clicking}),2e3))}function sj(e,t){var n=t.target;n._clicking&&(clearTimeout(n._clicking),delete n._clicking,n._active&&e.enterEditMode(),delete n._active,e.config.showOnClick&&e.show())}function lj(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function uj(e,t){var n=e.element,r=e.picker;if(r.active||oS(n)){var i=r.element;_S(t,(function(e){return e===n||e===i}))||LE(e)}}function cj(e){return cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cj(e)}function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fj.apply(null,arguments)}function hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dj(r.key),r)}}function dj(e){var t=function(e,t){if("object"!=cj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cj(t)?t:t+""}function pj(e,t){return e.map((function(e){return tS(e,t.format,t.locale)})).join(t.dateDelimiter)}function vj(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===t.length)return n?[]:void 0;var r=e.config,i=e.dates,o=e.rangeSideIndex,a=r.pickLevel,s=r.maxNumberOfDates,l=t.reduce((function(e,t){var n=eS(t,r.format,r.locale);return void 0===n||!EP(n=UP(n,a,o),r.minDate,r.maxDate)||e.includes(n)||r.checkDisabled(n,a)||!(a>0)&&r.daysOfWeekDisabled.includes(new Date(n).getDay())||e.push(n),e}),[]);return 0!==l.length?(r.multidate&&!n&&(l=l.reduce((function(e,t){return i.includes(t)||e.push(t),e}),i.filter((function(e){return!l.includes(e)})))),s&&l.length>s?l.slice(-1*s):l):void 0}function yj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=e.config,o=e.picker,a=e.inputField;if(2&t){var s=o.active?i.pickLevel:i.startView;o.update(r).changeView(s).render(n)}1&t&&a&&(a.value=pj(e.dates,i))}function mj(e,t,n){var r=e.config,i=n.clear,o=n.render,a=n.autohide,s=n.revert,l=n.forceRefresh,u=n.viewDate;void 0===o&&(o=!0),o?void 0===a&&(a=r.autohide):a=l=!1,u=eS(u,r.format,r.locale);var c=vj(e,t,i);(c||s)&&(c&&c.toString()!==e.dates.toString()?(e.dates=c,yj(e,o?3:1,!0,u),TE(e,"changeDate")):yj(e,l?3:1,!0,u),a&&e.hide())}function bj(e,t){return t?function(n){return tS(n,t,e.config.locale)}:function(e){return new Date(e)}}var gj=function(){return function(e,t,n){return t&&hj(e.prototype,t),n&&hj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.datepicker=this,this.element=t,this.dates=[];var i,o=this.config=fj({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:null,defaultViewDate:CP(),maxDate:void 0,minDate:void 0},IS(xS,this));if("INPUT"===t.tagName?((i=this.inputField=t).classList.add("datepicker-input"),n.container&&(o.container=n.container instanceof HTMLElement?n.container:document.querySelector(n.container))):o.container=t,r){var a=r.inputs.indexOf(i),s=r.datepickers;if(a<0||a>1||!Array.isArray(s))throw Error("Invalid rangepicker object.");s[a]=this,this.rangepicker=r,this.rangeSideIndex=a}this._options=n,fj(o,IS(n,this)),o.shortcutKeys=function(e){return Object.keys(NS).reduce((function(t,n){var r=void 0===e[n]?NS[n]:e[n],i=r&&r.key;if(!i||"string"!=typeof i)return t;var o={key:i,ctrlOrMetaKey:!!(r.ctrlOrMetaKey||r.ctrlKey||r.metaKey)};return i.length>1&&(o.altKey=!!r.altKey,o.shiftKey=!!r.shiftKey),t[n]=o,t}),{})}(n.shortcutKeys||{});var l=SP(t.value||t.dataset.date,o.dateDelimiter);delete t.dataset.date;var u=vj(this,l);u&&u.length>0&&(this.dates=u),i&&(i.value=pj(this.dates,o));var c=this.picker=new tj(this),f=[t,"keydown",ij.bind(null,this)];i?bS(this,[f,[i,"focus",oj.bind(null,this)],[i,"mousedown",aj.bind(null,this)],[i,"click",sj.bind(null,this)],[i,"paste",lj.bind(null,this)],[document,"mousedown",uj.bind(null,this)],[window,"resize",c.place.bind(c)]]):(bS(this,[f]),this.show())}),[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(e){var t=IS(e,this);fj(this._options,e),fj(this.config,t),this.picker.setOptions(t),yj(this,3)}},{key:"show",value:function(){if(this.inputField){var e=this.config,t=this.inputField;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;oS(t)||e.disableTouchKeyboard||(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"toggle",value:function(){this.picker.active?this.inputField&&this.picker.hide():this.show()}},{key:"destroy",value:function(){var e,t;this.hide(),e=this,(t=pS.get(e))&&(t.forEach((function(e){mS.call.apply(mS,cS(e))})),pS.delete(e)),this.picker.detach();var n=this.element;return n.classList.remove("datepicker-input"),delete n.datepicker,this}},{key:"getDate",value:function(){var e=bj(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0);return this.config.multidate?this.dates.map(e):this.dates.length>0?e(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[].concat(t),i={},o=OP(t);!o||"object"!==cj(o)||Array.isArray(o)||o instanceof Date||fj(i,r.pop()),mj(this,Array.isArray(r[0])?r[0]:r,i)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.inputField){var t=fj(e||{},{clear:!0,render:!0,viewDate:void 0});mj(this,SP(this.inputField.value,this.config.dateDelimiter),t)}}},{key:"getFocusedDate",value:function(){return bj(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)(this.picker.viewDate)}},{key:"setFocusedDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.config,r=this.picker,i=this.active,o=this.rangeSideIndex,a=n.pickLevel,s=eS(e,n.format,n.locale);void 0!==s&&(r.changeFocus(UP(s,a,o)),i&&t&&r.changeView(a),r.render())}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"string"!=typeof e&&(t=e,e=void 0),yj(this,"picker"===e?2:"input"===e?1:3,!t)}},{key:"enterEditMode",value:function(){var e=this.inputField;e&&!e.readOnly&&this.picker.active&&!this.editMode&&(this.editMode=!0,e.classList.add("in-edit"))}},{key:"exitEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.inputField&&this.editMode){var t=fj({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}}}],[{key:"formatDate",value:function(e,t,n){return tS(e,t,n&&kS[n]||kS.en)}},{key:"parseDate",value:function(e,t,n){return eS(e,t,n&&kS[n]||kS.en)}},{key:"locales",get:function(){return kS}}])}();function wj(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function _j(e){return _j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_j(e)}function kj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xj(r.key),r)}}function xj(e){var t=function(e,t){if("object"!=_j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_j(t)?t:t+""}var Oj=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}return function(e,t,n){return t&&kj(e.prototype,t),n&&kj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"value",get:function(){return this._value/100}},{key:"percent",get:function(){return this._value}},{key:"toString",value:function(){return this._value+"%"}},{key:"interpolate",value:function(e,t){return e+this.value*(t-e)}}],[{key:"normalize",value:function(t,n,r){return t instanceof e?t:new e(n===r?0:100*Math.min(Math.max(1/(r-n)*(t-n),0),1))}}])}();function Pj(e){return new Oj(e)}var Sj=Pj(0),Ej=Pj(100),jj=Pj(50);function Tj(e){return e instanceof Oj}function Dj(e){return Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dj(e)}function Aj(e){return Number(e)!==e}function Cj(e){return{}.toString.call(e)}function Mj(e){if(!e)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed")}function Lj(e){if(null!=e&&!zj(e)){var t=Number(e);return Aj(t)&&Fj(e)&&""!=e?Lj(e.replace(/[^0-9.\-]+/g,"")):t}return e}function Rj(e){if(Bj(e))return new Date(e);if(zj(e))return new Date(e);var t=Number(e);return zj(t)?new Date(t):new Date(e)}function Ij(e){if(Aj(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(0===e&&1/e==-1/0)return"-0";var t=e<0;e=Math.abs(e);var n,r=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+e),i=r[1],o=r[2]||"";if(void 0===r[3])n=""===o?i:i+"."+o;else{var a=+r[3];if(e<1){n="0."+Nj("0",a-1)+i+o}else{var s=a-o.length;n=0===s?i+o:s<0?i+o.slice(0,s)+"."+o.slice(s):i+o+Nj("0",s)}}return t?"-"+n:n}function Nj(e,t){return new Array(t+1).join(e)}function Bj(e){return"[object Date]"===Cj(e)}function Fj(e){return"string"==typeof e}function zj(e){return"number"==typeof e&&Number(e)==e}function Vj(e){return"object"===Dj(e)&&null!==e}function qj(e){return Array.isArray(e)}var Hj="__§§§__",Yj="__§§§§__";function Uj(e,t){for(var n=e.length,r=0;r<n;++r)if(e[r]===t)return r;return-1}function Gj(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r]))return!0;return!1}function Xj(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t(e[i],i);return r}function Wj(e,t){for(var n=e.length,r=0;r<n;++r)t(e[r],r)}function $j(e,t){for(var n=e.length;n>0;)t(e[--n],n)}function Kj(e,t){for(var n=e.length,r=0;r<n&&t(e[r],r);++r);}function Zj(e,t){for(var n=e.length,r=t;r<n;++r)e[r-t]=e[r];e.length=n-t}function Jj(e){var t=e.length;return t?e[t-1]:void 0}function Qj(e){return e[0]}function eT(e,t,n){n=Math.max(0,Math.min(n,e.length)),e.splice(n,0,t)}function tT(e,t,n){rT(e,t),eT(e,t,n)}function nT(e,t){for(var n=t.length,r=0;r<n;++r)e.push(t[r])}function rT(e,t){for(var n=!1,r=0;;){if(-1===(r=e.indexOf(t,r)))return n;n=!0,e.splice(r,1)}}function iT(e,t){var n=e.indexOf(t);return-1!==n&&(e.splice(n,1),!0)}function oT(e,t,n){var r=Uj(e,t);-1!==r&&pT(e,r),null==n?e.push(t):dT(e,n,t)}function aT(e,t,n){zj(n)?0===n?e.unshift(t):e.splice(n,0,t):e.push(t)}function sT(e,t){-1===e.indexOf(t)&&e.push(t)}function lT(e,t,n){var r=e.indexOf(t);-1!==r&&e.splice(r,1),zj(n)?e.splice(n,0,t):e.push(t)}function uT(e){return Array.isArray(e)?e:[e]}function cT(e,t){return-1!==Uj(e,t)}function fT(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function hT(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=new Array(n-t),i=t;i<n;++i)r[i-t]=e[i];return r}function dT(e,t,n){e.splice(t,0,n)}function pT(e,t){e.splice(t,1)}function vT(e,t){for(var n=e.length,r=0;r<n;++r)if(t(e[r],r))return r;return-1}function yT(e,t){for(var n=e.length;n>0;)if(t(e[--n],n))return n;return-1}function mT(e,t){var n=vT(e,t);if(-1!==n)return e[n]}function bT(e,t){var n=yT(e,t);if(-1!==n)return e[n]}function gT(e,t){for(var n=e.length,r=0;r<n;++r){var i=t(e[r],r);if(void 0!==i)return i}}function wT(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t}function _T(e,t){for(var n=0,r=e.length,i=!1;n<r;){var o=n+r>>1,a=t(e[o]);a<0?n=o+1:0===a?(i=!0,n=o+1):r=o}return{found:i,index:i?n-1:n}}function kT(e,t){for(var n=0,r=e.length,i=!1;n<r;){var o=n+r>>1,a=t(e[o]);a<0?n=o+1:0===a?(i=!0,r=o):r=o}return{found:i,index:n}}function xT(e,t){for(var n=e.length;n>0;)t(e[--n])||e.splice(n,1)}function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OT.apply(null,arguments)}function PT(e){return Object.keys(e)}function ST(e,t){return PT(e).sort(t)}function ET(e){return OT({},e)}function jT(e,t){PT(e).forEach((function(n){t(n,e[n])}))}function TT(e,t){for(var n in e)if(AT(e,n)&&!t(n,e[n]))break}function DT(e,t,n){Wj(ST(e,n),(function(n){t(n,e[n])}))}function AT(e,t){return{}.hasOwnProperty.call(e,t)}function CT(e,t){return jT(e,(function(e,n){null!=n&&null==t[e]&&(t[e]=n)})),t}function MT(e){return MT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MT(e)}function LT(e,t,n){return t=IT(t),function(e,t){if(t&&("object"==MT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RT()?Reflect.construct(t,n||[],IT(e).constructor):t.apply(e,n))}function RT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RT=function(){return!!e})()}function IT(e){return IT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IT(e)}function NT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BT(e,t)}function BT(e,t){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BT(e,t)}function FT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qT(r.key),r)}}function VT(e,t,n){return t&&zT(e.prototype,t),n&&zT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qT(e){var t=function(e,t){if("object"!=MT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MT(t)?t:t+""}var HT,YT=function(){return VT((function e(){FT(this,e),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}),[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}}])}(),UT=function(){return VT((function e(t){FT(this,e),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=t}),[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}}])}(),GT=function(e){function t(){var e;return FT(this,t),e=LT(this,t,arguments),Object.defineProperty(e,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return NT(t,e),VT(t,[{key:"_dispose",value:function(){Wj(this._disposers,(function(e){e.dispose()}))}}])}(YT),XT=function(e){function t(e){var n;return FT(this,t),n=LT(this,t),Object.defineProperty(n,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._disposers=e,n}return NT(t,e),VT(t,[{key:"_dispose",value:function(){Wj(this._disposers,(function(e){e.dispose()}))}},{key:"disposers",get:function(){return this._disposers}}])}(YT),WT=function(e){function t(){var e;return FT(this,t),e=LT(this,t,arguments),Object.defineProperty(e,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return NT(t,e),VT(t,[{key:"_dispose",value:function(){null!=this._disposer&&(this._disposer.dispose(),this._disposer=void 0)}},{key:"get",value:function(){return this._value}},{key:"set",value:function(e,t){null!=this._disposer&&this._disposer.dispose(),this._disposer=t,this._value=e}},{key:"reset",value:function(){this.set(void 0,void 0)}}])}(YT),$T=function(e){function t(){var e;return FT(this,t),e=LT(this,t,arguments),Object.defineProperty(e,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return NT(t,e),VT(t,[{key:"increment",value:function(){var e=this;return++this._counter,new UT((function(){--e._counter,0===e._counter&&e.dispose()}))}}])}(UT);function KT(e){return KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KT(e)}function ZT(e){return function(e){if(Array.isArray(e))return JT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return JT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JT(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function QT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nD(r.key),r)}}function tD(e,t,n){return t&&eD(e.prototype,t),n&&eD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nD(e){var t=function(e,t){if("object"!=KT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KT(t)?t:t+""}function rD(e,t,n){return t=oD(t),function(e,t){if(t&&("object"==KT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iD()?Reflect.construct(t,n||[],oD(e).constructor):t.apply(e,n))}function iD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(iD=function(){return!!e})()}function oD(e){return oD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oD(e)}function aD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sD(e,t)}function sD(e,t){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sD(e,t)}function lD(e){if("loading"!==document.readyState)e();else{var t=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}}function uD(e){e.parentNode&&e.parentNode.removeChild(e)}function cD(e,t,n,r){return e.addEventListener(t,n,r||!1),new UT((function(){e.removeEventListener(t,n,r||!1)}))}function fD(e){return cD(window,"resize",(function(t){e()}))}function hD(e){switch(e){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function dD(e){return e.pointerId||0}function pD(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var e=document.createElement("button");e.style.position="fixed",e.style.top="0px",e.style.left="-10000px",document.body.appendChild(e),e.focus(),e.blur(),document.body.removeChild(e)}}function vD(e){e&&e.focus()}function yD(e){if(hD("pointerevents"))return e;if(hD("touchevents"))switch(e){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerleave":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(hD("mouseevents"))switch(e){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return e}function mD(e){if("undefined"!=typeof Touch&&e instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&e instanceof PointerEvent&&null!=e.pointerType)switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(null!=e.type&&e.type.match(/^mouse/))return!1;return!0}function bD(e,t,n){e.style[t]=n}function gD(e,t){return e.style[t]}function wD(e){if(e.composedPath){var t=e.composedPath();return 0===t.length?null:t[0]}return e.target}function _D(e,t){for(var n=t;;){if(e===n)return!0;if(null===n.parentNode){if(null==n.host)return!1;n=n.host}else n=n.parentNode}}function kD(e,t){return e.target&&_D(t.root.dom,e.target)}function xD(e,t){e.style.pointerEvents=t?"auto":"none"}function OD(e){if(void 0!==e.key)return e.key;switch(e.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+e.keyCode}function PD(e){for(var t=e;;){if(null===t.parentNode)return null!=t.host?t:null;t=t.parentNode}}function SD(e,t){var n=e.cssRules.length;return e.insertRule(t+"{}",n),e.cssRules[n]}var ED=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";QT(this,t),i=rD(this,t),Object.defineProperty(i,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i._root=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null===e){if(null==HT){var n=document.createElement("style");n.type="text/css",""!=t&&n.setAttribute("nonce",t),document.head.appendChild(n),HT=n.sheet}return HT}var r=document.createElement("style");return r.type="text/css",""!=t&&r.setAttribute("nonce",t),e.appendChild(r),r.sheet}(e,o);try{i._rule=SD(i._root,n)}catch(e){i._rule=SD(i._root,":not(*)")}return jT(r,(function(e,t){i.setStyle(e,t)})),i}return aD(t,e),tD(t,[{key:"selector",get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e}},{key:"_dispose",value:function(){var e=Uj(this._root.cssRules,this._rule);if(-1===e)throw new Error("Could not dispose StyleRule");this._root.deleteRule(e)}},{key:"_setVendorPrefixName",value:function(e,t){var n=this._rule.style;n.setProperty("-webkit-"+e,t,""),n.setProperty("-moz-"+e,t,""),n.setProperty("-ms-"+e,t,""),n.setProperty("-o-"+e,t,""),n.setProperty(e,t,"")}},{key:"setStyle",value:function(e,t){"transition"===e?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")}}])}(YT),jD=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return QT(this,t),r=rD(this,t),Object.defineProperty(r,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r._element=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement("style");return r.type="text/css",""!=n&&r.setAttribute("nonce",n),r.textContent=t,null===e?document.head.appendChild(r):e.appendChild(r),r}(e,n,i),r}return aD(t,e),tD(t,[{key:"_dispose",value:function(){this._element.parentNode&&this._element.parentNode.removeChild(this._element)}}])}(YT);function TD(e,t){if(e)if(e.classList){Wj(t.split(" "),(function(t){e.classList.add(t)}))}else{var n=e.getAttribute("class");n?e.setAttribute("class",n.split(" ").filter((function(e){return e!==t})).join(" ")+" "+t):e.setAttribute("class",t)}}function DD(e,t){if(e)if(e.classList)e.classList.remove(t);else{var n=e.getAttribute("class");n&&e.setAttribute("class",n.split(" ").filter((function(e){return e!==t})).join(" "))}}function AD(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function CD(){return AD()?1:void 0}function MD(e,t){return zj(e)?e:null!=e&&zj(e.value)&&zj(t)?t*e.value:0}function LD(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function RD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"string"!=typeof e&&(e=e.toString()),t>e.length?Array(t-e.length+1).join(n)+e:e}function ID(e){return e.replace(/^[\s]*/,"")}function ND(e){return e.replace(/[\s]*$/,"")}function BD(e){return ID(ND(e))}function FD(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...";if(e.length>t){for(var i=t-1;i>=0&&e.charAt(i).match(/\w/);)i--;return i>=0&&0==n?e.substring(0,i+1)+"...":e.substring(0,t)+r}return e}function zD(e){if(void 0===e)return"string";var t=(e=(e=(e=e.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return t?t[1]:"number"===e?"number":"date"===e?"date":"duration"===e?"duration":e.match(/[#0]/)?"number":e.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function VD(e){return e.replace(/\/(date|number|duration)$/i,"")}function qD(e){return e?e.replace(/<[^>]*>/g,""):e}function HD(e){return e?qD((""+e).replace(/[\n\r]+/g,". ")):e}function YD(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function UD(e){for(var t="",n=0;n<e.length;n++){var r=e.charAt(n);r.toUpperCase()==r&&0!=n&&(t+=" "),t+=r}return t}function GD(e){var t=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,n=/([^اأدذرزو]*[اأدذرزو])/gi,r=e.split(/(\s+)/),i=[];return r.forEach((function(e){if(e.match(/^\s+$/))(e=" ")&&(e="  "),i.push(e);else if(t.test(e)){var r=e.split(n).filter((function(e){return""!==e}));i=i.concat(r)}else i=i.concat(ZT(e))})),i}function XD(e){var t=new Date(e.getFullYear(),0,0),n=e.getTime()-t.getTime()+60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3;return Math.floor(n/864e5)}function WD(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);var r=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-r.getTime())/864e5+1)/7)}function $D(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;return t.setUTCDate(t.getUTCDate()+4-n),new Date(Date.UTC(t.getUTCFullYear(),0,1)).getFullYear()}function KD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=WD(new Date(e.getFullYear(),e.getMonth(),1),t),r=WD(e,t);return 1==r&&(r=53),r-n+1}function ZD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Date(t,0,4,0,0,0,0);return r&&i.setUTCFullYear(t),7*e+n-((i.getDay()||7)+3)}function JD(e,t){return e>12?e-=12:0===e&&(e=12),null!=t?e+(t-1):e}function QD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>4?arguments[4]:void 0;if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])return t?"Coordinated Universal Time":"UTC";if(r){var i=e.toLocaleString("en-US",{timeZone:r});return BD(e.toLocaleString("en-US",{timeZone:r,timeZoneName:t?"long":"short"}).substr(i.length))}var o=e.toLocaleString("UTC"),a=e.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(o.length);return!1===n&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),BD(a)}function eA(e){var t=new Date(Date.UTC(2012,0,1,0,0,0,0)),n=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-n.getTime())/6e4*-1}function tA(e){return e.charAt(0).toUpperCase()+e.slice(1)}function nA(e){var t,n,r,i=e.h,o=e.s,a=e.l;if(0==o)t=n=r=a;else{var s=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=a<.5?a*(1+o):a+o-a*o,u=2*a-l;t=s(u,l,i+1/3),n=s(u,l,i),r=s(u,l,i-1/3)}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*r)}}function rA(e){var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),a=0,s=0,l=(i+o)/2;if(i===o)a=s=0;else{var u=i-o;switch(s=l>.5?u/(2-i-o):u/(i+o),i){case t:a=(n-r)/u+(n<r?6:0);break;case n:a=(r-t)/u+2;break;case r:a=(t-n)/u+4}a/=6}return{h:a,s,l}}function iA(e){var t=e.v*(1-e.s/2),n=0===t||1===t?0:(e.v-t)/Math.min(t,1-t);return{h:e.h,s:n,l:t,a:e.a}}function oA(e){var t=e.l+e.s*Math.min(e.l,1-e.l),n=0===t?0:2*(1-e.l/t);return{h:e.h,s:n,v:t,a:e.a}}function aA(e,t){return e?{r:Math.max(0,Math.min(255,e.r+sA(e.r,t))),g:Math.max(0,Math.min(255,e.g+sA(e.g,t))),b:Math.max(0,Math.min(255,e.b+sA(e.b,t))),a:e.a}:e}function sA(e,t){var n=t>0?255-e:e;return Math.round(n*t)}function lA(e,t){if(e){var n=sA(Math.min(Math.max(e.r,e.g,e.b),230),t);return{r:Math.max(0,Math.min(255,Math.round(e.r+n))),g:Math.max(0,Math.min(255,Math.round(e.g+n))),b:Math.max(0,Math.min(255,Math.round(e.b+n))),a:e.a}}return e}function uA(e,t){return Math.round(255*t)}function cA(e){return(299*e.r+587*e.g+114*e.b)/1e3>=128}function fA(e,t){if(void 0===e||1==t)return e;var n=rA(e);return n.s=t,nA(n)}function hA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{r:255,g:255,b:255},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:255,g:255,b:255},r=t,i=n;return cA(n)&&(r=n,i=t),cA(e)?i:r}function dA(e,t){return e||(e=[]),[].concat(ZT(e),ZT(t)).filter((function(e,t,n){return n.indexOf(e)===t}))}function pA(e,t){return!!t&&(e.left==t.left&&(e.right==t.right&&(e.top==t.top&&e.bottom==t.bottom)))}function vA(e){return vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vA(e)}function yA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mA(r.key),r)}}function mA(e){var t=function(e,t){if("object"!=vA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vA(t)?t:t+""}function bA(e){return"#"===e[0]&&(e=e.substr(1)),3==e.length&&(e=e[0].repeat(2)+e[1].repeat(2)+e[2].repeat(2)),parseInt(e,16)}function gA(e){return _A.fromAny(e)}var wA,_A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|t}return function(e,t,n){return t&&yA(e.prototype,t),n&&yA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"hex",get:function(){return this._hex}},{key:"r",get:function(){return this._hex>>>16}},{key:"g",get:function(){return this._hex>>8&255}},{key:"b",get:function(){return 255&this._hex}},{key:"toCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}},{key:"toCSSHex",value:function(){return"#"+RD(this.r.toString(16),2)+RD(this.g.toString(16),2)+RD(this.b.toString(16),2)}},{key:"toHSL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return rA({r:this.r,g:this.g,b:this.b,a:e})}},{key:"toString",value:function(){return this.toCSSHex()}}],[{key:"fromHSL",value:function(e,t,n){var r=nA({h:e,s:t,l:n});return this.fromRGB(r.r,r.g,r.b)}},{key:"fromHex",value:function(t){return new e(t)}},{key:"fromRGB",value:function(t,n,r){return new e((0|r)+(n<<8)+(t<<16))}},{key:"fromString",value:function(t){return new e(bA(t))}},{key:"fromCSS",value:function(t){return new e(function(e){var t=(e=e.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(!(t=e.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return 0;for(var n="",r=1;r<=3;r++){var i=parseInt(t[r]).toString(16);1==i.length&&(i="0"+i),n+=i}return bA(n)}(t))}},{key:"fromAny",value:function(t){if(Fj(t)){if("#"==t[0])return e.fromString(t);if("rgb"==t.substr(0,3))return e.fromCSS(t)}else{if(zj(t))return e.fromHex(t);if(t instanceof e)return e.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}},{key:"alternative",value:function(e,t,n){var r=hA({r:e.r,g:e.g,b:e.b},t?{r:t.r,g:t.g,b:t.b}:void 0,n?{r:n.r,g:n.g,b:n.b}:void 0);return this.fromRGB(r.r,r.g,r.b)}},{key:"interpolate",value:function(t,n,r){if("hsl"==(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb")){var i=n.toHSL(),o=r.toHSL();return e.fromHSL(PA(t,i.h,o.h),PA(t,i.s,o.s),PA(t,i.l,o.l))}return e.fromRGB(PA(t,n.r,r.r),PA(t,n.g,r.g),PA(t,n.b,r.b))}},{key:"lighten",value:function(t,n){var r=aA({r:t.r,g:t.g,b:t.b},n);return e.fromRGB(r.r,r.g,r.b)}},{key:"brighten",value:function(t,n){var r=lA({r:t.r,g:t.g,b:t.b},n);return e.fromRGB(r.r,r.g,r.b)}},{key:"saturate",value:function(t,n){var r=fA({r:t.r,g:t.g,b:t.b},n);return e.fromRGB(r.r,r.g,r.b)}}])}();function kA(e){return kA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kA(e)}function xA(){xA=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==kA(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(kA(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function OA(e){return wj(this,void 0,void 0,xA().mark((function t(){var n;return xA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=5;break}return n=[],jT(e,(function(e,t){n.push(t.waitForStop())})),t.next=5,Promise.all(n);case 5:case"end":return t.stop()}}),t)})))}function PA(e,t,n){return t+e*(n-t)}function SA(e,t,n){return e>=1?n:t}function EA(e,t,n){return new Oj(PA(e,t.percent,n.percent))}function jA(e,t,n){return _A.interpolate(e,t,n)}!function(e){e[e.Stopped=0]="Stopped",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused"}(wA||(wA={}));function TA(e){return TA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TA(e)}function DA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MA(r.key),r)}}function CA(e,t,n){return t&&AA(e.prototype,t),n&&AA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MA(e){var t=function(e,t){if("object"!=TA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TA(t)?t:t+""}var LA=function(){return CA((function e(){DA(this,e),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}),[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){if(!this._disposed){this._disposed=!0;var e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{Wj(e,(function(e){e.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}}},{key:"hasListeners",value:function(){return 0!==this._listeners.length}},{key:"hasListenersByType",value:function(e){return Gj(this._listeners,(function(t){return(null===t.type||t.type===e)&&!t.killed}))}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1}},{key:"enableType",value:function(e){delete this._disabled[e]}},{key:"disableType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;this._disabled[e]=t}},{key:"_removeListener",value:function(e){if(0===this._iterating){var t=this._listeners.indexOf(e);if(-1===t)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1)}else this._killed.push(e)}},{key:"_removeExistingListener",value:function(e,t,n,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(i){i.once!==e||i.type!==t||void 0!==n&&i.callback!==n||i.context!==r||i.disposer.dispose()}))}},{key:"isEnabled",value:function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&void 0===this._disabled[e]}},{key:"removeType",value:function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(t){t.type===e&&t.disposer.dispose()}))}},{key:"has",value:function(e,t,n){return-1!==vT(this._listeners,(function(r){return!0!==r.once&&r.type===e&&(void 0===t||r.callback===t)&&r.context===n}))}},{key:"_shouldDispatch",value:function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");var t=this._disabled[e];return zj(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}},{key:"_eachListener",value:function(e){var t=this;++this._iterating;try{Wj(this._listeners,e)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(Wj(this._killed,(function(e){t._removeListener(e)})),this._killed.length=0)}}},{key:"dispatch",value:function(e,t){this._shouldDispatch(e)&&this._eachListener((function(n){n.killed||null!==n.type&&n.type!==e||n.dispatch(e,t)}))}},{key:"_on",value:function(e,t,n,r,i,o){var a=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,n,r);var s={type:t,callback:n,context:r,shouldClone:i,dispatch:o,killed:!1,once:e,disposer:new UT((function(){s.killed=!0,a._removeListener(s)}))};return this._listeners.push(s),s}},{key:"onAll",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._on(!1,null,e,t,n,(function(n,r){return e.call(t,r)})).disposer}},{key:"on",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this._on(!1,e,t,n,r,(function(e,r){return t.call(n,r)})).disposer}},{key:"once",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this._on(!0,e,t,n,r,(function(e,r){i.disposer.dispose(),t.call(n,r)}));return i.disposer}},{key:"off",value:function(e,t,n){this._removeExistingListener(!1,e,t,n)}},{key:"copyFrom",value:function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");var n=[];return Wj(e._listeners,(function(e){!e.killed&&e.shouldClone&&(null===e.type?n.push(t.onAll(e.callback,e.context)):e.once?n.push(t.once(e.type,e.callback,e.context)):n.push(t.on(e.type,e.callback,e.context)))})),new XT(n)}}])}();function RA(e){return RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RA(e)}function IA(e,t,n){return t=zA(t),function(e,t){if(t&&("object"==RA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NA()?Reflect.construct(t,n||[],zA(e).constructor):t.apply(e,n))}function NA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NA=function(){return!!e})()}function BA(e,t,n,r){var i=FA(zA(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function FA(){return FA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=zA(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},FA.apply(null,arguments)}function zA(e){return zA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zA(e)}function VA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qA(e,t)}function HA(){HA=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==RA(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(RA(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function YA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XA(r.key),r)}}function GA(e,t,n){return t&&UA(e.prototype,t),n&&UA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XA(e){var t=function(e,t){if("object"!=RA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RA(t)?t:t+""}function WA(e,t){if(!(e>=0&&e<t))throw new Error("Index out of bounds: "+e)}var $A=function(){return GA((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];YA(this,e),Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new LA}),this._values=t}),[{key:"values",get:function(){return this._values}},{key:"contains",value:function(e){return-1!==this._values.indexOf(e)}},{key:"removeValue",value:function(e){for(var t=0,n=this._values.length;t<n;)this._values[t]===e?(this.removeIndex(t),--n):++t}},{key:"indexOf",value:function(e){return Uj(this._values,e)}},{key:"length",get:function(){return this._values.length}},{key:"hasIndex",value:function(e){return e>=0&&e<this._values.length}},{key:"getIndex",value:function(e){return this._values[e]}},{key:"_onPush",value:function(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}},{key:"_onInsertIndex",value:function(e,t){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t})}},{key:"_onSetIndex",value:function(e,t,n){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:t,newValue:n})}},{key:"_onRemoveIndex",value:function(e,t){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t})}},{key:"_onMoveIndex",value:function(e,t,n){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:t,value:n})}},{key:"_onClear",value:function(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}},{key:"setIndex",value:function(e,t){WA(e,this._values.length);var n=this._values[e];return n!==t&&(this._values[e]=t,this._onSetIndex(e,n,t)),n}},{key:"insertIndex",value:function(e,t){return WA(e,this._values.length+1),dT(this._values,e,t),this._onInsertIndex(e,t),t}},{key:"swap",value:function(e,t){var n=this._values.length;if(WA(e,n),WA(t,n),e!==t){var r=this._values[e],i=this._values[t];this._values[e]=i,this._onSetIndex(e,r,i),this._values[t]=r,this._onSetIndex(t,i,r)}}},{key:"removeIndex",value:function(e){WA(e,this._values.length);var t=this._values[e];return pT(this._values,e),this._onRemoveIndex(e,t),t}},{key:"moveValue",value:function(e,t){var n=this.indexOf(e);if(-1!==n)if(pT(this._values,n),null==t){var r=this._values.length;this._values.push(e),this._onMoveIndex(n,r,e)}else dT(this._values,t,e),this._onMoveIndex(n,t,e);else null==t?(this._values.push(e),this._onPush(e)):(dT(this._values,t,e),this._onInsertIndex(t,e));return e}},{key:"push",value:function(e){return this._values.push(e),this._onPush(e),e}},{key:"unshift",value:function(e){return this.insertIndex(0,e),e}},{key:"pushAll",value:function(e){var t=this;Wj(e,(function(e){t.push(e)}))}},{key:"copyFrom",value:function(e){this.pushAll(e._values)}},{key:"pop",value:function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}},{key:"shift",value:function(){return this._values.length?this.removeIndex(0):void 0}},{key:"setAll",value:function(e){var t=this,n=this._values;this._values=[],this._onClear(n),Wj(e,(function(e){t._values.push(e),t._onPush(e)}))}},{key:"clear",value:function(){this.setAll([])}},{key:Symbol.iterator,value:HA().mark((function e(){var t,n;return HA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._values.length,n=0;case 2:if(!(n<t)){e.next=8;break}return e.next=5,this._values[n];case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"each",value:function(e){Wj(this._values,e)}},{key:"eachReverse",value:function(e){$j(this._values,e)}}])}(),KA=function(e){function t(){var e;return YA(this,t),e=IA(this,t,arguments),Object.defineProperty(e,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return VA(t,e),GA(t,[{key:"_onSetIndex",value:function(e,n,r){this.autoDispose&&n.dispose(),BA(t,"_onSetIndex",this,3)([e,n,r])}},{key:"_onRemoveIndex",value:function(e,n){this.autoDispose&&n.dispose(),BA(t,"_onRemoveIndex",this,3)([e,n])}},{key:"_onClear",value:function(e){this.autoDispose&&Wj(e,(function(e){e.dispose()})),BA(t,"_onClear",this,3)([e])}},{key:"_dispose",value:function(){this.autoDispose&&Wj(this._values,(function(e){e.dispose()}))}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}}])}($A),ZA=function(e){function t(e,n){var r;return YA(this,t),r=IA(this,t),Object.defineProperty(r,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.template=e,r.make=n,r}return VA(t,e),GA(t,[{key:"_dispose",value:function(){BA(t,"_dispose",this,3)([]),this.autoDispose&&this.template.dispose()}}])}(KA);function JA(e){return JA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JA(e)}function QA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eC(r.key),r)}}function eC(e){var t=function(e,t){if("object"!=JA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JA(t)?t:t+""}function tC(e,t,n){return t=rC(t),function(e,t){if(t&&("object"==JA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nC()?Reflect.construct(t,n||[],rC(e).constructor):t.apply(e,n))}function nC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nC=function(){return!!e})()}function rC(e){return rC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rC(e)}function iC(e,t){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iC(e,t)}var oC=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=tC(this,t),Object.defineProperty(n,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._container=e,n._events=n.events.onAll((function(e){if("clear"===e.type)Wj(e.oldValues,(function(e){n._onRemoved(e)}));else if("push"===e.type)n._onInserted(e.newValue);else if("setIndex"===e.type)n._onRemoved(e.oldValue),n._onInserted(e.newValue,e.index);else if("insertIndex"===e.type)n._onInserted(e.newValue,e.index);else if("removeIndex"===e.type)n._onRemoved(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");n._onRemoved(e.value),n._onInserted(e.value,e.newIndex)}})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iC(e,t)}(t,e),function(e,t,n){return t&&QA(e.prototype,t),n&&QA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_onInserted",value:function(e,t){e._setParent(this._container,!0);var n=this._container._childrenDisplay;void 0===t?n.addChild(e._display):n.addChildAt(e._display,t)}},{key:"_onRemoved",value:function(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._events.dispose(),Wj(this.values,(function(e){e.dispose()})))}}])}($A),aC=Math.PI,sC=aC/2,lC=aC/180,uC=180/aC;function cC(e,t,n){if(!zj(t)||t<=0){var r=Math.round(e);return n&&r-e==.5&&r--,r}var i=Math.pow(10,t);return Math.round(e*i)/i}function fC(e,t){if(!zj(t)||t<=0)return Math.ceil(e);var n=Math.pow(10,t);return Math.ceil(e*n)/n}function hC(e,t,n,r,i){return{x:(-e.x+t.x/r+n.x)*r,y:(-e.y+t.y/i+n.y)*i}}function dC(e,t,n,r,i){return{x:(e.x+t.x/r-n.x)*r,y:(e.y+t.y/i-n.y)*i}}function pC(e,t,n){return Math.min(Math.max(e,t),n)}function vC(e){return Math.sin(lC*e)}function yC(e){return Math.tan(lC*e)}function mC(e){return Math.cos(lC*e)}function bC(e){return(e%=360)<0&&(e+=360),e}function gC(e,t,n,r,i){var o=Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(wC(i,n)),u.push(wC(i,r));for(var c=Math.min(90*Math.floor(n/90),90*Math.floor(r/90)),f=Math.max(90*Math.ceil(n/90),90*Math.ceil(r/90)),h=c;h<=f;h+=90)h>=n&&h<=r&&u.push(wC(i,h));for(var d=0;d<u.length;d++){var p=u[d];p.x<o&&(o=p.x),p.y<a&&(a=p.y),p.x>s&&(s=p.x),p.y>l&&(l=p.y)}return{left:e+o,top:t+a,right:e+s,bottom:t+l}}function wC(e,t){return{x:e*mC(t),y:e*vC(t)}}function _C(e){var t=e.length;if(t>0){var n=e[0],r=n.left,i=n.top,o=n.right,a=n.bottom;if(t>1)for(var s=1;s<t;s++)n=e[s],r=Math.min(n.left,r),o=Math.max(n.right,o),i=Math.min(n.top,i),a=Math.max(n.bottom,a);return{left:r,right:o,top:i,bottom:a}}return{left:0,right:0,top:0,bottom:0}}function kC(e,t,n){if(t>n){var r=t;t=n,n=r}e=bC(e);var i=(t-bC(t))/360;return e<t&&(e+=360*(i+1)),e>n&&(e-360>t?e-=360:e=e<t+(n-t)/2+180?n:t),e<t&&(e=e>t+(n-t)/2-180?t:n),e}function xC(e,t){return e.x>=t.left&&e.y>=t.top&&e.x<=t.right&&e.y<=t.bottom}function OC(e,t){t||(t={x:2*e.x,y:2*e.y});var n=t.x-e.x,r=t.y-e.y,i=Math.atan2(r,n)*uC;return i<0&&(i+=360),bC(i)}function PC(e,t,n,r){return{x:(1-r)*(1-r)*e.x+2*(1-r)*r*n.x+r*r*t.x,y:(1-r)*(1-r)*e.y+2*(1-r)*r*n.y+r*r*t.y}}function SC(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function EC(e,t){return e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}))}function jC(e,t){var n=e.left<t.right&&e.right>t.left,r=e.top<t.bottom&&e.bottom>t.top;return n&&r}function TC(e,t,n,r,i,o,a,s,l){for(var u=i+.01,c=s*lC,f=[];u<n+a;){var h=o;if(h/2>u&&(h=2*u),(c+=2*Math.asin(h/2/u))*uC>l+(n-i)/a*360)break;var d=c*uC,p={x:e+u*Math.cos(c),y:t+u*r/n*Math.sin(c)};f.push(p),u=i+d/360*a}return f.shift(),f}function DC(e,t){return Math.hypot(e.x-t.x,e.y-t.y)<=e.radius+t.radius}function AC(e){return e}function CC(e){return e*e}function MC(e){return e*e*e}function LC(e,t){return Math.pow(e,t)}function RC(e){return Math.pow(2,10*e-10)}function IC(e){return 1-Math.cos(e*sC)}function NC(e){return 1-Math.sqrt(1-e*e)}function BC(e){return function(t){return e(t<.5?2*t:2*(1-t))}}function FC(e){return function(t){return 1-e(1-t)}}function zC(e){return function(t){return t<=.5?e(2*t)/2:1-e(2*(1-t))/2}}var VC=4/11,qC=6/11,HC=8/11,YC=3/4,UC=9/11,GC=10/11,XC=15/16,WC=21/22,$C=63/64,KC=1/VC/VC;function ZC(e){return 1-function(e){return e<VC?KC*e*e:e<HC?KC*(e-=qC)*e+YC:e<GC?KC*(e-=UC)*e+XC:KC*(e-=WC)*e+$C}(1-e)}var JC=2*Math.PI,QC=1,eM=.3/JC,tM=Math.asin(1/QC)*eM;function nM(e){var t=e;return QC*Math.pow(2,10*--t)*Math.sin((tM-t)/eM)}function rM(e){return rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rM(e)}function iM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sM(r.key),r)}}function aM(e,t,n){return t&&oM(e.prototype,t),n&&oM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sM(e){var t=function(e,t){if("object"!=rM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rM(t)?t:t+""}var lM=function(){return aM((function e(t,n){var r=this;iM(this,e),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t,this._settings=n,jT(n,(function(e){r._userSettings[e]=!0}))}),[{key:"get",value:function(e,t){var n=this._settings[e];return void 0!==n?n:t}},{key:"setRaw",value:function(e,t){this._settings[e]=t}},{key:"set",value:function(e,t){this._userSettings[e]=!0,this.setRaw(e,t)}},{key:"remove",value:function(e){delete this._userSettings[e],delete this._settings[e]}},{key:"setAll",value:function(e){var t=this;PT(e).forEach((function(n){t.set(n,e[n])}))}},{key:"_eachSetting",value:function(e){jT(this._settings,e)}},{key:"apply",value:function(){var e=this,t={stateAnimationEasing:!0,stateAnimationDuration:!0},n=this._entity.states.lookup("default");this._eachSetting((function(r,i){t[r]||(t[r]=!0,e!==n&&(r in n._settings||(n._settings[r]=e._entity.get(r))),e._entity.set(r,i))}))}},{key:"applyAnimate",value:function(e){var t=this;null==e&&(e=this._settings.stateAnimationDuration),null==e&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));var n=this._settings.stateAnimationEasing;null==n&&(n=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",MC)));var r=this._entity.states.lookup("default"),i={stateAnimationEasing:!0,stateAnimationDuration:!0},o={};return this._eachSetting((function(a,s){if(!i[a]){i[a]=!0,t!=r&&(a in r._settings||(r._settings[a]=t._entity.get(a)));var l=t._entity.animate({key:a,to:s,duration:e,easing:n});l&&(o[a]=l)}})),o}}])}(),uM=function(){return aM((function e(t){iM(this,e),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=t}),[{key:"lookup",value:function(e){return this._states[e]}},{key:"create",value:function(e,t){var n=this._states[e];if(n)return n.setAll(t),n;var r=new lM(this._entity,t);return this._states[e]=r,r}},{key:"remove",value:function(e){delete this._states[e]}},{key:"apply",value:function(e){var t=this._states[e];t&&t.apply(),this._entity._applyState(e)}},{key:"applyAnimate",value:function(e,t){var n,r=this._states[e];return r&&(n=r.applyAnimate(t)),this._entity._applyStateAnimated(e,t),n}}])}();function cM(e){return cM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cM(e)}function fM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dM(r.key),r)}}function hM(e,t,n){return t&&fM(e.prototype,t),n&&fM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dM(e){var t=function(e,t){if("object"!=cM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cM(t)?t:t+""}var pM=hM((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.10.11"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})})),vM=new pM;function yM(e){vM.licenses.push(e)}function mM(){for(var e;e=vM.rootElements.pop();)e.dispose()}function bM(e){var t;return vM.rootElements.forEach((function(n){n.dom.id==e&&(t=n)})),t}function gM(e,t){return e===t?0:e<t?-1:1}function wM(e,t,n){for(var r=e.length,i=t.length,o=Math.min(r,i),a=0;a<o;++a){var s=n(e[a],t[a]);if(0!==s)return s}return gM(r,i)}function _M(e,t){return e===t?0:e<t?-1:1}function kM(e){return kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kM(e)}function xM(e,t,n){return t=EM(t),function(e,t){if(t&&("object"==kM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OM()?Reflect.construct(t,n||[],EM(e).constructor):t.apply(e,n))}function OM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OM=function(){return!!e})()}function PM(e,t,n,r){var i=SM(EM(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function SM(){return SM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=EM(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},SM.apply(null,arguments)}function EM(e){return EM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EM(e)}function jM(e,t){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jM(e,t)}function TM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CM(r.key),r)}}function AM(e,t,n){return t&&DM(e.prototype,t),n&&DM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CM(e){var t=function(e,t){if("object"!=kM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kM(t)?t:t+""}var MM=function(){return AM((function e(t){TM(this,e),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t}),[{key:"add",value:function(e,t){var n=this,r=this._callbacks[e];return void 0===r&&(r=this._callbacks[e]=[]),r.push(t),this._entity._markDirtyKey(e),new UT((function(){iT(r,t)&&n._entity._markDirtyKey(e)}))}},{key:"remove",value:function(e){var t=this._callbacks[e];void 0!==t&&(delete this._callbacks[e],0!==t.length&&this._entity._markDirtyKey(e))}},{key:"enable",value:function(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}},{key:"disable",value:function(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}},{key:"fold",value:function(e,t){if(!this._disabled[e]){var n=this._callbacks[e];if(void 0!==n)for(var r=0,i=n.length;r<i;++r)t=n[r](t,this._entity,e)}return t}}])}(),LM=function(){return AM((function e(t,n,r,i,o,a,s){TM(this,e),Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new LA}),this._animation=t,this._from=n,this._to=r,this._duration=i,this._easing=o,this._loops=a,this._interpolate=function(e,t){return"number"==typeof e&&"number"==typeof t?PA:e instanceof Oj&&t instanceof Oj?EA:e instanceof _A&&t instanceof _A?jA:SA}(n,r),this._oldTime=s}),[{key:"to",get:function(){return this._to}},{key:"from",get:function(){return this._from}},{key:"playing",get:function(){return this._playing}},{key:"stopped",get:function(){return this._stopped}},{key:"stop",value:function(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}},{key:"pause",value:function(){this._playing=!1,this._oldTime=null}},{key:"play",value:function(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}},{key:"percentage",get:function(){return this._time/this._duration}},{key:"waitForStop",value:function(){var e=this;return new Promise((function(t,n){if(e._stopped)t();else var r=e.events.on("stopped",(function(){r.dispose(),t()}))}))}},{key:"_checkEnded",value:function(){return!(this._loops>1)||(--this._loops,!1)}},{key:"_run",value:function(e){null!==this._oldTime&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}},{key:"_reset",value:function(e){this._oldTime=e,this._time=0}},{key:"_value",value:function(e){return this._interpolate(this._easing(e),this._from,this._to)}}])}(),RM=0,IM=function(){return AM((function e(t){TM(this,e),Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++RM}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=t}),[{key:"_checkDirty",value:function(){var e=this;PT(this._settings).forEach((function(t){e._userProperties[t]=!0,e._markDirtyKey(t)}))}},{key:"resetUserSettings",value:function(){this._userProperties={}}},{key:"_runAnimation",value:function(e){var t=this,n=wA.Stopped;if(!this.isDisposed()){var r=!1,i=!1;jT(this._animatingSettings,(function(n,o){if(o.stopped)t._stopAnimation(n);else if(o.playing){o._run(e);var a=o.percentage;a>=1?o._checkEnded()?t.set(n,o._value(1)):(r=!0,o._reset(e),t._set(n,o._value(1))):(r=!0,t._set(n,o._value(a)))}else i=!0})),jT(this._animatingPrivateSettings,(function(n,o){if(o.stopped)t._stopAnimationPrivate(n);else if(o.playing){o._run(e);var a=o.percentage;a>=1?o._checkEnded()?t.setPrivate(n,o._value(1)):(r=!0,o._reset(e),t._setPrivate(n,o._value(1))):(r=!0,t._setPrivate(n,o._value(a)))}else i=!0})),r?n=wA.Playing:i&&(n=wA.Paused)}return n}},{key:"_markDirtyKey",value:function(e){this.markDirty()}},{key:"_markDirtyPrivateKey",value:function(e){this.markDirty()}},{key:"on",value:function(e,t){var n=this,r=this._settingEvents[e];return void 0===r&&(r=this._settingEvents[e]=[]),r.push(t),new UT((function(){iT(r,t),0===r.length&&delete n._settingEvents[e]}))}},{key:"off",value:function(e,t){var n=this._settingEvents[e];void 0!==n&&void 0!==t?iT(n,t):delete this._settingEvents[e]}},{key:"onPrivate",value:function(e,t){var n=this,r=this._privateSettingEvents[e];return void 0===r&&(r=this._privateSettingEvents[e]=[]),r.push(t),new UT((function(){iT(r,t),0===r.length&&delete n._privateSettingEvents[e]}))}},{key:"offPrivate",value:function(e,t){var n=this._privateSettingEvents[e];void 0!==n&&void 0!==t?iT(n,t):delete this._privateSettingEvents[e]}},{key:"getRaw",value:function(e,t){var n=this._settings[e];return void 0!==n?n:t}},{key:"has",value:function(e){return e in this._settings}},{key:"get",value:function(e,t){return this.getRaw(e,t)}},{key:"_sendKeyEvent",value:function(e,t){var n=this,r=this._settingEvents[e];void 0!==r&&Wj(r,(function(r){r(t,n,e)}))}},{key:"_sendPrivateKeyEvent",value:function(e,t){var n=this,r=this._privateSettingEvents[e];void 0!==r&&Wj(r,(function(r){r(t,n,e)}))}},{key:"_setRaw",value:function(e,t,n){this._prevSettings[e]=t,this._sendKeyEvent(e,n)}},{key:"setRaw",value:function(e,t){var n=this._settings[e];this._settings[e]=t,n!==t&&this._setRaw(e,n,t)}},{key:"_set",value:function(e,t){var n=this._settings[e];this._settings[e]=t,n!==t&&(this._setRaw(e,n,t),this._markDirtyKey(e))}},{key:"_stopAnimation",value:function(e){var t=this._animatingSettings[e];t&&(delete this._animatingSettings[e],t.stop())}},{key:"set",value:function(e,t){return this._set(e,t),this._stopAnimation(e),t}},{key:"remove",value:function(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}},{key:"removeAll",value:function(){var e=this;Wj(PT(this._settings),(function(t){e.remove(t)}))}},{key:"getPrivate",value:function(e,t){var n=this._privateSettings[e];return void 0!==n?n:t}},{key:"_setPrivateRaw",value:function(e,t,n){this._prevPrivateSettings[e]=t,this._sendPrivateKeyEvent(e,n)}},{key:"setPrivateRaw",value:function(e,t){var n=this._privateSettings[e];this._privateSettings[e]=t,n!==t&&this._setPrivateRaw(e,n,t)}},{key:"_setPrivate",value:function(e,t){var n=this._privateSettings[e];this._privateSettings[e]=t,n!==t&&(this._setPrivateRaw(e,n,t),this._markDirtyPrivateKey(e))}},{key:"_stopAnimationPrivate",value:function(e){var t=this._animatingPrivateSettings[e];t&&(t.stop(),delete this._animatingPrivateSettings[e])}},{key:"setPrivate",value:function(e,t){return this._setPrivate(e,t),this._stopAnimationPrivate(e),t}},{key:"removePrivate",value:function(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}},{key:"setAll",value:function(e){var t=this;jT(e,(function(e,n){t.set(e,n)}))}},{key:"animate",value:function(e){var t=e.key,n=e.to,r=e.duration||0,i=e.loops||1,o=void 0===e.from?this.get(t):e.from,a=void 0===e.easing?AC:e.easing;if(0===r)this.set(t,n);else{if(void 0!==o&&o!==n){this.set(t,o);var s=this._animatingSettings[t]=new LM(this,o,n,r,a,i,this._animationTime());return this._startAnimation(),s}this.set(t,n)}var l=new LM(this,o,n,r,a,i,null);return l.stop(),l}},{key:"animatePrivate",value:function(e){var t=e.key,n=e.to,r=e.duration||0,i=e.loops||1,o=void 0===e.from?this.getPrivate(t):e.from,a=void 0===e.easing?AC:e.easing;if(0===r)this.setPrivate(t,n);else{if(void 0!==o&&o!==n){this.setPrivate(t,o);var s=this._animatingPrivateSettings[t]=new LM(this,o,n,r,a,i,this._animationTime());return this._startAnimation(),s}this.setPrivate(t,n)}var l=new LM(this,o,n,r,a,i,null);return l.stop(),l}},{key:"_dispose",value:function(){}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}])}(),NM=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(TM(this,t),i=xM(this,t,[n]),Object.defineProperty(i,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"states",{enumerable:!0,configurable:!0,writable:!0,value:new uM(i)}),Object.defineProperty(i,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new MM(i)}),Object.defineProperty(i,"events",{enumerable:!0,configurable:!0,writable:!0,value:i._createEvents()}),Object.defineProperty(i,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(i,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(i,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(i,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(i,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(i,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");return i._root=e,i._internalTemplates=o,n.id&&i._registerId(n.id),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jM(e,t)}(t,e),AM(t,[{key:"_afterNew",value:function(){var e=this;this._checkDirty();var t=!1,n=this._template;n&&(t=!0,n._setObjectTemplate(this)),Wj(this._internalTemplates,(function(n){t=!0,n._setObjectTemplate(e)})),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}},{key:"_afterNewApplyThemes",value:function(){var e=this;this._checkDirty();var t=this._template;t&&t._setObjectTemplate(this),Wj(this._internalTemplates,(function(t){t._setObjectTemplate(e)})),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}},{key:"_createEvents",value:function(){return new LA}},{key:"classNames",get:function(){return this.constructor.classNames}},{key:"className",get:function(){return this.constructor.className}},{key:"_setDefaults",value:function(){}},{key:"_setDefaultFn",value:function(e,t){var n=this.get(e);if(n)return n;var r=t();return this.set(e,r),r}},{key:"_setDefault",value:function(e,n){this.has(e)||PM(t,"set",this,3)([e,n])}},{key:"_setRawDefault",value:function(e,n){this.has(e)||PM(t,"setRaw",this,3)([e,n])}},{key:"_clearDirty",value:function(){var e=this;PT(this._dirty).forEach((function(t){e._dirty[t]=!1})),PT(this._dirtyPrivate).forEach((function(t){e._dirtyPrivate[t]=!1}))}},{key:"isDirty",value:function(e){return!!this._dirty[e]}},{key:"isPrivateDirty",value:function(e){return!!this._dirtyPrivate[e]}},{key:"_markDirtyKey",value:function(e){this._dirty[e]=!0,PM(t,"_markDirtyKey",this,3)([e])}},{key:"_markDirtyPrivateKey",value:function(e){this._dirtyPrivate[e]=!0,PM(t,"_markDirtyKey",this,3)([e])}},{key:"isType",value:function(e){return-1!==this.classNames.indexOf(e)}},{key:"_pushPropertyDisposer",value:function(e,t){var n=this._disposerProperties[e];return void 0===n&&(n=this._disposerProperties[e]=[]),n.push(t),t}},{key:"_disposeProperty",value:function(e){var t=this._disposerProperties[e];void 0!==t&&(Wj(t,(function(e){e.dispose()})),delete this._disposerProperties[e])}},{key:"template",get:function(){return this._template},set:function(e){var t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}},{key:"markDirty",value:function(){this._root._addDirtyEntity(this)}},{key:"_startAnimation",value:function(){this._root._addAnimation(this)}},{key:"_animationTime",value:function(){return this._root.animationTime}},{key:"_applyState",value:function(e){}},{key:"_applyStateAnimated",value:function(e,t){}},{key:"get",value:function(e,t){var n=this.adapters.fold(e,this._settings[e]);return void 0!==n?n:t}},{key:"isUserSetting",value:function(e){return this._userProperties[e]||!1}},{key:"set",value:function(e,n){return this._userProperties[e]=!0,PM(t,"set",this,3)([e,n])}},{key:"setRaw",value:function(e,n){this._userProperties[e]=!0,PM(t,"setRaw",this,3)([e,n])}},{key:"_setSoft",value:function(e,n){return this._userProperties[e]?n:PM(t,"set",this,3)([e,n])}},{key:"remove",value:function(e){delete this._userProperties[e],this._removeTemplateProperty(e)}},{key:"setPrivate",value:function(e,n){return this._userPrivateProperties[e]=!0,PM(t,"setPrivate",this,3)([e,n])}},{key:"setPrivateRaw",value:function(e,n){this._userPrivateProperties[e]=!0,PM(t,"setPrivateRaw",this,3)([e,n])}},{key:"removePrivate",value:function(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}},{key:"_setTemplateProperty",value:function(e,n,r){this._userProperties[n]||e===this._findTemplateByKey(n)&&PM(t,"set",this,3)([n,r])}},{key:"_setTemplatePrivateProperty",value:function(e,n,r){this._userPrivateProperties[n]||e===this._findTemplateByPrivateKey(n)&&PM(t,"setPrivate",this,3)([n,r])}},{key:"_removeTemplateProperty",value:function(e){if(!this._userProperties[e]){var n=this._findTemplateByKey(e);n?PM(t,"set",this,3)([e,n._settings[e]]):PM(t,"remove",this,3)([e])}}},{key:"_removeTemplatePrivateProperty",value:function(e){if(!this._userPrivateProperties[e]){var n=this._findTemplateByPrivateKey(e);n?PM(t,"setPrivate",this,3)([e,n._privateSettings[e]]):PM(t,"removePrivate",this,3)([e])}}},{key:"_walkParents",value:function(e){e(this._root._rootContainer),e(this)}},{key:"_applyStateByKey",value:function(e){var t=this.states.create(e,{}),n={};this._eachTemplate((function(r){var i=r.states.lookup(e);i&&i._apply(t,n)})),jT(t._settings,(function(e){n[e]||t._userSettings[e]||t.remove(e)}))}},{key:"_applyTemplate",value:function(e,n){var r=this;this._templateDisposers.push(e._apply(this,n)),jT(e._settings,(function(e,i){n.settings[e]||r._userProperties[e]||(n.settings[e]=!0,PM(t,"set",r,3)([e,i]))})),jT(e._privateSettings,(function(e,i){n.privateSettings[e]||r._userPrivateProperties[e]||(n.privateSettings[e]=!0,PM(t,"setPrivate",r,3)([e,i]))})),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}},{key:"_findStaticTemplate",value:function(e){if(this._template&&e(this._template))return this._template}},{key:"_eachTemplate",value:function(e){this._findStaticTemplate((function(t){return e(t),!1})),$j(this._internalTemplates,e),Wj(this._templates,e)}},{key:"_applyTemplates",value:function(){var e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n&&this._disposeTemplates();var r={settings:{},privateSettings:{},states:{}};this._eachTemplate((function(t){e._applyTemplate(t,r)})),n&&(jT(this._settings,(function(n){e._userProperties[n]||r.settings[n]||PM(t,"remove",e,3)([n])})),jT(this._privateSettings,(function(n){e._userPrivateProperties[n]||r.privateSettings[n]||PM(t,"removePrivate",e,3)([n])})))}},{key:"_findTemplate",value:function(e){var t=this._findStaticTemplate(e);if(void 0===t){var n=bT(this._internalTemplates,e);return void 0===n?mT(this._templates,e):n}return t}},{key:"_findTemplateByKey",value:function(e){return this._findTemplate((function(t){return e in t._settings}))}},{key:"_findTemplateByPrivateKey",value:function(e){return this._findTemplate((function(t){return e in t._privateSettings}))}},{key:"_disposeTemplates",value:function(){Wj(this._templateDisposers,(function(e){e.dispose()})),this._templateDisposers.length=0}},{key:"_removeTemplates",value:function(){var e=this;Wj(this._templates,(function(t){t._removeObjectTemplate(e)})),this._templates.length=0}},{key:"_applyThemes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!1,r=[],i=[],o=new Set,a=this.get("themeTagsSelf");return a&&Wj(a,(function(e){o.add(e)})),this._walkParents((function(t){t===e._root._rootContainer&&(n=!0),t._defaultThemes.length>0&&r.push(t._defaultThemes);var a=t.get("themes");a&&i.push(a);var s=t.get("themeTags");s&&Wj(s,(function(e){o.add(e)}))})),i=r.concat(i),this._removeTemplates(),(n||t)&&$j(this.classNames,(function(t){var n=[];Wj(i,(function(e){Wj(e,(function(e){var r=e._lookupRules(t);r&&$j(r,(function(e){if(e.tags.every((function(e){return o.has(e)}))){var t=kT(n,(function(t){var n=gM(e.tags.length,t.tags.length);return 0===n?wM(e.tags,t.tags,gM):n}));n.splice(t.index,0,e)}}))}))})),Wj(n,(function(t){e._templates.push(t.template),t.template._setObjectTemplate(e)}))})),this._applyTemplates(),(n||t)&&(this._runSetup=!1),n||t}},{key:"_changed",value:function(){}},{key:"_beforeChanged",value:function(){if(this.isDirty("id")){var e=this.get("id");e&&this._registerId(e);var t=this._prevSettings.id;t&&delete vM.entitiesById[t]}}},{key:"_registerId",value:function(e){if(vM.entitiesById[e]&&vM.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');vM.entitiesById[e]=this}},{key:"_afterChanged",value:function(){}},{key:"addDisposer",value:function(e){return this._disposers.push(e),e}},{key:"_dispose",value:function(){var e=this;PM(t,"_dispose",this,3)([]);var n=this._template;n&&n._removeObjectTemplate(this),Wj(this._internalTemplates,(function(t){t._removeObjectTemplate(e)})),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach((function(e){e.dispose()})),jT(this._disposerProperties,(function(e,t){Wj(t,(function(e){e.dispose()}))}));var r=this.get("id");r&&delete vM.entitiesById[r]}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this,r=setTimeout((function(){n.removeDispose(i),e()}),t),i=new UT((function(){clearTimeout(r)}));return this._disposers.push(i),i}))},{key:"removeDispose",value:function(e){if(!this.isDisposed()){var t=Uj(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}},{key:"hasTag",value:function(e){return-1!==Uj(this.get("themeTags",[]),e)}},{key:"addTag",value:function(e){if(!this.hasTag(e)){var t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}},{key:"removeTag",value:function(e){if(this.hasTag(e)){var t=this.get("themeTags",[]);rT(t,e),this.set("themeTags",t)}}},{key:"_t",value:function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=this._root.language).translate.apply(n,[e,t].concat(i))}},{key:"root",get:function(){return this._root}}],[{key:"new",value:function(e,t,n){var r=new this(e,t,!0);return r._template=n,r._afterNew(),r}},{key:"_new",value:function(e,t){var n=new this(e,t,!0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return n._afterNew(),n}}])}(IM);function BM(e){return BM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BM(e)}function FM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qM(r.key),r)}}function VM(e,t,n){return t&&zM(e.prototype,t),n&&zM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qM(e){var t=function(e,t){if("object"!=BM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BM(t)?t:t+""}function HM(e){jT(e,(function(e,t){Vj(t)&&"function"==typeof t.dispose&&(t.enableDispose=!0,t.dispose())}))}Object.defineProperty(NM,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(NM,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});var YM=function(){return VM((function e(t,n,r){FM(this,e),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=t,this._template=n,this._settings=r}),[{key:"_dispose",value:function(){HM(this._settings)}},{key:"get",value:function(e,t){var n=this._settings[e];return void 0!==n?n:t}},{key:"set",value:function(e,t){this._settings[e]=t,this._template._stateChanged(this._name)}},{key:"remove",value:function(e){delete this._settings[e],this._template._stateChanged(this._name)}},{key:"setAll",value:function(e){var t=this;PT(e).forEach((function(n){t._settings[n]=e[n]})),this._template._stateChanged(this._name)}},{key:"_apply",value:function(e,t){jT(this._settings,(function(n,r){t[n]||e._userSettings[n]||(t[n]=!0,e.setRaw(n,r))}))}}])}(),UM=function(){return VM((function e(t){FM(this,e),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=t}),[{key:"_dispose",value:function(){jT(this._states,(function(e,t){t._dispose()}))}},{key:"lookup",value:function(e){return this._states[e]}},{key:"create",value:function(e,t){var n=this._states[e];if(n)return n.setAll(t),n;var r=new YM(e,this._template,t);return this._states[e]=r,this._template._stateChanged(e),r}},{key:"remove",value:function(e){delete this._states[e],this._template._stateChanged(e)}},{key:"_apply",value:function(e,t){jT(this._states,(function(n,r){var i=t.states[n];null==i&&(i=t.states[n]={});var o=e.states.create(n,{});r._apply(o,i)}))}}])}(),GM=function(){return VM((function e(){FM(this,e),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}),[{key:"add",value:function(e,t){var n=this,r=this._callbacks[e];return void 0===r&&(r=this._callbacks[e]=[]),r.push(t),new UT((function(){iT(r,t),0===r.length&&delete n._callbacks[e]}))}},{key:"remove",value:function(e){void 0!==this._callbacks[e]&&delete this._callbacks[e]}},{key:"_apply",value:function(e){var t=[];return jT(this._callbacks,(function(n,r){Wj(r,(function(r){t.push(e.adapters.add(n,r))}))})),new XT(t)}}])}(),XM=function(){function e(t,n){if(FM(this,e),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new UM(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new GM}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new LA}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t}return VM(e,[{key:"_dispose",value:function(){HM(this._settings),HM(this._privateSettings)}},{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._dispose())}},{key:"_checkDisposed",value:function(){if(this._disposed)throw new Error("Template is disposed")}},{key:"entities",get:function(){return this._entities}},{key:"get",value:function(e,t){this._checkDisposed();var n=this._settings[e];return void 0!==n?n:t}},{key:"setRaw",value:function(e,t){this._checkDisposed(),this._settings[e]=t}},{key:"set",value:function(e,t){var n=this;this._checkDisposed(),this._settings[e]!==t&&(this.setRaw(e,t),this._entities.forEach((function(r){r._setTemplateProperty(n,e,t)})))}},{key:"remove",value:function(e){this._checkDisposed(),e in this._settings&&(delete this._settings[e],this._entities.forEach((function(t){t._removeTemplateProperty(e)})))}},{key:"removeAll",value:function(){var e=this;this._checkDisposed(),jT(this._settings,(function(t,n){e.remove(t)}))}},{key:"getPrivate",value:function(e,t){this._checkDisposed();var n=this._privateSettings[e];return void 0!==n?n:t}},{key:"setPrivateRaw",value:function(e,t){return this._checkDisposed(),this._privateSettings[e]=t,t}},{key:"setPrivate",value:function(e,t){var n=this;return this._checkDisposed(),this._privateSettings[e]!==t&&(this.setPrivateRaw(e,t),this._entities.forEach((function(r){r._setTemplatePrivateProperty(n,e,t)}))),t}},{key:"removePrivate",value:function(e){this._checkDisposed(),e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach((function(t){t._removeTemplatePrivateProperty(e)})))}},{key:"setAll",value:function(e){var t=this;this._checkDisposed(),jT(e,(function(e,n){t.set(e,n)}))}},{key:"on",value:function(e,t){var n=this;this._checkDisposed();var r=this._settingEvents[e];return void 0===r&&(r=this._settingEvents[e]=[]),r.push(t),new UT((function(){iT(r,t),0===r.length&&delete n._settingEvents[e]}))}},{key:"onPrivate",value:function(e,t){var n=this;this._checkDisposed();var r=this._privateSettingEvents[e];return void 0===r&&(r=this._privateSettingEvents[e]=[]),r.push(t),new UT((function(){iT(r,t),0===r.length&&delete n._privateSettingEvents[e]}))}},{key:"_apply",value:function(e,t){this._checkDisposed();var n=[];return jT(this._settingEvents,(function(t,r){Wj(r,(function(r){n.push(e.on(t,r))}))})),jT(this._privateSettingEvents,(function(t,r){Wj(r,(function(r){n.push(e.onPrivate(t,r))}))})),this.states._apply(e,t),n.push(this.adapters._apply(e)),n.push(e.events.copyFrom(this.events)),new XT(n)}},{key:"_setObjectTemplate",value:function(e){this._checkDisposed(),this._entities.push(e)}},{key:"_removeObjectTemplate",value:function(e){rT(this._entities,e)}},{key:"_stateChanged",value:function(e){this._checkDisposed(),this._entities.forEach((function(t){t._applyStateByKey(e)}))}}],[{key:"new",value:function(t){return new e(t,!0)}}])}();function WM(e){return WM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WM(e)}function $M(){$M=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==WM(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(WM(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function KM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QM(r.key),r)}}function JM(e,t,n){return t&&ZM(e.prototype,t),n&&ZM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QM(e){var t=function(e,t){if("object"!=WM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WM(t)?t:t+""}function eL(e,t,n){return t=iL(t),function(e,t){if(t&&("object"==WM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tL()?Reflect.construct(t,n||[],iL(e).constructor):t.apply(e,n))}function tL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tL=function(){return!!e})()}function nL(e,t,n,r){var i=rL(iL(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function rL(){return rL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=iL(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rL.apply(null,arguments)}function iL(e){return iL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iL(e)}function oL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aL(e,t)}function aL(e,t){return aL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aL(e,t)}var sL=function(e){function t(e){var n;return KM(this,t),n=eL(this,t),Object.defineProperty(n,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n._sprite=e,n}return oL(t,e),JM(t,[{key:"_makePointerEvent",value:function(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}},{key:"_onRenderer",value:function(e,t){var n=this;this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;var r=this._rendererDisposers[e];if(void 0===r){var i=this._sprite._display.on(e,(function(e){t.call(n,e)}));r=this._rendererDisposers[e]=new $T((function(){delete n._rendererDisposers[e],i.dispose()}))}return r.increment()}},{key:"_on",value:function(e,n,r,i,o,a){var s=nL(t,"_on",this,3)([e,n,r,i,o,a]),l=t.RENDERER_EVENTS[n];return void 0!==l&&(s.disposer=new XT([s.disposer,this._onRenderer(n,l)])),s}},{key:"stopParentDispatch",value:function(){this._dispatchParents=!1}},{key:"dispatchParents",value:function(e,t){var n=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=n}}}])}(LA);Object.defineProperty(sL,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(e){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",e))&&this.dispatch("click",this._makePointerEvent("click",e))},rightclick:function(e){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",e))},middleclick:function(e){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",e))},dblclick:function(e){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",e))},pointerover:function(e){var t=this._sprite,n=!0;if(t.getPrivate("trustBounds")){t._getBounds();var r=t.globalBounds();if(t.isType("Graphics")){var i=t.get("strokeWidth",1)/2;i>=1&&(r.left-=i,r.right+=i,r.top-=i,r.bottom+=i)}xC(e.point,r)||(n=!1,t._root._renderer.removeHovering(t._display))}n&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",e))},pointerout:function(e){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",e))},pointerdown:function(e){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",e))},pointerup:function(e){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",e))},globalpointerup:function(e){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",e))},globalpointermove:function(e){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",e))},wheel:function(e){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:e.event,point:e.point})}}});var lL=function(e){function t(){var e;return KM(this,t),e=eL(this,t,arguments),Object.defineProperty(e,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(e,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(e,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return oL(t,e),JM(t,[{key:"_afterNew",value:function(){this.setPrivateRaw("visible",!0),nL(t,"_afterNew",this,3)([])}},{key:"markDirtyKey",value:function(e){this._markDirtyKey(e)}},{key:"_markDirtyKey",value:function(e){nL(t,"_markDirtyKey",this,3)([e]),"x"!=e&&"y"!=e&&"dx"!=e&&"dy"!=e||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}},{key:"_markDirtyPrivateKey",value:function(e){nL(t,"_markDirtyPrivateKey",this,3)([e]),"x"!=e&&"y"!=e||this.markDirtyPosition()}},{key:"_removeTemplateField",value:function(){this._templateField&&this._templateField._removeObjectTemplate(this)}},{key:"_createEvents",value:function(){return new sL(this)}},{key:"_processTemplateField",value:function(){var e,t=this.get("templateField");if(t){var n=this.dataItem;if(n){var r=n.dataContext;r&&((e=r[t])instanceof XM||!e||(e=XM.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}},{key:"_setDataItem",value:function(e){var t=this._dataItem;this._dataItem=e,this._processTemplateField();var n="dataitemchanged";e!=t&&this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,oldDataItem:t,newDataItem:e})}},{key:"dataItem",get:function(){if(this._dataItem)return this._dataItem;for(var e=this._parent;e;){if(e._dataItem)return e._dataItem;e=e._parent}},set:function(e){this._setDataItem(e)}},{key:"_addPercentageSizeChildren",value:function(){var e=this.parent;e&&(this.get("width")instanceof Oj||this.get("height")instanceof Oj?sT(e._percentageSizeChildren,this):iT(e._percentageSizeChildren,this))}},{key:"_addPercentagePositionChildren",value:function(){var e=this.parent;e&&(this.get("x")instanceof Oj||this.get("y")instanceof Oj?sT(e._percentagePositionChildren,this):iT(e._percentagePositionChildren,this))}},{key:"markDirtyPosition",value:function(){this._root._addDirtyPosition(this)}},{key:"updatePivotPoint",value:function(){var e=this._localBounds;if(e){var t=this.get("centerX");null!=t&&(this._display.pivot.x=e.left+MD(t,e.right-e.left));var n=this.get("centerY");null!=n&&(this._display.pivot.y=e.top+MD(n,e.bottom-e.top))}}},{key:"_beforeChanged",value:function(){var e=this;if(nL(t,"_beforeChanged",this,3)([]),this._handleStates(),this.isDirty("tooltip")){var n=this._prevSettings.tooltip;n&&n.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){var r=this._tooltipMoveDp;r&&(r.dispose(),this._tooltipMoveDp=void 0);var i=this._tooltipPointerDp;i&&(i.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",(function(t){e.showTooltip(t.point)}))),this._tooltipPointerDp=new XT([this.events.on("pointerover",(function(){e._tooltipMoveDp=e.events.on("globalpointermove",(function(t){e.showTooltip(t.point)}))})),this.events.on("pointerout",(function(){var t=e._tooltipMoveDp;t&&(t.dispose(),e._tooltipMoveDp=void 0)}))]))}}},{key:"_handleStates",value:function(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}},{key:"_changed",value:function(){var e=this;nL(t,"_changed",this,3)([]);var n=this._display,r=this.events;if(this.isDirty("draggable")){var i=this.get("draggable");i?(this.set("interactive",!0),this._dragDp=new XT([r.on("pointerdown",(function(t){e.dragStart(t)})),r.on("globalpointermove",(function(t){e.dragMove(t)})),r.on("globalpointerup",(function(t){e.dragStop(t)}))])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),n.cancelTouch=!!i}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){var o=this.get("tooltipText"),a=this.get("tooltipHTML"),s=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(o||a)&&("click"==s?(this._tooltipDp=new XT([r.on("click",(function(){e.setTimeout((function(){var t=e.getTooltip();t&&!t.isHidden()&&t.get("tooltipTarget")===e?e.hideTooltip():e.showTooltip()}),10)})),cD(document,"click",(function(t){e.hideTooltip()}))]),this._disposers.push(this._tooltipDp)):"always"==s||(this._tooltipDp=new XT([r.on("pointerover",(function(){e.showTooltip()})),r.on("pointerout",(function(){e.hideTooltip()}))]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){var l=this.get("toggleKey");l&&"none"!=l?this._toggleDp=r.on("click",(function(){e._isDragging||e.set(l,!e.get(l))})):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(n.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),n.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),n.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?n.visible=!0:(n.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();var u=this.parent;u&&(this.isDirty("width")&&this.get("width")instanceof Oj||this.isDirty("height")&&this.get("height")instanceof Oj)&&(u.markDirty(),u._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){var c=this.get("wheelable");c&&this.set("interactive",!0),n.wheelable=!!c}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(n.filter=this.get("filter"));var f=this.get("filter","");if(this.isDirty("blur")){var h=this.get("blur",0);0!=h&&(f+=" blur("+h+"px)")}if(this.isDirty("saturate")){var d=this.get("saturate",1);1!=d&&(f+=" saturate("+d+")")}if(this.isDirty("brightness")){var p=this.get("brightness",1);1!=p&&(f+=" brightness("+p+")")}if(this.isDirty("contrast")){var v=this.get("contrast",1);1!=v&&(f+=" contrast("+v+")")}if(this.isDirty("sepia")){var y=this.get("sepia",0);0!=y&&(f+=" sepia("+y+")")}if(this.isDirty("hue")){var m=this.get("hue",0);0!=m&&(f+=" hue-rotate("+m+"deg)")}if(this.isDirty("invert")){var b=this.get("invert",0);0!=b&&(f+=" invert("+b+")")}if(f&&(n.filter=f),this.isDirty("cursorOverStyle")&&(n.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new XT([r.on("focus",(function(){e.showTooltip()})),r.on("blur",(function(){e.hideTooltip()}))]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(r.on("blur",(function(){e.setPrivateRaw("touchHovering",!1)})))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(n.exportable=this.get("exportable")),this.isDirty("interactive")){var g=this.events;this.get("interactive")&&!g.isDisposed()?this._hoverDp=new XT([g.on("click",(function(t){mD(t.originalEvent)&&(e.getPrivate("touchHovering")||e.setTimeout((function(){e._handleOver(),(e.get("tooltipText")||e.get("tooltipHTML"))&&e.showTooltip(),e.setPrivateRaw("touchHovering",!0),e.events.dispatch("pointerover",{type:"pointerover",target:t.target,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}),10))})),g.on("globalpointerup",(function(t){mD(t.originalEvent)&&e.getPrivate("touchHovering")&&(e._handleOut(),(e.get("tooltipText")||e.get("tooltipHTML"))&&e.hideTooltip(),e.setPrivateRaw("touchHovering",!1),e.events.dispatch("pointerout",{type:"pointerout",target:t.target,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})),e._isDown&&e._handleUp(t)})),g.on("pointerover",(function(){e._handleOver()})),g.on("pointerout",(function(){e._handleOut()})),g.on("pointerdown",(function(t){e._handleDown(t)}))]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}},{key:"dragStart",value:function(e){this._dragEvent=e,this.events.stopParentDispatch()}},{key:"dragStop",value:function(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;var t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}},{key:"_handleOver",value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}},{key:"_handleOut",value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}},{key:"_handleUp",value:function(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;var t=dD(e.originalEvent);delete this._downPoints[t],0==PT(this._downPoints).length&&(this._isDown=!1)}}},{key:"_hasMoved",value:function(e){var t=dD(e.originalEvent),n=this._downPoints[t];if(n){var r=Math.abs(n.x-e.point.x),i=Math.abs(n.y-e.point.y);return r>5||i>5}return!1}},{key:"_hasDown",value:function(){return PT(this._downPoints).length>0}},{key:"_handleDown",value:function(e){var t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;var n=dD(e.originalEvent);this._downPoints[n]={x:e.point.x,y:e.point.y}}}},{key:"dragMove",value:function(e){var t=this._dragEvent;if(t){if(t.simulated&&!e.simulated)return!0;for(var n=0,r=this.parent,i=1;null!=r;)n+=r.get("rotation",0),(r=r.parent)&&(i*=r.get("scale",1));var o=(e.point.x-t.point.x)/i,a=(e.point.y-t.point.y)/i,s=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};var l="dragstart";s.isEnabled(l)&&s.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){var u=this._dragPoint;this.set("x",u.x+o*mC(n)+a*vC(n)),this.set("y",u.y+a*mC(n)-o*vC(n));var c="dragged";s.isEnabled(c)&&s.dispatch(c,{type:c,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(o,a)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};var f="dragstart";s.isEnabled(f)&&s.dispatch(f,{type:f,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}},{key:"_updateSize",value:function(){}},{key:"_getBounds",value:function(){this._localBounds=this._display.getLocalBounds()}},{key:"depth",value:function(){for(var e=this.parent,t=0;;){if(!e)return t;++t,e=e.parent}}},{key:"markDirtySize",value:function(){this._sizeDirty=!0,this.markDirty()}},{key:"markDirtyBounds",value:function(){var e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();var t=this.parent;t&&"absolute"!=this.get("position")&&(null==t.get("width")||null==t.get("height")||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}},{key:"markDirtyAccessibility",value:function(){this._root._invalidateAccessibility(this)}},{key:"markDirtyLayer",value:function(){this._display.markDirtyLayer(!0)}},{key:"markDirty",value:function(){nL(t,"markDirty",this,3)([]),this.markDirtyLayer()}},{key:"_updateBounds",value:function(){var e,t=this._adjustedLocalBounds;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),e=this._adjustedLocalBounds):(e={left:0,right:0,top:0,bottom:0},this._localBounds=e,this._adjustedLocalBounds=e),!t||t.left!==e.left||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom){var n="boundschanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}},{key:"_fixMinBounds",value:function(e){var t=this.get("minWidth",this.getPrivate("minWidth")),n=this.get("minHeight",this.getPrivate("minHeight"));zj(t)&&e.right-e.left<t&&(e.right=e.left+t),zj(n)&&e.bottom-e.top<n&&(e.bottom=e.top+n);var r=this.getPrivate("width"),i=this.getPrivate("height");zj(r)&&(r>0?e.right=e.left+r:e.left=e.right+r),zj(i)&&(i>0?e.bottom=e.top+i:e.top=e.bottom+i)}},{key:"_removeParent",value:function(e){e&&(e.children.removeValue(this),iT(e._percentageSizeChildren,this),iT(e._percentagePositionChildren,this))}},{key:"_clearDirty",value:function(){nL(t,"_clearDirty",this,3)([]),this._sizeDirty=!1,this._statesHandled=!1}},{key:"hover",value:function(){this.isDisposed()||(this.showTooltip(),this._handleOver())}},{key:"unhover",value:function(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}},{key:"showTooltip",value:function(e){if(!this.isDisposed()){var t=this.getTooltip(),n=this.get("tooltipText"),r=this.get("tooltipHTML");if((n||r)&&t){var i=this.get("tooltipPosition"),o=this.getPrivate("tooltipTarget",this);"fixed"!=i&&e||(this._display._setMatrix(),e=this.toGlobal(o._getTooltipPoint())),t.set("pointTo",e),t.set("tooltipTarget",o),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),n&&t.label.set("text",n),r&&t.label.set("html",r);var a=this.dataItem;if(a&&t.label._setDataItem(a),"always"==this.get("showTooltipOn")&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height()))return void this.hideTooltip();t.label.text.markDirtyText();var s=t.show();return this.setPrivateRaw("showingTooltip",!0),s}}}},{key:"hideTooltip",value:function(){var e=this.getTooltip();if(e&&(e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){var t=e.get("keepTargetHover")&&0==e.get("stateAnimationDuration",0)?400:void 0,n=e.hide(t);return this.setPrivateRaw("showingTooltip",!1),n}}},{key:"_getTooltipPoint",value:function(){var e=this._localBounds;if(e){var t=0,n=0;return this.get("isMeasured")?(t=e.left+MD(this.get("tooltipX",0),e.right-e.left),n=e.top+MD(this.get("tooltipY",0),e.bottom-e.top)):(t=MD(this.get("tooltipX",0),this.width()),n=MD(this.get("tooltipY",0),this.height())),{x:t,y:n}}return{x:0,y:0}}},{key:"getTooltip",value:function(){var e=this.get("tooltip");if(e)return e;var t=this.parent;return t?t.getTooltip():void 0}},{key:"_updatePosition",value:function(){var e=this.parent,t=this.get("dx",0),n=this.get("dy",0),r=this.get("x"),i=this.getPrivate("x"),o=0,a=0,s=this.get("position");r instanceof Oj&&(r=e?e.innerWidth()*r.value+e.get("paddingLeft",0):0),zj(r)?o=r+t:null!=i?o=i:e&&"relative"==s&&(o=e.get("paddingLeft",0)+t);var l=this.get("y"),u=this.getPrivate("y");l instanceof Oj&&(l=e?e.innerHeight()*l.value+e.get("paddingTop",0):0),zj(l)?a=l+n:null!=u?a=u:e&&"relative"==s&&(a=e.get("paddingTop",0)+n);var c=this._display;if(c.x!=o||c.y!=a){c.invalidateBounds(),c.x=o,c.y=a;var f="positionchanged";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}},{key:"x",value:function(){var e=this.get("x"),t=this.getPrivate("x"),n=this.parent;return n?e instanceof Oj?MD(e,n.innerWidth())+n.get("paddingLeft",0):zj(e)?e:null!=t?t:n.get("paddingLeft",this._display.x):this._display.x}},{key:"y",value:function(){var e=this.getPrivate("y");if(null!=e)return e;var t=this.get("y"),n=this.parent;return n?t instanceof Oj?MD(t,n.innerHeight())+n.get("paddingTop",0):zj(t)?t:null!=e?e:n.get("paddingTop",this._display.y):this._display.y}},{key:"_dispose",value:function(){nL(t,"_dispose",this,3)([]),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);var e=this.get("tooltip");e&&e.dispose(),this.markDirty()}},{key:"adjustedLocalBounds",value:function(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}},{key:"localBounds",value:function(){return this._localBounds}},{key:"bounds",value:function(){var e=this._adjustedLocalBounds,t=this.x(),n=this.y();return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}},{key:"globalBounds",value:function(){var e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),n=this.toGlobal({x:e.right,y:e.top}),r=this.toGlobal({x:e.right,y:e.bottom}),i=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,n.x,r.x,i.x),top:Math.min(t.y,n.y,r.y,i.y),right:Math.max(t.x,n.x,r.x,i.x),bottom:Math.max(t.y,n.y,r.y,i.y)}}},{key:"_onShow",value:function(e){}},{key:"_onHide",value:function(e){}},{key:"appear",value:function(e,t){return wj(this,void 0,void 0,$M().mark((function n(){var r=this;return $M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.hide(0);case 2:if(!t){n.next=6;break}return n.abrupt("return",new Promise((function(n,i){r.setTimeout((function(){n(r.show(e))}),t)})));case 6:return n.abrupt("return",this.show(e));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"show",value:function(e){return wj(this,void 0,void 0,$M().mark((function t(){var n;return $M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isShowing){t.next=10;break}return this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e),n=this.states.applyAnimate("default",e),t.next=9,OA(n);case 9:this._isShowing=!1;case 10:case"end":return t.stop()}}),t,this)})))}},{key:"hide",value:function(e){return wj(this,void 0,void 0,$M().mark((function t(){var n;return $M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isHiding||this._isHidden){t.next=11;break}return this._isHiding=!0,this._isShowing=!1,this.states.lookup("hidden")||this.states.create("hidden",{opacity:0,visible:!1}),this._isHidden=!0,this._onHide(e),n=this.states.applyAnimate("hidden",e),t.next=10,OA(n);case 10:this._isHiding=!1;case 11:case"end":return t.stop()}}),t,this)})))}},{key:"isHidden",value:function(){return this._isHidden}},{key:"isShowing",value:function(){return this._isShowing}},{key:"isHiding",value:function(){return this._isHiding}},{key:"isHover",value:function(){return this._display.hovering()}},{key:"isFocus",value:function(){return this._root.focused(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"isVisible",value:function(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}},{key:"isVisibleDeep",value:function(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}},{key:"compositeOpacity",value:function(){var e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}},{key:"compositeScale",value:function(){var e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}},{key:"compositeRotation",value:function(){var e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}},{key:"width",value:function(){var e=this.get("width"),t=this.get("maxWidth",this.getPrivate("maxWidth")),n=this.get("minWidth",this.getPrivate("minWidth")),r=this.getPrivate("width"),i=0;if(zj(r))i=r;else if(null==e)this._adjustedLocalBounds&&(i=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof Oj){var o=this.parent;i=o?o.innerWidth()*e.value:this._root.width()*e.value}else zj(e)&&(i=e);return zj(n)&&(i=Math.max(n,i)),zj(t)&&(i=Math.min(t,i)),i}},{key:"maxWidth",value:function(){var e=this.get("maxWidth",this.getPrivate("maxWidth"));if(zj(e))return e;var t=this.get("width");if(zj(t))return t;var n=this.parent;return n?n.innerWidth():this._root.width()}},{key:"maxHeight",value:function(){var e=this.get("maxHeight",this.getPrivate("maxHeight"));if(zj(e))return e;var t=this.get("height");if(zj(t))return t;var n=this.parent;return n?n.innerHeight():this._root.height()}},{key:"height",value:function(){var e=this.get("height"),t=this.get("maxHeight",this.getPrivate("maxHeight")),n=this.get("minHeight",this.getPrivate("minHeight")),r=this.getPrivate("height"),i=0;if(zj(r))i=r;else if(null==e)this._adjustedLocalBounds&&(i=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof Oj){var o=this.parent;i=o?o.innerHeight()*e.value:this._root.height()*e.value}else zj(e)&&(i=e);return zj(n)&&(i=Math.max(n,i)),zj(t)&&(i=Math.min(t,i)),i}},{key:"_findStaticTemplate",value:function(e){return this._templateField&&e(this._templateField)?this._templateField:nL(t,"_findStaticTemplate",this,3)([e])}},{key:"_walkParents",value:function(e){this._parent&&this._walkParent(e)}},{key:"_walkParent",value:function(e){this._parent&&this._parent._walkParent(e),e(this)}},{key:"parent",get:function(){return this._parent}},{key:"_setParent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._parent;e!==n&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(n),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}},{key:"getNumberFormatter",value:function(){return this.get("numberFormatter",this._root.numberFormatter)}},{key:"getDateFormatter",value:function(){return this.get("dateFormatter",this._root.dateFormatter)}},{key:"getDurationFormatter",value:function(){return this.get("durationFormatter",this._root.durationFormatter)}},{key:"toGlobal",value:function(e){return this._display.toGlobal(e)}},{key:"toLocal",value:function(e){return this._display.toLocal(e)}},{key:"_getDownPoint",value:function(){var e=this._getDownPointId();if(e)return this._downPoints[e]}},{key:"_getDownPointId",value:function(){if(this._downPoints)return ST(this._downPoints,(function(e,t){return e>t?1:e<t?-1:0}))[0]}},{key:"toFront",value:function(){var e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}},{key:"toBack",value:function(){var e=this.parent;e&&e.children.moveValue(this,0)}}])}(NM);function uL(e){return uL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uL(e)}function cL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fL(r.key),r)}}function fL(e){var t=function(e,t){if("object"!=uL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uL(t)?t:t+""}function hL(e,t,n){return t=yL(t),function(e,t){if(t&&("object"==uL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dL()?Reflect.construct(t,n||[],yL(e).constructor):t.apply(e,n))}function dL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dL=function(){return!!e})()}function pL(e,t,n,r){var i=vL(yL(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function vL(){return vL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=yL(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vL.apply(null,arguments)}function yL(e){return yL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yL(e)}function mL(e,t){return mL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mL(e,t)}Object.defineProperty(lL,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(lL,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([lL.className])});var bL=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=hL(this,t,arguments),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mL(e,t)}(t,e),function(e,t,n){return t&&cL(e.prototype,t),n&&cL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){pL(t,"_afterNewApplyThemes",this,3)([])}},{key:"pattern",get:function(){return this._pattern}},{key:"_draw",value:function(){}},{key:"_beforeChanged",value:function(){pL(t,"_beforeChanged",this,3)([]),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}},{key:"_checkDirtyFill",value:function(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(pL(t,"_changed",this,3)([]),this._clear){var e=this.get("repetition",""),n=this.get("width",100),r=this.get("height",100),i=this.get("fill"),o=this.get("fillOpacity",1),a=this._backgroundDisplay,s=this._display;s.clear(),a.clear(),i&&o>0&&(a.beginFill(i,o),a.drawRect(0,0,n,r),a.endFill()),s.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(s,a,e,n,r)}this._clear=!1}}])}(NM);function gL(e){return gL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gL(e)}function wL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_L(r.key),r)}}function _L(e){var t=function(e,t){if("object"!=gL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gL(t)?t:t+""}function kL(e,t,n){return t=SL(t),function(e,t){if(t&&("object"==gL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xL()?Reflect.construct(t,n||[],SL(e).constructor):t.apply(e,n))}function xL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xL=function(){return!!e})()}function OL(e,t,n,r){var i=PL(SL(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function PL(){return PL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=SL(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},PL.apply(null,arguments)}function SL(e){return SL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SL(e)}function EL(e,t){return EL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},EL(e,t)}Object.defineProperty(bL,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(bL,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([bL.className])});var jL,TL=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=kL(this,t,arguments),Object.defineProperty(e,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EL(e,t)}(t,e),function(e,t,n){return t&&wL(e.prototype,t),n&&wL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){OL(t,"_beforeChanged",this,3)([]),this._clear=!0,this.isDirty("src")&&this._load();var e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}},{key:"_draw",value:function(){OL(t,"_draw",this,3)([]);var e=this.get("colorOpacity");void 0!==e&&(this._display.alpha=Math.max(0,e));var n=this._image;if(n){var r=this.get("width",100),i=this.get("height",100),o=this.get("fit","image"),a=0,s=0;"pattern"==o?(a=r,s=i,this.markDirty()):(a=n.width,s=n.height,"image"==o&&(this.set("width",a),this.set("height",s)));var l=0,u=0;this.get("centered",!0)&&(l=r/2-a/2,u=i/2-s/2),this._display.image(n,a,s,l,u)}var c=this.get("canvas");c&&this._display.image(c,c.width,c.height,0,0)}},{key:"_load",value:function(){var e=this,t=this.get("src");if(t){var n=new Image;n.src=t,n.decode().then((function(){e._image=n,e._draw(),e.events.isEnabled("loaded")&&e.events.dispatch("loaded",{type:"loaded",target:e})})).catch((function(e){}))}}}])}(bL);function DL(e){return DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DL(e)}function AL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CL(r.key),r)}}function CL(e){var t=function(e,t){if("object"!=DL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DL(t)?t:t+""}function ML(e,t,n){return t=NL(t),function(e,t){if(t&&("object"==DL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LL()?Reflect.construct(t,n||[],NL(e).constructor):t.apply(e,n))}function LL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LL=function(){return!!e})()}function RL(e,t,n,r){var i=IL(NL(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function IL(){return IL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=NL(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},IL.apply(null,arguments)}function NL(e){return NL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NL(e)}function BL(e,t){return BL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BL(e,t)}Object.defineProperty(TL,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(TL,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bL.classNames.concat([TL.className])}),function(e){e.ADD="lighter",e.COLOR="color",e.COLOR_BURN="color-burn",e.COLOR_DODGE="color-dodge",e.DARKEN="darken",e.DIFFERENCE="difference",e.DST_OVER="destination-over",e.EXCLUSION="exclusion",e.HARD_LIGHT="hard-light",e.HUE="hue",e.LIGHTEN="lighten",e.LUMINOSITY="luminosity",e.MULTIPLY="multiply",e.NORMAL="source-over",e.OVERLAY="overlay",e.SATURATION="saturation",e.SCREEN="screen",e.SOFT_LIGHT="soft-light",e.SRC_ATOP="source-atop",e.XOR="xor"}(jL||(jL={}));var FL=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"],zL=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=ML(this,t,arguments),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BL(e,t)}(t,e),function(e,t,n){return t&&AL(e.prototype,t),n&&AL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){var e=this;if(RL(t,"_beforeChanged",this,3)([]),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){var n=this.get("fillGradient");if(n){this._display.isMeasured=!0;var r=n.get("target");r&&(this._disposers.push(r.events.on("boundschanged",(function(){e._markDirtyKey("fill")}))),this._disposers.push(r.events.on("positionchanged",(function(){e._markDirtyKey("fill")}))))}}if(this.isDirty("strokeGradient")){var i=this.get("strokeGradient");if(i){this._display.isMeasured=!0;var o=i.get("target");o&&(this._disposers.push(o.events.on("boundschanged",(function(){e._markDirtyKey("stroke")}))),this._disposers.push(o.events.on("positionchanged",(function(){e._markDirtyKey("stroke")}))))}}}},{key:"_changed",value:function(){if(RL(t,"_changed",this,3)([]),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();var e=this.get("strokeDasharray");zj(e)&&(e=e<.5?[0]:[e]),this._display.setLineDash(e);var n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n);var r=this.get("blendMode",jL.NORMAL);this._display.blendMode=r;var i=this.get("draw");i&&"function"==typeof i&&i(this._display,this);var o=this.get("svgPath");null!=o&&this._display.svgPath(o)}}},{key:"_afterChanged",value:function(){var e=this;if(RL(t,"_afterChanged",this,3)([]),this._clear){var n=this.get("fill"),r=this.get("fillGradient"),i=this.get("fillPattern"),o=this.get("fillOpacity"),a=this.get("stroke"),s=this.get("strokeGradient"),l=this.get("strokePattern"),u=this.get("shadowColor"),c=this.get("shadowBlur"),f=this.get("shadowOffsetX"),h=this.get("shadowOffsetY"),d=this.get("shadowOpacity");if(u&&(c||f||h)&&this._display.shadow(u,c,f,h,d),n&&!r&&(this._display.beginFill(n,o),this._display.endFill()),r){if(n){var p=r.get("stops",[]);p.length&&Wj(p,(function(e){e.color&&!e.colorInherited||!n||(e.color=n,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=o,e.opacityInherited=!0)}))}var v=r.getFill(this);v&&(this._display.beginFill(v,o),this._display.endFill())}if(i){var y=i.pattern;y&&(this._display.beginFill(y,o),this._display.endFill(),i instanceof TL&&i.events.once("loaded",(function(){e._clear=!0,e.markDirty()})))}if(a||s||l){var m=this.get("strokeOpacity"),b=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(b/=this.get("scale",1)),this.get("crisp")&&(b/=this._root._renderer.resolution);var g=this.get("lineJoin"),w=this.get("lineCap");if(a&&!s&&(this._display.lineStyle(b,a,m,g,w),this._display.endStroke()),s){var _=s.get("stops",[]);_.length&&Wj(_,(function(e){e.color&&!e.colorInherited||!a||(e.color=a,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=m,e.opacityInherited=!0)}));var k=s.getFill(this);k&&(this._display.lineStyle(b,k,m,g,w),this._display.endStroke())}if(l){var x=l.pattern;x&&(this._display.lineStyle(b,x,m,g,w),this._display.endStroke(),l instanceof TL&&l.events.once("loaded",(function(){e._clear=!0,e.markDirty()})))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}])}(lL);function VL(e){return VL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VL(e)}function qL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HL(r.key),r)}}function HL(e){var t=function(e,t){if("object"!=VL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VL(t)?t:t+""}function YL(e,t,n){return t=WL(t),function(e,t){if(t&&("object"==VL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UL()?Reflect.construct(t,n||[],WL(e).constructor):t.apply(e,n))}function UL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UL=function(){return!!e})()}function GL(e,t,n,r){var i=XL(WL(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function XL(){return XL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=WL(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},XL.apply(null,arguments)}function WL(e){return WL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WL(e)}function $L(e,t){return $L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$L(e,t)}Object.defineProperty(zL,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(zL,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lL.classNames.concat([zL.className])});var KL=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YL(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$L(e,t)}(t,e),function(e,t,n){return t&&qL(e.prototype,t),n&&qL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){GL(t,"_afterNew",this,3)([]),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}},{key:"_beforeChanged",value:function(){GL(t,"_beforeChanged",this,3)([]),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){GL(t,"_changed",this,3)([]),this._clear&&!this.get("draw")&&this._draw()}},{key:"_draw",value:function(){this._display.drawRect(0,0,this.width(),this.height())}},{key:"_updateSize",value:function(){this.markDirty(),this._clear=!0}}])}(zL);function ZL(e){return ZL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZL(e)}function JL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QL(r.key),r)}}function QL(e){var t=function(e,t){if("object"!=ZL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZL(t)?t:t+""}function eR(e,t,n){return t=nR(t),function(e,t){if(t&&("object"==ZL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tR()?Reflect.construct(t,n||[],nR(e).constructor):t.apply(e,n))}function tR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tR=function(){return!!e})()}function nR(e){return nR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nR(e)}function rR(e,t){return rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rR(e,t)}function iR(e,t){e.get("reverseChildren",!1)?e.children.eachReverse(t):e.children.each(t)}Object.defineProperty(KL,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(KL,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([KL.className])});var oR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eR(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rR(e,t)}(t,e),function(e,t,n){return t&&JL(e.prototype,t),n&&JL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(NM);function aR(e){return aR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aR(e)}function sR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lR(r.key),r)}}function lR(e){var t=function(e,t){if("object"!=aR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aR(t)?t:t+""}function uR(e,t,n){return t=fR(t),function(e,t){if(t&&("object"==aR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cR()?Reflect.construct(t,n||[],fR(e).constructor):t.apply(e,n))}function cR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cR=function(){return!!e})()}function fR(e){return fR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fR(e)}function hR(e,t){return hR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hR(e,t)}Object.defineProperty(oR,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(oR,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([oR.className])});var dR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uR(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hR(e,t)}(t,e),function(e,t,n){return t&&sR(e.prototype,t),n&&sR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateContainer",value:function(e){var t=e.get("paddingLeft",0),n=e.innerWidth(),r=0;iR(e,(function(e){if(e.isVisible()&&"relative"==e.get("position")){var t=e.get("width");if(t instanceof Oj){r+=t.value;var i=n*t.value,o=e.get("minWidth",e.getPrivate("minWidth",-1/0));o>i&&(n-=o,r-=t.value);var a=e.get("maxWidth",e.getPrivate("maxWidth",1/0));i>a&&(n-=a,r-=t.value)}else zj(t)||(t=e.width()),n-=t+e.get("marginLeft",0)+e.get("marginRight",0)}})),(n<=0||n==1/0)&&(n=.1),iR(e,(function(e){if(e.isVisible()&&"relative"==e.get("position")){var t=e.get("width");if(t instanceof Oj){var i=n*t.value/r-e.get("marginLeft",0)-e.get("marginRight",0),o=e.get("minWidth",e.getPrivate("minWidth",-1/0)),a=e.get("maxWidth",e.getPrivate("maxWidth",1/0));i=Math.min(Math.max(o,i),a),e.setPrivate("width",i)}else e._prevSettings.width instanceof Oj&&e.setPrivate("width",void 0)}}));var i=t;iR(e,(function(e){if("relative"==e.get("position"))if(e.isVisible()){var t=e.adjustedLocalBounds(),n=e.get("marginLeft",0),r=e.get("marginRight",0),o=e.get("maxWidth"),a=t.left,s=t.right;o&&s-a>o&&(s=a+o);var l=i+n-a;e.setPrivate("x",l),i=l+s+r}else e.setPrivate("x",void 0)}))}}])}(oR);function pR(e){return pR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pR(e)}function vR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yR(r.key),r)}}function yR(e){var t=function(e,t){if("object"!=pR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pR(t)?t:t+""}function mR(e,t,n){return t=gR(t),function(e,t){if(t&&("object"==pR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bR()?Reflect.construct(t,n||[],gR(e).constructor):t.apply(e,n))}function bR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bR=function(){return!!e})()}function gR(e){return gR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gR(e)}function wR(e,t){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wR(e,t)}Object.defineProperty(dR,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(dR,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oR.classNames.concat([dR.className])});var _R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mR(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wR(e,t)}(t,e),function(e,t,n){return t&&vR(e.prototype,t),n&&vR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateContainer",value:function(e){var t=e.get("paddingTop",0),n=e.innerHeight(),r=0;iR(e,(function(e){if(e.isVisible()&&"relative"==e.get("position")){var t=e.get("height");if(t instanceof Oj){r+=t.value;var i=n*t.value,o=e.get("minHeight",e.getPrivate("minHeight",-1/0));o>i&&(n-=o,r-=t.value);var a=e.get("maxHeight",e.getPrivate("maxHeight",1/0));i>a&&(n-=a,r-=t.value)}else zj(t)||(t=e.height()),n-=t+e.get("marginTop",0)+e.get("marginBottom",0)}})),(n<=0||n==1/0)&&(n=.1),iR(e,(function(e){if(e.isVisible()&&"relative"==e.get("position")){var t=e.get("height");if(t instanceof Oj){var i=n*t.value/r-e.get("marginTop",0)-e.get("marginBottom",0),o=e.get("minHeight",e.getPrivate("minHeight",-1/0)),a=e.get("maxHeight",e.getPrivate("maxHeight",1/0));i=Math.min(Math.max(o,i),a),e.setPrivate("height",i)}else e._prevSettings.height instanceof Oj&&e.setPrivate("height",void 0)}}));var i=t;iR(e,(function(e){if("relative"==e.get("position"))if(e.isVisible()){var t=e.adjustedLocalBounds(),n=e.get("marginTop",0),r=t.top,o=t.bottom,a=e.get("maxHeight");a&&o-r>a&&(o=r+a);var s=e.get("marginBottom",0),l=i+n-r;e.setPrivate("y",l),i=l+o+s}else e.setPrivate("y",void 0)}))}}])}(oR);function kR(e){return kR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kR(e)}function xR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OR(r.key),r)}}function OR(e){var t=function(e,t){if("object"!=kR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kR(t)?t:t+""}function PR(e,t,n){return t=jR(t),function(e,t){if(t&&("object"==kR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SR()?Reflect.construct(t,n||[],jR(e).constructor):t.apply(e,n))}function SR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SR=function(){return!!e})()}function ER(){return ER="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=jR(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ER.apply(null,arguments)}function jR(e){return jR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jR(e)}function TR(e,t){return TR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TR(e,t)}Object.defineProperty(_R,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(_R,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oR.classNames.concat([_R.className])});var DR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PR(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TR(e,t)}(t,e),function(e,t,n){return t&&xR(e.prototype,t),n&&xR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._setRawDefault("maxColumns",Number.MAX_VALUE),function(e,t,n,r){var i=ER(jR(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([])}},{key:"updateContainer",value:function(e){var t=e.get("paddingLeft",0),n=e.get("paddingRight",0),r=e.get("paddingTop",0),i=e.maxWidth()-t-n,o=i,a=1;iR(e,(function(e){if(e.get("visible")&&e.getPrivate("visible")&&!e.get("forceHidden")&&"absolute"!=e.get("position")){var t=e.width();t<o&&(o=t),t>a&&(a=t)}})),o=pC(o,1,i),a=pC(a,1,i);var s=1;s=this.get("fixedWidthGrid")?i/a:i/o,s=Math.max(1,Math.floor(s)),s=Math.min(this.get("maxColumns",Number.MAX_VALUE),s);var l=this.getColumnWidths(e,s,a,i),u=r,c=0,f=0;s=l.length;var h=t;iR(e,(function(e){if("relative"==e.get("position")&&e.isVisible()){var n=e.get("marginTop",0),r=e.get("marginBottom",0),i=e.adjustedLocalBounds(),o=e.get("marginLeft",0),a=e.get("marginRight",0),d=h+o-i.left,p=u+n-i.top;e.setPrivate("x",d),e.setPrivate("y",p),h+=l[c]+a,f=Math.max(f,e.height()+n+r),++c>=s&&(c=0,h=t,u+=f)}}))}},{key:"getColumnWidths",value:function(e,t,n,r){var i=this,o=0,a=[],s=0;return iR(e,(function(r){var o=r.adjustedLocalBounds();"absolute"!=r.get("position")&&r.isVisible()&&(i.get("fixedWidthGrid")?a[s]=n:a[s]=Math.max(0|a[s],o.right-o.left+r.get("marginLeft",0)+r.get("marginRight",0)),s<e.children.length-1&&++s==t&&(s=0))})),Wj(a,(function(e){o+=e})),o>r?t>2?(t-=1,this.getColumnWidths(e,t,n,r)):[r]:a}}])}(oR);function AR(e){return AR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AR(e)}function CR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MR(r.key),r)}}function MR(e){var t=function(e,t){if("object"!=AR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AR(t)?t:t+""}Object.defineProperty(DR,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(DR,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oR.classNames.concat([DR.className])});var LR=function(){return function(e,t,n){return t&&CR(e.prototype,t),n&&CR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),null,[{key:"escape",value:function(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}},{key:"unescape",value:function(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}},{key:"cleanUp",value:function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}},{key:"chunk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];e=this.escape(e);for(var i=t?e.split("'"):[e],o=0;o<i.length;o++){var a=i[o];if(""!==a)if(o%2==0)for(var s=(a=(a=a.replace(/\]\[/g,"]"+Hj+"[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),l=0;l<s.length;l++){var u=this.cleanUp(this.unescape(s[l]));u!==Hj&&(""!==u&&(l%2==0?r.push({type:"value",text:u}):r.push({type:n?"value":"format",text:"["+u+"]"})))}else for(var c=a.split(/[\[\]]+/),f=0;f<c.length;f++){var h=this.cleanUp(this.unescape(c[f]));""!==h&&(f%2==0?r.push({type:"text",text:h}):this.isImage(h)?r.push({type:"image",text:"["+h+"]"}):r.push({type:"format",text:"["+h+"]"}))}}return r}},{key:"isImage",value:function(e){return!!e.match(/img[ ]?:/)}},{key:"getTextStyle",value:function(e){var t={};if(""==e||"[ ]"==e)return{};var n=e.match(/('[^']*')|("[^"]*")/gi);if(n)for(var r=0;r<n.length;r++)e=e.replace(n[r],n[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var i=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!i)return{};for(var o=0;o<i.length;o++)if(i[o].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))t.fontWeight=i[o];else if(i[o].match(/^(underline|line-through)$/i))t.textDecoration=i[o];else if("/"==i[o]);else if(i[o].match(/:/)){var a=i[o].replace("+"," ").split(/:[ ]*/);t[a[0]]=a[1]}else t.fill=_A.fromString(i[o]);return t}}])}();function RR(e,t){if(null!=t){t=""+t;var n,r=(t=LR.escape(t)).match(/\{([^}]+)\}/g);if(r)for(n=0;n<r.length;n++){var i=IR(e,r[n].replace(/\{([^}]+)\}/,"$1"),"");null==i&&(i=""),t=t.split(r[n]).join(i)}t=LR.unescape(t)}else t="";return t}function IR(e,t,n){for(var r,i,o=e.dataItem,a=[],s=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g;null!==(i=s.exec(t));)if(i[3]){a.push({prop:i[3]});var l=e.getDateFormatter().get("dateFields",[]),u=e.getNumberFormatter().get("numericFields",[]),c=e.getDurationFormatter().get("durationFields",[]);-1!==l.indexOf(i[3])?a.push({method:"formatDate",params:[]}):-1!==u.indexOf(i[3])?a.push({method:"formatNumber",params:[]}):-1!==c.indexOf(i[3])&&a.push({method:"formatDuration",params:[]})}else{var f=[];if(""!=BD(i[2]))for(var h=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d=void 0;null!==(d=h.exec(i[2]));)f.push(d[1]||d[2]||d[3]);a.push({method:i[1],params:f})}if(o){(null==(r=BR(e,a,o._settings))||Vj(r))&&(r=BR(e,a,o));var p=o.dataContext;null==r&&p&&(null==(r=BR(e,a,p))&&(r=BR(e,[{prop:t}],p)),null==r&&p.dataContext&&(r=BR(e,a,p.dataContext))),null==r&&o.component&&o.component.dataItem!==o&&(r=IR(o.component,t,n))}return null==r&&(r=BR(e,a,e)),null==r&&e.parent&&(r=IR(e.parent,t,n)),r}function NR(e,t){var n=e.getPrivate("customData");if(Vj(n))return n[t]}function BR(e,t,n,r){for(var i=n,o=!1,a=0,s=t.length;a<s;a++){var l=t[a];if(l.prop){if(i instanceof lL){var u=i.get(l.prop);null==u&&(u=i.getPrivate(l.prop)),null==u&&(u=NR(i,l.prop)),null==u&&(u=i[l.prop]),i=u}else if(i.get){var c=i.get(l.prop);null==c&&(c=i[l.prop]),i=c}else i=i[l.prop];if(null==i)return}else switch(l.method){case"formatNumber":var f=Lj(i);null!=f&&(i=e.getNumberFormatter().format(f,r||l.params[0]||void 0),o=!0);break;case"formatDate":var h=Rj(i);if(!Bj(h)||Aj(h.getTime()))return;null!=h&&(i=e.getDateFormatter().format(h,r||l.params[0]||void 0),o=!0);break;case"formatDuration":var d=Lj(i);null!=d&&(i=e.getDurationFormatter().format(d,r||l.params[0]||void 0,l.params[1]||void 0),o=!0);break;case"urlEncode":case"encodeURIComponent":i=encodeURIComponent(i);break;default:i[l.method]&&i[l.method].apply(n,l.params)}}if(!o){var p=[{method:"",params:r}];if(null==r)zj(i)?(p[0].method="formatNumber",p[0].params=""):Bj(i)&&(p[0].method="formatDate",p[0].params="");else{var v=zD(r);"number"===v?p[0].method="formatNumber":"date"===v?p[0].method="formatDate":"duration"===v&&(p[0].method="formatDuration")}p[0].method&&(i=BR(e,p,i))}return i}function FR(e){return FR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FR(e)}function zR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VR(r.key),r)}}function VR(e){var t=function(e,t){if("object"!=FR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FR(t)?t:t+""}function qR(e,t,n){return t=GR(t),function(e,t){if(t&&("object"==FR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HR()?Reflect.construct(t,n||[],GR(e).constructor):t.apply(e,n))}function HR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HR=function(){return!!e})()}function YR(e,t,n,r){var i=UR(GR(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function UR(){return UR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=GR(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},UR.apply(null,arguments)}function GR(e){return GR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GR(e)}function XR(e,t){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XR(e,t)}Object.defineProperty(LR,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});var WR=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=qR(this,t,arguments),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeContainer()}),Object.defineProperty(e,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeContainer()}),Object.defineProperty(e,"children",{enumerable:!0,configurable:!0,writable:!0,value:new oC(e)}),Object.defineProperty(e,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XR(e,t)}(t,e),function(e,t,n){return t&&zR(e.prototype,t),n&&zR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){YR(t,"_afterNew",this,3)([]),this._display.addChild(this._childrenDisplay)}},{key:"_dispose",value:function(){$j(this.allChildren(),(function(e){e.dispose()})),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),YR(t,"_dispose",this,3)([])}},{key:"_changed",value:function(){if(YR(t,"_changed",this,3)([]),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each((function(e){e.removePrivate("x"),e.removePrivate("y")}))),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each((function(e){e.markDirtyPosition()})),this.isDirty("maskContent")){var e=this._childrenDisplay,n=this._contentMask;this.get("maskContent")?n||(n=KL.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=n,e.addChildAt(n._display,0),e.mask=n._display):n&&(e.removeChild(n._display),e.mask=null,n.dispose(),this._contentMask=void 0)}}},{key:"_updateSize",value:function(){YR(t,"_updateSize",this,3)([]),Wj(this._percentageSizeChildren,(function(e){e._updateSize()})),Wj(this._percentagePositionChildren,(function(e){e.markDirtyPosition(),e._updateSize()})),this.updateBackground()}},{key:"updateBackground",value:function(){var e=this.get("background"),t=this._localBounds;if(t&&!this.isHidden()){var n=t.left,r=t.top,i=t.right-n,o=t.bottom-r,a=this.get("maxWidth"),s=this.get("maxHeight");s&&o>s&&(o=s),a&&i>a&&(i=a);var l=this.width(),u=this.height();e&&(e.setAll({width:i,height:o,x:n,y:r}),this._display.interactive&&(e._display.interactive=!0));var c=this._contentMask;c&&c.setAll({width:l+1,height:u+1});var f=this.get("verticalScrollbar");if(f){f.set("height",u),f.set("x",l-f.width()-f.get("marginRight",0)),f.set("end",f.get("start",0)+u/this._contentHeight);var h=f.get("background");h&&h.setAll({width:f.width(),height:u});var d=!0;this._contentHeight<=u&&(d=!1),f.setPrivate("visible",d)}}}},{key:"_applyThemes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!YR(t,"_applyThemes",this,3)([e])&&(this.eachChildren((function(t){t._applyThemes(e)})),!0)}},{key:"_applyState",value:function(e){YR(t,"_applyState",this,3)([e]),this.get("setStateOnChildren")&&this.eachChildren((function(t){t.states.apply(e)}))}},{key:"_applyStateAnimated",value:function(e,n){YR(t,"_applyStateAnimated",this,3)([e,n]),this.get("setStateOnChildren")&&this.eachChildren((function(t){t.states.applyAnimate(e,n)}))}},{key:"innerWidth",value:function(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}},{key:"innerHeight",value:function(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}},{key:"_getBounds",value:function(){if(this.get("html")){var e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{var t=this.get("width"),n=this.get("height"),r=this.getPrivate("width"),i=this.getPrivate("height"),o={left:0,top:0,right:this.width(),bottom:this.height()},a=this.get("layout"),s=!1,l=!1;if((a instanceof dR||a instanceof DR)&&(s=!0),a instanceof _R&&(l=!0),null==t&&null==r||null==n&&null==i||this.get("verticalScrollbar")){var u=Number.MAX_VALUE,c=u,f=-u,h=u,d=-u,p=this.get("paddingLeft",0),v=this.get("paddingTop",0),y=this.get("paddingRight",0),m=this.get("paddingBottom",0);this.children.each((function(e){if("absolute"!=e.get("position")&&e.get("isMeasured")){var t=e.adjustedLocalBounds(),n=e.x(),r=e.y(),i=n+t.left,o=n+t.right,a=r+t.top,u=r+t.bottom;s&&(i-=e.get("marginLeft",0),o+=e.get("marginRight",0)),l&&(a-=e.get("marginTop",0),u+=e.get("marginBottom",0)),i<c&&(c=i),o>f&&(f=o),a<h&&(h=a),u>d&&(d=u)}})),c==u&&(c=0),f==-u&&(f=0),h==u&&(h=0),d==-u&&(d=0),o.left=c-p,o.top=h-v,o.right=f+y,o.bottom=d+m;var b=this.get("minWidth");zj(b)&&b>0&&o.right-o.left<b&&(o.right>=b?o.left=o.right-b:o.right=o.left+b);var g=this.get("minHeight");zj(g)&&g>0&&o.bottom-o.top<g&&(o.bottom>=g?o.top=o.bottom-g:o.bottom=o.top+g)}else;this._contentWidth=o.right-o.left,this._contentHeight=o.bottom-o.top,zj(t)&&(o.left=0,o.right=t),zj(r)&&(o.left=0,o.right=r),zj(n)&&(o.top=0,o.bottom=n),zj(i)&&(o.top=0,o.bottom=i),this._localBounds=o}}},{key:"_updateBounds",value:function(){var e=this.get("layout");e&&e.updateContainer(this),YR(t,"_updateBounds",this,3)([]),this.updateBackground()}},{key:"markDirty",value:function(){YR(t,"markDirty",this,3)([]),this._root._addDirtyParent(this)}},{key:"_prepareChildren",value:function(){var e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){var n=this.get("layout"),r=!1,i=!1;n&&((n instanceof dR||n instanceof DR)&&(r=!0),n instanceof _R&&(i=!0)),Wj(this._percentageSizeChildren,(function(n){if(!r){var o=n.get("width");o instanceof Oj&&n.setPrivate("width",o.value*e)}if(!i){var a=n.get("height");a instanceof Oj&&n.setPrivate("height",a.value*t)}})),Wj(this._percentagePositionChildren,(function(e){e.markDirtyPosition(),e.markDirtyBounds()})),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}},{key:"_updateHTMLContent",value:function(){var e=this.get("html","");e&&""!==e?this._root._setHTMLContent(this,RR(this,e)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}},{key:"scrollToChild",value:function(e){var t=this.get("verticalScrollbar");if(t){var n=e.y(),r=this.innerHeight(),i=e.height(),o=this._contentHeight,a=1-(r-i/2)/o;if(n+.7*i+this._childrenDisplay.y>r||n-.3*i+this._childrenDisplay.y<0){var s=Math.max(0,Math.min(a,(n-i/2)/o));t.animate({key:"start",to:s,duration:t.get("animationDuration",0),easing:t.get("animationEasing")})}}}},{key:"_updateChildren",value:function(){var e=this;if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){var t=this.get("verticalScrollbar");if(t){t._setParent(this),t.startGrip.setPrivate("visible",!1),t.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));var n=this.get("background");n||(n=this.set("background",KL.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",(function(n){var r=n.originalEvent;if(kD(r,e)){r.preventDefault();var i=r.deltaY/5e3,o=t.get("start",0),a=t.get("end",1);o+i<=0&&(i=-o),a+i>=1&&(i=1-a),o+i>=0&&a+i<=1&&(t.set("start",o+i),t.set("end",a+i))}})),this._disposers.push(this._vsbd0),this._vsbd1=t.events.on("rangechanged",(function(){var n=e._contentHeight,r=e._childrenDisplay,i=e._contentMask;r.y=-t.get("start",0)*n,r.markDirtyLayer(),i&&(i._display.y=-r.y,r.mask=i._display)})),this._disposers.push(this._vsbd1),this._display.addChild(t._display)}else{var r=this._prevSettings.verticalScrollbar;if(r)this._display.removeChild(r._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose(),this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}if(this.isDirty("background")){var i=this._prevSettings.background;i&&this._display.removeChild(i._display);var o=this.get("background");o instanceof lL&&(o.set("isMeasured",!1),o._setParent(this),this._display.addChildAt(o._display,0))}if(this.isDirty("mask")){var a=this.get("mask"),s=this._prevSettings.mask;if(s&&(this._display.removeChild(s._display),s!=a&&s.dispose()),a){var l=a.parent;l&&l.children.removeValue(a),a._setParent(this),this._display.addChildAt(a._display,0),this._childrenDisplay.mask=a._display}}}},{key:"_processTemplateField",value:function(){YR(t,"_processTemplateField",this,3)([]),this.children.each((function(e){e._processTemplateField()}))}},{key:"walkChildren",value:function(e){this.children.each((function(n){n instanceof t&&n.walkChildren(e),e(n)}))}},{key:"eachChildren",value:function(e){var t=this.get("background");t&&e(t);var n=this.get("verticalScrollbar");n&&e(n);var r=this.get("mask");r&&e(r),this.children.values.forEach((function(t){e(t)}))}},{key:"allChildren",value:function(){var e=[];return this.eachChildren((function(t){e.push(t)})),e}},{key:"_setDataItem",value:function(e){var n=e!==this._dataItem;YR(t,"_setDataItem",this,3)([e]);var r=this.get("html","");r&&""!==r&&n&&this._root._setHTMLContent(this,RR(this,r))}}])}(lL);function $R(e){return $R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$R(e)}function KR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZR(r.key),r)}}function ZR(e){var t=function(e,t){if("object"!=$R(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$R(t)?t:t+""}function JR(e,t,n){return t=nI(t),function(e,t){if(t&&("object"==$R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QR()?Reflect.construct(t,n||[],nI(e).constructor):t.apply(e,n))}function QR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QR=function(){return!!e})()}function eI(e,t,n,r){var i=tI(nI(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function tI(){return tI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=nI(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tI.apply(null,arguments)}function nI(e){return nI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nI(e)}function rI(e,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rI(e,t)}Object.defineProperty(WR,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(WR,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lL.classNames.concat([WR.className])});var iI=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=JR(this,t,arguments),Object.defineProperty(e,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeTextStyle()}),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeText("",e.textStyle)}),Object.defineProperty(e,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(e,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rI(e,t)}(t,e),function(e,t,n){return t&&KR(e.prototype,t),n&&KR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_updateBounds",value:function(){if(this.get("text")){eI(t,"_updateBounds",this,3)([]);var e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{this._adjustedLocalBounds={left:0,right:0,top:0,bottom:0}}}},{key:"_changed",value:function(){var e=this;eI(t,"_changed",this,3)([]),this._display.clear();var n=this.textStyle;if(this.isDirty("opacity")){var r=this.get("opacity",1);this._display.alpha=r}((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement"))&&(this.getPrivate("tooltipElement")&&this._disposers.push(new UT((function(){e._root._removeTooltipElement(e)}))));if(this.isDirty("width")&&(n.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(n.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(n.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(n.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(n.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(n.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){var i=this.get("fill"),o=this.get("fillGradient"),a=this.get("fillOpacity");if(o){if(i){var s=o.get("stops",[]);s.length&&Wj(s,(function(e){e.color&&!e.colorInherited||!i||(e.color=i,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=a,e.opacityInherited=!0)}))}n.fill=o.getFill(this)}else i&&(n.fill=i)}if(this.isDirty("fillOpacity")){var l=this.get("fillOpacity",1);l&&(n.fillOpacity=l)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(n.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(n.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),Wj(this._textStyles,(function(t){e._dirty[t]&&(n[t]=e.get(t),e.markDirtyBounds())})),n.fontSize=this.get("fontSize"),n.fontFamily=this.get("fontFamily"),this._display.style=n,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}},{key:"_getText",value:function(){var e=this.get("text","");return this.get("maxChars")&&(e=FD(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?RR(this,e):e}},{key:"_getAccessibleText",value:function(){var e=this.get("ariaLabel");return void 0!==e?this.get("populateText")?RR(this,e):e:this._getText()}},{key:"markDirtyText",value:function(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}},{key:"_setDataItem",value:function(e){eI(t,"_setDataItem",this,3)([e]),this.get("populateText")&&this.markDirtyText()}},{key:"getNumberFormatter",value:function(){return this.parent?this.parent.getNumberFormatter():eI(t,"getNumberFormatter",this,3)([])}},{key:"getDateFormatter",value:function(){return this.parent?this.parent.getDateFormatter():eI(t,"getDateFormatter",this,3)([])}},{key:"getDurationFormatter",value:function(){return this.parent?this.parent.getDurationFormatter():eI(t,"getDurationFormatter",this,3)([])}}])}(lL);function oI(e){return oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oI(e)}function aI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uI(r.key),r)}}function lI(e,t,n){return t&&sI(e.prototype,t),n&&sI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uI(e){var t=function(e,t){if("object"!=oI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oI(t)?t:t+""}Object.defineProperty(iI,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(iI,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lL.classNames.concat([iI.className])});var cI=function(){return lI((function e(){var t=this;aI(this,e),Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver((function(e){Wj(e,(function(e){Wj(t._targets,(function(t){t.target===e.target&&t.callback()}))}))}))}),[{key:"addTarget",value:function(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}},{key:"removeTarget",value:function(e){this._observer.unobserve(e),xT(this._targets,(function(t){return t.target!==e}))}}])}(),fI=function(){function e(){aI(this,e),Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return lI(e,[{key:"addTarget",value:function(t,n){var r=this;if(null===this._timer){var i=null,o=function(){var t=Date.now();(null===i||t>i+e.delay)&&(i=t,Wj(r._targets,(function(e){var t=e.target.getBoundingClientRect();t.width===e.size.width&&t.height===e.size.height||(e.size=t,e.callback())}))),0===r._targets.length?r._timer=null:r._timer=requestAnimationFrame(o)};this._timer=requestAnimationFrame(o)}this._targets.push({target:t,callback:n,size:{width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0}})}},{key:"removeTarget",value:function(e){xT(this._targets,(function(t){return t.target!==e})),0===this._targets.length&&null!==this._timer&&(cancelAnimationFrame(this._timer),this._timer=null)}}])}();Object.defineProperty(fI,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});var hI=null;var dI=function(){return lI((function e(t,n){aI(this,e),Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=(null===hI&&(hI="undefined"!=typeof ResizeObserver?new cI:new fI),hI),this._element=t,this._listener=fD(n),this._sensor.addTarget(t,n)}),[{key:"isDisposed",value:function(){return this._disposed}},{key:"dispose",value:function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}},{key:"sensor",get:function(){return this._sensor}}])}();function pI(e){return pI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pI(e)}function vI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yI(r.key),r)}}function yI(e){var t=function(e,t){if("object"!=pI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pI(t)?t:t+""}function mI(e,t,n){return t=gI(t),function(e,t){if(t&&("object"==pI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bI()?Reflect.construct(t,n||[],gI(e).constructor):t.apply(e,n))}function bI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bI=function(){return!!e})()}function gI(e){return gI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gI(e)}function wI(e,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wI(e,t)}var _I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mI(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wI(e,t)}(t,e),function(e,t,n){return t&&vI(e.prototype,t),n&&vI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(NM);function kI(e){return kI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kI(e)}function xI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OI(r.key),r)}}function OI(e){var t=function(e,t){if("object"!=kI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kI(t)?t:t+""}function PI(e,t,n){return t=TI(t),function(e,t){if(t&&("object"==kI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SI()?Reflect.construct(t,n||[],TI(e).constructor):t.apply(e,n))}function SI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SI=function(){return!!e})()}function EI(e,t,n,r){var i=jI(TI(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function jI(){return jI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=TI(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jI.apply(null,arguments)}function TI(e){return TI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TI(e)}function DI(e,t){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},DI(e,t)}Object.defineProperty(_I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(_I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([_I.className])});var AI=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=PI(this,t,arguments),Object.defineProperty(e,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DI(e,t)}(t,e),function(e,t,n){return t&&xI(e.prototype,t),n&&xI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"text",get:function(){return this._text}},{key:"_afterNew",value:function(){var e=this;EI(t,"_afterNew",this,3)([]),this._makeText(),Wj(this._textKeys,(function(t){var n=e.get(t);null!=n&&e._text.set(t,n)})),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",(function(){e._setMaxDimentions()})),this.onPrivate("maxHeight",(function(){e._setMaxDimentions()}))}},{key:"_makeText",value:function(){this._text=this.children.push(iI.new(this._root,{}))}},{key:"_updateChildren",value:function(){var e=this;EI(t,"_updateChildren",this,3)([]);var n=this._text;if(Wj(this._textKeys,(function(t){e._text.set(t,e.get(t))})),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),""!==this.get("html","")?n.set("text",""):(n.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){var r,i=this.get("textAlign");null!=this.get("width")?r="right"==i?Ej:"center"==i?jj:0:"left"==i||"start"==i?r=this.get("paddingLeft",0):"right"!=i&&"end"!=i||(r=-this.get("paddingRight",0)),n.set("x",r)}var o=this.get("background");o&&o.setPrivate("visible",n._display.textVisible)}},{key:"_maybeUpdateHTMLColor",value:function(){var e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}},{key:"_setMaxDimentions",value:function(){var e=this.get("rotation"),t=90==e||270==e||-90==e,n=this._text,r=this.get("maxWidth",this.getPrivate("maxWidth",1/0));zj(r)?n.set(t?"maxHeight":"maxWidth",r-this.get("paddingTop",0)-this.get("paddingBottom",0)):n.set(t?"maxHeight":"maxWidth",void 0);var i=this.get("maxHeight",this.getPrivate("maxHeight",1/0));zj(i)?n.set(t?"maxWidth":"maxHeight",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):n.set(t?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",(function(){n.markDirtyBounds()}))}},{key:"_setDataItem",value:function(e){EI(t,"_setDataItem",this,3)([e]),this._markDirtyKey("text"),this._markDirtyKey("html");var n=this._text;n.get("populateText")&&n.markDirtyText();var r=this.get("html");r&&""!==r&&this._updateHTMLContent()}},{key:"getText",value:function(){return this._text._getText()}},{key:"getAccessibleText",value:function(){return this._text._getAccessibleText()}}])}(WR);function CI(e){return CI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CI(e)}function MI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LI(r.key),r)}}function LI(e){var t=function(e,t){if("object"!=CI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CI(t)?t:t+""}function RI(e,t,n){return t=FI(t),function(e,t){if(t&&("object"==CI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,II()?Reflect.construct(t,n||[],FI(e).constructor):t.apply(e,n))}function II(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(II=function(){return!!e})()}function NI(e,t,n,r){var i=BI(FI(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function BI(){return BI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=FI(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},BI.apply(null,arguments)}function FI(e){return FI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FI(e)}function zI(e,t){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zI(e,t)}Object.defineProperty(AI,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(AI,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([AI.className])});var VI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),RI(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zI(e,t)}(t,e),function(e,t,n){return t&&MI(e.prototype,t),n&&MI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){NI(t,"_beforeChanged",this,3)([]),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(NI(t,"_changed",this,3)([]),this._clear){this.markDirtyBounds();var e=this.width(),n=this.height();if(e>0&&n>0){var r=this.get("cornerRadius",8);r=pC(r,0,Math.min(e/2,n/2));var i=this.get("pointerX",0),o=this.get("pointerY",0),a=this.get("pointerBaseWidth",15)/2,s=(i-0)*(n-0)-(o-0)*(e-0),l=(i-0)*(0-n)-(o-n)*(e-0),u=this._display;if(u.moveTo(r,0),s>0&&l>0){var c=Math.round(pC(i,r+a,e-a-r));o=pC(o,-1/0,0),u.lineTo(c-a,0),u.lineTo(i,o),u.lineTo(c+a,0)}if(u.lineTo(e-r,0),u.arcTo(e,0,e,r,r),s>0&&l<0){var f=Math.round(pC(o,r+a,n-a-r));i=pC(i,e,1/0),u.lineTo(e,r),u.lineTo(e,Math.max(f-a,r)),u.lineTo(i,o),u.lineTo(e,f+a)}if(u.lineTo(e,n-r),u.arcTo(e,n,e-r,n,r),s<0&&l<0){var h=Math.round(pC(i,r+a,e-a-r));o=pC(o,n,1/0),u.lineTo(e-r,n),u.lineTo(h+a,n),u.lineTo(i,o),u.lineTo(h-a,n)}if(u.lineTo(r,n),u.arcTo(0,n,0,n-r,r),s<0&&l>0){var d=Math.round(pC(o,r+a,n-r-a));i=pC(i,-1/0,0),u.lineTo(0,n-r),u.lineTo(0,d+a),u.lineTo(i,o),u.lineTo(0,Math.max(d-a,r))}u.lineTo(0,r),u.arcTo(0,0,r,0,r),u.closePath()}}}}])}(zL);function qI(e){return qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qI(e)}function HI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YI(r.key),r)}}function YI(e){var t=function(e,t){if("object"!=qI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qI(t)?t:t+""}function UI(e,t,n){return t=$I(t),function(e,t){if(t&&("object"==qI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GI()?Reflect.construct(t,n||[],$I(e).constructor):t.apply(e,n))}function GI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(GI=function(){return!!e})()}function XI(e,t,n,r){var i=WI($I(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function WI(){return WI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$I(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},WI.apply(null,arguments)}function $I(e){return $I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$I(e)}function KI(e,t){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KI(e,t)}Object.defineProperty(VI,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(VI,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([VI.className])});var ZI=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=UI(this,t,[e,n,r,o]),Object.defineProperty(i,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(i,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KI(e,t)}(t,e),function(e,t,n){return t&&HI(e.prototype,t),n&&HI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;this._settings.themeTags=dA(this._settings.themeTags,["tooltip"]),XI(t,"_afterNew",this,3)([]),this._setDefaultFn("background",(function(){return VI.new(e._root,{})})).set("themeTags",["tooltip","background"]),this._label=this.children.push(AI.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",(function(){e._updateBackground()}))),this._disposers.push(this.on("bounds",(function(){e._updateBackground()}))),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",(function(t){t&&(e._disposers.push(cD(t,"pointerover",(function(t){e._htmlContentHovered=!0}))),e._disposers.push(cD(t,"pointerout",(function(t){e._htmlContentHovered=!1}))))}))),this.on("visible",(function(t){e._handleReaderAnnouncement()})),this.label.events.on("dataitemchanged",(function(t){e._handleReaderAnnouncement()})),this._root._tooltips.push(this)}},{key:"_handleReaderAnnouncement",value:function(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}},{key:"label",get:function(){return this._label}},{key:"_dispose",value:function(){XI(t,"_dispose",this,3)([]),rT(this._root._tooltips,this)}},{key:"_updateChildren",value:function(){XI(t,"_updateChildren",this,3)([]),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML")),null!=this.get("labelAriaLabel")&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}},{key:"_changed",value:function(){var e=this;if(XI(t,"_changed",this,3)([]),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){var n=this.get("background");this._keepHoverDp=new XT([n.events.on("pointerover",(function(t){var n=e.get("tooltipTarget");n&&(n.parent&&n.parent.getPrivate("tooltipTarget")==n&&(n=n.parent),n.hover())})),n.events.on("pointerout",(function(t){var n=e.get("tooltipTarget");n&&(n.parent&&n.parent.getPrivate("tooltipTarget")==n&&(n=n.parent),e._htmlContentHovered||n.unhover())}))]),this.label.onPrivate("htmlElement",(function(t){e._keepHoverDp&&t&&e._keepHoverDp.disposers.push(cD(t,"pointerleave",(function(t){var r=e.root._renderer.getEvent(t);n.events.dispatch("pointerout",{type:"pointerout",originalEvent:r.event,point:r.point,simulated:!1,target:n})})))}))}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}},{key:"_onShow",value:function(){XI(t,"_onShow",this,3)([]),this.updateBackgroundColor()}},{key:"updateBackgroundColor",value:function(){var e,t,n=this,r=this.get("tooltipTarget"),i=this.get("background");r&&i&&(e=r.get("fill"),t=r.get("stroke"),null==e&&(e=t),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=e&&i.set("fill",e),this._fillDp=r.on("fill",(function(e){null!=e&&(i.set("fill",e),n._updateTextColor(e))})),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=e&&i.set("stroke",e),this._strokeDp=r.on("fill",(function(e){null!=e&&i.set("stroke",e)})),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=e&&this.label.set("fill",e),this._labelDp=r.on("fill",(function(e){null!=e&&n.label.set("fill",e)})),this._disposers.push(this._labelDp))),this._updateTextColor(e)}},{key:"_updateTextColor",value:function(e){this.get("autoTextColor")&&(null==e&&(e=this.get("background").get("fill")),null==e&&(e=this._root.interfaceColors.get("background")),e instanceof _A&&this.label.set("fill",_A.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}},{key:"_setDataItem",value:function(e){XI(t,"_setDataItem",this,3)([e]),this.label._setDataItem(e)}},{key:"_updateBackground",value:function(){XI(t,"updateBackground",this,3)([]);var e=this._root.container;if(e){var n=.5,r=.5,i=this.get("centerX");i instanceof Oj&&(n=i.value);var o=this.get("centerY");o instanceof Oj&&(r=o.value);var a=e.width(),s=e.height(),l=this.parent,u=0,c=0;if(l){u=l.x(),c=l.y();var f=l.get("layerMargin");f&&(u+=f.left||0,c+=f.top||0,a+=(f.left||0)+(f.right||0),s+=(f.top||0)+(f.bottom||0))}var h=this.get("bounds",{left:-u,top:-c,right:a-u,bottom:s-c});this._updateBounds();var d=this.width(),p=this.height();0===d&&(d=this._w),0===p&&(p=this._h);var v=this.get("pointTo",{x:a/2,y:s/2}),y=v.x,m=v.y,b=this.get("pointerOrientation"),g=this.get("background"),w=0,_=0,k=0;g instanceof VI&&(w=g.get("pointerLength",0),k=_=g.get("strokeWidth",0)/2,g.set("width",d),g.set("height",p));var x,O,P=h.right-h.left,S=h.bottom-h.top;"horizontal"==b||"left"==b||"right"==b?(_=0,"horizontal"==b?y>h.left+P/2?(y-=d*(1-n)+w,k*=-1):y+=d*n+w:"left"==b?y+=d*(1-n)+w:(y-=d*n+w,k*=-1)):(k=0,"vertical"==b?m>h.top+p/2+w?m-=p*(1-r)+w:(m+=p*r+w,_*=-1):"down"==b?m-=p*(1-r)+w:(m+=p*r+w,_*=-1)),y=pC(y,h.left+d*n,h.left+P-d*(1-n))+k,m=pC(m,h.top+p*r,h.top+S-p*(1-r))-_,x=v.x-y+d*n+k,O=v.y-m+p*r-_,this._fx=y,this._fy=m;var E=this.get("animationDuration",0);if(E>0&&this.get("visible")&&this.get("opacity")>.1){var j=this.get("animationEasing");this.animate({key:"x",to:y,duration:E,easing:j}),this.animate({key:"y",to:m,duration:E,easing:j})}else this.set("x",y),this.set("y",m);g instanceof VI&&(g.set("pointerX",x),g.set("pointerY",O)),d>0&&(this._w=d),p>0&&(this._h=p)}}}])}(WR);function JI(e){return JI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JI(e)}function QI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eN(r.key),r)}}function eN(e){var t=function(e,t){if("object"!=JI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JI(t)?t:t+""}function tN(e,t,n){return t=oN(t),function(e,t){if(t&&("object"==JI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nN()?Reflect.construct(t,n||[],oN(e).constructor):t.apply(e,n))}function nN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nN=function(){return!!e})()}function rN(e,t,n,r){var i=iN(oN(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function iN(){return iN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=oN(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},iN.apply(null,arguments)}function oN(e){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oN(e)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aN(e,t)}Object.defineProperty(ZI,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(ZI,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([ZI.className])});var sN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tN(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}(t,e),function(e,t,n){return t&&QI(e.prototype,t),n&&QI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_setDefaults",value:function(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);var e="_big_number_suffix_",n="_small_number_suffix_",r="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(r+"B")},{number:1024,suffix:this._t(r+"KB")},{number:1048576,suffix:this._t(r+"MB")},{number:1073741824,suffix:this._t(r+"GB")},{number:1099511627776,suffix:this._t(r+"TB")},{number:0x4000000000000,suffix:this._t(r+"PB")}]),rN(t,"_setDefaults",this,3)([])}},{key:"_beforeChanged",value:function(){rN(t,"_beforeChanged",this,3)([])}},{key:"format",value:function(e,t,n){var r;(null==t||Fj(t)&&"number"===t.toLowerCase())&&(t=this.get("numberFormat",""));var i=Number(e);if(Vj(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(i):new Intl.NumberFormat(void 0,t).format(i)}catch(e){return"Invalid"}else{t=VD(t);var o,a=this.parseFormat(t,this._root.language);o=i>this.get("negativeBase")?a.positive:i<this.get("negativeBase")?a.negative:a.zero,null==n||o.mod||((o=ET(o)).decimals.active=0==i?0:n),r=o.template.split(Hj).join(this.applyFormat(i,o))}return!0===this.get("forceLTR")&&(r="‎"+r),r}},{key:"parseFormat",value:function(e,t){var n=this,r=t.translateEmpty("_thousandSeparator"),i=t.translateEmpty("_decimalSeparator"),o={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:i},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:i},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:i},template:"",source:"",parsed:!1}},a=(e=e.replace("||",Yj)).split("|");return o.positive.source=a[0],void 0===a[2]?o.zero=o.positive:o.zero.source=a[2],void 0===a[1]?o.negative=o.positive:o.negative.source=a[1],jT(o,(function(e,t){if(!t.parsed){var r=t.source;"number"===r.toLowerCase()&&(r=n.get("numberFormat","#,###.#####"));for(var i=LR.chunk(r,!0),o=0;o<i.length;o++){var a=i[o];if(a.text=a.text.replace(Yj,"|"),"value"===a.type){var s=a.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(s)if(null===s||""===s[0])t.template+=a.text;else{var l=s[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);l&&(t.mod=l[0].toLowerCase(),t.modSpacing=!!s[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var u=s[0].split(".");if(""===u[0]);else{t.thousands.active=(u[0].match(/0/g)||[]).length,t.thousands.passive=(u[0].match(/\#/g)||[]).length+t.thousands.active;var c=u[0].split(",");1===c.length||(t.thousands.interval=(c.pop()||"").length,0===t.thousands.interval&&(t.thousands.interval=-1))}void 0===u[1]||(t.decimals.active=(u[1].match(/0/g)||[]).length,t.decimals.passive=(u[1].match(/\#/g)||[]).length+t.decimals.active),t.template+=a.text.split(s[0]).join(Hj)}}else t.template+=a.text}t.parsed=!0}})),o}},{key:"applyFormat",value:function(e,t){var n=e<0;e=Math.abs(e);var r,i="",o="",a=t.mod?t.mod.split(""):[];if(-1!==a.indexOf("b")){var s=this.applyPrefix(e,this.get("bytePrefixes"),-1!==a.indexOf("!"));e=s[0],i=s[1],o=s[2],t.modSpacing&&(o=" "+o)}else if(-1!==a.indexOf("a")){var l=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),-1!==a.indexOf("!"));e=l[0],i=l[1],o=l[2],t.modSpacing&&(o=" "+o)}else if(-1!==a.indexOf("p")){var u=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(u)),i=this._root.language.translate("_percentPrefix"),o=this._root.language.translate("_percentSuffix"),""==i&&""==o&&(o="%")}else if(-1!==a.indexOf("%")){var c=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(c)),o="%"}else if(-1!==a.indexOf("‰")){var f=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(f)),o="‰"}if(-1!==a.indexOf("e"))r=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(r[0]),o="e"+r[1],t.modSpacing&&(o=" "+o);else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){var h=LD(e);if(h>0){var d=Math.pow(10,t.decimals.passive);e=Math.round(parseFloat((e*d).toFixed(h)))/d}}var p="",v=Ij(e).split("."),y=v[0];if(y.length<t.thousands.active&&(y=Array(t.thousands.active-y.length+1).join("0")+y),t.thousands.interval>0){for(var m=[],b=y.split("").reverse().join(""),g=0,w=y.length;g<=w;g+=t.thousands.interval){var _=b.substr(g,t.thousands.interval).split("").reverse().join("");""!==_&&m.unshift(_)}y=m.join(t.thousands.separator)}p+=y,1===v.length&&v.push("");var k=v[1];return k.length<t.decimals.active&&(k+=Array(t.decimals.active-k.length+1).join("0")),""!==k&&(p+=t.decimals.separator+k),""===p&&(p="0"),0!==e&&n&&-1===a.indexOf("s")&&(p="-"+p),i&&(p=i+p),o&&(p+=o),p}},{key:"applyPrefix",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e,i="",o="",a=!1,s=1,l=0,u=t.length;l<u;l++)t[l].number<=e&&(0===t[l].number?r=0:(r=e/t[l].number,s=t[l].number),i=t[l].prefix,o=t[l].suffix,a=!0);return!a&&n&&t.length&&0!=e&&(r=e/t[0].number,i=t[0].prefix,o=t[0].suffix,a=!0),a&&(r=parseFloat(r.toPrecision(Math.min(s.toString().length+Math.floor(r).toString().replace(/[^0-9]*/g,"").length,21)))),[r,i,o]}},{key:"escape",value:function(e){return e.replace("||",Yj)}},{key:"unescape",value:function(e){return e.replace(Yj,"|")}}])}(NM);function lN(e){return lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(e)}function uN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cN(r.key),r)}}function cN(e){var t=function(e,t){if("object"!=lN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lN(t)?t:t+""}function fN(e,t){var n=0,r=0,i=1,o=0,a=0,s=0,l=0,u=0;return e.formatToParts(t).forEach((function(e){switch(e.type){case"year":n=+e.value;break;case"month":r=+e.value-1;break;case"day":i=+e.value;break;case"hour":o=+e.value;break;case"minute":a=+e.value;break;case"second":s=+e.value;break;case"fractionalSecond":l=+e.value;break;case"weekday":switch(e.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6}}})),24===o&&(o=0),{year:n,month:r,day:i,hour:o,minute:a,second:s,millisecond:l,weekday:u}}function hN(e,t){var n=fN(e,t),r=n.year,i=n.month,o=n.day,a=n.hour,s=n.minute,l=n.second,u=n.millisecond;return Date.UTC(r,i,o,a,s,l,u)}var dN=function(){return function(e,t,n){return t&&uN(e.prototype,t),n&&uN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=t,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}),[{key:"convertLocal",value:function(e){var t=this.offsetUTC(e),n=e.getTimezoneOffset(),r=new Date(e);r.setUTCMinutes(r.getUTCMinutes()-(t-n));var i=r.getTimezoneOffset();return n!=i&&r.setUTCMinutes(r.getUTCMinutes()+i-n),r}},{key:"offsetUTC",value:function(e){return(hN(this._utc,e)-hN(this._dtf,e))/6e4}},{key:"parseDate",value:function(e){return fN(this._dtf,e)}}],[{key:"new",value:function(e){return new this(e,!0)}}])}();function pN(e){return pN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pN(e)}function vN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yN(r.key),r)}}function yN(e){var t=function(e,t){if("object"!=pN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pN(t)?t:t+""}function mN(e,t,n){return t=_N(t),function(e,t){if(t&&("object"==pN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bN()?Reflect.construct(t,n||[],_N(e).constructor):t.apply(e,n))}function bN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bN=function(){return!!e})()}function gN(e,t,n,r){var i=wN(_N(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function wN(){return wN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_N(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wN.apply(null,arguments)}function _N(e){return _N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_N(e)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kN(e,t)}var xN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mN(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}(t,e),function(e,t,n){return t&&vN(e.prototype,t),n&&vN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_setDefaults",value:function(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),gN(t,"_setDefaults",this,3)([])}},{key:"_beforeChanged",value:function(){gN(t,"_beforeChanged",this,3)([])}},{key:"format",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];void 0!==t&&""!==t||(t=this.get("dateFormat","yyyy-MM-dd"));var i=e;if(Vj(t))try{var o=this.get("intlLocales");return o?new Intl.DateTimeFormat(o,t).format(i):new Intl.DateTimeFormat(void 0,t).format(i)}catch(e){return"Invalid"}var a=this.parseFormat(t),s=this._root.timezone;return!s||this._root.utc||r||(i=s.convertLocal(i)),zj(i.getTime())?(n=this.applyFormat(i,a,r),this.get("capitalize")&&(n=n.replace(/^.{1}/,n.substr(0,1).toUpperCase())),n):"Invalid date"}},{key:"applyFormat",value:function(e,t){var n,r,i,o,a,s,l,u,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=t.template,h=e.getTime();this._root.utc&&!c?(n=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDay(),o=e.getUTCDate(),a=e.getUTCHours(),s=e.getUTCMinutes(),l=e.getUTCSeconds(),u=e.getUTCMilliseconds()):(n=e.getFullYear(),r=e.getMonth(),i=e.getDay(),o=e.getDate(),a=e.getHours(),s=e.getMinutes(),l=e.getSeconds(),u=e.getMilliseconds());for(var d=0,p=t.parts.length;d<p;d++){var v="";switch(t.parts[d]){case"G":v=this._t(n<0?"_era_bc":"_era_ad");break;case"yyyy":v=Math.abs(n).toString(),n<0&&(v+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":v=Math.abs(n).toString().substr(-t.parts[d].length),n<0&&(v+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var y=$D(e,this._root.utc);v="YYYY"==t.parts[d]?Math.abs(y).toString():Math.abs(y).toString().substr(-t.parts[d].length),y<0&&(v+=this._t("_era_bc"));break;case"u":case"F":case"g":break;case"q":v=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":v=this._t(this._getMonth(r)).substr(0,1);break;case"MMMM":v=this._t(this._getMonth(r));break;case"MMM":v=this._t(this._getShortMonth(r));break;case"MM":v=RD(r+1,2,"0");break;case"M":v=(r+1).toString();break;case"ww":v=RD(WD(e,this._root.utc),2,"0");break;case"w":v=WD(e,this._root.utc).toString();break;case"W":v=KD(e,this._root.utc).toString();break;case"dd":v=RD(o,2,"0");break;case"d":v=o.toString();break;case"DD":case"DDD":v=RD(XD(e,this._root.utc).toString(),t.parts[d].length,"0");break;case"D":v=XD(e,this._root.utc).toString();break;case"t":v=this._root.language.translateFunc("_dateOrd").call(this,o);break;case"E":v=(i||7).toString();break;case"EE":v=RD((i||7).toString(),2,"0");break;case"EEE":case"eee":v=this._t(this._getShortWeekday(i));break;case"EEEE":case"eeee":v=this._t(this._getWeekday(i));break;case"EEEEE":case"eeeee":v=this._t(this._getShortWeekday(i)).substr(0,1);break;case"e":case"ee":v=(i-(this._root.locale.firstDayOfWeek||1)+1).toString(),"ee"==t.parts[d]&&(v=RD(v,2,"0"));break;case"a":v=a>=12?this._t("PM"):this._t("AM");break;case"aa":v=a>=12?this._t("P.M."):this._t("A.M.");break;case"aaa":v=a>=12?this._t("P"):this._t("A");break;case"h":v=JD(a).toString();break;case"hh":v=RD(JD(a),2,"0");break;case"H":v=a.toString();break;case"HH":v=RD(a,2,"0");break;case"K":v=JD(a,0).toString();break;case"KK":v=RD(JD(a,0),2,"0");break;case"k":v=(a+1).toString();break;case"kk":v=RD(a+1,2,"0");break;case"m":v=s.toString();break;case"mm":v=RD(s,2,"0");break;case"s":v=l.toString();break;case"ss":v=RD(l,2,"0");break;case"S":case"SS":case"SSS":v=Math.round(u/1e3*Math.pow(10,t.parts[d].length)).toString();break;case"x":v=h.toString();break;case"n":case"nn":case"nnn":v=RD(u,t.parts[d].length,"0");break;case"z":v=QD(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":v=QD(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":v=QD(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":v=QD(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":var m=this._root.utc?"UTC":this._root.timezone;m instanceof dN&&(m=m.name);var b=m?eA(m):e.getTimezoneOffset(),g=Math.abs(b)/60,w=Math.floor(g),_=60*g-60*w;this._root.utc&&(w=0,_=0),"Z"==t.parts[d]?(v="GMT",v+=b>0?"-":"+",v+=RD(w,2)+":"+RD(_,2)):(v=b>0?"-":"+",v+=RD(w,2)+RD(_,2));break;case"i":v=e.toISOString();break;case"I":v=e.toUTCString()}f=f.replace(Hj,v)}return f}},{key:"parseFormat",value:function(e){for(var t={template:"",parts:[]},n=LR.chunk(e,!0),r=0;r<n.length;r++){var i=n[r];if("value"===i.type){if(i.text.match(/^date$/i)){var o=this.get("dateFormat","yyyy-MM-dd");Fj(o)||(o="yyyy-MM-dd"),i.text=o}var a=i.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(var s=0;s<a.length;s++)t.parts.push(a[s]),i.text=i.text.replace(a[s],Hj)}t.template+=i.text}return t}},{key:"_months",value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},{key:"_getMonth",value:function(e){return this._months()[e]}},{key:"_shortMonths",value:function(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},{key:"_getShortMonth",value:function(e){return this._shortMonths()[e]}},{key:"_weekdays",value:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},{key:"_getWeekday",value:function(e){return this._weekdays()[e]}},{key:"_shortWeekdays",value:function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},{key:"_getShortWeekday",value:function(e){return this._shortWeekdays()[e]}},{key:"parse",value:function(e,t,n){if(void 0===n&&(n=this._root.utc),e instanceof Date)return e;if(zj(e))return new Date(e);if("x"==t)return new Date(parseInt(e));var r;Fj(e)||(e=e.toString());var i="";t=(t=VD(t)).substr(0,e.length);for(var o=this.parseFormat(t),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},s={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:n},l=0,u=0,c=0;c<o.parts.length;c++){switch(u=c+l+1,o.parts[c]){case"yyyy":case"YYYY":i+="([0-9]{4})",a.year=u;break;case"yyy":case"YYY":i+="([0-9]{3})",a.year3=u;break;case"yy":case"YY":i+="([0-9]{2})",a.year2=u;break;case"y":case"Y":i+="([0-9]{1})",a.year1=u;break;case"MMMM":i+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=u;break;case"MMM":i+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=u;break;case"MM":case"M":i+="([0-9]{2}|[0-9]{1})",a.month=u;break;case"ww":case"w":i+="([0-9]{2}|[0-9]{1})",a.week=u;break;case"dd":case"d":i+="([0-9]{2}|[0-9]{1})",a.day=u;break;case"DDD":case"DD":case"D":i+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=u;break;case"dddd":i+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=u;break;case"ddd":i+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=u;break;case"aaa":case"aa":case"a":i+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=u;break;case"hh":case"h":i+="([0-9]{2}|[0-9]{1})",a.hour12Base1=u;break;case"HH":case"H":i+="([0-9]{2}|[0-9]{1})",a.hourBase0=u;break;case"KK":case"K":i+="([0-9]{2}|[0-9]{1})",a.hour12Base0=u;break;case"kk":case"k":i+="([0-9]{2}|[0-9]{1})",a.hourBase1=u;break;case"mm":case"m":i+="([0-9]{2}|[0-9]{1})",a.minute=u;break;case"ss":case"s":i+="([0-9]{2}|[0-9]{1})",a.second=u;break;case"SSS":case"SS":case"S":i+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u,a.millisecondDigits=o.parts[c].length;break;case"nnn":case"nn":case"n":i+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u;break;case"x":i+="([0-9]{1,})",a.timestamp=u;break;case"Z":i+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=u;break;case"ZZ":i+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=u;break;case"i":i+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=u,l+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":l--}i+="[^0-9]*"}var f=new RegExp(i),h=e.match(f);if(h){if(a.year>-1&&(s.year=parseInt(h[a.year])),a.year3>-1){var d=parseInt(h[a.year3]);d+=1e3,s.year=d}if(a.year2>-1){var p=parseInt(h[a.year2]);p+=p>50?1e3:2e3,s.year=p}if(a.year1>-1){var v=parseInt(h[a.year1]);v=10*Math.floor((new Date).getFullYear()/10)+v,s.year=v}if(a.monthLong>-1&&(s.month=this.resolveMonth(h[a.monthLong])),a.monthShort>-1&&(s.month=this.resolveShortMonth(h[a.monthShort])),a.month>-1&&(s.month=parseInt(h[a.month])-1),a.week>-1&&-1===a.day&&(s.month=0,s.day=ZD(parseInt(h[a.week]),s.year,1,n)),a.day>-1&&(s.day=parseInt(h[a.day])),a.yearDay>-1&&(s.month=0,s.day=parseInt(h[a.yearDay])),a.hourBase0>-1&&(s.hour=parseInt(h[a.hourBase0])),a.hourBase1>-1&&(s.hour=parseInt(h[a.hourBase1])-1),a.hour12Base0>-1){var y=parseInt(h[a.hour12Base0]);11==y&&(y=0),a.am>-1&&!this.isAm(h[a.am])&&(y+=12),s.hour=y}if(a.hour12Base1>-1){var m=parseInt(h[a.hour12Base1]);12==m&&(m=0),a.am>-1&&!this.isAm(h[a.am])&&(m+=12),s.hour=m}if(a.minute>-1&&(s.minute=parseInt(h[a.minute])),a.second>-1&&(s.second=parseInt(h[a.second])),a.millisecond>-1){var b=parseInt(h[a.millisecond]);2==a.millisecondDigits?b*=10:1==a.millisecondDigits&&(b*=100),s.millisecond=b}if(a.timestamp>-1){s.timestamp=parseInt(h[a.timestamp]);var g=new Date(s.timestamp);s.year=g.getUTCFullYear(),s.month=g.getUTCMonth(),s.day=g.getUTCDate(),s.hour=g.getUTCHours(),s.minute=g.getUTCMinutes(),s.second=g.getUTCSeconds(),s.millisecond=g.getUTCMilliseconds()}a.zone>-1&&(s.offset=this.resolveTimezoneOffset(new Date(s.year,s.month,s.day),h[a.zone])),a.iso>-1&&(s.year=Lj(h[a.iso+0]),s.month=Lj(h[a.iso+1])-1,s.day=Lj(h[a.iso+2]),s.hour=Lj(h[a.iso+3]),s.minute=Lj(h[a.iso+4]),s.second=Lj(h[a.iso+5]),s.millisecond=Lj(h[a.iso+6]),"Z"==h[a.iso+7]||"z"==h[a.iso+7]?s.utc=!0:""!=h[a.iso+7]&&(s.offset=this.resolveTimezoneOffset(new Date(s.year,s.month,s.day),h[a.iso+7]))),r=s.utc?new Date(Date.UTC(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond)):new Date(s.year,s.month,s.day,s.hour,s.minute+s.offset,s.second,s.millisecond)}else r=new Date(e);return r}},{key:"resolveTimezoneOffset",value:function(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){var n=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),r=n[1],i=n[2],o=n[3],a=60*parseInt(i)+parseInt(o);return"+"==r&&(a*=-1),a-(e||new Date).getTimezoneOffset()}return 0}},{key:"resolveMonth",value:function(e){var t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e))>-1?t:0}},{key:"resolveShortMonth",value:function(e){var t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e))>-1||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e))>-1?t:0}},{key:"isAm",value:function(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}},{key:"getStringList",value:function(e){for(var t=[],n=0;n<e.length;n++)this._root.language?t.push(YD(this._t(e[n]))):t.push(YD(e[n]));return t}}])}(NM);function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function PN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SN(r.key),r)}}function SN(e){var t=function(e,t){if("object"!=ON(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ON(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ON(t)?t:t+""}function EN(e,t,n){return t=AN(t),function(e,t){if(t&&("object"==ON(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jN()?Reflect.construct(t,n||[],AN(e).constructor):t.apply(e,n))}function jN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jN=function(){return!!e})()}function TN(e,t,n,r){var i=DN(AN(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function DN(){return DN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=AN(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},DN.apply(null,arguments)}function AN(e){return AN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AN(e)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CN(e,t)}var MN=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=EN(this,t,arguments),Object.defineProperty(e,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}(t,e),function(e,t,n){return t&&PN(e.prototype,t),n&&PN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_setDefaults",value:function(){var e="_duration_millisecond",n="_duration_second",r="_duration_minute",i="_duration_hour",o="_duration_day",a="_duration_week",s="_duration_month",l="_minute",u="_hour",c="_day",f="_week",h="_week",d="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+"_second"),minute:this._t(e+l),hour:this._t(e+u),day:this._t(e+c),week:this._t(e+f),month:this._t(e+h),year:this._t(e+d)},second:{second:this._t(n),minute:this._t(n+l),hour:this._t(n+u),day:this._t(n+c),week:this._t(n+f),month:this._t(n+h),year:this._t(n+d)},minute:{minute:this._t(r),hour:this._t(r+u),day:this._t(r+c),week:this._t(r+f),month:this._t(r+h),year:this._t(r+d)},hour:{hour:this._t(i),day:this._t(i+c),week:this._t(i+f),month:this._t(i+h),year:this._t(i+d)},day:{day:this._t(o),week:this._t(o+f),month:this._t(o+h),year:this._t(o+d)},week:{week:this._t(a),month:this._t(a+h),year:this._t(a+d)},month:{month:this._t(s),year:this._t(s+d)},year:{year:this._t("_duration_year")}}),TN(t,"_setDefaults",this,3)([])}},{key:"_beforeChanged",value:function(){TN(t,"_beforeChanged",this,3)([])}},{key:"format",value:function(e,t,n){var r=n||this.get("baseUnit");void 0!==t&&""!==t||(t=null!=this.get("durationFormat")?this.get("durationFormat"):this.getFormat(Lj(e),void 0,r)),t=VD(t);var i,o=this.parseFormat(t,r),a=Number(e);i=a>this.get("negativeBase")?o.positive:a<this.get("negativeBase")?o.negative:o.zero;var s=this.applyFormat(a,i);return""!==i.color&&(s="["+i.color+"]"+s+"[/]"),s}},{key:"parseFormat",value:function(e,t){var n=this,r=t||this.get("baseUnit"),i={positive:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1}},o=(e=e.replace("||",Yj)).split("|");return i.positive.source=o[0],void 0===o[2]?i.zero=i.positive:i.zero.source=o[2],void 0===o[1]?i.negative=i.positive:i.negative.source=o[1],jT(i,(function(e,t){if(!t.parsed){var r,i=t.source;(r=t.source.match(/^\[([^\]]*)\]/))&&r.length&&""!==r[0]&&(i=t.source.substr(r[0].length),t.color=r[1]);for(var o=LR.chunk(i,!0),a=0;a<o.length;a++){var s=o[a];if(s.text=s.text.replace(Yj,"|"),"value"===s.type){s.text.match(/[yYMdDwhHKkmsSn]+a/)&&(t.absolute=!0,s.text=s.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var l=s.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(l)for(var u=0;u<l.length;u++)null==l[u]&&(l[u]=n._unitAliases[l[u]]),t.parts.push(l[u]),s.text=s.text.replace(l[u],Hj)}t.template+=s.text}t.parsed=!0}})),i}},{key:"applyFormat",value:function(e,t){var n=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);for(var r=this.toTimeStamp(e,t.baseUnit),i=t.template,o=0,a=t.parts.length;o<a;o++){var s=t.parts[o],l=this._toTimeUnit(s.substr(0,1)),u=s.length,c=void 0,f=this._getUnitValue(l);c=o<a-1?Math.floor(r/f):Math.round(r/f),i=i.replace(Hj,RD(c,u,"0")),r-=c*f}return n&&(i="-"+i),i}},{key:"toTimeStamp",value:function(e,t){return e*this._getUnitValue(t)}},{key:"_toTimeUnit",value:function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}},{key:"getFormat",value:function(e,t,n){if(null!=this.get("durationFormat"))return this.get("durationFormat");if(n||(n=this.get("baseUnit")),null!=t&&e!=t){e=Math.abs(e),t=Math.abs(t);var r=this.getValueUnit(Math.max(e,t),n);return this.get("durationFormats")[n][r]}var i=this.getValueUnit(e,n);return this.get("durationFormats")[n][i]}},{key:"getValueUnit",value:function(e,t){var n;t||(t=this.get("baseUnit"));var r=this.getMilliseconds(e,t);return TT(this._getUnitValues(),(function(e,i){if(e==t||n){if(r/i<=1)return n||(n=e),!1;n=e}return!0})),n}},{key:"getMilliseconds",value:function(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}},{key:"_getUnitValue",value:function(e){return this._getUnitValues()[e]}},{key:"_getUnitValues",value:function(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}])}(NM);const LN={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(e){var t="th";if(e<11||e>13)switch(e%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd"}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};function RN(e){return RN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RN(e)}function IN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NN(r.key),r)}}function NN(e){var t=function(e,t){if("object"!=RN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RN(t)?t:t+""}function BN(e,t,n){return t=VN(t),function(e,t){if(t&&("object"==RN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FN()?Reflect.construct(t,n||[],VN(e).constructor):t.apply(e,n))}function FN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FN=function(){return!!e})()}function zN(){return zN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=VN(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},zN.apply(null,arguments)}function VN(e){return VN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VN(e)}function qN(e,t){return qN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qN(e,t)}var HN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BN(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qN(e,t)}(t,e),function(e,t,n){return t&&IN(e.prototype,t),n&&IN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_setDefaults",value:function(){this.setPrivate("defaultLocale",LN),function(e,t,n,r){var i=zN(VN(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_setDefaults",this,3)([])}},{key:"translate",value:function(e,t){t||(t=this._root.locale||this.getPrivate("defaultLocale"));for(var n=e,r=t[e],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(null===r)n="";else if(null!=r)r&&(n=r);else if(t!==this.getPrivate("defaultLocale"))return this.translate.apply(this,[e,this.getPrivate("defaultLocale")].concat(o));if(o.length)for(var s=o.length,l=0;l<s;++l)n=n.split("%"+(l+1)).join(o[l]);return n}},{key:"translateAny",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this.translate.apply(this,[e,t].concat(r))}},{key:"setTranslationAny",value:function(e,t,n){(n||this._root.locale)[e]=t}},{key:"setTranslationsAny",value:function(e,t){var n=this;jT(e,(function(e,r){n.setTranslationAny(e,r,t)}))}},{key:"translateEmpty",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this.translate.apply(this,[e,t].concat(r));return o==e?"":o}},{key:"translateFunc",value:function(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):function(){return""}}},{key:"translateAll",value:function(e,t){var n=this;return this.isDefault()?e:Xj(e,(function(e){return n.translate(e,t)}))}},{key:"isDefault",value:function(){return this.getPrivate("defaultLocale")===this._root.locale}}])}(NM);function YN(e){return YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YN(e)}function UN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GN(r.key),r)}}function GN(e){var t=function(e,t){if("object"!=YN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YN(t)?t:t+""}var XN=function(){return function(e,t,n){return t&&UN(e.prototype,t),n&&UN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=t,!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}),[{key:"setupDefaultRules",value:function(){}},{key:"_lookupRules",value:function(e){return this._rules[e]}},{key:"ruleRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this._rules[e];n||(n=this._rules[e]=[]),t.sort(gM);var r=_T(n,(function(e){var n=gM(e.tags.length,t.length);return 0===n?wM(e.tags,t,gM):n})),i=r.index;if(r.found)return n[i].template;var o=XM.new({});return n.splice(i,0,{tags:t,template:o}),o}},{key:"rule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.ruleRaw(e,t)}}],[{key:"new",value:function(e){var t=new this(e,!0);return t.setupDefaultRules(),t}}])}();function WN(e){return WN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WN(e)}function $N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KN(r.key),r)}}function KN(e){var t=function(e,t){if("object"!=WN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WN(t)?t:t+""}function ZN(e,t,n){return t=eB(t),function(e,t){if(t&&("object"==WN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JN()?Reflect.construct(t,n||[],eB(e).constructor):t.apply(e,n))}function JN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JN=function(){return!!e})()}function QN(){return QN="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=eB(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},QN.apply(null,arguments)}function eB(e){return eB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eB(e)}function tB(e,t){return tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tB(e,t)}function nB(e,t,n,r){e.set(t,n.get(r)),n.on(r,(function(n){e.set(t,n)}))}var rB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ZN(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tB(e,t)}(t,e),function(e,t,n){return t&&$N(e.prototype,t),n&&$N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setupDefaultRules",value:function(){!function(e,t,n,r){var i=QN(eB(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"setupDefaultRules",this,3)([]);var e=this._root.language,n=this._root.interfaceColors,r=this._root.horizontalLayout,i=this._root.verticalLayout,o=this.rule.bind(this);o("InterfaceColors").setAll({stroke:_A.fromHex(15066597),fill:_A.fromHex(15987699),primaryButton:_A.fromHex(6788316),primaryButtonHover:_A.fromHex(6779356),primaryButtonDown:_A.fromHex(6872182),primaryButtonActive:_A.fromHex(6872182),primaryButtonDisabled:_A.fromHex(14342874),primaryButtonTextDisabled:_A.fromHex(16777215),primaryButtonText:_A.fromHex(16777215),primaryButtonStroke:_A.fromHex(16777215),secondaryButton:_A.fromHex(14277081),secondaryButtonHover:_A.fromHex(10724259),secondaryButtonDown:_A.fromHex(9276813),secondaryButtonActive:_A.fromHex(15132390),secondaryButtonText:_A.fromHex(0),secondaryButtonStroke:_A.fromHex(16777215),grid:_A.fromHex(0),background:_A.fromHex(16777215),alternativeBackground:_A.fromHex(0),text:_A.fromHex(0),alternativeText:_A.fromHex(16777215),disabled:_A.fromHex(11382189),positive:_A.fromHex(5288704),negative:_A.fromHex(11730944)});var a=o("ColorSet");a.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[_A.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),a.setPrivate("currentStep",0),a.setPrivate("currentPass",0),o("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:FC(MC)}),o("Component").setAll({interpolationDuration:0,interpolationEasing:FC(MC)}),o("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:jj,tooltipY:jj,tooltipPosition:"fixed",isMeasured:!0}),o("Sprite").states.create("default",{visible:!0,opacity:1}),o("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),o("Graphics").setAll({strokeWidth:1}),o("Chart").setAll({width:Ej,height:Ej,interactiveChildren:!1}),o("ZoomableContainer").setAll({width:Ej,height:Ej,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:FC(MC),animationDuration:600,maxPanOut:.4}),o("Sprite",["horizontal","center"]).setAll({centerX:jj,x:jj}),o("Sprite",["vertical","center"]).setAll({centerY:jj,y:jj}),o("Container",["horizontal","layout"]).setAll({layout:r}),o("Container",["vertical","layout"]).setAll({layout:i}),o("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),o("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),o("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),o("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),o("GrainPattern").setAll({width:200,height:200,colors:[_A.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});var s=o("PatternSet");s.setAll({step:1}),nB(s,"color",n,"stroke"),o("LinearGradient").setAll({rotation:90}),o("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:DR.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),o("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:r,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});var l=o("Rectangle",["legend","item","background"]);l.setAll({fillOpacity:0}),nB(l,"fill",n,"background"),o("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:jj,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),o("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Ej,height:Ej,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});var u=o("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});nB(u,"fill",n,"disabled"),nB(u,"stroke",n,"disabled"),o("Label",["legend","label"]).setAll({centerY:jj,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0}),nB(o("Label",["legend","label"]).states.create("disabled",{}),"fill",n,"disabled"),o("Label",["legend","value","label"]).setAll({centerY:jj,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Ej,populateText:!0}),nB(o("Label",["legend","value","label"]).states.create("disabled",{}),"fill",n,"disabled"),o("HeatLegend").setAll({stepCount:1}),o("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),o("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Ej,width:15}),o("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Ej,height:15}),o("HeatLegend",["vertical"]).setAll({height:Ej}),o("HeatLegend",["horizontal"]).setAll({width:Ej}),o("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),o("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});var c=o("Label");c.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),nB(c,"fill",n,"text"),o("RadialLabel").setAll({textType:"regular",centerY:jj,centerX:jj,inside:!1,radius:0,baseRadius:Ej,orientation:"auto",textAlign:"center"}),o("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),o("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:_A.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:_A.fromHex(0)}),o("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),o("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),o("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),o("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});var f=o("Tick");f.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),nB(f,"stroke",n,"grid"),o("Bullet").setAll({locationX:.5,locationY:.5}),o("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:jj,centerY:jj,animationEasing:FC(MC),exportable:!1}),o("Polygon").setAll({animationEasing:FC(MC)}),o("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:_A.fromHex(16777215)});var h=o("Label",["tooltip"]);h.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),nB(h,"fill",n,"alternativeText"),o("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:r,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),o("Button").states.create("hover",{}),o("Button").states.create("down",{stateAnimationDuration:0}),o("Button").states.create("active",{}),o("Button").states.create("disabled",{forceInactive:!0});var d=o("RoundedRectangle",["button","background"]);nB(d,"fill",n,"primaryButton"),nB(d,"stroke",n,"primaryButtonStroke"),nB(o("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",n,"primaryButtonHover"),nB(o("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",n,"primaryButtonDown"),nB(o("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",n,"primaryButtonActive"),nB(o("RoundedRectangle",["button","background"]).states.create("disabled",{}),"fill",n,"primaryButtonDisabled"),nB(o("Graphics",["button","icon"]).states.create("disabled",{}),"fill",n,"primaryButtonTextDisabled"),nB(o("Label",["button"]).states.create("disabled",{}),"fill",n,"primaryButtonTextDisabled");var p=o("Graphics",["button","icon"]);p.setAll({forceInactive:!0}),nB(p,"stroke",n,"primaryButtonText"),nB(o("Label",["button"]),"fill",n,"primaryButtonText"),o("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Ej,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});var v=o("RoundedRectangle",["background","button","zoom"]);v.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),nB(v,"fill",n,"primaryButton"),nB(o("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",n,"primaryButtonHover"),nB(o("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",n,"primaryButtonDown");var y=o("Graphics",["icon","button","zoom"]);y.setAll({crisp:!0,strokeOpacity:.7,draw:function(e){e.moveTo(0,0),e.lineTo(12,0)}}),nB(y,"stroke",n,"primaryButtonText"),o("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:jj,centerY:jj,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});var m=o("RoundedRectangle",["background","resize","button"]);m.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),nB(m,"fill",n,"secondaryButton"),nB(m,"stroke",n,"secondaryButtonStroke"),nB(o("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",n,"secondaryButtonHover"),nB(o("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",n,"secondaryButtonDown");var b=o("Graphics",["resize","button","icon"]);b.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:function(e){e.moveTo(0,.5),e.lineTo(0,12.5),e.moveTo(4,.5),e.lineTo(4,12.5)}}),nB(b,"stroke",n,"secondaryButtonText"),o("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),o("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),o("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});var g=o("RoundedRectangle",["play","background"]);g.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),nB(g,"fill",n,"primaryButton");var w=o("Graphics",["play","icon"]);w.setAll({stateAnimationDuration:0,dx:1,draw:function(e){e.moveTo(0,-5),e.lineTo(8,0),e.lineTo(0,5),e.lineTo(0,-5)}}),nB(w,"fill",n,"primaryButtonText"),o("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),o("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:function(e){e.moveTo(-4,-5),e.lineTo(-1,-5),e.lineTo(-1,5),e.lineTo(-4,5),e.lineTo(-4,-5),e.moveTo(4,-5),e.lineTo(1,-5),e.lineTo(1,5),e.lineTo(4,5),e.lineTo(4,-5)}}),o("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});var _=o("RoundedRectangle",["switch","background"]);_.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),nB(_,"fill",n,"primaryButton");var k=o("Circle",["switch","icon"]);k.setAll({radius:8,centerY:0,centerX:0,dx:0}),nB(k,"fill",n,"primaryButtonText"),o("Graphics",["switch","icon"]).states.create("active",{dx:16}),o("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:FC(MC)}),o("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Ej}),o("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Ej}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});var x=o("RoundedRectangle",["scrollbar","main","background"]);x.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),nB(x,"fill",n,"fill");var O=o("RoundedRectangle",["scrollbar","thumb"]);O.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),nB(O,"fill",n,"secondaryButton"),nB(o("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",n,"secondaryButtonHover"),nB(o("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",n,"secondaryButtonDown"),o("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:jj,width:Ej,centerX:jj,ariaLabel:e.translate("Use up and down arrows to move selection")}),o("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:jj,centerY:jj,height:Ej,ariaLabel:e.translate("Use left and right arrows to move selection")});var P=o("PointedRectangle",["axis","tooltip","background"]);P.setAll({cornerRadius:0}),nB(P,"fill",n,"alternativeBackground"),o("Label",["axis","tooltip"]).setAll({role:void 0}),o("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),o("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),o("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),o("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),o("Star").setAll({spikes:5,innerRadius:5,radius:10}),o("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),o("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),o("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),o("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),o("Container",["resizer","grip"]).states.create("hover",{});var S=o("RoundedRectangle",["resizer","grip"]);S.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),nB(S,"fill",n,"background"),nB(S,"stroke",n,"alternativeBackground");var E=o("RoundedRectangle",["resizer","grip","outline"]);E.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),E.states.create("hover",{fillOpacity:.3}),nB(E,"fill",n,"alternativeBackground"),o("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),o("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});var j=o("Rectangle",["resizer","rectangle"]);j.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),nB(j,"stroke",n,"alternativeBackground"),o("Graphics",["button","plus","icon"]).setAll({x:jj,y:jj,draw:function(e){e.moveTo(-4,0),e.lineTo(4,0),e.moveTo(0,-4),e.lineTo(0,4)}}),o("Graphics",["button","minus","icon"]).setAll({x:jj,y:jj,draw:function(e){e.moveTo(-4,0),e.lineTo(4,0)}}),o("Graphics",["button","home","icon"]).setAll({x:jj,y:jj,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),o("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),o("ZoomTools").setAll({x:Ej,centerX:Ej,y:Ej,centerY:Ej,paddingRight:10,paddingBottom:10})}}])}(XN);function iB(e){return iB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iB(e)}function oB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aB(r.key),r)}}function aB(e){var t=function(e,t){if("object"!=iB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iB(t)?t:t+""}var sB=function(){return function(e,t,n){return t&&oB(e.prototype,t),n&&oB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=t,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a}),[{key:"setTransform",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;this.a=Math.cos(i)*o,this.b=Math.sin(i)*o,this.c=-Math.sin(i)*o,this.d=Math.cos(i)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d)}},{key:"apply",value:function(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}},{key:"applyInverse",value:function(e){var t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty}},{key:"prepend",value:function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}},{key:"copyFrom",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}])}(),lB=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},uB=2*Math.PI,cB=function(e,t,n,r,i,o,a){var s=e.x,l=e.y;return{x:r*(s*=t)-i*(l*=n)+o,y:i*s+r*l+a}},fB=function(e,t){var n=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:4/3*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[{x:r-i*n,y:i+r*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]},hB=function(e,t,n,r){var i=e*n+t*r;return i>1&&(i=1),i<-1&&(i=-1),(e*r-t*n<0?-1:1)*Math.acos(i)};const dB=function(e){var t=e.px,n=e.py,r=e.cx,i=e.cy,o=e.rx,a=e.ry,s=e.xAxisRotation,l=void 0===s?0:s,u=e.largeArcFlag,c=void 0===u?0:u,f=e.sweepFlag,h=void 0===f?0:f,d=[];if(0===o||0===a)return[];var p=Math.sin(l*uB/360),v=Math.cos(l*uB/360),y=v*(t-r)/2+p*(n-i)/2,m=-p*(t-r)/2+v*(n-i)/2;if(0===y&&0===m)return[];o=Math.abs(o),a=Math.abs(a);var b=Math.pow(y,2)/Math.pow(o,2)+Math.pow(m,2)/Math.pow(a,2);b>1&&(o*=Math.sqrt(b),a*=Math.sqrt(b));var g=function(e,t,n,r,i,o,a,s,l,u,c,f){var h=Math.pow(i,2),d=Math.pow(o,2),p=Math.pow(c,2),v=Math.pow(f,2),y=h*d-h*v-d*p;y<0&&(y=0),y/=h*v+d*p;var m=(y=Math.sqrt(y)*(a===s?-1:1))*i/o*f,b=y*-o/i*c,g=u*m-l*b+(e+n)/2,w=l*m+u*b+(t+r)/2,_=(c-m)/i,k=(f-b)/o,x=(-c-m)/i,O=(-f-b)/o,P=hB(1,0,_,k),S=hB(_,k,x,O);return 0===s&&S>0&&(S-=uB),1===s&&S<0&&(S+=uB),[g,w,P,S]}(t,n,r,i,o,a,c,h,p,v,y,m),w=lB(g,4),_=w[0],k=w[1],x=w[2],O=w[3],P=Math.abs(O)/(uB/4);Math.abs(1-P)<1e-7&&(P=1);var S=Math.max(Math.ceil(P),1);O/=S;for(var E=0;E<S;E++)d.push(fB(x,O)),x+=O;return d.map((function(e){var t=cB(e[0],o,a,v,p,_,k),n=t.x,r=t.y,i=cB(e[1],o,a,v,p,_,k),s=i.x,l=i.y,u=cB(e[2],o,a,v,p,_,k);return{x1:n,y1:r,x2:s,y2:l,x:u.x,y:u.y}}))};function pB(e){return pB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pB(e)}function vB(e,t,n,r){var i=yB(gB(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function yB(){return yB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=gB(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yB.apply(null,arguments)}function mB(e,t,n){return t=gB(t),function(e,t){if(t&&("object"==pB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bB()?Reflect.construct(t,n||[],gB(e).constructor):t.apply(e,n))}function bB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bB=function(){return!!e})()}function gB(e){return gB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gB(e)}function wB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_B(e,t)}function _B(e,t){return _B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_B(e,t)}function kB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PB(r.key),r)}}function OB(e,t,n){return t&&xB(e.prototype,t),n&&xB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PB(e){var t=function(e,t){if("object"!=pB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pB(t)?t:t+""}function SB(e,t,n){if(t!==n)throw new Error("Required "+n+" arguments for "+e+" but got "+t)}function EB(e,t,n){if(t<n)throw new Error("Required at least "+n+" arguments for "+e+" but got "+t)}function jB(e,t,n){if(EB(e,t,n),t%n!=0)throw new Error("Arguments for "+e+" must be in pairs of "+n)}function TB(e){for(var t=0;t<e.length;t+=7){var n=t+3,r=e[n];if(r.length>1){var i=/^([01])([01])(.*)$/.exec(r);null!==i&&(e.splice(n,0,i[1]),++n,e.splice(n,0,i[2]),++n,i[3].length>0?e[n]=i[3]:e.splice(n,1))}if((r=e[++n]).length>1){var o=/^([01])(.+)$/.exec(r);null!==o&&(e.splice(n,0,o[1]),e[++n]=o[2])}}}function DB(e){if(0===e||1===e)return e;throw new Error("Flag must be 0 or 1")}function AB(e,t){for(;(!e.interactive||t(e))&&e._parent;)e=e._parent}function CB(e,t,n){return cD(e,yD(t),(function(e){var t=wD(e),r=e.touches;r?(0==r.length&&(r=e.changedTouches),n(fT(r),t)):n([e],t)}))}function MB(e){var t=document.createElement("canvas");t.width=1,t.height=1;var n=t.getContext("2d",{willReadFrequently:!0});n.drawImage(e,0,0,1,1);try{return n.getImageData(0,0,1,1),!1}catch(t){return console.warn('Image "'+e.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function LB(e){e.width=0,e.height=0,e.style.width="0px",e.style.height="0px"}function RB(e){return Math.floor(e)+.5}var IB=function(){return OB((function e(){kB(this,e),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}),[{key:"x",get:function(){return this._x},set:function(e){this._x=e}},{key:"y",get:function(){return this._y},set:function(e){this._y=e}}])}(),NB=function(e){function t(e){var n;return kB(this,t),n=mB(this,t),Object.defineProperty(n,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(n,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(n,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(n,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(n,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(n,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(n,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(n,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new IB}),Object.defineProperty(n,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new sB}),Object.defineProperty(n,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new sB}),Object.defineProperty(n,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new sB}),Object.defineProperty(n,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n._renderer=e,n}return wB(t,e),OB(t,[{key:"subStatus",value:function(e){return{inactive:null==this.inactive?e.inactive:this.inactive,layer:this._layer||e.layer}}},{key:"_dispose",value:function(){this._renderer._removeObject(this),this.getLayer().dirty=!0}},{key:"getCanvas",value:function(){return this.getLayer().view}},{key:"getLayer",value:function(){for(var e=this;;){if(e._layer)return e._layer;if(!e._parent)return this._renderer.defaultLayer;e=e._parent}}},{key:"setLayer",value:function(e,t){if(null==e)this._layer=void 0;else{var n=!0;this._layer=this._renderer.getLayer(e,n),this._layer.visible=n,this._layer.margin=t,t&&xD(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost()}}},{key:"markDirtyLayer",value:function(){this.getLayer().dirty=!0}},{key:"clear",value:function(){this.invalidateBounds()}},{key:"invalidateBounds",value:function(){this._localBounds=void 0}},{key:"_addBounds",value:function(e){}},{key:"_getColorId",value:function(){return void 0===this._colorId&&(this._colorId=this._renderer.paintId(this)),this._colorId}},{key:"_isInteractive",value:function(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}},{key:"_isInteractiveMask",value:function(e){return this._isInteractive(e)}},{key:"contains",value:function(e){for(;;){if(e===this)return!0;if(!e._parent)return!1;e=e._parent}}},{key:"toGlobal",value:function(e){return this._matrix.apply(e)}},{key:"toLocal",value:function(e){return this._matrix.applyInverse(e)}},{key:"getLocalMatrix",value:function(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}},{key:"getLocalBounds",value:function(){if(!this._localBounds){var e=1e7;this._localBounds={left:e,top:e,right:-e,bottom:-e},this._addBounds(this._localBounds)}return this._localBounds}},{key:"getAdjustedBounds",value:function(e){this._setMatrix();var t=this.getLocalMatrix(),n=t.apply({x:e.left,y:e.top}),r=t.apply({x:e.right,y:e.top}),i=t.apply({x:e.right,y:e.bottom}),o=t.apply({x:e.left,y:e.bottom});return{left:Math.min(n.x,r.x,i.x,o.x),top:Math.min(n.y,r.y,i.y,o.y),right:Math.max(n.x,r.x,i.x,o.x),bottom:Math.max(n.y,r.y,i.y,o.y)}}},{key:"on",value:function(e,t,n){return this.interactive?this._renderer._addEvent(this,e,t,n):new UT((function(){}))}},{key:"_setMatrix",value:function(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}},{key:"_transform",value:function(e,t){var n=this._matrix,r=n.tx*t,i=n.ty*t;this.crisp&&(r=RB(r),i=RB(i)),e.setTransform(n.a*t,n.b*t,n.c*t,n.d*t,r,i)}},{key:"_transformMargin",value:function(e,t,n){var r=this._matrix;e.setTransform(r.a*t,r.b*t,r.c*t,r.d*t,(r.tx+n.left)*t,(r.ty+n.top)*t)}},{key:"_transformLayer",value:function(e,t,n){n.margin?this._transformMargin(e,n.scale||t,n.margin):this._transform(e,n.scale||t)}},{key:"render",value:function(e){var t=this;if(this.visible&&(!1!==this.exportable||!this._renderer._omitTainted)){this._setMatrix();var n=this.subStatus(e),r=this._renderer.resolution,i=this._renderer.layers,o=this._renderer._ghostLayer,a=o.context,s=this.mask;s&&s._setMatrix(),Wj(i,(function(e){if(e){var n=e.context;n.save(),s&&(s._transformLayer(n,r,e),s._runPath(n),n.clip()),n.globalAlpha=t.compoundAlpha*t.alpha,t._transformLayer(n,r,e),t.filter&&(n.filter=t.filter)}})),a.save(),s&&this._isInteractiveMask(n)&&(s._transformMargin(a,r,o.margin),s._runPath(a),a.clip()),this._transformMargin(a,r,o.margin),this._render(n),a.restore(),Wj(i,(function(e){e&&e.context.restore()}))}}},{key:"_render",value:function(e){!1===this.exportable&&(e.layer.tainted=!0)}},{key:"hovering",value:function(){return this._renderer._hovering.has(this)}},{key:"dragging",value:function(){var e=this;return this._renderer._dragging.some((function(t){return t.value===e}))}},{key:"shouldCancelTouch",value:function(){var e=this._renderer;return!(e.tapToActivate&&!e._touchActive)&&(!!this.cancelTouch||!!this._parent&&this._parent.shouldCancelTouch())}}])}(YT),BB=function(e){function t(){var e;return kB(this,t),e=mB(this,t,arguments),Object.defineProperty(e,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return wB(t,e),OB(t,[{key:"_isInteractiveMask",value:function(e){return this.interactiveChildren||vB(t,"_isInteractiveMask",this,3)([e])}},{key:"addChild",value:function(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}},{key:"addChildAt",value:function(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}},{key:"removeChild",value:function(e){e._parent=void 0,iT(this._children,e)}},{key:"_render",value:function(e){var n=this;vB(t,"_render",this,3)([e]);var r=this._renderer;this.interactive&&this.interactiveChildren&&++r._forceInteractive,Wj(this._children,(function(t){t.compoundAlpha=n.compoundAlpha*n.alpha,t.render(e)})),this.interactive&&this.interactiveChildren&&--r._forceInteractive}},{key:"registerChildLayer",value:function(e){this._childLayers||(this._childLayers=[]),sT(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}},{key:"markDirtyLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];vB(t,"markDirtyLayer",this,3)([]),e&&this._childLayers&&Wj(this._childLayers,(function(e){return e.dirty=!0}))}},{key:"_dispose",value:function(){vB(t,"_dispose",this,3)([]),this._childLayers&&Wj(this._childLayers,(function(e){e.dirty=!0}))}}])}(NB);function FB(e,t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.right=Math.max(e.right,t.x),e.bottom=Math.max(e.bottom,t.y)}var zB=function(){return OB((function e(){kB(this,e)}),[{key:"colorize",value:function(e,t){}},{key:"colorizeGhost",value:function(e,t){this.colorize(e,t)}},{key:"path",value:function(e){}},{key:"pathGhost",value:function(e){this.path(e)}},{key:"addBounds",value:function(e){}}])}(),VB=function(e){function t(){return kB(this,t),mB(this,t,arguments)}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.beginPath()}}])}(zB),qB=function(e){function t(e){var n;return kB(this,t),n=mB(this,t),Object.defineProperty(n,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),n}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.fillStyle=void 0!==t?t:this.color}}])}(zB),HB=function(e){function t(e){var n;return kB(this,t),n=mB(this,t),Object.defineProperty(n,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e}),n}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}])}(zB),YB=function(e){function t(){return kB(this,t),mB(this,t,arguments)}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.stroke()}}])}(zB),UB=function(e){function t(e,n,r,i){var o;return kB(this,t),o=mB(this,t),Object.defineProperty(o,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"color",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.strokeStyle=void 0!==t?t:this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin),this.lineCap&&(e.lineCap=this.lineCap)}}])}(zB),GB=function(e){function t(e){var n;return kB(this,t),n=mB(this,t),Object.defineProperty(n,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e}),n}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.setLineDash(this.dash)}}])}(zB),XB=function(e){function t(e){var n;return kB(this,t),n=mB(this,t),Object.defineProperty(n,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e}),n}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){e.lineDashOffset=this.dashOffset}}])}(zB),WB=function(e){function t(e,n,r,i){var o;return kB(this,t),o=mB(this,t),Object.defineProperty(o,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"width",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return wB(t,e),OB(t,[{key:"path",value:function(e){e.rect(this.x,this.y,this.width,this.height)}},{key:"addBounds",value:function(e){var t=this.x,n=this.y,r=t+this.width,i=n+this.height;FB(e,{x:t,y:n}),FB(e,{x:r,y:n}),FB(e,{x:t,y:i}),FB(e,{x:r,y:i})}}])}(zB),$B=function(e){function t(e,n,r){var i;return kB(this,t),i=mB(this,t),Object.defineProperty(i,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return wB(t,e),OB(t,[{key:"path",value:function(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}},{key:"addBounds",value:function(e){FB(e,{x:this.x-this.radius,y:this.y-this.radius}),FB(e,{x:this.x+this.radius,y:this.y+this.radius})}}])}(zB),KB=function(e){function t(e,n,r,i){var o;return kB(this,t),o=mB(this,t),Object.defineProperty(o,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return wB(t,e),OB(t,[{key:"path",value:function(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,2*Math.PI)}},{key:"addBounds",value:function(e){FB(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),FB(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}])}(zB),ZB=function(e){function t(e,n,r,i,o,a){var s;return kB(this,t),s=mB(this,t),Object.defineProperty(s,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(s,"cy",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(s,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(s,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(s,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(s,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:a}),s}return wB(t,e),OB(t,[{key:"path",value:function(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}},{key:"addBounds",value:function(e){var t=gC(this.cx,this.cy,this.startAngle*uC,this.endAngle*uC,this.radius);FB(e,{x:t.left,y:t.top}),FB(e,{x:t.right,y:t.bottom})}}])}(zB),JB=function(e){function t(e,n,r,i,o){var a;return kB(this,t),a=mB(this,t),Object.defineProperty(a,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"y1",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"x2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"y2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(a,"radius",{enumerable:!0,configurable:!0,writable:!0,value:o}),a}return wB(t,e),OB(t,[{key:"path",value:function(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}},{key:"addBounds",value:function(e){}}])}(zB),QB=function(e){function t(e,n){var r;return kB(this,t),r=mB(this,t),Object.defineProperty(r,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(r,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),r}return wB(t,e),OB(t,[{key:"path",value:function(e){e.lineTo(this.x,this.y)}},{key:"addBounds",value:function(e){FB(e,{x:this.x,y:this.y})}}])}(zB),eF=function(e){function t(e,n){var r;return kB(this,t),r=mB(this,t),Object.defineProperty(r,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(r,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),r}return wB(t,e),OB(t,[{key:"path",value:function(e){e.moveTo(this.x,this.y)}},{key:"addBounds",value:function(e){FB(e,{x:this.x,y:this.y})}}])}(zB),tF=function(e){function t(){return kB(this,t),mB(this,t,arguments)}return wB(t,e),OB(t,[{key:"path",value:function(e){e.closePath()}}])}(zB),nF=function(e){function t(e,n,r,i,o,a){var s;return kB(this,t),s=mB(this,t),Object.defineProperty(s,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(s,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(s,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(s,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(s,"toX",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(s,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a}),s}return wB(t,e),OB(t,[{key:"path",value:function(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}},{key:"addBounds",value:function(e){FB(e,{x:this.cpX,y:this.cpY}),FB(e,{x:this.cpX2,y:this.cpY2}),FB(e,{x:this.toX,y:this.toY})}}])}(zB),rF=function(e){function t(e,n,r,i){var o;return kB(this,t),o=mB(this,t),Object.defineProperty(o,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"toY",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return wB(t,e),OB(t,[{key:"path",value:function(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}},{key:"addBounds",value:function(e){FB(e,{x:this.cpX,y:this.cpY}),FB(e,{x:this.toX,y:this.toY})}}])}(zB),iF=function(e){function t(e,n,r,i,o){var a;return kB(this,t),a=mB(this,t),Object.defineProperty(a,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"blur",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(a,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:o}),a}return wB(t,e),OB(t,[{key:"colorize",value:function(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}},{key:"colorizeGhost",value:function(e,t){}}])}(zB),oF=function(e){function t(e,n,r,i,o){var a;return kB(this,t),a=mB(this,t),Object.defineProperty(a,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"width",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(a,"height",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(a,"y",{enumerable:!0,configurable:!0,writable:!0,value:o}),a}return wB(t,e),OB(t,[{key:"path",value:function(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}},{key:"addBounds",value:function(e){FB(e,{x:this.x,y:this.y}),FB(e,{x:this.width,y:this.height})}}])}(zB),aF=function(e){function t(){var e;return kB(this,t),e=mB(this,t,arguments),Object.defineProperty(e,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:jL.NORMAL}),Object.defineProperty(e,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return wB(t,e),OB(t,[{key:"clear",value:function(){vB(t,"clear",this,3)([]),this._operations.length=0}},{key:"_pushOp",value:function(e){this._operations.push(e)}},{key:"beginFill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fillAlpha=t,e?e instanceof _A?this._pushOp(new qB(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new qB(e))):this._pushOp(new qB("rgba(0, 0, 0, "+t+")"))}},{key:"endFill",value:function(){this._pushOp(new HB(this._hasShadows))}},{key:"endStroke",value:function(){this._pushOp(new YB)}},{key:"beginPath",value:function(){this._pushOp(new VB)}},{key:"lineStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;this._strokeAlpha=n,t?t instanceof _A?this._pushOp(new UB(e,t.toCSS(n),r,i)):this._pushOp(new UB(e,t,r,i)):this._pushOp(new UB(e,"rgba(0, 0, 0, "+n+")",r,i))}},{key:"setLineDash",value:function(e){this._pushOp(new GB(e||[]))}},{key:"setLineDashOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._pushOp(new XB(e))}},{key:"drawRect",value:function(e,t,n,r){this._pushOp(new WB(e,t,n,r))}},{key:"drawCircle",value:function(e,t,n){this._pushOp(new $B(e,t,n))}},{key:"drawEllipse",value:function(e,t,n,r){this._pushOp(new KB(e,t,n,r))}},{key:"arc",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this._pushOp(new ZB(e,t,n,r,i,o))}},{key:"arcTo",value:function(e,t,n,r,i){this._pushOp(new JB(e,t,n,r,i))}},{key:"lineTo",value:function(e,t){this._pushOp(new QB(e,t))}},{key:"moveTo",value:function(e,t){this._pushOp(new eF(e,t))}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){this._pushOp(new nF(e,t,n,r,i,o))}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._pushOp(new rF(e,t,n,r))}},{key:"closePath",value:function(){this._pushOp(new tF)}},{key:"shadow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;this._hasShadows=!0,this._pushOp(new iF(i?e.toCSS(i):e.toCSS(this._fillAlpha||this._strokeAlpha),t,n,r))}},{key:"image",value:function(e,t,n,r,i){this._pushOp(new oF(e,t,n,r,i))}},{key:"svgPath",value:function(e){for(var t,n=this,r=0,i=0,o=null,a=null,s=null,l=null,u=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,c=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;null!==(t=u.exec(e));){for(var f=t[1],h=t[2],d=[];null!==(t=c.exec(h));)d.push(t[1]);switch("S"!==f&&"s"!==f&&"C"!==f&&"c"!==f&&(o=null,a=null),"Q"!==f&&"q"!==f&&"T"!==f&&"t"!==f&&(s=null,l=null),f){case"M":jB(f,d.length,2),r=+d[0],i=+d[1],this.moveTo(r,i);for(var p=2;p<d.length;p+=2)r=+d[p],i=+d[p+1],this.lineTo(r,i);break;case"m":jB(f,d.length,2),r+=+d[0],i+=+d[1],this.moveTo(r,i);for(var v=2;v<d.length;v+=2)r+=+d[v],i+=+d[v+1],this.lineTo(r,i);break;case"L":jB(f,d.length,2);for(var y=0;y<d.length;y+=2)r=+d[y],i=+d[y+1],this.lineTo(r,i);break;case"l":jB(f,d.length,2);for(var m=0;m<d.length;m+=2)r+=+d[m],i+=+d[m+1],this.lineTo(r,i);break;case"H":EB(f,d.length,1);for(var b=0;b<d.length;++b)r=+d[b],this.lineTo(r,i);break;case"h":EB(f,d.length,1);for(var g=0;g<d.length;++g)r+=+d[g],this.lineTo(r,i);break;case"V":EB(f,d.length,1);for(var w=0;w<d.length;++w)i=+d[w],this.lineTo(r,i);break;case"v":EB(f,d.length,1);for(var _=0;_<d.length;++_)i+=+d[_],this.lineTo(r,i);break;case"C":jB(f,d.length,6);for(var k=0;k<d.length;k+=6){var x=+d[k],O=+d[k+1];o=+d[k+2],a=+d[k+3],r=+d[k+4],i=+d[k+5],this.bezierCurveTo(x,O,o,a,r,i)}break;case"c":jB(f,d.length,6);for(var P=0;P<d.length;P+=6){var S=+d[P]+r,E=+d[P+1]+i;o=+d[P+2]+r,a=+d[P+3]+i,r+=+d[P+4],i+=+d[P+5],this.bezierCurveTo(S,E,o,a,r,i)}break;case"S":jB(f,d.length,4),null!==o&&null!==a||(o=r,a=i);for(var j=0;j<d.length;j+=4){var T=2*r-o,D=2*i-a;o=+d[j],a=+d[j+1],r=+d[j+2],i=+d[j+3],this.bezierCurveTo(T,D,o,a,r,i)}break;case"s":jB(f,d.length,4),null!==o&&null!==a||(o=r,a=i);for(var A=0;A<d.length;A+=4){var C=2*r-o,M=2*i-a;o=+d[A]+r,a=+d[A+1]+i,r+=+d[A+2],i+=+d[A+3],this.bezierCurveTo(C,M,o,a,r,i)}break;case"Q":jB(f,d.length,4);for(var L=0;L<d.length;L+=4)s=+d[L],l=+d[L+1],r=+d[L+2],i=+d[L+3],this.quadraticCurveTo(s,l,r,i);break;case"q":jB(f,d.length,4);for(var R=0;R<d.length;R+=4)s=+d[R]+r,l=+d[R+1]+i,r+=+d[R+2],i+=+d[R+3],this.quadraticCurveTo(s,l,r,i);break;case"T":jB(f,d.length,2),null!==s&&null!==l||(s=r,l=i);for(var I=0;I<d.length;I+=2)s=2*r-s,l=2*i-l,r=+d[I],i=+d[I+1],this.quadraticCurveTo(s,l,r,i);break;case"t":jB(f,d.length,2),null!==s&&null!==l||(s=r,l=i);for(var N=0;N<d.length;N+=2)s=2*r-s,l=2*i-l,r+=+d[N],i+=+d[N+1],this.quadraticCurveTo(s,l,r,i);break;case"A":case"a":var B="a"===f;TB(d),jB(f,d.length,7);for(var F=0;F<d.length;F+=7){var z=+d[F+5],V=+d[F+6];B&&(z+=r,V+=i),Wj(dB({px:r,py:i,rx:+d[F],ry:+d[F+1],xAxisRotation:+d[F+2],largeArcFlag:DB(+d[F+3]),sweepFlag:DB(+d[F+4]),cx:z,cy:V}),(function(e){n.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y),r=e.x,i=e.y}))}break;case"Z":case"z":SB(f,d.length,0),this.closePath()}}}},{key:"_runPath",value:function(e){e.beginPath(),Wj(this._operations,(function(t){t.path(e)}))}},{key:"_render",value:function(e){vB(t,"_render",this,3)([e]);var n=e.layer.dirty,r=this._isInteractive(e);if(n||r){var i,o=e.layer.context,a=this._renderer._ghostLayer.context;n&&(o.globalCompositeOperation=this.blendMode,o.beginPath()),r&&(a.beginPath(),i=this._getColorId()),Wj(this._operations,(function(e){n&&(e.path(o),e.colorize(o,void 0)),r&&(e.pathGhost(a),e.colorizeGhost(a,i))}))}}},{key:"renderDetached",value:function(e){if(this.visible){this._setMatrix(),e.save();var t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),Wj(this._operations,(function(t){t.path(e),t.colorize(e,void 0)})),e.restore()}}},{key:"_addBounds",value:function(e){this.visible&&this.isMeasured&&Wj(this._operations,(function(t){t.addBounds(e)}))}}])}(NB),sF=function(e){function t(e,n,r){var i;return kB(this,t),i=mB(this,t,[e]),Object.defineProperty(i,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(i,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(i,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),i.text=n,i.style=r,i}return wB(t,e),OB(t,[{key:"invalidateBounds",value:function(){vB(t,"invalidateBounds",this,3)([]),this._textInfo=void 0}},{key:"_shared",value:function(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}},{key:"_prerender",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];vB(t,"_render",this,3)([e]);var i=e.layer.context,o=this._renderer._ghostLayer.context,a=this.style,s=this._getFontStyle(void 0,r);i.font=s,this._isInteractive(e)&&!n&&(o.font=s),a.fill&&(a.fill instanceof _A?i.fillStyle=a.fill.toCSS(null!=a.fillOpacity?a.fillOpacity:1):i.fillStyle=a.fill),a.shadowColor&&(e.layer.context.shadowColor=a.shadowColor.toCSS(a.shadowOpacity||1)),a.shadowBlur&&(e.layer.context.shadowBlur=a.shadowBlur),a.shadowOffsetX&&(e.layer.context.shadowOffsetX=a.shadowOffsetX),a.shadowOffsetY&&(e.layer.context.shadowOffsetY=a.shadowOffsetY),this._shared(i),this._isInteractive(e)&&!n&&(o.fillStyle=this._getColorId(),this._shared(o))}},{key:"_getFontStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.style,r=[];return e&&e.fontVariant?r.push(e.fontVariant):n.fontVariant&&r.push(n.fontVariant),t||(e&&e.fontWeight?r.push(e.fontWeight):n.fontWeight&&r.push(n.fontWeight)),e&&e.fontStyle?r.push(e.fontStyle):n.fontStyle&&r.push(n.fontStyle),e&&e.fontSize?(zj(e.fontSize)&&(e.fontSize=e.fontSize+"px"),r.push(e.fontSize)):n.fontSize&&(zj(n.fontSize)&&(n.fontSize=n.fontSize+"px"),r.push(n.fontSize)),e&&e.fontFamily?r.push(e.fontFamily):n.fontFamily?r.push(n.fontFamily):r.length&&r.push("Arial"),r.join(" ")}},{key:"_render",value:function(e){var t=this;if(this._textInfo||this._measure(e),this.textVisible){var n=this._isInteractive(e),r=e.layer.context,i=e.layer.dirty,o=this._renderer._ghostLayer.context;r.save(),o.save(),this._prerender(e),Wj(this._textInfo,(function(a,s){Wj(a.textChunks,(function(s,l){if(s.style&&(r.save(),o.save(),r.font=s.style,t._isInteractive(e)&&(o.font=s.style)),s.fill&&(r.save(),r.fillStyle=s.fill.toCSS()),i&&r.fillText(s.text,s.offsetX,a.offsetY+s.offsetY),"underline"==s.textDecoration||"line-through"==s.textDecoration){var u=1,c=1,f=s.height,h=t.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(h)>-1){var d=t._measureText(s.text,r);s.width=d.actualBoundingBoxLeft+d.actualBoundingBoxRight}var p,v=s.offsetX;switch(t.style.textAlign){case"right":case"end":v-=s.width;break;case"center":v-=s.width/2}if(s.style)switch(LR.getTextStyle(s.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":u=2}f&&(c=f/20),p="line-through"==s.textDecoration?u+a.offsetY+s.offsetY-s.height/2:u+1.5*c+a.offsetY+s.offsetY,r.save(),r.beginPath(),s.fill?r.strokeStyle=s.fill.toCSS():t.style.fill&&t.style.fill instanceof _A&&(r.strokeStyle=t.style.fill.toCSS()),r.lineWidth=u*c,r.moveTo(v,p),r.lineTo(v+s.width,p),r.stroke(),r.restore()}n&&t.interactive&&o.fillText(s.text,s.offsetX,a.offsetY+s.offsetY),s.fill&&r.restore(),s.style&&(r.restore(),o.restore())}))})),r.restore(),o.restore()}}},{key:"_addBounds",value:function(e){if(this.visible&&this.isMeasured){var t=this._measure({inactive:this.inactive,layer:this.getLayer()});FB(e,{x:t.left,y:t.top}),FB(e,{x:t.right,y:t.bottom})}}},{key:"_ignoreFontWeight",value:function(){return/apple/i.test(navigator.vendor)}},{key:"_measure",value:function(e){var t=this,n=e.layer.context,r=this._renderer._ghostLayer.context,i="rtl"==this.style.direction;this._textInfo=[];var o=this.style.oversizedBehavior,a=this.style.maxWidth,s=zj(a)&&"truncate"==o,l=zj(a)&&("wrap"==o||"wrap-no-break"==o);n.save(),r.save(),this._prerender(e,!0,this._ignoreFontWeight());var u,c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",f=this.text.toString().replace(/\r/g,"").split(/\n/),h=!0,d=0,p=0,v=0;Wj(f,(function(e,i){var o;o=""==e?[{type:"value",text:""}]:LR.chunk(e,!1,t.style.ignoreFormatting);for(var f=function(){var e,i={offsetY:v,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},f=t._measureText(c,n),y=f.actualBoundingBoxAscent+f.actualBoundingBoxDescent;i.height=y,i.ascent=f.actualBoundingBoxAscent;var m,b,g,w=t.style.textDecoration,_=!1,k=!0,x=[];Kj(o,(function(f,d){if("format"==f.type)if("[/]"==f.text)h||(n.restore(),r.restore(),h=!0),m=void 0,u=void 0,b=void 0,w=t.style.textDecoration,g=void 0,e=f.text;else{h||(n.restore(),r.restore());var p=LR.getTextStyle(f.text),v=t._getFontStyle(p);n.save(),r.save(),n.font=v,u=v,e=f.text,p.textDecoration&&(w=p.textDecoration),p.fill&&(m=p.fill),p.width&&(b=Lj(p.width)),p.verticalAlign&&(g=p.verticalAlign),h=!1;var y=t._measureText(c,n),O=y.actualBoundingBoxAscent+y.actualBoundingBoxDescent;O>i.height&&(i.height=O),y.actualBoundingBoxAscent>i.ascent&&(i.ascent=y.actualBoundingBoxAscent)}else if("value"==f.type&&!_){var P=t._measureText(f.text,n),S=P.actualBoundingBoxLeft+P.actualBoundingBoxRight;if(s){t.truncated=void 0;var E=k||t.style.breakWords||!1,j=t.style.ellipsis||"",T=t._measureText(j,n),D=T.actualBoundingBoxLeft+T.actualBoundingBoxRight;if(i.width+S>a){var A=a-i.width-D;f.text=t._truncateText(n,f.text,A,E),f.text+=j,_=!0,t.truncated=!0}}else if(l&&i.width+S>a){var C=a-i.width,M=t._truncateText(n,f.text,C,!1,k&&"wrap-no-break"!=t.style.oversizedBehavior);if(""==M)return t.textVisible=!0,!1;x=o.slice(d+1),BD(M)!=BD(f.text)&&(x.unshift({type:"value",text:f.text.substr(M.length)}),e&&x.unshift({type:"format",text:e})),f.text=BD(M),o=[],_=!0}var L=1,R=1;if(u&&b&&b>S){var I=S/b;switch(t.style.textAlign){case"right":case"end":L=I;break;case"center":L=I,R=I;break;default:R=I}S=b}var N=P.actualBoundingBoxAscent+P.actualBoundingBoxDescent;N>i.height&&(i.height=N),P.actualBoundingBoxAscent>i.ascent&&(i.ascent=P.actualBoundingBoxAscent),i.width+=S,i.left+=P.actualBoundingBoxLeft/L,i.right+=P.actualBoundingBoxRight/R,i.textChunks.push({style:u,fill:m,text:f.text,width:S,height:N,left:P.actualBoundingBoxLeft,right:P.actualBoundingBoxRight,ascent:P.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:w,verticalAlign:g}),k=!1}return!0})),t.style.lineHeight instanceof Oj?(i.height*=t.style.lineHeight.value,i.ascent*=t.style.lineHeight.value):(i.height*=t.style.lineHeight||1.2,i.ascent*=t.style.lineHeight||1.2),d<i.left&&(d=i.left),p<i.right&&(p=i.right),t._textInfo.push(i),v+=i.height,o=x||[]};o.length>0;)f()})),h||(n.restore(),r.restore()),Wj(this._textInfo,(function(e,n){var r=0;Wj(e.textChunks,(function(n){if(n.offsetX=r+n.left-e.left,n.offsetY+=e.height-e.height*(t.style.baselineRatio||.19),r+=n.width,n.verticalAlign)switch(n.verticalAlign){case"super":n.offsetY-=e.height/2-n.height/2;break;case"sub":n.offsetY+=n.height/2}}))}));var y={left:i?-p:-d,top:0,right:i?d:p,bottom:v};if("none"!==o){var m=this._fitRatio(y);if(m<1)if("fit"==o)zj(this.style.minScale)&&m<this.style.minScale?(this.textVisible=!1,y.left=0,y.top=0,y.right=0,y.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=m,this.textVisible=!0);else if("hide"==o)this.textVisible=!1,y.left=0,y.top=0,y.right=0,y.bottom=0;else{switch(this.style.textAlign){case"right":case"end":y.left=i?a:-a,y.right=0;break;case"center":y.left=-a/2,y.right=a/2;break;default:y.left=0,y.right=i?-a:a}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return n.restore(),r.restore(),y}},{key:"_fitRatio",value:function(e){var t=this.style.maxWidth,n=this.style.maxHeight;if(!zj(t)&&!zj(n))return 1;var r=e.right-e.left,i=e.bottom-e.top;return Math.min(t/r||1,n/i||1)}},{key:"_truncateText",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];do{if(i)t=t.slice(0,-1);else{var a=t.replace(/[^,;:!?\\\/\s​]+[,;:!?\\\/\s​]*$/g,"");if(""!=a&&a!==t||!o){if(""==a)return t;t=a}else i=!0}var s=this._measureText(t,e);r=s.actualBoundingBoxLeft+s.actualBoundingBoxRight}while(r>n&&""!=t);return t}},{key:"_measureText",value:function(e,t){var n=t.measureText(e),r={};if(null==n.actualBoundingBoxAscent){var i=document.createElement("div");i.innerText=e,i.style.visibility="hidden",i.style.position="absolute",i.style.top="-1000000px;",i.style.fontFamily=this.style.fontFamily||"",i.style.fontSize=this.style.fontSize+"",document.body.appendChild(i);var o=i.getBoundingClientRect();document.body.removeChild(i);var a=o.height,s=n.width;r={actualBoundingBoxAscent:a,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:s,fontBoundingBoxAscent:a,fontBoundingBoxDescent:0,width:s}}else r={actualBoundingBoxAscent:n.actualBoundingBoxAscent,actualBoundingBoxDescent:n.actualBoundingBoxDescent,actualBoundingBoxLeft:n.actualBoundingBoxLeft,actualBoundingBoxRight:n.actualBoundingBoxRight,fontBoundingBoxAscent:n.actualBoundingBoxAscent,fontBoundingBoxDescent:n.actualBoundingBoxDescent,width:n.width};var l=n.width;switch(this.style.textAlign){case"right":case"end":r.actualBoundingBoxLeft=l,r.actualBoundingBoxRight=0;break;case"center":r.actualBoundingBoxLeft=l/2,r.actualBoundingBoxRight=l/2;break;default:r.actualBoundingBoxLeft=0,r.actualBoundingBoxRight=l}return r}}])}(NB),lF=OB((function e(){kB(this,e),Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:Pj(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"…"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})})),uF=function(e){function t(){var e;return kB(this,t),e=mB(this,t,arguments),Object.defineProperty(e,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(e,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(e,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return wB(t,e),OB(t,[{key:"_render",value:function(e){if("circular"===this.textType)this._renderCircular(e);else vB(t,"_render",this,3)([e])}},{key:"_renderCircular",value:function(e){if(this.textVisible){this._prerender(e);var t=this._isInteractive(e),n=e.layer.context,r=e.layer.dirty,i=this._renderer._ghostLayer.context;n.save(),t&&i.save(),this._textInfo||this._measure(e);var o=this.radius||0,a=this.startAngle||0,s=0,l=this.orientation,u="auto"==l?"auto":"inward"==l,c=this.inside,f=this.style.textAlign||"left",h=this.kerning||0,d="left"==f?1:-1,p=!this._textReversed;if("auto"==u){var v=0,y=0;Wj(this._textInfo,(function(e,t){var n=a+e.width/(o-e.height)/2*-d;n>v&&(v=n)})),y=bC(y="left"==f?(v+s/2)*uC:"right"==f?(v-s/2)*uC:a*uC),u=y>=270||y<=90}1==u&&p&&(this._textInfo.reverse(),this._textReversed=!0),Wj(this._textInfo,(function(e,l){var v=e.height;c||(o+=v),(-1==d&&u||1==d&&!u)&&p&&e.textChunks.reverse();var y=a;s=0,"center"==f&&(y+=e.width/(o-v)/2*-d,s=y-a),y+=Math.PI*(u?0:1),n.save(),t&&i.save(),n.rotate(y),t&&i.rotate(y);var m=0;Wj(e.textChunks,(function(e,a){var s=e.text,l=e.width;m=l/2/(o-v)*d,n.rotate(m),t&&i.rotate(m),e.style&&(n.save(),i.save(),n.font=e.style,t&&(i.font=e.style)),e.fill&&(n.save(),n.fillStyle=e.fill.toCSS()),n.textBaseline="middle",n.textAlign="center",t&&(i.textBaseline="middle",i.textAlign="center"),r&&n.fillText(s,0,(u?1:-1)*(0-o+v/2)),t&&i.fillText(s,0,(u?1:-1)*(0-o+v/2)),e.fill&&n.restore(),e.style&&(n.restore(),i.restore()),m=(l/2+h)/(o-v)*d,n.rotate(m),t&&i.rotate(m)})),n.restore(),t&&i.restore(),c&&(o-=v)})),n.restore(),t&&i.restore()}}},{key:"_measure",value:function(e){return"circular"===this.textType?this._measureCircular(e):vB(t,"_measure",this,3)([e])}},{key:"_measureCircular",value:function(e){var t,n=this,r=e.layer.context,i=this._renderer._ghostLayer.context,o="rtl"==this.style.direction,a=this.style.oversizedBehavior,s=this.style.maxWidth,l=zj(s)&&"truncate"==a,u=this.style.ellipsis||"";this.textVisible=!0,this._textInfo=[],this._textReversed=!1,r.save(),i.save(),this._prerender(e,!0);var c=this.text.toString().replace(/\r/g,"").split(/\n/),f=!0,h=0,d=0;return Wj(c,(function(e,a){var c,p,v,y=LR.chunk(e,!1,n.style.ignoreFormatting),m={offsetY:d,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};Wj(y,(function(e,a){if("format"==e.type){if("[/]"==e.text)f||(r.restore(),i.restore(),f=!0),p=void 0,c=void 0,v=void 0;else{var d=LR.getTextStyle(e.text),y=n._getFontStyle(d);r.save(),i.save(),r.font=y,c=y,d.fill&&(p=d.fill),d.width&&(v=Lj(d.width)),f=!1}l&&(t=n._measureText(u,r))}else if("value"==e.type){var b=e.text.match(/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g)||[];o&&(b=GD(e.text)).reverse();for(var g=0;g<b.length;g++){var w=b[g],_=n._measureText(w,r),k=_.width;c&&v&&v>k&&(k=v);var x=_.actualBoundingBoxAscent+_.actualBoundingBoxDescent;if(x>m.height&&(m.height=x),_.actualBoundingBoxAscent>m.ascent&&(m.ascent=_.actualBoundingBoxAscent),h+=k,l){t||(t=n._measureText(u,r));var O=t.actualBoundingBoxLeft+t.actualBoundingBoxRight;if(h+O>s){1==m.textChunks.length?n.textVisible=!1:(m.width+=O,m.left+=t.actualBoundingBoxLeft,m.right+=t.actualBoundingBoxRight,m.textChunks.push({style:c,fill:p,text:u,width:O,height:x+t.actualBoundingBoxDescent,left:t.actualBoundingBoxLeft,right:t.actualBoundingBoxRight,ascent:t.actualBoundingBoxAscent,offsetX:0,offsetY:x,textDecoration:void 0}));break}}m.width+=k,m.left+=_.actualBoundingBoxLeft,m.right+=_.actualBoundingBoxRight,m.textChunks.push({style:c,fill:p,text:w,width:k,height:x+_.actualBoundingBoxDescent,left:_.actualBoundingBoxLeft,right:_.actualBoundingBoxRight,ascent:_.actualBoundingBoxAscent,offsetX:0,offsetY:x,textDecoration:void 0})}}})),n.style.lineHeight instanceof Oj?m.height*=n.style.lineHeight.value:m.height*=n.style.lineHeight||1.2,n._textInfo.push(m),d+=m.height})),f||(r.restore(),i.restore()),"hide"==a&&h>s&&(this.textVisible=!1),Wj(this._textInfo,(function(e){Wj(e.textChunks,(function(t){t.offsetY+=Math.round((e.height-t.height+(e.ascent-t.ascent))/2)}))})),r.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}])}(sF),cF=function(e){function t(e,n){var r;return kB(this,t),r=mB(this,t,[e]),Object.defineProperty(r,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.image=n,r}return wB(t,e),OB(t,[{key:"_dispose",value:function(){vB(t,"_dispose",this,3)([]),this._imageMask&&LB(this._imageMask)}},{key:"getLocalBounds",value:function(){if(!this._localBounds){var e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}},{key:"_render",value:function(e){if(vB(t,"_render",this,3)([e]),this.image){if(void 0===this.tainted&&(this.tainted=MB(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);var n=this.width||this.image.naturalWidth,r=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,n,r)}if(this.interactive&&this._isInteractive(e)){var i=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(i,0,0)}}}},{key:"clear",value:function(){vB(t,"clear",this,3)([]),this.image=void 0,this._imageMask=void 0}},{key:"_getMask",value:function(e){if(void 0===this._imageMask){var t=this.width||e.naturalWidth,n=this.height||e.naturalHeight,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.imageSmoothingEnabled=!1,i.fillStyle=this._getColorId(),i.fillRect(0,0,t,n),MB(e)||(i.globalCompositeOperation="destination-in",i.drawImage(e,0,0,t,n)),this._imageMask=r}return this._imageMask}}])}(NB),fF=OB((function e(t,n,r,i){kB(this,e),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),hD("touchevents")&&t instanceof Touch?this.id=t.identifier:this.id=null})),hF=function(e){function t(e){var n;if(kB(this,t),n=mB(this,t),Object.defineProperty(n,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(n,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(n,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:n.getLayer(0)}),Object.defineProperty(n,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new dF}),Object.defineProperty(n,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(n,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:n._patternCanvas.getContext("2d")}),Object.defineProperty(n,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(n,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(n,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(n,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(n,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(n,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(n,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n.resolution=null==e?window.devicePixelRatio:e,n.view.style.position="absolute",n.view.setAttribute("aria-hidden","true"),n.view.appendChild(n._layerDom),n._disposers.push(new UT((function(){jT(n._events,(function(e,t){t.disposer.dispose()})),Wj(n.layers,(function(e){LB(e.view),e.exportableView&&LB(e.exportableView)})),LB(n._ghostLayer.view),LB(n._patternCanvas)}))),n._disposers.push(fD((function(){null==e&&(n.resolution=window.devicePixelRatio)}))),hD("touchevents")){var r=function(e){0!==n._dragging.length&&Kj(n._dragging,(function(t){return!t.value.shouldCancelTouch()||(e.preventDefault(),!1)})),n._touchActiveTimeout&&n._delayTouchDeactivate()};n._disposers.push(cD(window,"touchstart",r,{passive:!1})),n._disposers.push(cD(n.view,"touchstart",r,{passive:!1})),n._disposers.push(cD(n.view,"touchmove",(function(){n._touchActiveTimeout&&n._delayTouchDeactivate()}),{passive:!0})),n._disposers.push(cD(window,"click",(function(e){n._touchActive=!1}),{passive:!0})),n._disposers.push(cD(n.view,"click",(function(e){window.setTimeout((function(){n._touchActive=!0,n._delayTouchDeactivate()}),100)}),{passive:!0}))}return hD("wheelevents")&&n._disposers.push(cD(n.view,"wheel",(function(e){var t=!1;n._hovering.forEach((function(e){if(e.wheelable)return t=!0,!1})),t&&e.preventDefault()}),{passive:!1})),n}return wB(t,e),OB(t,[{key:"resetImageArray",value:function(){this._ghostLayer.imageArray=void 0}},{key:"_delayTouchDeactivate",value:function(){var e=this;this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout((function(){e._touchActive=!1}),this.tapToActivateTimeout))}},{key:"debugGhostView",get:function(){return!!this._ghostLayer.view.parentNode},set:function(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}},{key:"createLinearGradient",value:function(e,t,n,r){return this.defaultLayer.context.createLinearGradient(e,t,n,r)}},{key:"createRadialGradient",value:function(e,t,n,r,i,o){return this.defaultLayer.context.createRadialGradient(e,t,n,r,i,o)}},{key:"createPattern",value:function(e,t,n,r,i){return this._patternCanvas.width=r,this._patternCanvas.height=i,this._patternContext.clearRect(0,0,r,i),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,n)}},{key:"makeContainer",value:function(){return new BB(this)}},{key:"makeGraphics",value:function(){return new aF(this)}},{key:"makeText",value:function(e,t){return new sF(this,e,t)}},{key:"makeTextStyle",value:function(){return new lF}},{key:"makeRadialText",value:function(e,t){return new uF(this,e,t)}},{key:"makePicture",value:function(e){return new cF(this,e)}},{key:"resizeLayer",value:function(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}},{key:"resizeGhost",value:function(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}},{key:"resize",value:function(e,t,n,r){var i=this;this._realWidth=e,this._realHeight=t,this._calculatedWidth=n,this._calculatedHeight=r,Wj(this.layers,(function(e){e&&(e.dirty=!0,i.resizeLayer(e))})),this.resizeGhost(),this.view.style.width=n+"px",this.view.style.height=r+"px"}},{key:"createDetachedLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.createElement("canvas"),n=t.getContext("2d",{willReadFrequently:e}),r=new pF(t,n);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",r}},{key:"getLayerByOrder",value:function(e){for(var t=this.layers,n=t.length,r=0;r<n;r++){var i=t[r];if(i.order==e)return i}}},{key:"getLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLayerByOrder(e);if(n)return n;var r=this.createDetachedLayer(99==e);r.order=e,r.visible=t,r.view.className="am5-layer-"+e,r.visible&&this.resizeLayer(r);var i=this.layers;i.push(r),i.sort((function(e,t){return e.order>t.order?1:e.order<t.order?-1:0}));for(var o,a=i.length,s=Uj(i,r)+1;s<a;s++)if(i[s].visible){o=i[s];break}return r.visible&&(void 0===o?this._layerDom.appendChild(r.view):this._layerDom.insertBefore(r.view,o.view)),r}},{key:"render",value:function(e){var t=this;if(this._dirtyLayers.length=0,Wj(this.layers,(function(e){e&&e.dirty&&e.visible&&(t._dirtyLayers.push(e),e.clear())})),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),Wj(this.layers,(function(e){if(e){var t=e.context;t.beginPath(),t.moveTo(0,0),t.stroke()}})),Wj(this._dirtyLayers,(function(e){e.context.restore(),e.dirty=!1})),this._hovering.size&&this._lastPointerMoveEvent){var n=this._lastPointerMoveEvent,r=n.events,i=n.target,o=n.native;Wj(r,(function(e){t._dispatchGlobalMousemove(e,i,o)}))}}},{key:"paintId",value:function(e){var t=function(e){for(var t=[0,0,0],n=0;n<24;n++)t[n%3]<<=1,t[n%3]|=1&e,e>>=1;return(0|t[0])+(t[1]<<8)+(t[2]<<16)}(++this._colorId),n=_A.fromHex(t).toCSS();return this._colorMap[n]=e,n}},{key:"_removeObject",value:function(e){void 0!==e._colorId&&delete this._colorMap[e._colorId]}},{key:"_adjustBoundingBox",value:function(e){var t=this._ghostLayer.margin;return new DOMRect(-t.left,-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}},{key:"getEvent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view.getBoundingClientRect(),r=e.clientX||0,i=e.clientY||0,o=this._calculatedWidth/this._realWidth,a=this._calculatedHeight/this._realHeight,s={x:r-n.left,y:i-n.top},l={x:(r-(t?n.left:0))*o,y:(i-(t?n.top:0))*a};return new fF(e,s,l,this._adjustBoundingBox(n))}},{key:"_getHitTarget",value:function(e,t,n){if(!(0===t.width||0===t.height||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom)&&n&&this._layerDom.contains(n)){var r=this._ghostLayer.getImageData(e,t);if(0===r.data[0]&&0===r.data[1]&&0===r.data[2])return!1;var i=_A.fromRGB(r.data[0],r.data[1],r.data[2]).toCSS();return this._colorMap[i]}}},{key:"getObjectAtPoint",value:function(e){var t=this._ghostLayer.getImageArray(e);if(0!==t[0]||0!==t[1]||0!==t[2]){var n=_A.fromRGB(t[0],t[1],t[2]).toCSS();return this._colorMap[n]}}},{key:"_withEvents",value:function(e,t){var n=this._events[e];if(void 0!==n){n.dispatching=!0;try{t(n)}finally{n.dispatching=!1,n.cleanup&&(n.cleanup=!1,xT(n.callbacks,(function(e){return!e.disposed})),0===n.callbacks.length&&(n.disposer.dispose(),delete this._events[e]))}}}},{key:"_dispatchEventAll",value:function(e,t){this.interactionsEnabled&&this._withEvents(e,(function(e){Wj(e.callbacks,(function(e){e.disposed||e.callback.call(e.context,t)}))}))}},{key:"_dispatchEvent",value:function(e,t,n){if(!this.interactionsEnabled)return!1;var r=!1;return this._withEvents(e,(function(e){Wj(e.callbacks,(function(e){e.disposed||e.object!==t||(e.callback.call(e.context,n),r=!0)}))})),r}},{key:"_dispatchMousedown",value:function(e,t){var n=this,r=e.button;if(0==r||2==r||1==r||void 0===r){var i=this.getEvent(e),o=this._getHitTarget(i.originalPoint,i.bbox,t);if(o){var a=i.id,s=!1;AB(o,(function(e){var t={id:a,value:e};if(n._mousedown.push(t),!s&&n._dispatchEvent("pointerdown",e,i)){s=!0;var r=n._dragging.some((function(t){return t.value===e&&t.id===a}));r||n._dragging.push(t)}return!0}))}}}},{key:"_dispatchGlobalMousemove",value:function(e,t,n){var r=this,i=this.getEvent(e),o=this._getHitTarget(i.originalPoint,i.bbox,t);i.native=n,o?(this._hovering.forEach((function(e){e.contains(o)||(r._hovering.delete(e),e.cursorOverStyle&&bD(document.body,"cursor",e._replacedCursorStyle),r._dispatchEvent("pointerout",e,i))})),i.native&&AB(o,(function(e){return r._hovering.has(e)||(r._hovering.add(e),e.cursorOverStyle&&(e._replacedCursorStyle=gD(document.body,"cursor"),bD(document.body,"cursor",e.cursorOverStyle)),r._dispatchEvent("pointerover",e,i)),!0}))):(this._hovering.forEach((function(e){e.cursorOverStyle&&bD(document.body,"cursor",e._replacedCursorStyle),r._dispatchEvent("pointerout",e,i)})),this._hovering.clear()),this._dispatchEventAll("globalpointermove",i)}},{key:"removeHovering",value:function(e){this._hovering.delete(e),e.cursorOverStyle&&bD(document.body,"cursor",e._replacedCursorStyle)}},{key:"_dispatchGlobalMouseup",value:function(e,t){var n=this.getEvent(e);n.native=t,this._dispatchEventAll("globalpointerup",n)}},{key:"_dispatchDragMove",value:function(e){var t=this;if(0!==this._dragging.length){var n=this.getEvent(e),r=n.id;this._dragging.forEach((function(e){e.id===r&&t._dispatchEvent("pointermove",e.value,n)}))}}},{key:"_dispatchDragEnd",value:function(e,t){var n,r=this,i=e.button;if(0==i||void 0===i)n="click";else if(2==i)n="rightclick";else{if(1!=i)return;n="middleclick"}var o=this.getEvent(e),a=o.id;if(0!==this._mousedown.length){var s=this._getHitTarget(o.originalPoint,o.bbox,t);s&&this._mousedown.forEach((function(e){e.id===a&&e.value.contains(s)&&r._dispatchEvent(n,e.value,o)})),this._mousedown.length=0}0!==this._dragging.length&&(this._dragging.forEach((function(e){e.id===a&&r._dispatchEvent("pointerup",e.value,o)})),this._dragging.length=0)}},{key:"_dispatchDoubleClick",value:function(e,t){var n=this,r=this.getEvent(e),i=this._getHitTarget(r.originalPoint,r.bbox,t);i&&AB(i,(function(e){return!n._dispatchEvent("dblclick",e,r)}))}},{key:"_dispatchWheel",value:function(e,t){var n=this,r=this.getEvent(e),i=this._getHitTarget(r.originalPoint,r.bbox,t);i&&AB(i,(function(e){return!n._dispatchEvent("wheel",e,r)}))}},{key:"_makeSharedEvent",value:function(e,t){var n=this;if(void 0===this._listeners[e]){var r=t();this._listeners[e]=new $T((function(){delete n._listeners[e],r.dispose()}))}return this._listeners[e].increment()}},{key:"_onPointerEvent",value:function(e,t){var n=!1,r=null;function i(){r=null,n=!1}return new XT([new UT((function(){null!==r&&clearTimeout(r),i()})),cD(this.view,yD(e),(function(e){n=!0,null!==r&&clearTimeout(r),r=window.setTimeout(i,0)})),CB(window,e,(function(e,i){null!==r&&(clearTimeout(r),r=null),t(e,i,n),n=!1}))])}},{key:"_initEvent",value:function(e){var t=this;switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",(function(){var e=function(e,n,r){t._lastPointerMoveEvent={events:e,target:n,native:r},Wj(e,(function(e){t._dispatchGlobalMousemove(e,n,r)}))};return new XT([t._onPointerEvent("pointerdown",e),t._onPointerEvent("pointermove",e)])}));case"globalpointerup":return this._makeSharedEvent("pointerup",(function(){var e=t._onPointerEvent("pointerup",(function(e,n,r){Wj(e,(function(e){t._dispatchGlobalMouseup(e,r)})),t._lastPointerMoveEvent={events:e,target:n,native:r}})),n=t._onPointerEvent("pointercancel",(function(e,n,r){Wj(e,(function(e){t._dispatchGlobalMouseup(e,r)})),t._lastPointerMoveEvent={events:e,target:n,native:r}}));return new UT((function(){e.dispose(),n.dispose()}))}));case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",(function(){var e=t._onPointerEvent("pointerdown",(function(e,n){Wj(e,(function(e){t._dispatchMousedown(e,n)}))})),n=t._onPointerEvent("pointermove",(function(e){Wj(e,(function(e){t._dispatchDragMove(e)}))})),r=t._onPointerEvent("pointerup",(function(e,n){Wj(e,(function(e){t._dispatchDragEnd(e,n)}))})),i=t._onPointerEvent("pointercancel",(function(e,n){Wj(e,(function(e){t._dispatchDragEnd(e,n)}))}));return new UT((function(){e.dispose(),n.dispose(),r.dispose(),i.dispose()}))}));case"dblclick":return this._makeSharedEvent("dblclick",(function(){return t._onPointerEvent("dblclick",(function(e,n){Wj(e,(function(e){t._dispatchDoubleClick(e,n)}))}))}));case"wheel":return this._makeSharedEvent("wheel",(function(){return cD(t.view,yD("wheel"),(function(e){t._dispatchWheel(e,wD(e))}),{passive:!1})}))}}},{key:"_addEvent",value:function(e,t,n,r){var i=this,o=this._events[t];void 0===o&&(o=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});var a={object:e,context:r,callback:n,disposed:!1};return o.callbacks.push(a),new UT((function(){a.disposed=!0,o.dispatching?o.cleanup=!0:(iT(o.callbacks,a),0===o.callbacks.length&&(o.disposer.dispose(),delete i._events[t]))}))}},{key:"getCanvas",value:function(e,t){var n=this;this.render(e),t||(t={});var r=this.resolution,i=Math.floor(this._calculatedWidth*this.resolution),o=Math.floor(this._calculatedHeight*this.resolution);if(t.minWidth&&t.minWidth>i){var a=t.minWidth/i;a>r&&(r=a*this.resolution)}if(t.minHeight&&t.minHeight>o){var s=t.minHeight/o;s>r&&(r=s*this.resolution)}if(t.maxWidth&&t.maxWidth<i){var l=t.maxWidth/i;l<r&&(r=l*this.resolution)}if(t.maxHeight&&t.maxHeight>o){var u=t.maxHeight/o;u<r&&(r=u*this.resolution)}t.maintainPixelRatio&&(r/=this.resolution);var c=[],f=!1,h=document.createElement("canvas");r!=this.resolution&&(f=!0,i=i*r/this.resolution,o=o*r/this.resolution),h.width=i,h.height=o,h.style.position="fixed",h.style.top="-10000px",this.view.appendChild(h),c.push(h);var d=h.getContext("2d"),p=0,v=0,y=!1;return Wj(this.layers,(function(e){if(e&&e.visible&&(e.tainted||f)){y=!0,e.exportableView=e.view,e.exportableContext=e.context,e.view=document.createElement("canvas"),e.view.style.position="fixed",e.view.style.top="-10000px",n.view.appendChild(e.view),c.push(e.view);var t=0,a=0;e.margin&&(t+=e.margin.left||0+e.margin.right||0,a+=e.margin.top||0+e.margin.bottom||0),e.view.width=i+t,e.view.height=o+a,e.context=e.view.getContext("2d"),e.dirty=!0,e.scale=r}})),y&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),Wj(this.layers,(function(e){if(e&&e.visible){var t=0,r=0;e.margin&&(t=-(e.margin.left||0)*n.resolution,r=-(e.margin.top||0)*n.resolution),d.drawImage(e.view,t,r),e.exportableView&&(e.view=e.exportableView,e.exportableView=void 0),e.exportableContext&&(e.context=e.exportableContext,e.exportableContext=void 0),p<e.view.clientWidth&&(p=e.view.clientWidth),v<e.view.clientHeight&&(v=e.view.clientHeight),e.scale=void 0}})),h.style.width=p+"px",h.style.height=v+"px",Wj(c,(function(e){e.style.position="",e.style.top="",n.view.removeChild(e)})),h}}])}(GT),dF=function(){return OB((function e(){kB(this,e),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}),[{key:"resize",value:function(e,t,n,r,i){this._resolution=i,e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,n+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*i),this._height=Math.floor(t*i),this.view.width=this._width,this.view.style.width=n+"px",this.view.height=this._height,this.view.style.height=r+"px"}},{key:"getImageData",value:function(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}},{key:"getImageArray",value:function(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);var t=this.imageArray,n=Math.round(e.x*this._resolution),r=4*(Math.round(e.y*this._resolution)*this._width+n);return[t[r],t[r+1],t[r+2],t[r+3]]}},{key:"setMargin",value:function(e){var t=this;this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,Wj(e,(function(e){e.margin&&(t.margin.left=Math.max(t.margin.left,e.margin.left),t.margin.right=Math.max(t.margin.right,e.margin.right),t.margin.top=Math.max(t.margin.top,e.margin.top),t.margin.bottom=Math.max(t.margin.bottom,e.margin.bottom))}))}},{key:"clear",value:function(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}])}(),pF=function(){return OB((function e(t,n){kB(this,e),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=t,this.context=n}),[{key:"resize",value:function(e,t,n,r,i){null!=this.width&&(e=this.width,n=this.width),null!=this.height&&(t=this.height,r=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,n+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*i),this._height=Math.floor(t*i),this.view.width=this._width,this.view.style.width=n+"px",this.view.height=this._height,this.view.style.height=r+"px"}},{key:"clear",value:function(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}])}();function vF(e){return vF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vF(e)}function yF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mF(r.key),r)}}function mF(e){var t=function(e,t){if("object"!=vF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vF(t)?t:t+""}function bF(e,t){null==e?requestAnimationFrame(t):setTimeout((function(){requestAnimationFrame(t)}),1e3/e)}var gF,wF=function(){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new LA}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:HN.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:LN}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:sN.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:xN.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:MN.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:_R.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:dR.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:DR.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!o)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");if(this._settings=i,0==i.accessible&&(this._a11yD=!0),null==i.useSafeResolution&&(i.useSafeResolution=!0),i.useSafeResolution&&(n=CD()),this._renderer=new hF(n),r=t instanceof HTMLElement?t:document.getElementById(t),Wj(vM.rootElements,(function(e){if(e.dom===r)throw new Error("You cannot have multiple Roots on the same DOM node")})),this.interfaceColors=_I.new(this,{}),null===r)throw new Error("Could not find HTML element with id `"+t+"`");this.dom=r;var a=document.createElement("div");a.style.position="relative",a.style.width="100%",a.style.height="100%",r.appendChild(a);var s=i.tooltipContainerBounds;s&&(this._tooltipContainerSettings=s),this._inner=a,this._updateComputedStyles(),vM.rootElements.push(this)}return function(e,t,n){return t&&yF(e.prototype,t),n&&yF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"moveDOM",value:function(e){var t;if(t=e instanceof HTMLElement?e:document.getElementById(e)){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}},{key:"_handleLogo",value:function(){if(this._logo){var e=this.dom.offsetWidth,t=this.dom.offsetHeight;e<=150||t<=60?this._logo.hide():this._logo.show()}}},{key:"_showBranding",value:function(){if(!this._logo){var e=this.tooltipContainer.children.push(WR.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:Pj(100),centerY:Ej,tooltipText:"Created using amCharts 5",tooltipX:Ej,cursorOverStyle:"pointer",background:KL.new(this,{fill:gA(4671320),fillOpacity:0,tooltipY:5})})),t=ZI.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",(function(){window.open("https://www.amcharts.com/","_blank")})),e.states.create("hover",{}),e.children.push(zL.new(this,{stroke:gA(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:gA(3976191)}),e.children.push(zL.new(this,{stroke:gA(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:gA(4671320)}),this._logo=e,this._handleLogo()}}},{key:"_getRealSize",value:function(){return this.dom.getBoundingClientRect()}},{key:"_getCalculatedSize",value:function(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}},{key:"_init",value:function(){var e=this,t=this._settings;!1!==t.accessible&&(t.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),t.ariaLabel&&this._inner.setAttribute("aria-label",t.ariaLabel),t.role&&this._inner.setAttribute("role",t.role));var n=this._renderer,r=this._getRealSize(),i=this._getCalculatedSize(r),o=Math.floor(i.width),a=Math.floor(i.height),s=Math.floor(r.width),l=Math.floor(r.height),u=WR.new(this,{visible:!0,width:o,height:a});this._rootContainer=u,this._rootContainer._defaultThemes.push(rB.new(this));var c=u.children.push(WR.new(this,{visible:!0,width:Ej,height:Ej}));this.container=c,n.resize(s,l,o,a),this._inner.appendChild(n.view),this._initResizeSensor();var f=document.createElement("div");if(this._htmlElementContainer=f,f.className="am5-html-container",f.style.position="absolute",f.style.pointerEvents="none",this._tooltipContainerSettings||(f.style.overflow="hidden"),this._inner.appendChild(f),!0!==this._a11yD){var h=document.createElement("div");h.className="am5-reader-container",h.setAttribute("role","alert"),h.style.position="absolute",h.style.width="1px",h.style.height="1px",h.style.overflow="hidden",h.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=h,this._inner.appendChild(this._readerAlertElement);var d=document.createElement("div");d.className="am5-focus-container",d.style.position="absolute",d.style.pointerEvents="none",d.style.top="0px",d.style.left="0px",d.style.overflow="hidden",d.style.width=o+"px",d.style.height=a+"px",d.setAttribute("role","graphics-document"),xD(d,!1),this._focusElementContainer=d,this._inner.appendChild(this._focusElementContainer);var p=document.createElement("div");this._tooltipElementContainer=p,p.className="am5-tooltip-container",this._inner.appendChild(p),hD("keyboardevents")&&(this._disposers.push(cD(window,"keydown",(function(t){var n=OD(t);"Shift"==n?e._isShift=!0:"Tab"==n&&(e._isShift=t.shiftKey)}))),this._disposers.push(cD(window,"keyup",(function(t){"Shift"==OD(t)&&(e._isShift=!1)}))),this._disposers.push(cD(d,"click",(function(){var t=e._focusedSprite;if(t){var r=t.get("clickAnnounceText","");""!==r&&e.readerAlert(r);var i=n.getEvent(new MouseEvent("click"));t.events.dispatch("click",{type:"click",originalEvent:i.event,point:i.point,simulated:!0,target:t})}}))),this._disposers.push(cD(d,"keydown",(function(t){var r=e._focusedSprite;if(r){"Escape"==t.key&&(pD(),e._focusedSprite=void 0);var i=0,o=0,a=OD(t);switch(a){case"Enter":case" ":var s=r.get("clickAnnounceText","");if(""!==s&&e.readerAlert(s)," "==a&&"checkbox"!=r.get("role"))return;t.preventDefault();var l=n.getEvent(new MouseEvent("mouse"));return void r.events.dispatch("click",{type:"click",originalEvent:l.event,point:l.point,simulated:!0,target:r});case"ArrowLeft":i=-6;break;case"ArrowRight":i=6;break;case"ArrowUp":o=-6;break;case"ArrowDown":o=6;break;default:return}if(0!=i||0!=o){if(t.preventDefault(),!r.isDragging()){e._keyboardDragPoint={x:0,y:0};var u=n.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));u.point={x:0,y:0},r.events.isEnabled("pointerdown")&&r.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:u.event,point:u.point,simulated:!0,target:r})}var c=e._keyboardDragPoint;c.x+=i,c.y+=o;var f=n.getEvent(new MouseEvent("mousemove",{clientX:c.x,clientY:c.y}),!1);r.events.isEnabled("globalpointermove")&&r.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:f.event,point:f.point,simulated:!0,target:r})}}}))),this._disposers.push(cD(d,"keyup",(function(t){if(e._focusedSprite){var r=e._focusedSprite,i=OD(t);switch(i){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(r.isDragging()){var o=e._keyboardDragPoint,a=n.getEvent(new MouseEvent("mouseup",{clientX:o.x,clientY:o.y}));return r.events.isEnabled("globalpointerup")&&r.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:a.event,point:a.point,simulated:!0,target:r}),void(e._keyboardDragPoint=void 0)}if(r.get("focusableGroup")){var s=r.get("focusableGroup"),l=e._tabindexes.filter((function(e){return!(e.get("focusableGroup")!=s||!1===e.getPrivate("focusable")||!e.isVisibleDeep())})),u=l.indexOf(r),c=l.length-1;(u+="ArrowRight"==i||"ArrowDown"==i?1:-1)<0?u=c:u>c&&(u=0),vD(l[u].getPrivate("focusElement").dom)}break;case"Tab":var f=r.get("focusableGroup");if(f&&e._isShift)return void e._focusNext(r.getPrivate("focusElement").dom,-1,f)}}}))))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}},{key:"_initResizeSensor",value:function(){var e=this;this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new dI(this.dom,(function(){e.autoResize&&e.resize()})),this._disposers.push(this._resizeSensorDisposer)}},{key:"resize",value:function(){var e=this._getRealSize(),t=this._getCalculatedSize(e),n=Math.floor(t.width),r=Math.floor(t.height);if(n>0&&r>0){var i=Math.floor(e.width),o=Math.floor(e.height),a=this._htmlElementContainer;if(a.style.width=n+"px",a.style.height=r+"px",!0!==this._a11yD){var s=this._focusElementContainer;s.style.width=n+"px",s.style.height=r+"px"}this._renderer.resize(i,o,n,r);var l=this._rootContainer;l.setPrivate("width",n),l.setPrivate("height",r),this._render(),this._handleLogo()}}},{key:"_render",value:function(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}},{key:"_runTickers",value:function(e){Wj(this._tickers,(function(t){t(e)}))}},{key:"_runAnimations",value:function(e){var t=0;return xT(this._animations,(function(n){var r=n._runAnimation(e);return r!==wA.Stopped&&(r!==wA.Playing||(++t,!0))})),this._isDirtyAnimation=!1,0===t}},{key:"_runDirties",value:function(){for(var e=this,t={};this._isDirtyParents;)this._isDirtyParents=!1,PT(this._dirtyParents).forEach((function(n){var r=e._dirtyParents[n];delete e._dirtyParents[n],r.isDisposed()||(t[r.uid]=r,r._prepareChildren())}));PT(t).forEach((function(e){t[e]._updateChildren()}));var n=[];PT(this._dirty).forEach((function(t){var r=e._dirty[t];r.isDisposed()?delete e._dirty[r.uid]:(n.push(r),r._beforeChanged())})),n.forEach((function(t){t._changed(),delete e._dirty[t.uid],t._clearDirty()})),this._isDirty=!1;var r={},i=[];PT(this._dirtyBounds).forEach((function(t){var n=e._dirtyBounds[t];delete e._dirtyBounds[t],n.isDisposed()||(r[n.uid]=n.depth(),i.push(n))})),this._positionHTMLElements(),i.sort((function(e,t){return gM(r[t.uid],r[e.uid])})),i.forEach((function(e){e._updateBounds()}));var o=this._dirtyPositions;PT(o).forEach((function(e){var t=o[e];delete o[e],t.isDisposed()||t._updatePosition()})),n.forEach((function(e){e._afterChanged()}))}},{key:"_renderFrame",value:function(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);var t=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),0===this._tickers.length&&t&&!this._isDirtyAnimation&&!this._isDirty}return!0}},{key:"_runTicker",value:function(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(t?this._ticker:bF(this.fps,this._ticker)))}},{key:"_runTickerNow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;if(!this.isDisposed())for(var t=performance.now()+e;;){var n=performance.now();if(n>=t){this.animationTime=null;break}if(this.animationTime=n,this._renderFrame(n)){this.animationTime=null;break}}}},{key:"_startTicker",value:function(){var e=this;null===this._ticker&&(this.animationTime=null,this._ticker=function(t){e._runTicker(t)},bF(this.fps,this._ticker))}},{key:"updateTick",get:function(){return this._updateTick},set:function(e){this._updateTick=e,e&&this._startTicker()}},{key:"_addDirtyEntity",value:function(e){this._isDirty=!0,void 0===this._dirty[e.uid]&&(this._dirty[e.uid]=e),this._startTicker()}},{key:"_addDirtyParent",value:function(e){this._isDirty=!0,this._isDirtyParents=!0,void 0===this._dirtyParents[e.uid]&&(this._dirtyParents[e.uid]=e),this._startTicker()}},{key:"_addDirtyBounds",value:function(e){this._isDirty=!0,void 0===this._dirtyBounds[e.uid]&&(this._dirtyBounds[e.uid]=e),this._startTicker()}},{key:"_addDirtyPosition",value:function(e){this._isDirty=!0,void 0===this._dirtyPositions[e.uid]&&(this._dirtyPositions[e.uid]=e),this._startTicker()}},{key:"_addAnimation",value:function(e){this._isDirtyAnimation=!0,-1===this._animations.indexOf(e)&&this._animations.push(e),this._startTicker()}},{key:"_markDirty",value:function(){this._isDirty=!0}},{key:"_markDirtyRedraw",value:function(){var e=this;this.events.once("frameended",(function(){e._isDirty=!0,e._startTicker()}))}},{key:"eachFrame",value:function(e){var t=this;return this._tickers.push(e),this._startTicker(),new UT((function(){iT(t._tickers,e)}))}},{key:"markDirtyGlobal",value:function(e){var t=this;e||(e=this.container),e.walkChildren((function(e){e instanceof WR&&t.markDirtyGlobal(e),e.markDirty(),e.markDirtyBounds()}))}},{key:"width",value:function(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}},{key:"height",value:function(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}},{key:"dispose",value:function(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),Wj(this._disposers,(function(e){e.dispose()})),this._inner&&uD(this._inner),rT(vM.rootElements,this))}},{key:"isDisposed",value:function(){return this._isDisposed}},{key:"readerAlert",value:function(e){!0!==this._a11yD&&(this._readerAlertElement.innerHTML=qD(e))}},{key:"setThemes",value:function(e){this._rootContainer.set("themes",e);var t=this.tooltipContainer;t&&t._applyThemes();var n=this.interfaceColors;n&&n._applyThemes()}},{key:"_addTooltip",value:function(){if(!this.tooltipContainer){var e=this._tooltipContainerSettings,t=this._rootContainer.children.push(WR.new(this,{position:"absolute",isMeasured:!1,width:Ej,height:Ej,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;var n=ZI.new(this,{});this.container.set("tooltip",n),n.hide(0),this._tooltip=n}}},{key:"_registerTabindexOrder",value:function(e){1!=this._a11yD&&(e.get("focusable")?sT(this._tabindexes,e):rT(this._tabindexes,e),this._invalidateTabindexes())}},{key:"_unregisterTabindexOrder",value:function(e){1!=this._a11yD&&(rT(this._tabindexes,e),this._invalidateTabindexes())}},{key:"_invalidateTabindexes",value:function(){var e=this;if(1!=this._a11yD){this._tabindexes.sort((function(e,t){var n=e.get("tabindexOrder",0),r=t.get("tabindexOrder",0);return n==r?0:n>r?1:-1}));var t=[];Wj(this._tabindexes,(function(n,r){n.getPrivate("focusElement")?e._moveFocusElement(r,n):e._makeFocusElement(r,n);var i=n.get("focusableGroup");i&&!1!==n.getPrivate("focusable")&&(-1!==t.indexOf(i)?n.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):t.push(i))}))}}},{key:"_updateCurrentFocus",value:function(){1!=this._a11yD&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}},{key:"_decorateFocusElement",value:function(e,t){if(1!=this._a11yD&&(t||(t=e.getPrivate("focusElement").dom),t)){var n=e.get("role");n?t.setAttribute("role",n):t.removeAttribute("role");var r=e.get("ariaLabel");if(r){var i=RR(e,r);t.setAttribute("aria-label",i)}else t.removeAttribute("aria-label");var o=e.get("ariaLive");o?t.setAttribute("aria-live",o):t.removeAttribute("aria-live");var a=e.get("ariaChecked");null!=a&&n&&-1!==["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(n)?t.setAttribute("aria-checked",a?"true":"false"):t.removeAttribute("aria-checked");var s=e.get("ariaCurrent");null!=s?t.setAttribute("aria-current",s):t.removeAttribute("aria-current");var l=e.get("ariaSelected");null!=l&&n&&-1!==["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(n)?t.setAttribute("aria-selected",l?"true":"false"):t.removeAttribute("aria-selected"),e.get("ariaHidden")?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden");var u=e.get("ariaOrientation");u?t.setAttribute("aria-orientation",u):t.removeAttribute("aria-orientation");var c=e.get("ariaValueNow");c?t.setAttribute("aria-valuenow",c):t.removeAttribute("aria-valuenow");var f=e.get("ariaValueMin");f?t.setAttribute("aria-valuemin",f):t.removeAttribute("aria-valuemin");var h=e.get("ariaValueMax");h?t.setAttribute("aria-valuemax",h):t.removeAttribute("aria-valuemax");var d=e.get("ariaValueText");d?t.setAttribute("aria-valuetext",d):t.removeAttribute("aria-valuetext");var p=e.get("ariaControls");p?t.setAttribute("aria-controls",p):t.removeAttribute("aria-controls"),e.get("visible")&&0!==e.get("opacity")&&"tooltip"!=e.get("role")&&!e.isHidden()&&!1!==e.getPrivate("focusable")?("-1"!=t.getAttribute("tabindex")&&t.setAttribute("tabindex",""+this.tabindex),t.removeAttribute("aria-hidden")):(t.removeAttribute("tabindex"),t.setAttribute("aria-hidden","true"))}}},{key:"_makeFocusElement",value:function(e,t){var n=this;if(!t.getPrivate("focusElement")&&1!=this._a11yD){var r=document.createElement("div");"tooltip"!=t.get("role")&&(r.tabIndex=this.tabindex),r.style.position="absolute",xD(r,!1);var i=[];t.setPrivate("focusElement",{dom:r,disposers:i}),this._decorateFocusElement(t),i.push(cD(r,"focus",(function(e){n._handleFocus(e)}))),i.push(cD(r,"blur",(function(e){n._handleBlur(e)}))),this._moveFocusElement(e,t)}}},{key:"_removeFocusElement",value:function(e){if(1!=this._a11yD){rT(this._tabindexes,e);var t=e.getPrivate("focusElement");if(t)this._focusElementContainer.removeChild(t.dom),Wj(t.disposers,(function(e){e.dispose()}))}}},{key:"_hideFocusElement",value:function(e){1!=this._a11yD&&(e.getPrivate("focusElement").dom.style.display="none")}},{key:"_moveFocusElement",value:function(e,t){if(1!=this._a11yD){var n=this._focusElementContainer,r=t.getPrivate("focusElement").dom;if(r!==this._focusElementContainer.children[e]){var i=this._focusElementContainer.children[e+1];i?n.insertBefore(r,i):n.append(r)}}}},{key:"_positionFocusElement",value:function(e){if(1!=this._a11yD&&null!=e){var t=e.globalBounds(),n=t.right==t.left?e.width():t.right-t.left,r=t.top==t.bottom?e.height():t.bottom-t.top,i=void 0!==this._settings.focusPadding?this._settings.focusPadding:2,o=t.left-i,a=t.top-i;n<0&&(o+=n,n=Math.abs(n)),r<0&&(a+=r,r=Math.abs(r));var s=e.getPrivate("focusElement").dom;s.style.top=a+"px",s.style.left=o+"px",s.style.width=n+2*i+"px",s.style.height=r+2*i+"px"}}},{key:"_getSpriteByFocusElement",value:function(e){var t;return Kj(this._tabindexes,(function(n,r){return n.getPrivate("focusElement").dom!==e||(t=n,!1)})),t}},{key:"_handleFocus",value:function(e){if(1!=this._a11yD){var t=this._getSpriteByFocusElement(e.target);t&&(t.isVisibleDeep()?(this._positionFocusElement(t),this._focusedSprite=t,t.events.isEnabled("focus")&&t.events.dispatch("focus",{type:"focus",originalEvent:e,target:t})):this._focusNext(e.target,this._isShift?-1:1))}}},{key:"_focusNext",value:function(e,t,n){if(1!=this._a11yD){var r=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(","))),i=r.indexOf(e)+t;i<0?i=r.length-1:i>=r.length&&(i=0);var o=r[i];if(n&&-1==t){var a=this._getSpriteByFocusElement(o);if(a&&a.get("focusableGroup")==n)return void this._focusNext(o,t)}o.focus()}}},{key:"_handleBlur",value:function(e){if(1!=this._a11yD){var t=this._focusedSprite;t&&!t.isDisposed()&&t.events.isEnabled("blur")&&t.events.dispatch("blur",{type:"blur",originalEvent:e,target:t}),this._focusedSprite=void 0}}},{key:"updateTooltip",value:function(e){if(1!=this._a11yD){var t=qD(e._getText()),n=e.getPrivate("tooltipElement");"tooltip"==e.get("role")&&""!=t?(n||(n=this._makeTooltipElement(e)),n.innerHTML!=t&&(n.innerHTML=t),n.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):n&&(n.remove(),e.removePrivate("tooltipElement"))}}},{key:"_makeTooltipElement",value:function(e){var t=this._tooltipElementContainer,n=document.createElement("div");return n.style.position="absolute",n.style.width="1px",n.style.height="1px",n.style.overflow="hidden",n.style.clip="rect(1px, 1px, 1px, 1px)",xD(n,!1),this._decorateFocusElement(e,n),t.append(n),e.setPrivate("tooltipElement",n),n}},{key:"_removeTooltipElement",value:function(e){if(1!=this._a11yD){var t=e.getPrivate("tooltipElement");if(t){var n=t.parentElement;n&&n.removeChild(t)}}}},{key:"_invalidateAccessibility",value:function(e){if(1!=this._a11yD){this._focusElementDirty=!0;var t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}}},{key:"focused",value:function(e){return this._focusedSprite===e}},{key:"documentPointToRoot",value:function(e){var t=this._getRealSize(),n=this._getCalculatedSize(t),r=n.width/t.width,i=n.height/t.height;return{x:(e.x-t.left)*r,y:(e.y-t.top)*i}}},{key:"rootPointToDocument",value:function(e){var t=this._getRealSize(),n=this._getCalculatedSize(t),r=n.width/t.width,i=n.height/t.height;return{x:e.x/r+t.left,y:e.y/i+t.top}}},{key:"addDisposer",value:function(e){return this._disposers.push(e),e}},{key:"_updateComputedStyles",value:function(){var e=window.getComputedStyle(this.dom),t="";jT(e,(function(e,n){Fj(e)&&e.match(/^font/)&&(t+=n)}));var n=t!=this._fontHash;return n&&(this._fontHash=t),n}},{key:"_checkComputedStyles",value:function(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}},{key:"_invalidateLabelBounds",value:function(e){var t=this;e instanceof WR?e.children.each((function(e){t._invalidateLabelBounds(e)})):e instanceof iI&&e.markDirtyBounds()}},{key:"_hasLicense",value:function(){for(var e=0;e<vM.licenses.length;e++)if(vM.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}},{key:"_licenseApplied",value:function(){this._logo&&this._logo.set("forceHidden",!0)}},{key:"debugGhostView",get:function(){return this._renderer.debugGhostView},set:function(e){this._renderer.debugGhostView=e}},{key:"tapToActivate",get:function(){return this._renderer.tapToActivate},set:function(e){this._renderer.tapToActivate=e}},{key:"tapToActivateTimeout",get:function(){return this._renderer.tapToActivateTimeout},set:function(e){this._renderer.tapToActivateTimeout=e}},{key:"_makeHTMLElement",value:function(e){var t=this,n=this._htmlElementContainer,r=document.createElement("div");return e.setPrivate("htmlElement",r),r.style.position="absolute",r.style.overflow="auto",r.style.boxSizing="border-box",xD(r,e.get("interactive",!1)),e.events.isEnabled("click")&&(xD(r,!0),this._disposers.push(cD(r,"click",(function(n){var r=t._renderer.getEvent(n);e.events.dispatch("click",{type:"click",originalEvent:r.event,point:r.point,simulated:!1,target:e})})))),this._positionHTMLElement(e),n.append(r),sT(this._htmlEnabledContainers,e),r}},{key:"_positionHTMLElements",value:function(){var e=this;Wj(this._htmlEnabledContainers,(function(t){e._positionHTMLElement(t)}))}},{key:"_positionHTMLElement",value:function(e){var t=e.getPrivate("htmlElement");if(t){Wj(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],(function(n){var r=e.get(n);t.style[n]=r?r+"px":""}));Wj(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],(function(n){var r=e.get(n);r?"fontSize"!=n||Fj(r)?t.style[n]=r+"":t.style[n]=r+"px":t.style[n]=""}));var n=e.compositeScale()||1,r=e.compositeRotation()||0;t.style.transform="",t.style.transformOrigin="";var i=e.compositeOpacity();setTimeout((function(){t.style.opacity=i+""}),10);var o=e.isVisibleDeep();o&&(t.style.display="block");var a={x:e.x()+e.get("dx",0),y:e.y()+e.get("dy",0)};e.parent&&(a=e.parent.toGlobal(a)),t.style.top=a.y+"px",t.style.left=a.x+"px";var s=e.get("width"),l=e.get("height"),u=0,c=0;if(s&&(u=e.width()),l&&(c=e.height()),!s||!l){t.style.position="fixed",t.style.width="",t.style.height="";var f=t.getBoundingClientRect();t.style.position="absolute",s||(u=f.width),l||(c=f.height);var h=u/n,d=c/n,p=e.get("centerX",0),v=e.get("centerY",0),y=0,m=0,b=0,g=0;p instanceof Oj?(y=-p.value*h,m=(1-p.value)*h):(y=-p,m=h-p),v instanceof Oj?(b=-v.value*d,g=(1-v.value)*d):(b=-v,g=d-v),e._localBounds={left:y,right:m,top:b,bottom:g};var w=e._adjustedLocalBounds,_=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=_,w.left===_.left&&w.right===_.right&&w.top===_.top&&w.bottom===_.bottom||e.markDirtyBounds()}u>0&&(t.style.minWidth=u+"px"),c>0&&(t.style.minHeight=c+"px"),o&&0!=i||(t.style.display="none");var k=e.get("centerX",0),x=Tj(k)?k.percent+"%":k+"px",O=e.get("centerY",0),P=Tj(O)?O.percent+"%":O+"px";(k||O)&&(t.style.transform="translate(-"+x+", -"+P+")"+t.style.transform),1!=n&&(t.style.transform+="scale("+n+")"),0!=r&&(t.style.transform+=" rotate("+r+"deg)"),""!=t.style.transform&&(t.style.transformOrigin=x+" "+P)}}},{key:"_setHTMLContent",value:function(e,t){var n=e.getPrivate("htmlElement");n||(n=this._makeHTMLElement(e)),n.innerHTML!=t&&(n.innerHTML=t)}},{key:"_removeHTMLContent",value:function(e){var t=e.getPrivate("htmlElement");t&&(this._htmlElementContainer.removeChild(t),e.removePrivate("htmlElement")),rT(this._htmlEnabledContainers,e)}}],[{key:"new",value:function(t,n){var r=new e(t,n,!0);return r._init(),r}}])}();function _F(e){return _F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_F(e)}function kF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xF(r.key),r)}}function xF(e){var t=function(e,t){if("object"!=_F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_F(t)?t:t+""}function OF(e,t,n){return t=jF(t),function(e,t){if(t&&("object"==_F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PF()?Reflect.construct(t,n||[],jF(e).constructor):t.apply(e,n))}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PF=function(){return!!e})()}function SF(e,t,n,r){var i=EF(jF(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function EF(){return EF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=jF(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},EF.apply(null,arguments)}function jF(e){return jF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jF(e)}function TF(e,t){return TF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TF(e,t)}var DF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),OF(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TF(e,t)}(t,e),function(e,t,n){return t&&kF(e.prototype,t),n&&kF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;SF(t,"_afterNewApplyThemes",this,3)([]),this._setRawDefault("deactivateRoot",!0),function(e,t){var n=t.interfaceColors,r=n.get("secondaryButton").toCSS(),i=n.get("text").toCSS(),o=n.get("alternativeBackground").toCSS(.45);if(!gF){var a=new XT([new ED(e,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},t.nonce),new ED(e,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:n.get("background").toCSS(.5),"z-index":"100"},t.nonce),new ED(e,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:n.get("background").toCSS(.5),"z-index":"101"},t.nonce),new ED(e,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},t.nonce),new ED(e,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:n.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+o,"box-shadow":"0px 0px 36px 0px "+o,color:i},t.nonce),new ED(e,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},t.nonce),new ED(e,".am5-modal-table",{display:"table",margin:"1em 0"},t.nonce),new ED(e,".am5-modal-table-row",{display:"table-row"},t.nonce),new ED(e,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},t.nonce),new ED(e,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},t.nonce),new ED(e,".am5-modal-table-cell > *",{"vertical-align":"middle"},t.nonce),new ED(e,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+r,"border-radius":"4px",padding:"3px 5px",margin:"2px"},t.nonce),new ED(e,".am5-modal-input-narrow",{width:"50px"},t.nonce),new ED(e,".am5-modal-button",{"font-weight":"400",color:n.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+n.get("secondaryButtonStroke").toCSS(),background:n.get("secondaryButton").toCSS()},t.nonce),new ED(e,".am5-modal-button:hover",{background:n.get("secondaryButtonHover").toCSS()},t.nonce),new ED(e,".am5-modal-button.am5-modal-primary",{color:n.get("primaryButtonText").toCSS(),border:"1px solid "+n.get("primaryButtonStroke").toCSS(),background:n.get("primaryButton").toCSS()},t.nonce),new ED(e,".am5-modal-button.am5-modal-primary:hover",{background:n.get("primaryButtonHover").toCSS()},t.nonce)]);gF=new $T((function(){gF=void 0,a.dispose()}))}gF.increment()}(PD(this._root.dom),this._root);var n=document.createElement("div");n.className="am5-modal",n.style.display="none",this.root._inner.appendChild(n),this.setPrivate("container",n);var r=document.createElement("div");r.className="am5-modal-curtain",n.appendChild(r),this.setPrivate("curtain",r),this._disposers.push(cD(r,"click",(function(){e.cancel()})));var i=document.createElement("div");i.className="am5-modal-wrapper",n.appendChild(i),this.setPrivate("wrapper",i);var o=document.createElement("div");o.className="am5-modal-content",i.appendChild(o),this.setPrivate("content",o);var a=this.get("content");a&&(o.innerHTML=a),hD("keyboardevents")&&this._disposers.push(cD(document,"keydown",(function(t){e.isOpen()&&"Escape"==OD(t)&&e.cancel()})))}},{key:"_beforeChanged",value:function(){SF(t,"_beforeChanged",this,3)([]),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}},{key:"isOpen",value:function(){return"none"!=this.getPrivate("container").style.display}},{key:"open",value:function(){var e=this;this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout((function(){e._root._renderer.interactionsEnabled=!1}),10),this.events.dispatch("opened",{type:"opened",target:this})}},{key:"close",value:function(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}},{key:"cancel",value:function(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}},{key:"_dispose",value:function(){SF(t,"_dispose",this,3)([]);var e=this.getPrivate("container");e.parentElement&&e.parentElement.removeChild(e)}}])}(NM);function AF(e){return AF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AF(e)}function CF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MF(r.key),r)}}function MF(e){var t=function(e,t){if("object"!=AF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AF(t)?t:t+""}function LF(e,t,n){return t=BF(t),function(e,t){if(t&&("object"==AF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RF()?Reflect.construct(t,n||[],BF(e).constructor):t.apply(e,n))}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RF=function(){return!!e})()}function IF(e,t,n,r){var i=NF(BF(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function NF(){return NF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=BF(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},NF.apply(null,arguments)}function BF(e){return BF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BF(e)}function FF(e,t){return FF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FF(e,t)}Object.defineProperty(DF,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"}),Object.defineProperty(DF,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([DF.className])});var zF=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=LF(this,t,arguments),Object.defineProperty(e,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FF(e,t)}(t,e),function(e,t,n){return t&&CF(e.prototype,t),n&&CF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){IF(t,"_afterNewApplyThemes",this,3)([])}},{key:"_beforeChanged",value:function(){if(IF(t,"_beforeChanged",this,3)([]),this.isDirty("sprite")){var e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}])}(NM);function VF(e){return VF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VF(e)}function qF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HF(r.key),r)}}function HF(e){var t=function(e,t){if("object"!=VF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VF(t)?t:t+""}function YF(e,t,n){return t=XF(t),function(e,t){if(t&&("object"==VF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UF()?Reflect.construct(t,n||[],XF(e).constructor):t.apply(e,n))}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UF=function(){return!!e})()}function GF(){return GF="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=XF(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},GF.apply(null,arguments)}function XF(e){return XF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XF(e)}function WF(e,t){return WF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WF(e,t)}Object.defineProperty(zF,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"}),Object.defineProperty(zF,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([zF.className])});var $F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YF(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WF(e,t)}(t,e),function(e,t,n){return t&&qF(e.prototype,t),n&&qF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){!function(e,t,n,r){var i=GF(XF(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_beforeChanged",this,3)([]),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}},{key:"_draw",value:function(){var e=this.width(),t=this.height(),n=e,r=t,i=n/Math.abs(e),o=r/Math.abs(t);if(zj(n)&&zj(r)){var a=Math.min(n,r)/2,s=MD(this.get("cornerRadiusTL",8),a),l=MD(this.get("cornerRadiusTR",8),a),u=MD(this.get("cornerRadiusBR",8),a),c=MD(this.get("cornerRadiusBL",8),a),f=Math.min(Math.abs(n/2),Math.abs(r/2));s=pC(s,0,f),l=pC(l,0,f),u=pC(u,0,f),c=pC(c,0,f);var h=this._display;h.moveTo(s*i,0),h.lineTo(n-l*i,0),l>0&&h.arcTo(n,0,n,l*o,l),h.lineTo(n,r-u*o),u>0&&h.arcTo(n,r,n-u*i,r,u),h.lineTo(c*i,r),c>0&&h.arcTo(0,r,0,r-c*o,c),h.lineTo(0,s*o),s>0&&h.arcTo(0,0,s*i,0,s),h.closePath()}}}])}(KL);function KF(e){return KF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KF(e)}function ZF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JF(r.key),r)}}function JF(e){var t=function(e,t){if("object"!=KF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KF(t)?t:t+""}function QF(e,t,n){return t=rz(t),function(e,t){if(t&&("object"==KF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ez()?Reflect.construct(t,n||[],rz(e).constructor):t.apply(e,n))}function ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ez=function(){return!!e})()}function tz(e,t,n,r){var i=nz(rz(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function nz(){return nz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=rz(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nz.apply(null,arguments)}function rz(e){return rz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rz(e)}function iz(e,t){return iz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iz(e,t)}Object.defineProperty($F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty($F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:KL.classNames.concat([$F.className])});var oz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),QF(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iz(e,t)}(t,e),function(e,t,n){return t&&ZF(e.prototype,t),n&&ZF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["button"]),tz(t,"_afterNew",this,3)([]),this._settings.background||this.set("background",$F.new(this._root,{themeTags:dA(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}},{key:"_prepareChildren",value:function(){if(tz(t,"_prepareChildren",this,3)([]),this.isDirty("icon")){var e=this._prevSettings.icon,n=this.get("icon");n!==e&&(this._disposeProperty("icon"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.icon=n)}if(this.isDirty("label")){var r=this._prevSettings.label,i=this.get("label");i!==r&&(this._disposeProperty("label"),r&&r.dispose(),i&&this.children.push(i),this._prevSettings.label=i)}}}])}(WR);function az(e){return az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},az(e)}function sz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lz(r.key),r)}}function lz(e){var t=function(e,t){if("object"!=az(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=az(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==az(t)?t:t+""}function uz(e,t,n){return t=dz(t),function(e,t){if(t&&("object"==az(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cz()?Reflect.construct(t,n||[],dz(e).constructor):t.apply(e,n))}function cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cz=function(){return!!e})()}function fz(e,t,n,r){var i=hz(dz(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function hz(){return hz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=dz(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hz.apply(null,arguments)}function dz(e){return dz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dz(e)}function pz(e,t){return pz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pz(e,t)}Object.defineProperty(oz,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(oz,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([oz.className])});var vz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uz(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pz(e,t)}(t,e),function(e,t,n){return t&&sz(e.prototype,t),n&&sz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){fz(t,"_afterNew",this,3)([]),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}},{key:"_beforeChanged",value:function(){fz(t,"_beforeChanged",this,3)([]),this.isDirty("radius")&&(this._clear=!0)}},{key:"_changed",value:function(){fz(t,"_changed",this,3)([]),this._clear&&this._display.drawCircle(0,0,Math.abs(this.get("radius",10)))}}])}(zL);function yz(e){return yz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yz(e)}function mz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bz(r.key),r)}}function bz(e){var t=function(e,t){if("object"!=yz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yz(t)?t:t+""}function gz(e,t,n){return t=xz(t),function(e,t){if(t&&("object"==yz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wz()?Reflect.construct(t,n||[],xz(e).constructor):t.apply(e,n))}function wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wz=function(){return!!e})()}function _z(e,t,n,r){var i=kz(xz(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function kz(){return kz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=xz(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kz.apply(null,arguments)}function xz(e){return xz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xz(e)}function Oz(e,t){return Oz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oz(e,t)}Object.defineProperty(vz,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"}),Object.defineProperty(vz,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([vz.className])});var Pz=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=gz(this,t,arguments),Object.defineProperty(e,"morphAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oz(e,t)}(t,e),function(e,t,n){return t&&mz(e.prototype,t),n&&mz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){var e=this;if(_z(t,"_beforeChanged",this,3)([]),this.isDirty("coordinates")){var n=[],r=this.get("coordinates");r&&Wj(r,(function(e){n.push({x:e[0],y:e[1]})})),this.set("points",n)}if(this.isPrivateDirty("points")&&(this._clear=!0),this.isDirty("points")){this._clear=!0;var i=this.get("points"),o=this._prevSettings.points;if(o){if(i){var a=fT(i),s=fT(o),l=a.length,u=s.length;if(l>u){for(var c=fT(a),f=0;f<l;f++){var h=Math.floor(f/l*u);c[f]={x:s[h].x,y:s[h].y}}s=c}else if(u>l){for(var d=fT(s),p=0;p<u;p++){var v=Math.floor(p/u*l);d[p]={x:a[v].x,y:a[v].y}}a=d}this.setPrivateRaw("previousPoints",s),this.setPrivateRaw("points",a),this.morphAnimation=this.animatePrivate({key:"morphProgress",from:0,to:1,duration:this.get("animationDuration",0),easing:this.get("animationEasing")}),this._root.events.once("frameended",(function(){e._markDirtyPrivateKey("morphProgress")}))}}else this.setPrivateRaw("previousPoints",i),this.setPrivateRaw("points",i);var y=1/0,m=-1/0,b=1/0,g=-1/0;if(i)for(var w=1,_=i.length;w<_;w++){var k=i[w];y=Math.min(y,k.x),m=Math.max(m,k.x),b=Math.min(b,k.y),g=Math.max(g,k.y)}this.setPrivate("minX",y),this.setPrivate("maxX",m),this.setPrivate("minY",b),this.setPrivate("maxY",b)}this.isPrivateDirty("morphProgress")&&(this._clear=!0)}},{key:"_changed",value:function(){_z(t,"_changed",this,3)([]),this._clear&&this._draw()}},{key:"_draw",value:function(){var e=this.getPrivate("previousPoints"),t=this.getPrivate("points"),n=this.getPrivate("morphProgress",1);if(t&&e){var r=t[0],i=e[0];r&&this._display.moveTo(i.x+(r.x-i.x)*n,i.y+(r.y-i.y)*n);for(var o=1,a=t.length;o<a;o++){var s=t[o],l=e[o];this._display.lineTo(l.x+(s.x-l.x)*n,l.y+(s.y-l.y)*n)}this._display.closePath()}}},{key:"_updateSize",value:function(){this.markDirty(),this._clear=!0}}])}(zL);function Sz(e){return Sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sz(e)}function Ez(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jz(r.key),r)}}function jz(e){var t=function(e,t){if("object"!=Sz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sz(t)?t:t+""}function Tz(e,t,n){return t=Mz(t),function(e,t){if(t&&("object"==Sz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dz()?Reflect.construct(t,n||[],Mz(e).constructor):t.apply(e,n))}function Dz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dz=function(){return!!e})()}function Az(e,t,n,r){var i=Cz(Mz(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Cz(){return Cz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Mz(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Cz.apply(null,arguments)}function Mz(e){return Mz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mz(e)}function Lz(e,t){return Lz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lz(e,t)}Object.defineProperty(Pz,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Polygon"}),Object.defineProperty(Pz,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([Pz.className])});var Rz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tz(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lz(e,t)}(t,e),function(e,t,n){return t&&Ez(e.prototype,t),n&&Ez(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){Az(t,"_beforeChanged",this,3)([]),(this.isDirty("radiusX")||this.isDirty("radiusY")||this.isDirty("rotation"))&&(this._clear=!0)}},{key:"_changed",value:function(){Az(t,"_changed",this,3)([]),this._clear&&this._display.drawEllipse(0,0,Math.abs(this.get("radiusX")),Math.abs(this.get("radiusY")))}}])}(zL);function Iz(e){return Iz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iz(e)}function Nz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bz(r.key),r)}}function Bz(e){var t=function(e,t){if("object"!=Iz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iz(t)?t:t+""}function Fz(e,t,n){return t=Hz(t),function(e,t){if(t&&("object"==Iz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zz()?Reflect.construct(t,n||[],Hz(e).constructor):t.apply(e,n))}function zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zz=function(){return!!e})()}function Vz(e,t,n,r){var i=qz(Hz(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function qz(){return qz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Hz(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qz.apply(null,arguments)}function Hz(e){return Hz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hz(e)}function Yz(e,t){return Yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yz(e,t)}Object.defineProperty(Rz,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Ellipse"}),Object.defineProperty(Rz,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([Rz.className])});var Uz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fz(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yz(e,t)}(t,e),function(e,t,n){return t&&Nz(e.prototype,t),n&&Nz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){Vz(t,"_beforeChanged",this,3)([]),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("spikes"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(Vz(t,"_changed",this,3)([]),this._clear){var e=this._display,n=this.get("radius",0),r=MD(this.get("innerRadius",0),n),i=this.get("spikes",0),o=Math.PI/i,a=Math.PI/2*3;e.moveTo(0,-n);for(var s=0;s<i;s++)e.lineTo(Math.cos(a)*n,Math.sin(a)*n),a+=o,e.lineTo(Math.cos(a)*r,Math.sin(a)*r),a+=o;e.lineTo(0,-n),e.closePath()}}}])}(zL);function Gz(e){return Gz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gz(e)}function Xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kz(r.key),r)}}function $z(e,t,n){return t&&Wz(e.prototype,t),n&&Wz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kz(e){var t=function(e,t){if("object"!=Gz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gz(t)?t:t+""}function Zz(e,t,n){return t=tV(t),function(e,t){if(t&&("object"==Gz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jz()?Reflect.construct(t,n||[],tV(e).constructor):t.apply(e,n))}function Jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jz=function(){return!!e})()}function Qz(e,t,n,r){var i=eV(tV(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function eV(){return eV="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=tV(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},eV.apply(null,arguments)}function tV(e){return tV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tV(e)}function nV(e,t){return nV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nV(e,t)}Object.defineProperty(Uz,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Star"}),Object.defineProperty(Uz,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([Uz.className])});var rV=function(e){function t(){var e;return Xz(this,t),e=Zz(this,t,arguments),Object.defineProperty(e,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nV(e,t)}(t,e),$z(t,[{key:"incrementRef",value:function(){}},{key:"decrementRef",value:function(){}},{key:"_onPush",value:function(e){this.processor&&this.processor.processRow(e),Qz(t,"_onPush",this,3)([e])}},{key:"_onInsertIndex",value:function(e,n){this.processor&&this.processor.processRow(n),Qz(t,"_onInsertIndex",this,3)([e,n])}},{key:"_onSetIndex",value:function(e,n,r){this.processor&&this.processor.processRow(r),Qz(t,"_onSetIndex",this,3)([e,n,r])}}])}($A),iV=function(){return $z((function e(t){Xz(this,e),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}),[{key:"incrementRef",value:function(){}},{key:"decrementRef",value:function(){}}])}();function oV(e){return oV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oV(e)}function aV(){aV=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==oV(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(oV(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function sV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cV(r.key),r)}}function uV(e,t,n){return t&&lV(e.prototype,t),n&&lV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cV(e){var t=function(e,t){if("object"!=oV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oV(t)?t:t+""}function fV(e,t,n){return t=vV(t),function(e,t){if(t&&("object"==oV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hV()?Reflect.construct(t,n||[],vV(e).constructor):t.apply(e,n))}function hV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hV=function(){return!!e})()}function dV(e,t,n,r){var i=pV(vV(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function pV(){return pV="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=vV(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pV.apply(null,arguments)}function vV(e){return vV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vV(e)}function yV(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mV(e,t)}function mV(e,t){return mV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mV(e,t)}var bV=function(e){function t(e,n,r){var i;return sV(this,t),i=fV(this,t,[r]),Object.defineProperty(i,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.dataContext=n,i.component=e,i._settings.visible=!0,i._checkDirty(),i}return yV(t,e),uV(t,[{key:"markDirty",value:function(){this.component.markDirtyValues(this)}},{key:"_startAnimation",value:function(){this.component._root._addAnimation(this)}},{key:"_animationTime",value:function(){return this.component._root.animationTime}},{key:"_dispose",value:function(){this.component&&this.component.disposeDataItem(this),dV(t,"_dispose",this,3)([])}},{key:"show",value:function(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}},{key:"hide",value:function(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}},{key:"isHidden",value:function(){return!this.get("visible")}}])}(IM),gV=function(e){function t(){var e;return sV(this,t),e=fV(this,t,arguments),Object.defineProperty(e,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new rV}),Object.defineProperty(e,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:e._dataItems}),Object.defineProperty(e,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(e,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return yV(t,e),uV(t,[{key:"data",get:function(){return this._data},set:function(e){e.incrementRef(),this._data.decrementRef(),this._data=e}},{key:"_dispose",value:function(){dV(t,"_dispose",this,3)([]),this._data.decrementRef()}},{key:"_onDataClear",value:function(){}},{key:"_afterNew",value:function(){var e=this;dV(t,"_afterNew",this,3)([]),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((function(t){var n=e._mainDataItems;if(e.markDirtyValues(),e._markDirtyGroup(),e._dataChanged=!0,"clear"===t.type)Wj(n,(function(e){e.dispose()})),n.length=0,e._onDataClear();else if("push"===t.type){var r=new bV(e,t.newValue,e._makeDataItem(t.newValue));n.push(r),e.processDataItem(r)}else if("setIndex"===t.type){var i=n[t.index],o=e._makeDataItem(t.newValue);i.bullets&&0==i.bullets.length&&(i.bullets=void 0),PT(o).forEach((function(t){i.animate({key:t,to:o[t],duration:e.get("interpolationDuration",0),easing:e.get("interpolationEasing")})})),i.dataContext=t.newValue}else if("insertIndex"===t.type){var a=new bV(e,t.newValue,e._makeDataItem(t.newValue));n.splice(t.index,0,a),e.processDataItem(a)}else if("removeIndex"===t.type){n[t.index].dispose(),n.splice(t.index,1)}else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");var s=n[t.oldIndex];n.splice(t.oldIndex,1),n.splice(t.newIndex,0,s)}e._afterDataChange()})))}},{key:"_updateFields",value:function(){var e=this;this.valueFields&&(this._valueFields=[],this._valueFieldsF={},Wj(this.valueFields,(function(t){e.get(t+"Field")&&(e._valueFields.push(t),e._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},Wj(this.fields,(function(t){e.get(t+"Field")&&(e._fields.push(t),e._fieldsF[t]=t+"Field")})))}},{key:"dataItems",get:function(){return this._dataItems}},{key:"processDataItem",value:function(e){}},{key:"_makeDataItem",value:function(e){var t=this,n={};return this._valueFields&&Wj(this._valueFields,(function(r){var i=t.get(t._valueFieldsF[r].fieldKey);n[r]=e[i],n[t._valueFieldsF[r].workingKey]=n[r]})),this._fields&&Wj(this._fields,(function(r){var i=t.get(t._fieldsF[r]);n[r]=e[i]})),n}},{key:"makeDataItem",value:function(e,t){var n=new bV(this,t,e);return this.processDataItem(n),n}},{key:"pushDataItem",value:function(e,t){var n=this.makeDataItem(e,t);return this._mainDataItems.push(n),n}},{key:"disposeDataItem",value:function(e){}},{key:"showDataItem",value:function(e,t){return wj(this,void 0,void 0,aV().mark((function t(){return aV().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.set("visible",!0);case 1:case"end":return t.stop()}}),t)})))}},{key:"hideDataItem",value:function(e,t){return wj(this,void 0,void 0,aV().mark((function t(){return aV().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.set("visible",!1);case 1:case"end":return t.stop()}}),t)})))}},{key:"_clearDirty",value:function(){dV(t,"_clearDirty",this,3)([]),this._valuesDirty=!1}},{key:"_afterDataChange",value:function(){}},{key:"_afterChanged",value:function(){if(dV(t,"_afterChanged",this,3)([]),this._dataChanged){var e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}},{key:"markDirtyValues",value:function(e){this.markDirty(),this._valuesDirty=!0}},{key:"_markDirtyGroup",value:function(){this._dataGrouped=!1}},{key:"markDirtySize",value:function(){this._sizeDirty=!0,this.markDirty()}}])}(WR);function wV(e){return wV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wV(e)}function _V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kV(r.key),r)}}function kV(e){var t=function(e,t){if("object"!=wV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wV(t)?t:t+""}function xV(e,t,n){return t=EV(t),function(e,t){if(t&&("object"==wV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OV()?Reflect.construct(t,n||[],EV(e).constructor):t.apply(e,n))}function OV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OV=function(){return!!e})()}function PV(e,t,n,r){var i=SV(EV(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function SV(){return SV="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=EV(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},SV.apply(null,arguments)}function EV(e){return EV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EV(e)}function jV(e,t){return jV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jV(e,t)}Object.defineProperty(gV,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(gV,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([gV.className])});var TV=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=xV(this,t,arguments),Object.defineProperty(e,"_za",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_txa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tya",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_downScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_downX",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_pinchDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"contents",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{width:Ej,height:Ej,x:0,y:0,draggable:!0,background:KL.new(e._root,{fill:gA(16777215),fillOpacity:0})}))}),Object.defineProperty(e,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jV(e,t)}(t,e),function(e,t,n){return t&&_V(e.prototype,t),n&&_V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;PV(t,"_afterNew",this,3)([]);var n=this.contents.events;this._disposers.push(n.on("pointerdown",(function(t){e._handleThisDown(t)}))),this._disposers.push(n.on("globalpointerup",(function(t){e._handleThisUp(t)}))),this._disposers.push(n.on("globalpointermove",(function(t){e._handleThisMove(t)})));var r=this.contents.get("background");r&&(r.adapters.add("width",(function(e){return 20*Number(e)})),r.adapters.add("height",(function(e){return 20*Number(e)})),r.adapters.add("x",(function(e){return Number(e)-r.width()/2})),r.adapters.add("y",(function(e){return Number(e)-r.height()/2})));var i=this.contents;i.adapters.add("x",(function(t){var n=i.get("scale",1);if(zj(t)&&n>=1){var r=e.get("maxPanOut",.4),o=i.width();t=Math.min(o*r,t),t=Math.max(e.width()-o*n*(1+r),t)}return t})),i.adapters.add("y",(function(t){var n=i.get("scale",1);if(zj(t)&&n>=1){var r=e.get("maxPanOut",.4),o=i.height();t=Math.min(o*r,t),t=Math.max(e.height()-o*n*(1+r),t)}return t}))}},{key:"_prepareChildren",value:function(){PV(t,"_prepareChildren",this,3)([]),this.isDirty("wheelable")&&this._handleSetWheel(),this.contents._display.cancelTouch=this.get("pinchZoom",!1)}},{key:"_handleSetWheel",value:function(){var e=this;this.get("wheelable")?(this._wheelDp&&this._wheelDp.dispose(),this._wheelDp=this.events.on("wheel",(function(t){var n=t.originalEvent;if(kD(n,e)){n.preventDefault();var r=e.toLocal(t.point);e._handleWheelZoom(n.deltaY,r)}})),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}},{key:"_handleWheelZoom",value:function(e,t){var n=this.get("zoomStep",2),r=this.contents.get("scale",1),i=r;e>0?i=r/n:e<0&&(i=r*n),i!=r&&this.zoomToPoint(t,i)}},{key:"zoomToPoint",value:function(e,t){t&&(t=pC(t,this.get("minZoomLevel",1),this.get("maxZoomLevel",32)));var n=this.contents.get("scale",1),r=e.x,i=e.y,o=r,a=i,s=this.contents,l=o-(r-s.x())/n*t,u=a-(i-s.y())/n*t;return this._animateTo(l,u,t),this._za}},{key:"zoomIn",value:function(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.contents.get("scale",1)*this.get("zoomStep",2))}},{key:"zoomOut",value:function(){return this.zoomToPoint({x:this.width()/2,y:this.height()/2},this.contents.get("scale",1)/this.get("zoomStep",2))}},{key:"goHome",value:function(){return this._animateTo(0,0,1)}},{key:"_animateTo",value:function(e,t,n){var r=this.get("animationDuration",0),i=this.get("animationEasing"),o=this.contents;this._txa=o.animate({key:"x",to:e,duration:r,easing:i}),this._tya=o.animate({key:"y",to:t,duration:r,easing:i}),this._za=o.animate({key:"scale",to:n,duration:r,easing:i})}},{key:"_handleThisUp",value:function(e){this._downPoints={}}},{key:"_handleThisDown",value:function(e){var t=this.contents;this._downScale=t.get("scale",1);var n=t._downPoints,r=PT(n).length;if(1==r){var i=n[1];i||(i=n[0]),i&&i.x==e.point.x&&i.y==e.point.y&&(r=0)}if(r>0){this._downX=t.x(),this._downY=t.y();var o=t._getDownPointId();if(o){var a=this._movePoints[o];a&&(t._downPoints[o]=a)}}}},{key:"_handleThisMove",value:function(e){var t=e.originalEvent.pointerId;this.get("pinchZoom")&&t&&(this._movePoints[t]=e.point,PT(this.contents._downPoints).length>1)&&this._handlePinch()}},{key:"_handlePinch",value:function(){var e=this,t=0,n=[],r=[];if(jT(this.contents._downPoints,(function(i,o){n[t]=o;var a=e._movePoints[i];a&&(r[t]=a),t++})),n.length>1&&r.length>1){this.contents._isDragging=!1;var i=n[0],o=n[1],a=r[0],s=r[1];if(i&&o&&a&&s){i=this.toLocal(i),o=this.toLocal(o),a=this.toLocal(a),s=this.toLocal(s);var l=Math.hypot(o.x-i.x,o.y-i.y),u=Math.hypot(s.x-a.x,s.y-a.y)/l*this._downScale,c={x:a.x+(s.x-a.x)/2,y:a.y+(s.y-a.y)/2},f={x:i.x+(o.x-i.x)/2,y:i.y+(o.y-i.y)/2},h=this._downX||0,d=this._downY||0,p=this._downScale,v=c.x-(-h+f.x)/p*u,y=c.y-(-d+f.y)/p*u;this.contents.setAll({x:v,y,scale:u})}}}}])}(WR);function DV(e){return DV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DV(e)}function AV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CV(r.key),r)}}function CV(e){var t=function(e,t){if("object"!=DV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DV(t)?t:t+""}function MV(e,t,n){return t=NV(t),function(e,t){if(t&&("object"==DV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LV()?Reflect.construct(t,n||[],NV(e).constructor):t.apply(e,n))}function LV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LV=function(){return!!e})()}function RV(e,t,n,r){var i=IV(NV(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function IV(){return IV="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=NV(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},IV.apply(null,arguments)}function NV(e){return NV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NV(e)}function BV(e,t){return BV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BV(e,t)}Object.defineProperty(TV,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomableContainer"}),Object.defineProperty(TV,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([TV.className])});var FV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),MV(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BV(e,t)}(t,e),function(e,t,n){return t&&AV(e.prototype,t),n&&AV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){RV(t,"_afterNewApplyThemes",this,3)([])}},{key:"getFill",value:function(e){return{addColorStop:function(e,t){}}}},{key:"_changed",value:function(){RV(t,"_changed",this,3)([])}},{key:"getBounds",value:function(e){var t=this.get("target");if(t){var n=t.globalBounds(),r=e.toLocal({x:n.left,y:n.top}),i=e.toLocal({x:n.right,y:n.top}),o=e.toLocal({x:n.right,y:n.bottom}),a=e.toLocal({x:n.left,y:n.bottom});return{left:Math.min(r.x,i.x,o.x,a.x),top:Math.min(r.y,i.y,o.y,a.y),right:Math.max(r.x,i.x,o.x,a.x),bottom:Math.max(r.y,i.y,o.y,a.y)}}return e._display.getLocalBounds()}}])}(NM);function zV(e){return zV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zV(e)}function VV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qV(r.key),r)}}function qV(e){var t=function(e,t){if("object"!=zV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zV(t)?t:t+""}function HV(e,t,n){return t=UV(t),function(e,t){if(t&&("object"==zV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YV()?Reflect.construct(t,n||[],UV(e).constructor):t.apply(e,n))}function YV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YV=function(){return!!e})()}function UV(e){return UV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UV(e)}function GV(e,t){return GV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GV(e,t)}Object.defineProperty(FV,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Gradient"}),Object.defineProperty(FV,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([FV.className])});var XV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),HV(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GV(e,t)}(t,e),function(e,t,n){return t&&VV(e.prototype,t),n&&VV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getFill",value:function(e){var t=this.get("rotation",0),n=this.getBounds(e),r=n.left||0,i=n.right||0,o=n.top||0,a=n.bottom||0,s=mC(t),l=vC(t),u=s*(i-r),c=l*(a-o);0==u&&(u=1),0==c&&(c=1);var f=Math.max(u,c),h=this._root._renderer.createLinearGradient(r,o,r+f*s,o+f*l),d=this.get("stops");if(d){var p=0;Wj(d,(function(e){var t=e.offset;zj(t)||(t=p/(d.length-1));var n=e.opacity;zj(n)||(n=1);var r=e.color;if(r){var i=e.lighten;i&&(r=_A.lighten(r,i));var o=e.brighten;o&&(r=_A.brighten(r,o)),h.addColorStop(t,"rgba("+r.r+","+r.g+","+r.b+","+n+")")}p++}))}return h}}])}(FV);function WV(e){return WV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WV(e)}function $V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KV(r.key),r)}}function KV(e){var t=function(e,t){if("object"!=WV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WV(t)?t:t+""}function ZV(e,t,n){return t=tq(t),function(e,t){if(t&&("object"==WV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JV()?Reflect.construct(t,n||[],tq(e).constructor):t.apply(e,n))}function JV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JV=function(){return!!e})()}function QV(e,t,n,r){var i=eq(tq(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function eq(){return eq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=tq(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},eq.apply(null,arguments)}function tq(e){return tq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tq(e)}function nq(e,t){return nq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nq(e,t)}Object.defineProperty(XV,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinearGradient"}),Object.defineProperty(XV,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:FV.classNames.concat([XV.className])});var rq=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=ZV(this,t,arguments),Object.defineProperty(e,"labelContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{}))}),Object.defineProperty(e,"markerContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{}))}),Object.defineProperty(e,"startLabel",{enumerable:!0,configurable:!0,writable:!0,value:e.labelContainer.children.push(AI.new(e._root,{themeTags:["start"]}))}),Object.defineProperty(e,"endLabel",{enumerable:!0,configurable:!0,writable:!0,value:e.labelContainer.children.push(AI.new(e._root,{themeTags:["end"]}))}),Object.defineProperty(e,"markers",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return $F._new(e._root,{themeTags:dA(e.markers.template.get("themeTags",[]),[e.get("orientation"),"heatlegend","marker"])},[e.markers.template])})))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nq(e,t)}(t,e),function(e,t,n){return t&&$V(e.prototype,t),n&&$V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["heatlegend",this._settings.orientation]),QV(t,"_afterNew",this,3)([]),this.set("tooltip",ZI.new(this._root,{themeTags:["heatlegend"]}))}},{key:"makeMarker",value:function(){var e=this.markers.make();return e.states.create("disabled",{}),e}},{key:"showValue",value:function(e,t,n){var r=this.getTooltip();if(r&&zj(e)){var i=this.get("startValue",0),o=(e-i)/(this.get("endValue",1)-i);(o==1/0||o==-1/0||isNaN(o))&&(o=.5);var a,s=this.get("startColor"),l=this.get("endColor");t||(t=this.getNumberFormatter().format(e)),n||(n=_A.interpolate(o,s,l)),r.label.set("text",t),a="vertical"==this.get("orientation")?this.markerContainer.toGlobal({x:0,y:this.innerHeight()*(1-o)}):this.markerContainer.toGlobal({x:this.innerWidth()*o,y:0});var u=r.get("background");u&&u.set("fill",n),r.set("pointTo",a),r.show()}}},{key:"_prepareChildren",value:function(){QV(t,"_prepareChildren",this,3)([]);var e=this.labelContainer,n=this.get("orientation"),r=this.startLabel,i=this.endLabel,o=this.getTooltip();if(this.isDirty("orientation")&&("vertical"==n?(this.markerContainer.setAll({layout:this._root.verticalLayout,height:Ej}),this.set("layout",this._root.horizontalLayout),r.setAll({y:Ej,x:void 0,centerY:Ej,centerX:Ej}),i.setAll({y:0,x:void 0,centerY:0,centerX:Ej}),e.setAll({height:Ej,width:void 0}),o&&o.set("pointerOrientation","horizontal")):(this.markerContainer.setAll({layout:this._root.horizontalLayout,width:Ej}),this.set("layout",this._root.verticalLayout),r.setAll({x:0,y:void 0,centerX:0,centerY:0}),i.setAll({x:Ej,y:void 0,centerX:Ej,centerY:0}),e.setAll({width:Ej,height:void 0}),o&&o.set("pointerOrientation","vertical"))),this.isDirty("stepCount")){var a=this.get("stepCount",1),s=this.get("startColor"),l=this.get("endColor");if(this.markerContainer.children.clear(),a>1)for(var u=0;u<a;u++){var c=this.makeMarker();"vertical"==n?this.markerContainer.children.moveValue(c,0):this.markerContainer.children.push(c),s&&l&&c.set("fill",_A.interpolate(u/a,s,l))}else if(1==a){var f=this.makeMarker();this.markerContainer.children.push(f);var h=XV.new(this._root,{stops:[{color:s},{color:l}]});if("vertical"==n){h.set("rotation",90);var d=h.get("stops");d&&d.reverse()}else h.set("rotation",0);s&&l&&f.set("fillGradient",h)}}(this.isDirty("startText")||this.isDirty("startValue"))&&r.set("text",this.get("startText",this.getNumberFormatter().format(this.get("startValue",0)))),(this.isDirty("endText")||this.isDirty("endValue"))&&i.set("text",this.get("endText",this.getNumberFormatter().format(this.get("endValue",1))))}}])}(WR);function iq(e){return iq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iq(e)}function oq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aq(r.key),r)}}function aq(e){var t=function(e,t){if("object"!=iq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iq(t)?t:t+""}function sq(e,t,n){return t=fq(t),function(e,t){if(t&&("object"==iq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lq()?Reflect.construct(t,n||[],fq(e).constructor):t.apply(e,n))}function lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lq=function(){return!!e})()}function uq(e,t,n,r){var i=cq(fq(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function cq(){return cq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=fq(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cq.apply(null,arguments)}function fq(e){return fq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fq(e)}function hq(e,t){return hq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hq(e,t)}Object.defineProperty(rq,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HeatLegend"}),Object.defineProperty(rq,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([rq.className])});var dq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sq(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hq(e,t)}(t,e),function(e,t,n){return t&&oq(e.prototype,t),n&&oq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;uq(t,"_afterNew",this,3)([]);var n=this.children.push(WR.new(this._root,{html:'<textarea class="am5-editable-label"></textarea>',isMeasured:!1}));n.hide();var r=this.get("editOn","click");"none"!=r&&(n.events.on(r,(function(e){})),this.events.on(r,(function(t){e.set("active",!0)}))),this.setPrivate("input",n);var i=this.get("background");i?i.set("themeTags",["editablelabel","background"]):i=this.set("background",$F.new(this._root,{themeTags:["editablelabel","background"]}))}},{key:"_prepareChildren",value:function(){uq(t,"_prepareChildren",this,3)([]),this._maybeInitTextarea()}},{key:"_updateChildren",value:function(){if(uq(t,"_updateChildren",this,3)([]),this.isDirty("active")){var e=this.get("active",!1);e?this._startEditing():this._stopEditing();var n=this.get("background");n&&n.set("active",e)}this._syncText(),this._syncStyle()}},{key:"_maybeInitTextarea",value:function(){var e=this;if(!this._isInited()){var t=this.getPrivate("input");if(t&&t.getPrivate("htmlElement")){var n=t.getPrivate("htmlElement").querySelector(".am5-editable-label");n&&(this.setPrivate("textarea",n),n.addEventListener("input",(function(t){!1===e.get("multiLine")&&(n.value=n.value.replace(/\n/g," ")),e.set("text",n.value),e._syncStyle()})),n.addEventListener("blur",(function(t){return e.set("active",!1)})),hD("keyboardevents")&&this._disposers.push(cD(document,"keydown",(function(t){"Escape"==OD(t)&&e.set("active",!1)}))),this._disposers.push(cD(document,"keydown",(function(t){"Enter"==OD(t)&&!1===e.get("multiLine")&&(t.preventDefault(),e.set("active",!1))}))),this.events.dispatch("inited",{type:"inited",target:this}))}}}},{key:"_isInited",value:function(){return!!this.getPrivate("textarea")}},{key:"_startEditing",value:function(){var e=this;if(this._isInited()){this._text.set("opacity",0);var t=this.getPrivate("input"),n=this.getPrivate("textarea");n&&(""==this.get("text","")&&this.set("text"," "),t.show(0),this.setTimeout((function(){e._syncStyle(),n.focus()}),100))}else this.events.once("inited",(function(){e._startEditing()}))}},{key:"_stopEditing",value:function(){var e=this;if(this._isInited()){var t=this.getPrivate("input"),n=this.getPrivate("textarea");n&&(this.set("text",n.value),t.hide(0),this._text.set("opacity",1))}else this.events.once("inited",(function(){e._stopEditing()}))}},{key:"_syncStyle",value:function(){var e=this,t=this.getPrivate("input"),n=this.getPrivate("textarea");if(n){var r=t.getPrivate("htmlElement");Wj(window.getComputedStyle(n),(function(e){n.style[e]="initial"})),n.style.color=this.get("fill",gA(0)).toCSS(this.get("fillOpacity",1)),n.style.backgroundColor="rgba(0, 0, 0, 0)",n.style.border="none",n.style.outline="none",n.style.padding="0",n.wrap="off",n.style.resize="none",n.style.overflow="hidden";var i=this.get("maxWidth",0)-this.get("paddingLeft",0)-this.get("paddingRight",0);i>0?n.style.maxWidth=i+"px":n.style.minWidth="",n.style.height="auto",n.style.minHeight=n.scrollHeight+"px",this.get("width")&&(n.style.width=this.width()-this.get("paddingLeft",0)-this.get("paddingRight",0)+"px",n.style.minWidth="");var o=this.get("lineHeight");o?o instanceof Oj?n.style.lineHeight=o.value+"":zj(o)&&(n.style.lineHeight=o+""):n.style.lineHeight="1.2";var a=this.get("fontFamily");a||(a=getComputedStyle(t.getPrivate("htmlElement"),"font-family").getPropertyValue("font-family")),n.style.fontFamily=a;var s=this.get("fontSize");s?zj(s)&&(s+="px"):s=getComputedStyle(t.getPrivate("htmlElement"),"font-size").getPropertyValue("font-size"),n.style.fontSize=s;var l=this.get("fontWeight");l||(l=getComputedStyle(t.getPrivate("htmlElement"),"font-weight").getPropertyValue("font-weight")),n.style.fontWeight=l;var u=this.get("fontStyle");u||(u=getComputedStyle(t.getPrivate("htmlElement"),"font-style").getPropertyValue("font-style")),n.style.fontStyle=u;var c=this.get("oversizedBehavior");n.style.whiteSpace="wrap"==c?"pre-wrap":"nowrap",this._root.events.on("frameended",(function(){""==n.style.minWidth&&(n.style.minWidth=n.scrollWidth+20+"px");var t=e.get("textAlign","start");"center"==t?(n.style.textAlign="center",r.style.transform.match(/translateX/)||e.get("width")||(r.style.transform+=" translateX(-50%)")):"end"==t?(n.style.textAlign="right",r.style.transform.match(/translateX/)||e.get("width")||(r.style.transform+=" translateX(-100%)")):n.style.textAlign=t}))}}},{key:"_syncText",value:function(){var e=this.getPrivate("textarea"),t=this.get("text","");" "==t&&(t=""),e&&(e.value=t)}}])}(AI);function pq(){return pq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pq.apply(null,arguments)}function vq(e){return new Promise((function(t,n){setTimeout(t,e)}))}Object.defineProperty(dq,"className",{enumerable:!0,configurable:!0,writable:!0,value:"EditableLabel"}),Object.defineProperty(dq,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:AI.classNames.concat([dq.className])});var yq={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function mq(e){switch(e){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function bq(e,t){return null==t&&(t=1),yq[e]*t}function gq(e){return e?yq[e.timeUnit]*e.count:0}function wq(e,t,n,r,i){var o=e.timeUnit,a=e.count;if("hour"==o||"minute"==o||"second"==o||"millisecond"==o)return yq[e.timeUnit]*e.count;var s=Eq(new Date(t.getTime()),o,a,n,r,void 0,i).getTime(),l=s+a*bq(o)*1.05;return(l=Eq(new Date(l),o,1,n,r,void 0,i).getTime())-s}function _q(){return new Date}function kq(){return _q().getTime()}function xq(e){return new Date(e.getTime())}function Oq(e,t,n,r,i){if(t-e>bq(n,1.2))return!0;var o=new Date(e),a=new Date(t);i&&(o=i.convertLocal(o),a=i.convertLocal(a));var s=0,l=0;r||"millisecond"==n||(s=o.getTimezoneOffset(),o.setUTCMinutes(o.getUTCMinutes()-s),l=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-l));var u=!1;switch(n){case"year":o.getUTCFullYear()!=a.getUTCFullYear()&&(u=!0);break;case"month":(o.getUTCFullYear()!=a.getUTCFullYear()||o.getUTCMonth()!=a.getUTCMonth())&&(u=!0);break;case"day":(o.getUTCMonth()!=a.getUTCMonth()||o.getUTCDate()!=a.getUTCDate())&&(u=!0);break;case"hour":o.getUTCHours()!=a.getUTCHours()&&(u=!0);break;case"minute":o.getUTCMinutes()!=a.getUTCMinutes()&&(u=!0);break;case"second":o.getUTCSeconds()!=a.getUTCSeconds()&&(u=!0);break;case"millisecond":o.getTime()!=a.getTime()&&(u=!0)}if(u)return u;var c=mq(n);return!!c&&Oq(e,t,c,r,i)}function Pq(e,t,n,r,i){var o=0;switch(r||"millisecond"==t||(o=e.getTimezoneOffset(),i&&(o-=i.offsetUTC(e)),e.setUTCMinutes(e.getUTCMinutes()-o)),t){case"day":var a=e.getUTCDate();e.setUTCDate(a+n);break;case"second":var s=e.getUTCSeconds();e.setUTCSeconds(s+n);break;case"millisecond":var l=e.getUTCMilliseconds();e.setUTCMilliseconds(l+n);break;case"hour":var u=e.getUTCHours();e.setUTCHours(u+n);break;case"minute":var c=e.getUTCMinutes();e.setUTCMinutes(c+n);break;case"year":var f=e.getUTCFullYear();e.setUTCFullYear(f+n);break;case"month":var h=e.getUTCDate(),d=new Date(e.getUTCFullYear(),e.getUTCMonth(),0).getUTCDate(),p=e.getUTCMonth();h>d?e.setUTCMonth(p+n,d):e.setUTCMonth(p+n);break;case"week":var v=e.getUTCDate();e.setUTCDate(v+7*n)}if(!r&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+o),"day"==t||"week"==t||"month"==t||"year"==t)){var y=e.getTimezoneOffset();if(i&&(y+=i.offsetUTC(e)),y!=o){var m=y-o;e.setUTCMinutes(e.getUTCMinutes()+m),e.getTimezoneOffset()!=y&&e.setUTCMinutes(e.getUTCMinutes()-m)}}return e}function Sq(e,t,n,r,i){var o;return null!=i&&(o=new Date(i)),Eq(new Date(e),t,n,r.locale.firstDayOfWeek,r.utc,o,r.timezone).getTime()}function Eq(e,t,n,r,i,o,a){if(!a||i){var s=0;switch(i||"millisecond"==t||(s=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-s)),t){case"day":var l=e.getUTCDate();if(n>1){if(o){o=Eq(o,"day",1);var u=e.getTime()-o.getTime(),c=Math.floor(u/bq("day")/n),f=bq("day",c*n);e.setTime(o.getTime()+f-s*bq("minute"))}}else e.setUTCDate(l);e.setUTCHours(0,0,0,0);break;case"second":var h=e.getUTCSeconds();n>1&&(h=Math.floor(h/n)*n),e.setUTCSeconds(h,0);break;case"millisecond":if(1==n)return e;var d=e.getUTCMilliseconds();d=Math.floor(d/n)*n,e.setUTCMilliseconds(d);break;case"hour":var p=e.getUTCHours();n>1&&(p=Math.floor(p/n)*n),e.setUTCHours(p,0,0,0);break;case"minute":var v=e.getUTCMinutes();n>1&&(v=Math.floor(v/n)*n),e.setUTCMinutes(v,0,0);break;case"month":var y=e.getUTCMonth();n>1&&(y=Math.floor(y/n)*n),e.setUTCMonth(y,1),e.setUTCHours(0,0,0,0);break;case"year":var m=e.getUTCFullYear();n>1&&(m=Math.floor(m/n)*n),e.setUTCFullYear(m,0,1),e.setUTCHours(0,0,0,0);break;case"week":if(n>1&&o){o=Eq(o,"week",1);var b=e.getTime()-o.getTime(),g=Math.floor(b/bq("week")/n),w=bq("week",g*n);e.setTime(o.getTime()+w-s*bq("minute"))}var _=e.getUTCDate(),k=e.getUTCDay();zj(r)||(r=1),_=k>=r?_-k+r:_-(7+k)+r,e.setUTCDate(_),e.setUTCHours(0,0,0,0)}if(!i&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+s),"day"==t||"week"==t||"month"==t||"year"==t)){var x=e.getTimezoneOffset();if(x!=s){var O=x-s;e.setUTCMinutes(e.getUTCMinutes()+O)}}return e}if(isNaN(e.getTime()))return e;var P=a.offsetUTC(e),S=e.getTimezoneOffset(),E=a.parseDate(e),j=E.year,T=E.month,D=E.day,A=E.hour,C=E.minute,M=E.second,L=E.millisecond,R=E.weekday,I=P-S;switch(t){case"day":if(n>1&&o){o=Eq(o,"day",1,r,i,void 0,a);var N=e.getTime()-o.getTime(),B=Math.floor(N/bq("day")/n),F=bq("day",B*n);e.setTime(o.getTime()+F),j=(E=a.parseDate(e)).year,T=E.month,D=E.day}A=0,C=I,M=0,L=0;break;case"second":C+=I,n>1&&(M=Math.floor(M/n)*n),L=0;break;case"millisecond":C+=I,n>1&&(L=Math.floor(L/n)*n);break;case"hour":n>1&&(A=Math.floor(A/n)*n),C=I,M=0,L=0;break;case"minute":n>1&&(C=Math.floor(C/n)*n),C+=I,M=0,L=0;break;case"month":n>1&&(T=Math.floor(T/n)*n),D=1,A=0,C=I,M=0,L=0;break;case"year":n>1&&(j=Math.floor(j/n)*n),T=0,D=1,A=0,C=I,M=0,L=0;break;case"week":zj(r)||(r=1),D=R>=r?D-R+r:D-(7+R)+r,A=0,C=I,M=0,L=0}var z=(e=new Date(j,T,D,A,C,M,L)).getTimezoneOffset(),V=a.offsetUTC(e)-z;return V!=I&&e.setTime(e.getTime()+6e4*(V-I)),e}function jq(e,t,n,r){var i=gq(r[e]),o=r.length-1;if(e>=o)return pq({},r[o]);var a=Math.ceil(t/i);return t<i&&e>0?pq({},r[e-1]):a<=n?pq({},r[e]):e+1<r.length?jq(e+1,t,n,r):pq({},r[e])}function Tq(e,t){switch(t){case"day":return e.getDate();case"second":return e.getSeconds();case"millisecond":return e.getMilliseconds();case"hour":return e.getHours();case"minute":return e.getMinutes();case"month":return e.getMonth();case"year":return e.getFullYear();case"week":return WD(e)}}function Dq(e){return Dq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dq(e)}function Aq(){Aq=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==Dq(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Dq(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Cq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mq(r.key),r)}}function Mq(e){var t=function(e,t){if("object"!=Dq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dq(t)?t:t+""}function Lq(e,t,n){return t=Bq(t),function(e,t){if(t&&("object"==Dq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rq()?Reflect.construct(t,n||[],Bq(e).constructor):t.apply(e,n))}function Rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rq=function(){return!!e})()}function Iq(e,t,n,r){var i=Nq(Bq(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Nq(){return Nq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Bq(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nq.apply(null,arguments)}function Bq(e){return Bq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bq(e)}function Fq(e,t){return Fq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fq(e,t)}var zq=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=Lq(this,t,arguments),Object.defineProperty(e,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new $A}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:WR.new(e._root,{width:Ej,height:Ej,position:"absolute"})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fq(e,t)}(t,e),function(e,t,n){return t&&Cq(e.prototype,t),n&&Cq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;this.valueFields.push("value","customValue"),Iq(t,"_afterNew",this,3)([]),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((function(t){if("clear"===t.type)e._handleBullets(e.dataItems);else if("push"===t.type)e._handleBullets(e.dataItems);else if("setIndex"===t.type)e._handleBullets(e.dataItems);else if("insertIndex"===t.type)e._handleBullets(e.dataItems);else if("removeIndex"===t.type)e._handleBullets(e.dataItems);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e._handleBullets(e.dataItems)}})))}},{key:"_dispose",value:function(){this.bulletsContainer.dispose(),Iq(t,"_dispose",this,3)([])}},{key:"startIndex",value:function(){var e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}},{key:"endIndex",value:function(){var e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}},{key:"_handleBullets",value:function(e){Wj(e,(function(e){var t=e.bullets;t&&(Wj(t,(function(e){e.dispose()})),e.bullets=void 0)})),this.markDirtyValues()}},{key:"getDataItemById",value:function(e){return mT(this.dataItems,(function(t){return t.get("id")==e}))}},{key:"_makeBullets",value:function(e){var t=this;this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each((function(n){t._makeBullet(e,n)})))}},{key:"_shouldMakeBullet",value:function(e){return!0}},{key:"_makeBullet",value:function(e,t,n){var r=t(this._root,this,e);return r&&(r._index=n,this._makeBulletReal(e,r)),r}},{key:"_makeBulletReal",value:function(e,t){var n=t.get("sprite");n&&(n._setDataItem(e),n.setRaw("position","absolute"),this.bulletsContainer.children.push(n)),t.series=this,e.bullets.push(t)}},{key:"addBullet",value:function(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}},{key:"_clearDirty",value:function(){Iq(t,"_clearDirty",this,3)([]),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}},{key:"_prepareChildren",value:function(){var e=this;Iq(t,"_prepareChildren",this,3)([]);var n=this.startIndex(),r=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){var i=this.getPrivate("baseValueSeries");i&&this._disposers.push(i.onPrivate("startIndex",(function(){e.markDirtyValues()})))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,0!=n&&(this._psi=void 0))),this._psi==n&&this._pei==r&&!this.isPrivateDirty("adjustedStartIndex")||this._selectionAggregatesCalculated||(0===n&&r===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(n,r),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){var o=this.get("tooltip");o&&(o.hide(0),o.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){var a,s=this.get("legendDataItem");if(s&&(a=s.get("markerRectangle"))&&this.isVisible()){if(this.isDirty("stroke")){var l=this.get("stroke");a.set("stroke",l)}if(this.isDirty("fill")){var u=this.get("fill");a.set("fill",u)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){var c=this.startIndex(),f=this.endIndex();f<this.dataItems.length&&f++;for(var h=c;h<f;h++){var d=this.dataItems[h];d.bullets||this._makeBullets(d)}}}},{key:"_adjustStartIndex",value:function(e){return e}},{key:"_calculateAggregates",value:function(e,t){var n=this,r=this._valueFields;if(!r)throw new Error("No value fields are set for the series.");var i={},o={},a={},s={},l={},u={},c={},f={},h={};Wj(r,(function(e){i[e]=0,o[e]=0,a[e]=0})),Wj(r,(function(r){var d=r+"Change",p=r+"ChangePercent",v=r+"ChangePrevious",y=r+"ChangePreviousPercent",m=r+"ChangeSelection",b=r+"ChangeSelectionPercent",g="valueY";"valueX"!=r&&"openValueX"!=r&&"lowValueX"!=r&&"highValueX"!=r||(g="valueX");for(var w=n.getPrivate("baseValueSeries"),_=n.getPrivate("adjustedStartIndex",e),k=_;k<t;k++){var x=n.dataItems[k];if(x){var O=x.get(r);null!=O&&(a[r]++,i[r]+=O,o[r]+=Math.abs(O),f[r]=i[r]/a[r],(s[r]>O||null==s[r])&&(s[r]=O),(l[r]<O||null==l[r])&&(l[r]=O),c[r]=O,null==u[r]&&(u[r]=O,h[r]=O,w&&(u[g]=w._getBase(g))),0===e&&(x.setRaw(d,O-u[g]),x.setRaw(p,(O-u[g])/u[g]*100)),x.setRaw(v,O-h[g]),x.setRaw(y,(O-h[g])/h[g]*100),x.setRaw(m,O-u[g]),x.setRaw(b,(O-u[g])/u[g]*100),h[r]=O)}}if(t<n.dataItems.length-1){var P=n.dataItems[t];if(P){var S=P.get(r);P.setRaw(v,S-h[g]),P.setRaw(y,(S-h[g])/h[g]*100),P.setRaw(m,S-u[g]),P.setRaw(b,(S-u[g])/u[g]*100)}}e>0&&e--,delete h[r];for(var E=e;E<_;E++){var j=n.dataItems[E];if(j){var T=j.get(r);null==h[r]&&(h[r]=T),null!=T&&(j.setRaw(v,T-h[g]),j.setRaw(y,(T-h[g])/h[g]*100),j.setRaw(m,T-u[g]),j.setRaw(b,(T-u[g])/u[g]*100),h[r]=T)}}})),Wj(r,(function(e){n.setPrivate(e+"AverageSelection",f[e]),n.setPrivate(e+"CountSelection",a[e]),n.setPrivate(e+"SumSelection",i[e]),n.setPrivate(e+"AbsoluteSumSelection",o[e]),n.setPrivate(e+"LowSelection",s[e]),n.setPrivate(e+"HighSelection",l[e]),n.setPrivate(e+"OpenSelection",u[e]),n.setPrivate(e+"CloseSelection",c[e])})),0===e&&t===this.dataItems.length&&Wj(r,(function(e){n.setPrivate(e+"Average",f[e]),n.setPrivate(e+"Count",a[e]),n.setPrivate(e+"Sum",i[e]),n.setPrivate(e+"AbsoluteSum",o[e]),n.setPrivate(e+"Low",s[e]),n.setPrivate(e+"High",l[e]),n.setPrivate(e+"Open",u[e]),n.setPrivate(e+"Close",c[e])}))}},{key:"_updateChildren",value:function(){var e=this;Iq(t,"_updateChildren",this,3)([]),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));var n=this.get("heatRules");if(this._valuesDirty&&n&&n.length>0&&Wj(n,(function(t){var n=t.minValue||e.getPrivate(t.dataField+"Low")||0,r=t.maxValue||e.getPrivate(t.dataField+"High")||0;Wj(t.target._entities,(function(i){var o=i.dataItem.get(t.dataField);if(!zj(o)){t.neutral&&i.set(t.key,t.neutral);var a=i.states;if(a){var s=a.lookup("default");s&&t.neutral&&s.set(t.key,t.neutral)}if(!t.customFunction)return}if(t.customFunction)t.customFunction.call(e,i,n,r,o);else{var l,u;l=t.logarithmic?(Math.log(o)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(n)*Math.LOG10E):(o-n)/(r-n),!zj(o)||zj(l)&&Math.abs(l)!=1/0||(l=.5),zj(t.min)?u=t.min+(t.max-t.min)*l:t.min instanceof _A?u=_A.interpolate(l,t.min,t.max):t.min instanceof Oj&&(u=EA(l,t.min,t.max)),i.set(t.key,u);var c=i.states;if(c){var f=c.lookup("default");f&&f.set(t.key,u)}}}))})),this.get("visible")){var r=this.dataItems.length,i=this.startIndex(),o=this.endIndex();o<r&&o++,i>0&&i--;for(var a=0;a<i;a++)this._hideBullets(this.dataItems[a]);for(var s=i;s<o;s++)this._positionBullets(this.dataItems[s]);for(var l=o;l<r;l++)this._hideBullets(this.dataItems[l])}}},{key:"_positionBullets",value:function(e){var t=this;e.bullets&&Wj(e.bullets,(function(e){t._positionBullet(e);var n=e.get("sprite");e.get("dynamic")&&(n&&(n._markDirtyKey("fill"),n.markDirtySize()),n instanceof WR&&n.walkChildren((function(e){e._markDirtyKey("fill"),e.markDirtySize(),e instanceof AI&&e.text.markDirtyText()}))),n instanceof AI&&n.get("populateText")&&n.text.markDirtyText()}))}},{key:"_hideBullets",value:function(e){e.bullets&&Wj(e.bullets,(function(e){var t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}},{key:"_positionBullet",value:function(e){}},{key:"_placeBulletsContainer",value:function(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}},{key:"_removeBulletsContainer",value:function(){var e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}},{key:"disposeDataItem",value:function(e){var t=e.bullets;t&&Wj(t,(function(e){e.dispose()}))}},{key:"_getItemReaderLabel",value:function(){return""}},{key:"showDataItem",value:function(e,n){var r=this,i=Object.create(null,{showDataItem:{get:function(){return Iq(t,"showDataItem",r,1)}}});return wj(this,void 0,void 0,Aq().mark((function t(){var r,o;return Aq().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.showDataItem.call(this,e,n)],(o=e.bullets)&&Wj(o,(function(e){var t=e.get("sprite");t&&r.push(t.show(n))})),t.next=5,Promise.all(r);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"hideDataItem",value:function(e,n){var r=this,i=Object.create(null,{hideDataItem:{get:function(){return Iq(t,"hideDataItem",r,1)}}});return wj(this,void 0,void 0,Aq().mark((function t(){var r,o;return Aq().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.hideDataItem.call(this,e,n)],(o=e.bullets)&&Wj(o,(function(e){var t=e.get("sprite");t&&r.push(t.hide(n))})),t.next=5,Promise.all(r);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"_sequencedShowHide",value:function(e,t){return wj(this,void 0,void 0,Aq().mark((function n(){var r,i,o=this;return Aq().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.get("sequencedInterpolation")){n.next=11;break}if(zj(t)||(t=this.get("interpolationDuration",0)),!(t>0)){n.next=9;break}return r=this.startIndex(),i=this.endIndex(),n.next=7,Promise.all(Xj(this.dataItems,(function(n,a){return wj(o,void 0,void 0,Aq().mark((function o(){var s,l;return Aq().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=t||0,(a<r-10||a>i+10)&&(s=0),l=this.get("sequencedDelay",0)+s/(i-r),o.next=5,vq(l*(a-r));case 5:if(!e){o.next=10;break}return o.next=8,this.showDataItem(n,s);case 8:o.next=12;break;case 10:return o.next=12,this.hideDataItem(n,s);case 12:case"end":return o.stop()}}),o,this)})))})));case 7:n.next=11;break;case 9:return n.next=11,Promise.all(Xj(this.dataItems,(function(t){return e?o.showDataItem(t,0):o.hideDataItem(t,0)})));case 11:case"end":return n.stop()}}),n,this)})))}},{key:"updateLegendValue",value:function(e){if(e){var t=e.get("legendDataItem");if(t){var n=t.get("valueLabel");if(n){var r,i=n.text;n._setDataItem(e),r=this.get("legendValueText",i.get("text","")),n.set("text",r),i.markDirtyText()}var o=t.get("label");if(o){var a,s=o.text;o._setDataItem(e),a=this.get("legendLabelText",s.get("text","")),o.set("text",a),s.markDirtyText()}}}}},{key:"updateLegendMarker",value:function(e){}},{key:"_onHide",value:function(){Iq(t,"_onHide",this,3)([]);var e=this.getTooltip();e&&e.hide()}},{key:"hoverDataItem",value:function(e){}},{key:"unhoverDataItem",value:function(e){}},{key:"_getBase",value:function(e){var t=this.dataItems[this.startIndex()];return t?t.get(e):0}}])}(gV);function Vq(e){return Vq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vq(e)}function qq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hq(r.key),r)}}function Hq(e){var t=function(e,t){if("object"!=Vq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vq(t)?t:t+""}function Yq(e,t,n){return t=Wq(t),function(e,t){if(t&&("object"==Vq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Uq()?Reflect.construct(t,n||[],Wq(e).constructor):t.apply(e,n))}function Uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Uq=function(){return!!e})()}function Gq(e,t,n,r){var i=Xq(Wq(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Xq(){return Xq="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Wq(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Xq.apply(null,arguments)}function Wq(e){return Wq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wq(e)}function $q(e,t){return $q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$q(e,t)}Object.defineProperty(zq,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(zq,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gV.classNames.concat([zq.className])});var Kq=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=Yq(this,t,arguments),Object.defineProperty(e,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return WR._new(e._root,{themeTags:dA(e.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:dA(e.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:$F.new(e._root,{themeTags:dA(e.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:dA(e.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[e.itemContainers.template])})))}),Object.defineProperty(e,"markers",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return WR._new(e._root,{themeTags:dA(e.markers.template.get("themeTags",[]),["legend","marker"])},[e.markers.template])})))}),Object.defineProperty(e,"labels",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return AI._new(e._root,{themeTags:dA(e.labels.template.get("themeTags",[]),["legend","label"])},[e.labels.template])})))}),Object.defineProperty(e,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return AI._new(e._root,{themeTags:dA(e.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[e.valueLabels.template])})))}),Object.defineProperty(e,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return $F._new(e._root,{themeTags:dA(e.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[e.markerRectangles.template])})))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$q(e,t)}(t,e),function(e,t,n){return t&&qq(e.prototype,t),n&&qq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),Gq(t,"_afterNew",this,3)([])}},{key:"makeItemContainer",value:function(e){var t=this.children.push(this.itemContainers.make());return t._setDataItem(e),this.itemContainers.push(t),t.states.create("disabled",{}),t}},{key:"makeMarker",value:function(){var e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}},{key:"makeLabel",value:function(){var e=this.labels.make();return e.states.create("disabled",{}),e}},{key:"makeValueLabel",value:function(){var e=this.valueLabels.make();return e.states.create("disabled",{}),e}},{key:"makeMarkerRectangle",value:function(){var e=this.markerRectangles.make();return e.states.create("disabled",{}),e}},{key:"processDataItem",value:function(e){var n=this;Gq(t,"processDataItem",this,3)([e]);var r=this.makeItemContainer(e),i=this.get("nameField"),o=this.get("fillField"),a=this.get("strokeField");if(r){var s=this.get("clickTarget","itemContainer"),l=e.dataContext;l&&l.set&&l.set("legendDataItem",e),r._setDataItem(e),e.set("itemContainer",r);var u=this.makeMarker();if(u){r.children.push(u),u._setDataItem(e),e.set("marker",u);var c=this.get("useDefaultMarker"),f=u.children.push(this.makeMarkerRectangle()),h=e.get("fill"),d=e.get("stroke");e.set("markerRectangle",f),l&&l.get&&(h=l.get(o,h),d=l.get(a,d)),d||(d=h),c?l.on&&(l.on(o,(function(){f.set("fill",l.get(o))})),l.on(a,(function(){f.set("stroke",l.get(a))}))):l&&l.createLegendMarker&&l.createLegendMarker(),f.setAll({fill:h,stroke:d});var p=l.component;p&&p.updateLegendMarker&&p.updateLegendMarker(l)}var v=this.makeLabel();if(v){r.children.push(v),v._setDataItem(e),e.set("label",v),v.text.on("text",(function(){r.setRaw("ariaLabel",v.text._getText()+("none"!==n.get("clickTarget")?"; "+n._t("Press ENTER to toggle"):"")),r.markDirtyAccessibility()})),l&&l.get&&e.set("name",l.get(i));var y=e.get("name");y&&v.set("text",y)}var m=this.makeValueLabel();if(m&&(r.children.push(m),m._setDataItem(e),e.set("valueLabel",m)),l&&l.show&&(l.on("visible",(function(e){r.set("disabled",!e)})),l.get("visible")||r.set("disabled",!0),"none"!=s)){var b=r;"marker"==s&&(b=u),this._addClickEvents(b,l,e)}this.children.values.sort((function(e,t){var r=e.dataItem.dataContext,i=t.dataItem.dataContext;if(r&&i){var o=n.data.indexOf(r),a=n.data.indexOf(i);if(o>a)return 1;if(o<a)return-1}return 0})),l&&l.updateLegendValue&&l.updateLegendValue()}}},{key:"_addClickEvents",value:function(e,t,n){var r=this;e.set("cursorOverStyle","pointer"),e.events.on("pointerover",(function(){var e=t.component;e&&e.hoverDataItem&&e.hoverDataItem(t)})),e.events.on("pointerout",(function(){var e=t.component;e&&e.hoverDataItem&&e.unhoverDataItem(t)})),e.events.on("click",(function(){var i=n.get("label").text._getText();t.show&&t.isHidden&&(t.isHidden()||!1===t.get("visible"))?(t.show(),e.set("disabled",!1),r._root.readerAlert(r._t("%1 shown",r._root.locale,i))):t.hide&&(t.hide(),e.set("disabled",!0),r._root.readerAlert(r._t("%1 hidden",r._root.locale,i)))}))}},{key:"disposeDataItem",value:function(e){Gq(t,"disposeDataItem",this,3)([e]);var n=e.dataContext;n&&n.get&&(n.get("legendDataItem")==e&&n.set("legendDataItem",void 0));var r=e.get("itemContainer");r&&(this.itemContainers.removeValue(r),r.dispose());var i=e.get("marker");i&&(this.markers.removeValue(i),i.dispose());var o=e.get("markerRectangle");o&&(this.markerRectangles.removeValue(o),o.dispose());var a=e.get("label");a&&(this.labels.removeValue(a),a.dispose());var s=e.get("valueLabel");s&&(this.valueLabels.removeValue(s),s.dispose())}}])}(zq);function Zq(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i.length>0){var o=i[0];if(o.length>0){var a=o[0];e.moveTo(a.x,a.y);for(var s=0,l=i.length;s<l;s++)Jq(e,i[s])}}}}function Jq(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n];e.lineTo(i.x,i.y)}}function Qq(e){return Qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qq(e)}function eH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tH(r.key),r)}}function tH(e){var t=function(e,t){if("object"!=Qq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qq(t)?t:t+""}function nH(e,t,n){return t=aH(t),function(e,t){if(t&&("object"==Qq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rH()?Reflect.construct(t,n||[],aH(e).constructor):t.apply(e,n))}function rH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rH=function(){return!!e})()}function iH(e,t,n,r){var i=oH(aH(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function oH(){return oH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=aH(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},oH.apply(null,arguments)}function aH(e){return aH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},aH(e)}function sH(e,t){return sH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sH(e,t)}Object.defineProperty(Kq,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"}),Object.defineProperty(Kq,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zq.classNames.concat([Kq.className])});var lH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nH(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sH(e,t)}(t,e),function(e,t,n){return t&&eH(e.prototype,t),n&&eH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){iH(t,"_beforeChanged",this,3)([]),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(iH(t,"_changed",this,3)([]),this._clear){var e=this.get("points"),n=this.get("segments");if(e&&e.length>0){var r=e[0];this._display.moveTo(r.x,r.y),Zq(this._display,[[e]])}else if(n)Zq(this._display,n);else if(!this.get("draw")){var i=this.width(),o=this.height();this._display.moveTo(0,0),this._display.lineTo(i,o)}}}}])}(zL);function uH(e){return uH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uH(e)}function cH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fH(r.key),r)}}function fH(e){var t=function(e,t){if("object"!=uH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uH(t)?t:t+""}function hH(e,t,n){return t=yH(t),function(e,t){if(t&&("object"==uH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dH()?Reflect.construct(t,n||[],yH(e).constructor):t.apply(e,n))}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dH=function(){return!!e})()}function pH(e,t,n,r){var i=vH(yH(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function vH(){return vH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=yH(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vH.apply(null,arguments)}function yH(e){return yH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yH(e)}function mH(e,t){return mH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mH(e,t)}Object.defineProperty(lH,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(lH,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([lH.className])});var bH=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=hH(this,t,arguments),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makePicture(void 0)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mH(e,t)}(t,e),function(e,t,n){return t&&cH(e.prototype,t),n&&cH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_changed",value:function(){if(pH(t,"_changed",this,3)([]),this.isDirty("width")){var e=this.get("width");this._display.width=zj(e)?e:void 0}if(this.isDirty("height")){var n=this.get("height");this._display.height=zj(n)?n:void 0}if(this.isDirty("shadowColor")){this._display.clear();var r=this.get("shadowColor");this._display.shadowColor=null==r?void 0:r}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}},{key:"_load",value:function(){var e=this,t=this.get("src");if(t){var n=new Image;n.crossOrigin=this.get("cors","anonymous"),n.src=t;var r=this.events;n.decode().then((function(){e._display.image=n,e._updateSize(),!r.isDisposed()&&r.isEnabled("loaded")&&r.dispatch("loaded",{type:"loaded",target:e})})).catch((function(t){!r.isDisposed()&&r.isEnabled("loaderror")&&r.dispatch("loaderror",{type:"loaderror",target:e})}))}}},{key:"_updateSize",value:function(){pH(t,"_updateSize",this,3)([]);var e=this._display.image;if(e){var n=this.getPrivate("width",this.get("width")),r=this.getPrivate("height",this.get("height")),i=e.width&&e.height?e.width/e.height:0;zj(n)&&zj(r)?(this._display.width=n,this._display.height=r):zj(n)&&i?r=n/i:zj(r)&&i?n=r*i:(n=e.width,r=e.height),zj(n)&&(this._display.width=n),zj(r)&&(this._display.height=r),this.markDirtyBounds(),this.markDirty()}}}])}(lL);function gH(e){return gH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gH(e)}function wH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_H(r.key),r)}}function _H(e){var t=function(e,t){if("object"!=gH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gH(t)?t:t+""}function kH(e,t,n){return t=SH(t),function(e,t){if(t&&("object"==gH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xH()?Reflect.construct(t,n||[],SH(e).constructor):t.apply(e,n))}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xH=function(){return!!e})()}function OH(e,t,n,r){var i=PH(SH(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function PH(){return PH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=SH(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},PH.apply(null,arguments)}function SH(e){return SH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SH(e)}function EH(e,t){return EH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},EH(e,t)}Object.defineProperty(bH,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(bH,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lL.classNames.concat([bH.className])});var jH=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=kH(this,t,arguments),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeRadialText("",e.textStyle)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EH(e,t)}(t,e),function(e,t,n){return t&&wH(e.prototype,t),n&&wH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){OH(t,"_afterNew",this,3)([])}},{key:"_beforeChanged",value:function(){OH(t,"_beforeChanged",this,3)([]),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*lC,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}])}(iI);function TH(e){return TH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TH(e)}function DH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AH(r.key),r)}}function AH(e){var t=function(e,t){if("object"!=TH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TH(t)?t:t+""}function CH(e,t,n){return t=IH(t),function(e,t){if(t&&("object"==TH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MH()?Reflect.construct(t,n||[],IH(e).constructor):t.apply(e,n))}function MH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MH=function(){return!!e})()}function LH(e,t,n,r){var i=RH(IH(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function RH(){return RH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=IH(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},RH.apply(null,arguments)}function IH(e){return IH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IH(e)}function NH(e,t){return NH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NH(e,t)}Object.defineProperty(jH,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(jH,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:iI.classNames.concat([jH.className])});var BH=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=CH(this,t,arguments),Object.defineProperty(e,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NH(e,t)}(t,e),function(e,t,n){return t&&DH(e.prototype,t),n&&DH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._textKeys.push("textType","kerning"),LH(t,"_afterNew",this,3)([])}},{key:"_makeText",value:function(){this._text=this.children.push(jH.new(this._root,{}))}},{key:"baseRadius",value:function(){var e=this.getPrivate("radius",0),t=this.getPrivate("innerRadius",0),n=this.get("baseRadius",0);return t+MD(n,e-t)}},{key:"radius",value:function(){var e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}},{key:"_updateChildren",value:function(){if(LH(t,"_updateChildren",this,3)([]),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){var e=this.get("textType","adjusted"),n=this.get("inside",!1),r=this.get("orientation"),i=bC(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);var o=vC(i),a=mC(i),s=this.baseRadius(),l=this.radius();if(this._display.angle=0,"circular"==e)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",r),this._text.set("radius",l);else{0==s&&(i=0,l=0);var u=l*a,c=l*o;"radial"==e?(this.setRaw("x",u),this.setRaw("y",c),i<90||i>270||"auto"!=r?(this._display.angle=i,this._flipped=!1):(this._display.angle=i+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==e?(this.setRaw("centerX",jj),this.setRaw("centerY",jj),this.setRaw("x",u),this.setRaw("y",c)):"regular"==e&&(this.setRaw("x",u),this.setRaw("y",c))}this.markDirtyPosition(),this.markDirtyBounds()}}},{key:"_updatePosition",value:function(){var e=this.get("textType","regular"),n=this.get("inside",!1),r=0,i=0,o=this.get("labelAngle",0),a=this.localBounds(),s=a.right-a.left,l=a.bottom-a.top;if("radial"==e){if(this._flipped){var u=this.get("centerX");u instanceof Oj&&(s*=1-2*u.value),r=s*mC(o),i=s*vC(o)}}else n||"adjusted"!=e||(r=s/2*mC(o),i=l/2*vC(o));this.setRaw("dx",r),this.setRaw("dy",i),LH(t,"_updatePosition",this,3)([])}},{key:"text",get:function(){return this._text}}])}(AI);function FH(e){return FH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FH(e)}function zH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VH(r.key),r)}}function VH(e){var t=function(e,t){if("object"!=FH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FH(t)?t:t+""}function qH(e,t,n){return t=GH(t),function(e,t){if(t&&("object"==FH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HH()?Reflect.construct(t,n||[],GH(e).constructor):t.apply(e,n))}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HH=function(){return!!e})()}function YH(e,t,n,r){var i=UH(GH(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function UH(){return UH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=GH(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},UH.apply(null,arguments)}function GH(e){return GH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GH(e)}function XH(e,t){return XH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XH(e,t)}Object.defineProperty(BH,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(BH,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:AI.classNames.concat([BH.className])});var WH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qH(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XH(e,t)}(t,e),function(e,t,n){return t&&zH(e.prototype,t),n&&zH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){YH(t,"_beforeChanged",this,3)([]),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}},{key:"_changed",value:function(){YH(t,"_changed",this,3)([]),this._clear&&!this.get("draw")&&this._draw()}},{key:"_draw",value:function(){var e=this.width(),t=this.height(),n=this._display;n.moveTo(-e/2,t/2),n.lineTo(0,-t/2),n.lineTo(e/2,t/2),n.lineTo(-e/2,t/2),n.closePath()}},{key:"_updateSize",value:function(){this.markDirty(),this._clear=!0}}])}(zL);function $H(e){return $H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$H(e)}function KH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZH(r.key),r)}}function ZH(e){var t=function(e,t){if("object"!=$H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$H(t)?t:t+""}function JH(e,t,n){return t=nY(t),function(e,t){if(t&&("object"==$H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QH()?Reflect.construct(t,n||[],nY(e).constructor):t.apply(e,n))}function QH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QH=function(){return!!e})()}function eY(e,t,n,r){var i=tY(nY(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function tY(){return tY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=nY(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},tY.apply(null,arguments)}function nY(e){return nY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nY(e)}function rY(e,t){return rY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rY(e,t)}Object.defineProperty(WH,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Triangle"}),Object.defineProperty(WH,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([WH.className])});var iY=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=JH(this,t,arguments),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:e._makeThumb()}),Object.defineProperty(e,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:e._makeButton()}),Object.defineProperty(e,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:e._makeButton()}),Object.defineProperty(e,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rY(e,t)}(t,e),function(e,t,n){return t&&KH(e.prototype,t),n&&KH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_addOrientationClass",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=$F.new(this._root,{themeTags:dA(this._settings.themeTags,["main","background"])}))}},{key:"_makeButton",value:function(){return this.children.push(oz.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:zL.new(this._root,{themeTags:["icon"]})}))}},{key:"_makeThumb",value:function(){return this.children.push($F.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}},{key:"_handleAnimation",value:function(e){var t=this;e&&this._disposers.push(e.events.on("stopped",(function(){t.setPrivateRaw("isBusy",!1),t._thumbBusy=!1})))}},{key:"_afterNew",value:function(){var e=this;this._addOrientationClass(),eY(t,"_afterNew",this,3)([]);var n=this.startGrip,r=this.endGrip,i=this.thumb,o=this.get("background");o&&this._disposers.push(o.events.on("click",(function(t){e.setPrivateRaw("isBusy",!0);var n,r,o,a=e._display.toLocal(t.point),s=e.width(),l=e.height(),u=e.get("orientation");n="vertical"==u?(a.y-i.height()/2)/l:(a.x-i.width()/2)/s,"vertical"==u?(r=n*l,o="y"):(r=n*s,o="x");var c=e.get("animationDuration",0);c>0?(e._thumbBusy=!0,e._handleAnimation(e.thumb.animate({key:o,to:r,duration:c,easing:e.get("animationEasing")}))):(e.thumb.set(o,r),e._root.events.once("frameended",(function(){e.setPrivateRaw("isBusy",!1)})))}))),this._disposers.push(i.events.on("dblclick",(function(t){if(kD(t.originalEvent,e)){var n=e.get("animationDuration",0),r=e.get("animationEasing");e.animate({key:"start",to:0,duration:n,easing:r}),e.animate({key:"end",to:1,duration:n,easing:r})}}))),this._disposers.push(n.events.on("pointerdown",(function(){e.setPrivateRaw("isBusy",!0),e._startDown=!0,e._gripDown="start"}))),this._disposers.push(r.events.on("pointerdown",(function(){e.setPrivateRaw("isBusy",!0),e._endDown=!0,e._gripDown="end"}))),this._disposers.push(i.events.on("pointerdown",(function(){e.setPrivateRaw("isBusy",!0),e._thumbDown=!0,e._gripDown=void 0}))),this._disposers.push(n.events.on("globalpointerup",(function(){e._startDown&&(e.setPrivateRaw("isBusy",!1),e._released()),e._startDown=!1}))),this._disposers.push(r.events.on("globalpointerup",(function(){e._endDown&&(e.setPrivateRaw("isBusy",!1),e._released()),e._endDown=!1}))),this._disposers.push(i.events.on("globalpointerup",(function(){e._thumbDown&&(e.setPrivateRaw("isBusy",!1),e._released()),e._thumbDown=!1}))),this._disposers.push(n.on("x",(function(){e._updateThumb()}))),this._disposers.push(r.on("x",(function(){e._updateThumb()}))),this._disposers.push(n.on("y",(function(){e._updateThumb()}))),this._disposers.push(r.on("y",(function(){e._updateThumb()}))),this._disposers.push(i.events.on("positionchanged",(function(){e._updateGripsByThumb()}))),"vertical"==this.get("orientation")?(n.set("x",0),r.set("x",0),this._disposers.push(i.adapters.add("y",(function(t){return Math.max(Math.min(Number(t),e.height()-i.height()),0)}))),this._disposers.push(i.adapters.add("x",(function(t){return e.width()/2}))),this._disposers.push(n.adapters.add("x",(function(t){return e.width()/2}))),this._disposers.push(r.adapters.add("x",(function(t){return e.width()/2}))),this._disposers.push(n.adapters.add("y",(function(t){return Math.max(Math.min(Number(t),e.height()),0)}))),this._disposers.push(r.adapters.add("y",(function(t){return Math.max(Math.min(Number(t),e.height()),0)})))):(n.set("y",0),r.set("y",0),this._disposers.push(i.adapters.add("x",(function(t){return Math.max(Math.min(Number(t),e.width()-i.width()),0)}))),this._disposers.push(i.adapters.add("y",(function(t){return e.height()/2}))),this._disposers.push(n.adapters.add("y",(function(t){return e.height()/2}))),this._disposers.push(r.adapters.add("y",(function(t){return e.height()/2}))),this._disposers.push(n.adapters.add("x",(function(t){return Math.max(Math.min(Number(t),e.width()),0)}))),this._disposers.push(r.adapters.add("x",(function(t){return Math.max(Math.min(Number(t),e.width()),0)}))))}},{key:"_updateChildren",value:function(){eY(t,"_updateChildren",this,3)([]),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}},{key:"_changed",value:function(){if(eY(t,"_changed",this,3)([]),this.isDirty("start")||this.isDirty("end")){var e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}},{key:"_released",value:function(){var e="released";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}},{key:"updateGrips",value:function(){var e=this.startGrip,t=this.endGrip,n=this.get("orientation"),r=this.height(),i=this.width();"vertical"==n?(e.set("y",r*this.get("start",0)),t.set("y",r*this.get("end",1))):(e.set("x",i*this.get("start",0)),t.set("x",i*this.get("end",1)));var o,a,s=this.getPrivate("positionTextFunction"),l=Math.round(100*this.get("start",0)),u=Math.round(100*this.get("end",0));s?(o=s.call(this,this.get("start",0)),a=s.call(this,this.get("end",0))):(o=l+"%",a=u+"%"),e.set("ariaLabel",this._t("From %1",void 0,o)),e.set("ariaValueNow",""+l),e.set("ariaValueText",l+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),t.set("ariaLabel",this._t("To %1",void 0,a)),t.set("ariaValueNow",""+u),t.set("ariaValueText",u+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100")}},{key:"_updateThumb",value:function(){var e=this.thumb,t=this.startGrip,n=this.endGrip,r=this.height(),i=this.width(),o=t.x(),a=n.x(),s=t.y(),l=n.y(),u=0,c=1;"vertical"==this.get("orientation")?zj(s)&&zj(l)&&(this._thumbBusy||e.isDragging()||(e.set("height",l-s),e.set("y",s)),u=s/r,c=l/r):zj(o)&&zj(a)&&(this._thumbBusy||e.isDragging()||(e.set("width",a-o),e.set("x",o)),u=o/i,c=a/i),!this.getPrivate("isBusy")||this.get("start")==u&&this.get("end")==c||(this.set("start",u),this.set("end",c));var f,h,d=this.getPrivate("positionTextFunction"),p=Math.round(100*this.get("start",0)),v=Math.round(100*this.get("end",0));d?(f=d.call(this,this.get("start",0)),h=d.call(this,this.get("end",0))):(f=p+"%",h=v+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,f,h)),e.set("ariaValueNow",""+p),e.set("ariaValueText",p+"%")}},{key:"_updateGripsByThumb",value:function(){var e=this.thumb,t=this.startGrip,n=this.endGrip;if("vertical"==this.get("orientation")){var r=e.height();t.set("y",e.y()),n.set("y",e.y()+r)}else{var i=e.width();t.set("x",e.x()),n.set("x",e.x()+i)}}}])}(WR);function oY(e){return oY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oY(e)}function aY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sY(r.key),r)}}function sY(e){var t=function(e,t){if("object"!=oY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oY(t)?t:t+""}function lY(e,t,n){return t=hY(t),function(e,t){if(t&&("object"==oY(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uY()?Reflect.construct(t,n||[],hY(e).constructor):t.apply(e,n))}function uY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uY=function(){return!!e})()}function cY(e,t,n,r){var i=fY(hY(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function fY(){return fY="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=hY(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fY.apply(null,arguments)}function hY(e){return hY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hY(e)}function dY(e,t){return dY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dY(e,t)}Object.defineProperty(iY,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(iY,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([iY.className])});var pY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lY(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dY(e,t)}(t,e),function(e,t,n){return t&&aY(e.prototype,t),n&&aY(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._addOrientationClass(),cY(t,"_afterNew",this,3)([]),this.endGrip.setPrivate("visible",!1),this.thumb.setPrivate("visible",!1)}},{key:"updateGrips",value:function(){cY(t,"updateGrips",this,3)([]);var e=this.startGrip;this.endGrip.setAll({x:e.x(),y:e.y()}),this.setRaw("end",this.get("start"))}}])}(iY);function vY(e){return function(){return e}}Object.defineProperty(pY,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slider"}),Object.defineProperty(pY,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:iY.classNames.concat([pY.className])});var yY,mY,bY,gY,wY,_Y,kY,xY,OY,PY,SY,EY,jY,TY,DY=Math.abs,AY=Math.atan2,CY=Math.cos,MY=Math.max,LY=Math.min,RY=Math.sin,IY=Math.sqrt,NY=1e-12,BY=Math.PI,FY=BY/2,zY=2*BY;function VY(e){return e>=1?FY:e<=-1?-FY:Math.asin(e)}function qY(e){return qY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qY(e)}function HY(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function YY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UY(r.key),r)}}function UY(e){var t=function(e,t){if("object"!=qY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qY(t)?t:t+""}var GY=Math.PI,XY=2*GY,WY=1e-6,$Y=XY-WY;function KY(e){this._+=e[0];for(var t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}var ZY=function(){return function(e,t,n){return t&&YY(e.prototype,t),n&&YY(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?KY:function(e){var t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return KY;var n=Math.pow(10,t);return function(e){this._+=e[0];for(var t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(t)}),[{key:"moveTo",value:function(e,t){this._append(yY||(yY=HY(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(mY||(mY=HY(["Z"]))))}},{key:"lineTo",value:function(e,t){this._append(bY||(bY=HY(["L",",",""])),this._x1=+e,this._y1=+t)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._append(gY||(gY=HY(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){this._append(wY||(wY=HY(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}},{key:"arcTo",value:function(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(null===this._x1)this._append(_Y||(_Y=HY(["M",",",""])),this._x1=e,this._y1=t);else if(f>WY)if(Math.abs(c*s-l*u)>WY&&i){var h=n-o,d=r-a,p=s*s+l*l,v=h*h+d*d,y=Math.sqrt(p),m=Math.sqrt(f),b=i*Math.tan((GY-Math.acos((p+f-v)/(2*y*m)))/2),g=b/m,w=b/y;Math.abs(g-1)>WY&&this._append(xY||(xY=HY(["L",",",""])),e+g*u,t+g*c),this._append(OY||(OY=HY(["A",",",",0,0,",",",",",""])),i,i,+(c*h>u*d),this._x1=e+w*s,this._y1=t+w*l)}else this._append(kY||(kY=HY(["L",",",""])),this._x1=e,this._y1=t);else;}},{key:"arc",value:function(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));var a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;null===this._x1?this._append(PY||(PY=HY(["M",",",""])),l,u):(Math.abs(this._x1-l)>WY||Math.abs(this._y1-u)>WY)&&this._append(SY||(SY=HY(["L",",",""])),l,u),n&&(f<0&&(f=f%XY+XY),f>$Y?this._append(EY||(EY=HY(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,c,e-a,t-s,n,n,c,this._x1=l,this._y1=u):f>WY&&this._append(jY||(jY=HY(["A",",",",0,",",",",",",",""])),n,n,+(f>=GY),c,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}},{key:"rect",value:function(e,t,n,r){this._append(TY||(TY=HY(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}},{key:"toString",value:function(){return this._}}])}();function JY(e){var t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{var r=Math.floor(n);if(!(r>=0))throw new RangeError("invalid digits: ".concat(n));t=r}return e},function(){return new ZY(t)}}function QY(e){return e.innerRadius}function eU(e){return e.outerRadius}function tU(e){return e.startAngle}function nU(e){return e.endAngle}function rU(e){return e&&e.padAngle}function iU(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/IY(s*s+l*l),c=u*l,f=-u*s,h=e+c,d=t+f,p=n+c,v=r+f,y=(h+p)/2,m=(d+v)/2,b=p-h,g=v-d,w=b*b+g*g,_=i-o,k=h*v-p*d,x=(g<0?-1:1)*IY(MY(0,_*_*w-k*k)),O=(k*g-b*x)/w,P=(-k*b-g*x)/w,S=(k*g+b*x)/w,E=(-k*b+g*x)/w,j=O-y,T=P-m,D=S-y,A=E-m;return j*j+T*T>D*D+A*A&&(O=S,P=E),{cx:O,cy:P,x01:-c,y01:-f,x11:O*(i/_-1),y11:P*(i/_-1)}}function oU(){var e=QY,t=eU,n=vY(0),r=null,i=tU,o=nU,a=rU,s=null,l=JY(u);function u(){var u,c,f=+e.apply(this,arguments),h=+t.apply(this,arguments),d=i.apply(this,arguments)-FY,p=o.apply(this,arguments)-FY,v=DY(p-d),y=p>d;if(s||(s=u=l()),h<f&&(c=h,h=f,f=c),h>NY)if(v>zY-NY)s.moveTo(h*CY(d),h*RY(d)),s.arc(0,0,h,d,p,!y),f>NY&&(s.moveTo(f*CY(p),f*RY(p)),s.arc(0,0,f,p,d,y));else{var m,b,g=d,w=p,_=d,k=p,x=v,O=v,P=a.apply(this,arguments)/2,S=P>NY&&(r?+r.apply(this,arguments):IY(f*f+h*h)),E=LY(DY(h-f)/2,+n.apply(this,arguments)),j=E,T=E;if(S>NY){var D=VY(S/f*RY(P)),A=VY(S/h*RY(P));(x-=2*D)>NY?(_+=D*=y?1:-1,k-=D):(x=0,_=k=(d+p)/2),(O-=2*A)>NY?(g+=A*=y?1:-1,w-=A):(O=0,g=w=(d+p)/2)}var C=h*CY(g),M=h*RY(g),L=f*CY(k),R=f*RY(k);if(E>NY){var I,N=h*CY(w),B=h*RY(w),F=f*CY(_),z=f*RY(_);if(v<BY)if(I=function(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,h=f*l-c*u;if(!(h*h<NY))return[e+(h=(c*(t-o)-f*(e-i))/h)*l,t+h*u]}(C,M,F,z,N,B,L,R)){var V=C-I[0],q=M-I[1],H=N-I[0],Y=B-I[1],U=1/RY(function(e){return e>1?0:e<-1?BY:Math.acos(e)}((V*H+q*Y)/(IY(V*V+q*q)*IY(H*H+Y*Y)))/2),G=IY(I[0]*I[0]+I[1]*I[1]);j=LY(E,(f-G)/(U-1)),T=LY(E,(h-G)/(U+1))}else j=T=0}O>NY?T>NY?(m=iU(F,z,C,M,h,T,y),b=iU(N,B,L,R,h,T,y),s.moveTo(m.cx+m.x01,m.cy+m.y01),T<E?s.arc(m.cx,m.cy,T,AY(m.y01,m.x01),AY(b.y01,b.x01),!y):(s.arc(m.cx,m.cy,T,AY(m.y01,m.x01),AY(m.y11,m.x11),!y),s.arc(0,0,h,AY(m.cy+m.y11,m.cx+m.x11),AY(b.cy+b.y11,b.cx+b.x11),!y),s.arc(b.cx,b.cy,T,AY(b.y11,b.x11),AY(b.y01,b.x01),!y))):(s.moveTo(C,M),s.arc(0,0,h,g,w,!y)):s.moveTo(C,M),f>NY&&x>NY?j>NY?(m=iU(L,R,N,B,f,-j,y),b=iU(C,M,F,z,f,-j,y),s.lineTo(m.cx+m.x01,m.cy+m.y01),j<E?s.arc(m.cx,m.cy,j,AY(m.y01,m.x01),AY(b.y01,b.x01),!y):(s.arc(m.cx,m.cy,j,AY(m.y01,m.x01),AY(m.y11,m.x11),!y),s.arc(0,0,f,AY(m.cy+m.y11,m.cx+m.x11),AY(b.cy+b.y11,b.cx+b.x11),y),s.arc(b.cx,b.cy,j,AY(b.y11,b.x11),AY(b.y01,b.x01),!y))):s.arc(0,0,f,k,_,y):s.lineTo(L,R)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-BY/2;return[CY(r)*n,RY(r)*n]},u.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:vY(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:vY(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:vY(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:vY(+e),u):r},u.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:vY(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:vY(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:vY(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}function aU(e){return aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aU(e)}function sU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lU(r.key),r)}}function lU(e){var t=function(e,t){if("object"!=aU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aU(t)?t:t+""}function uU(e,t,n){return t=dU(t),function(e,t){if(t&&("object"==aU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cU()?Reflect.construct(t,n||[],dU(e).constructor):t.apply(e,n))}function cU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cU=function(){return!!e})()}function fU(e,t,n,r){var i=hU(dU(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function hU(){return hU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=dU(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hU.apply(null,arguments)}function dU(e){return dU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dU(e)}function pU(e,t){return pU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pU(e,t)}ZY.prototype;var vU=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=uU(this,t,arguments),Object.defineProperty(e,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:oU()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pU(e,t)}(t,e),function(e,t,n){return t&&sU(e.prototype,t),n&&sU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_getTooltipPoint",value:function(){var e=this.get("tooltipX"),t=this.get("tooltipY"),n=0,r=0;zj(e)&&(n=e),zj(t)&&(r=t);var i=this.get("radius",0),o=this.get("innerRadius",0);return i+=this.get("dRadius",0),(o+=this.get("dInnerRadius",0))<0&&(o=i+o),e instanceof Oj&&(n=this.ix*(o+(i-o)*e.value)),t instanceof Oj&&(r=this.iy*(o+(i-o)*t.value)),this.get("arc")>=360&&0==o&&(n=0,r=0),{x:n,y:r}}},{key:"_beforeChanged",value:function(){fU(t,"_beforeChanged",this,3)([]),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}},{key:"_changed",value:function(){if(fU(t,"_changed",this,3)([]),this._clear){var e=this.get("startAngle",0),n=this.get("arc",0),r=this._generator;n<0&&(e+=n,n*=-1),n>.1&&r.cornerRadius(this.get("cornerRadius",0)),r.context(this._display);var i=this.get("radius",0),o=this.get("innerRadius",0);i+=this.get("dRadius",0),(o+=this.get("dInnerRadius",0))<0&&(o=i+o),r({innerRadius:o,outerRadius:i,startAngle:(e+90)*lC,endAngle:(e+n+90)*lC});var a=e+n/2;this.ix=mC(a),this.iy=vC(a);var s=this.get("shiftRadius",0);this.setRaw("dx",this.ix*s),this.setRaw("dy",this.iy*s),this.markDirtyPosition()}}}])}(zL);function yU(e){return yU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yU(e)}function mU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bU(r.key),r)}}function bU(e){var t=function(e,t){if("object"!=yU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yU(t)?t:t+""}function gU(e,t,n){return t=_U(t),function(e,t){if(t&&("object"==yU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wU()?Reflect.construct(t,n||[],_U(e).constructor):t.apply(e,n))}function wU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wU=function(){return!!e})()}function _U(e){return _U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_U(e)}function kU(e,t){return kU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kU(e,t)}Object.defineProperty(vU,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(vU,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([vU.className])});var xU=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=gU(this,t,arguments),Object.defineProperty(e,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{width:Ej,height:Ej,interactiveChildren:!1}))}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:WR.new(e._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Ej,height:Ej})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kU(e,t)}(t,e),function(e,t,n){return t&&mU(e.prototype,t),n&&mU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(WR);function OU(e){return OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OU(e)}function PU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SU(r.key),r)}}function SU(e){var t=function(e,t){if("object"!=OU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OU(t)?t:t+""}function EU(e,t,n){return t=DU(t),function(e,t){if(t&&("object"==OU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jU()?Reflect.construct(t,n||[],DU(e).constructor):t.apply(e,n))}function jU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jU=function(){return!!e})()}function TU(){return TU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=DU(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},TU.apply(null,arguments)}function DU(e){return DU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DU(e)}function AU(e,t){return AU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AU(e,t)}Object.defineProperty(xU,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(xU,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([xU.className])});var CU=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=EU(this,t,arguments),Object.defineProperty(e,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:WR.new(e._root,{width:Ej,height:Ej,isMeasured:!1})}),Object.defineProperty(e,"series",{enumerable:!0,configurable:!0,writable:!0,value:new KA}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AU(e,t)}(t,e),function(e,t,n){return t&&PU(e.prototype,t),n&&PU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;!function(e,t,n,r){var i=TU(DU(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([]),this._disposers.push(this.series);var n=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((function(t){if("clear"===t.type){Wj(t.oldValues,(function(t){e._removeSeries(t)}));var r=e.get("colors");r&&r.reset();var i=e.get("patterns");i&&i.reset()}else if("push"===t.type)n.moveValue(t.newValue),e._processSeries(t.newValue);else if("setIndex"===t.type)n.setIndex(t.index,t.newValue),e._processSeries(t.newValue);else if("insertIndex"===t.type)n.insertIndex(t.index,t.newValue),e._processSeries(t.newValue);else if("removeIndex"===t.type)e._removeSeries(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");n.moveValue(t.value,t.newIndex),e._processSeries(t.value)}})))}},{key:"_processSeries",value:function(e){e.chart=this,e._placeBulletsContainer(this)}},{key:"_removeSeries",value:function(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}])}(xU);function MU(e){return MU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MU(e)}function LU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RU(r.key),r)}}function RU(e){var t=function(e,t){if("object"!=MU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MU(t)?t:t+""}function IU(e,t,n){return t=BU(t),function(e,t){if(t&&("object"==MU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NU()?Reflect.construct(t,n||[],BU(e).constructor):t.apply(e,n))}function NU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NU=function(){return!!e})()}function BU(e){return BU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BU(e)}function FU(e,t){return FU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FU(e,t)}Object.defineProperty(CU,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(CU,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xU.classNames.concat([CU.className])});var zU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),IU(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FU(e,t)}(t,e),function(e,t,n){return t&&LU(e.prototype,t),n&&LU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(lH);function VU(e){return VU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VU(e)}function qU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HU(r.key),r)}}function HU(e){var t=function(e,t){if("object"!=VU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VU(t)?t:t+""}function YU(e,t,n){return t=WU(t),function(e,t){if(t&&("object"==VU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UU()?Reflect.construct(t,n||[],WU(e).constructor):t.apply(e,n))}function UU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UU=function(){return!!e})()}function GU(e,t,n,r){var i=XU(WU(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function XU(){return XU="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=WU(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},XU.apply(null,arguments)}function WU(e){return WU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WU(e)}function $U(e,t){return $U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$U(e,t)}Object.defineProperty(zU,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(zU,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lH.classNames.concat([zU.className])});var KU=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=YU(this,t,arguments),Object.defineProperty(e,"homeButton",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(oz.new(e._root,{width:35,height:35,themeTags:["home"]}))}),Object.defineProperty(e,"plusButton",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(oz.new(e._root,{width:35,height:35,themeTags:["plus"]}))}),Object.defineProperty(e,"minusButton",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(oz.new(e._root,{width:35,height:35,themeTags:["minus"]}))}),Object.defineProperty(e,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_targetDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$U(e,t)}(t,e),function(e,t,n){return t&&qU(e.prototype,t),n&&qU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){GU(t,"_afterNew",this,3)([]),this.set("position","absolute"),this.set("layout",this._root.verticalLayout),this.addTag("zoomtools"),this.plusButton.setAll({icon:zL.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.minusButton.setAll({icon:zL.new(this._root,{themeTags:["icon"]}),layout:void 0}),this.homeButton.setAll({icon:zL.new(this._root,{themeTags:["icon"]}),layout:void 0})}},{key:"_prepareChildren",value:function(){var e=this;if(GU(t,"_prepareChildren",this,3)([]),this.isDirty("target")){var n=this.get("target"),r=this._prevSettings.target;n&&(n instanceof TV&&(this._targetDisposer=this.addDisposer(n.contents.on("scale",(function(t){t==n.get("minZoomLevel")?e.minusButton.set("disabled",!0):e.minusButton.set("disabled",!1),t==n.get("maxZoomLevel")?e.plusButton.set("disabled",!0):e.plusButton.set("disabled",!1)}))),this.root.events.once("frameended",(function(){n.get("scale")==n.get("minZoomLevel")&&e.minusButton.set("disabled",!0)}))),this._disposer=new XT([this.plusButton.events.on("click",(function(){n.zoomIn()})),this.minusButton.events.on("click",(function(){n.zoomOut()})),this.homeButton.events.on("click",(function(){n.goHome()}))])),r&&(this._disposer&&this._disposer.dispose(),this._targetDisposer&&this._targetDisposer.dispose())}}}])}(WR);function ZU(e){return ZU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZU(e)}function JU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QU(r.key),r)}}function QU(e){var t=function(e,t){if("object"!=ZU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZU(t)?t:t+""}function eG(e,t,n){return t=iG(t),function(e,t){if(t&&("object"==ZU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tG()?Reflect.construct(t,n||[],iG(e).constructor):t.apply(e,n))}function tG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tG=function(){return!!e})()}function nG(e,t,n,r){var i=rG(iG(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function rG(){return rG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=iG(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},rG.apply(null,arguments)}function iG(e){return iG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iG(e)}function oG(e,t){return oG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oG(e,t)}Object.defineProperty(KU,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ZoomTools"}),Object.defineProperty(KU,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([KU.className])});var aG=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=eG(this,t,arguments),Object.defineProperty(e,"canvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(e,"context",{enumerable:!0,configurable:!0,writable:!0,value:e.canvas.getContext("2d")}),Object.defineProperty(e,"_clearGrain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oG(e,t)}(t,e),function(e,t,n){return t&&JU(e.prototype,t),n&&JU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){this.canvas.width=this.get("width",200),this.canvas.height=this.get("height",200),(this.isDirty("size")||this.isDirty("density")||this.isDirty("minOpacity")||this.isDirty("maxOpacity")||this.isDirty("colors")||this.isDirty("horizontalGap")||this.isDirty("verticalGap"))&&(this._clearGrain=!0),nG(t,"_beforeChanged",this,3)([])}},{key:"_changed",value:function(){if(nG(t,"_changed",this,3)([]),this._clearGrain){for(var e=this.get("width",200),n=this.get("height",200),r=this.context.getImageData(0,0,e,n),i=Math.max(1,this.get("size",1)),o=this.get("minOpacity",0),a=this.get("maxOpacity",.3),s=this.get("colors",[this.get("color",_A.fromHex(0))]),l=e/i,u=n/i,c=this.get("density",1),f=this.get("horizontalGap",0)+1,h=this.get("verticalGap",0)+1,d=0;d<u;d++)if(!(h>0&&d/h!=Math.round(d/h)))for(var p=0;p<l;p++){var v=s[Math.floor(Math.random()*s.length)],y=255*(o+Math.random()*(a-o)),m=Math.random();f>0&&p/f!=Math.round(p/f)||m<c&&this._setRectData(p,d,i,e,r.data,v.r,v.g,v.b,y)}this.context.putImageData(r,0,0),this._pattern=this.context.createPattern(this.canvas,"repeat")}this._clearGrain=!1}},{key:"_checkDirtyFill",value:function(){return!1}},{key:"_setRectData",value:function(e,t,n,r,i,o,a,s,l){for(var u=e*n;u<e*n+n;u++)for(var c=t*n;c<t*n+n;c++){var f=4*(c*r+u);i[f]=o,i[f+1]=a,i[f+2]=s,i[f+3]=l}}}])}(bL);function sG(e){return sG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sG(e)}function lG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uG(r.key),r)}}function uG(e){var t=function(e,t){if("object"!=sG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sG(t)?t:t+""}function cG(e,t,n){return t=hG(t),function(e,t){if(t&&("object"==sG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fG()?Reflect.construct(t,n||[],hG(e).constructor):t.apply(e,n))}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fG=function(){return!!e})()}function hG(e){return hG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hG(e)}function dG(e,t){return dG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dG(e,t)}Object.defineProperty(aG,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GrainPattern"}),Object.defineProperty(aG,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bL.classNames.concat([aG.className])});var pG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cG(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dG(e,t)}(t,e),function(e,t,n){return t&&lG(e.prototype,t),n&&lG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getFill",value:function(e){var t=this.getBounds(e),n=0,r=0,i=t.left||0,o=t.right||0,a=t.top||0,s=o-i,l=(t.bottom||0)-a,u=e.get("radius");zj(u)?(n=0,r=0):(u=Math.min(s,l)/2,n=s/2,r=l/2);var c=this.get("x"),f=this.get("y");null!=c&&(n=MD(c,s)),null!=f&&(r=MD(f,l));var h=this._root._renderer.createRadialGradient(n,r,0,n,r,u),d=this.get("stops");if(d){var p=0;Wj(d,(function(e){var t=e.offset;zj(t)||(t=p/(d.length-1));var n=e.opacity;zj(n)||(n=1);var r=e.color;if(r){var i=e.lighten;i&&(r=_A.lighten(r,i));var o=e.brighten;o&&(r=_A.brighten(r,o)),h.addColorStop(t,"rgba("+r.r+","+r.g+","+r.b+","+n+")")}p++}))}return h}}])}(FV);function vG(e){return vG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vG(e)}function yG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mG(r.key),r)}}function mG(e){var t=function(e,t){if("object"!=vG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vG(t)?t:t+""}function bG(e,t,n){return t=kG(t),function(e,t){if(t&&("object"==vG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gG()?Reflect.construct(t,n||[],kG(e).constructor):t.apply(e,n))}function gG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gG=function(){return!!e})()}function wG(e,t,n,r){var i=_G(kG(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function _G(){return _G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=kG(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_G.apply(null,arguments)}function kG(e){return kG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kG(e)}function xG(e,t){return xG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xG(e,t)}Object.defineProperty(pG,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialGradient"}),Object.defineProperty(pG,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:FV.classNames.concat([pG.className])});var OG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bG(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xG(e,t)}(t,e),function(e,t,n){return t&&yG(e.prototype,t),n&&yG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){wG(t,"_beforeChanged",this,3)([]),this.isDirty("gap")&&(this._clear=!0)}},{key:"_draw",value:function(){wG(t,"_draw",this,3)([]);var e=this.get("checkered",!1),n=this.get("centered",!0),r=this.get("gap",0),i=this.get("rotation",0),o=this.get("width",100),a=this.get("height",100),s=this.get("radius",3),l=2*s+r,u=2*s+r,c=Math.round(o/l),f=Math.round(a/u);l=o/c,u=a/f,0!=i&&(this._display.x=l*mC(i),this._display.y=u*vC(i));var h=this.get("color"),d=this.get("colorOpacity");(h||d)&&this._display.beginFill(h,d);for(var p=0==i?0:2*-f;p<2*f;p++)for(var v=0==i?0:2*-c;v<2*c;v++)if(!e||1&~p&&1&~v||!(1&~p)&&!(1&~v)){var y=v*l,m=p*u;n&&(y+=l+r/2,m+=u+r/2),this._display.drawCircle(y-s,m-s,s)}e?(o=o/2-2*r,a=a/2-2*r):(o-=r,a-=r),(h||d)&&this._display.endFill()}}])}(bL);function PG(e){return PG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PG(e)}function SG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EG(r.key),r)}}function EG(e){var t=function(e,t){if("object"!=PG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PG(t)?t:t+""}function jG(e,t,n){return t=CG(t),function(e,t){if(t&&("object"==PG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TG()?Reflect.construct(t,n||[],CG(e).constructor):t.apply(e,n))}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TG=function(){return!!e})()}function DG(e,t,n,r){var i=AG(CG(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function AG(){return AG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=CG(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},AG.apply(null,arguments)}function CG(e){return CG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CG(e)}function MG(e,t){return MG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MG(e,t)}Object.defineProperty(OG,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CirclePattern"}),Object.defineProperty(OG,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bL.classNames.concat([OG.className])});var LG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jG(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MG(e,t)}(t,e),function(e,t,n){return t&&SG(e.prototype,t),n&&SG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){DG(t,"_beforeChanged",this,3)([]),this.isDirty("gap")&&(this._clear=!0)}},{key:"_draw",value:function(){DG(t,"_draw",this,3)([]);var e=this.get("width",100),n=this.get("height",100),r=this.get("gap",0),i=this.get("strokeWidth",1);if(r)for(var o=r+i,a=n/o,s=-a;s<2*a;s++){var l=Math.round(s*o-o/2)+.5;this._display.moveTo(-e,l),this._display.lineTo(2*e,l)}else this._display.moveTo(0,0),this._display.lineTo(e,0);this._display.lineStyle(i,this.get("color"),this.get("colorOpacity"));var u=this.get("strokeDasharray");zj(u)&&(u=u<.5?[0]:[u]),this._display.setLineDash(u);var c=this.get("strokeDashoffset");c&&this._display.setLineDashOffset(c),this._display.endStroke()}}])}(bL);function RG(e){return RG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RG(e)}function IG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NG(r.key),r)}}function NG(e){var t=function(e,t){if("object"!=RG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RG(t)?t:t+""}function BG(e,t,n){return t=qG(t),function(e,t){if(t&&("object"==RG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FG()?Reflect.construct(t,n||[],qG(e).constructor):t.apply(e,n))}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FG=function(){return!!e})()}function zG(e,t,n,r){var i=VG(qG(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function VG(){return VG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=qG(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},VG.apply(null,arguments)}function qG(e){return qG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qG(e)}function HG(e,t){return HG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HG(e,t)}Object.defineProperty(LG,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"}),Object.defineProperty(LG,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bL.classNames.concat([LG.className])});var YG=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BG(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HG(e,t)}(t,e),function(e,t,n){return t&&IG(e.prototype,t),n&&IG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){zG(t,"_beforeChanged",this,3)([]),this.isDirty("gap")&&(this._clear=!0)}},{key:"_draw",value:function(){zG(t,"_draw",this,3)([]);var e=this.get("checkered",!1),n=this.get("centered",!0),r=this.get("gap",0),i=this.get("rotation",0),o=this.get("width",100),a=this.get("height",100),s=this.get("maxWidth",5),l=this.get("maxHeight",5),u=this._display,c=s+r,f=l+r,h=Math.round(o/c),d=Math.round(a/f);c=o/h,f=a/d,0!=i&&(u.x=c/2*mC(i),u.y=-f/2*vC(i));for(var p=0==i?0:2*-d;p<2*d;p++)for(var v=0==i?0:2*-h;v<2*h;v++)if(!e||1&~p&&1&~v||!(1&~p)&&!(1&~v)){var y=v*c,m=p*f;n&&(y+=(c-s)/2,m+=(f-l)/2),u.drawRect(y,m,s,l)}e?(o=o/2-2*r,a=a/2-2*r):(o-=r,a-=r);var b=this.get("color"),g=this.get("colorOpacity");(b||g)&&(u.beginFill(b,g),u.endFill())}}])}(bL);function UG(e){return UG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UG(e)}function GG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XG(r.key),r)}}function XG(e){var t=function(e,t){if("object"!=UG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UG(t)?t:t+""}function WG(e,t,n){return t=JG(t),function(e,t){if(t&&("object"==UG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$G()?Reflect.construct(t,n||[],JG(e).constructor):t.apply(e,n))}function $G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($G=function(){return!!e})()}function KG(e,t,n,r){var i=ZG(JG(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function ZG(){return ZG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=JG(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ZG.apply(null,arguments)}function JG(e){return JG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JG(e)}function QG(e,t){return QG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QG(e,t)}Object.defineProperty(YG,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"}),Object.defineProperty(YG,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bL.classNames.concat([YG.className])});var eX=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WG(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QG(e,t)}(t,e),function(e,t,n){return t&&GG(e.prototype,t),n&&GG(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){KG(t,"_beforeChanged",this,3)([]),this.isDirty("svgPath")&&(this._clear=!0)}},{key:"_draw",value:function(){KG(t,"_draw",this,3)([]);var e=this.get("svgPath");null!=e&&this._display.svgPath(e);var n=this.get("color"),r=this.get("colorOpacity");(n||r)&&(this._display.beginFill(n,r),this._display.endFill())}}])}(bL);function tX(e){return tX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tX(e)}function nX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rX(r.key),r)}}function rX(e){var t=function(e,t){if("object"!=tX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tX(t)?t:t+""}function iX(e,t,n){return t=sX(t),function(e,t){if(t&&("object"==tX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oX()?Reflect.construct(t,n||[],sX(e).constructor):t.apply(e,n))}function oX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oX=function(){return!!e})()}function aX(){return aX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=sX(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},aX.apply(null,arguments)}function sX(e){return sX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sX(e)}function lX(e,t){return lX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lX(e,t)}Object.defineProperty(eX,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PathPattern"}),Object.defineProperty(eX,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bL.classNames.concat([eX.className])});var uX=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iX(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lX(e,t)}(t,e),function(e,t,n){return t&&nX(e.prototype,t),n&&nX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){if(function(e,t,n,r){var i=aX(sX(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNewApplyThemes",this,3)([]),0===this.get("patterns",[]).length){var e=this.get("color",this.root.interfaceColors.get("stroke"));this.set("patterns",[this.getLinePattern({width:1e3,height:1e3,rotation:45,strokeWidth:1,color:e}),this.getRectanglePattern({width:10,height:10,rotation:0,maxWidth:4,maxHeight:4,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:-45,strokeWidth:1,gap:6,color:e}),this.getCirclePattern({width:11,height:11,radius:2,color:e}),this.getLinePattern({width:6,height:6,rotation:90,strokeWidth:1,color:e}),this.getRectanglePattern({width:14,height:14,rotation:45,gap:4,maxWidth:6,maxHeight:6,checkered:!0,color:e}),this.getLinePattern({width:6,height:6,rotation:0,strokeWidth:1,color:e}),this.getRectanglePattern({width:15,height:15,rotation:0,gap:5,maxWidth:5,maxHeight:5,checkered:!0,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:45,strokeWidth:2,gap:3,strokeDasharray:[4,2],color:e}),this.getCirclePattern({width:20,height:20,radius:3,gap:4,checkered:!0,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:-45,strokeWidth:2,gap:3,strokeDasharray:[4,2],color:e}),this.getRectanglePattern({width:10,height:10,rotation:0,gap:1,maxWidth:9,maxHeight:9,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:-45,strokeWidth:2,gap:1,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:45,strokeWidth:2,gap:1,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:0,strokeWidth:3,gap:1,color:e}),this.getLinePattern({width:1e3,height:1e3,rotation:90,strokeWidth:3,gap:1,color:e})])}this._dirty.patterns=!1}},{key:"_beforeChanged",value:function(){this.isDirty("patterns")&&this.reset()}},{key:"getIndex",value:function(e){var t=this.get("patterns",[]);return e<t.length&&null!==t[e]?t[e]:e>t.length-1?t[e-Math.floor(e*(e/t.length))]:t[e]}},{key:"next",value:function(){var e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}},{key:"reset",value:function(){this.setPrivate("currentStep",this.get("startIndex",0))}},{key:"getLinePattern",value:function(e){return LG.new(this.root,e)}},{key:"getRectanglePattern",value:function(e){return YG.new(this.root,e)}},{key:"getCirclePattern",value:function(e){return OG.new(this.root,e)}}])}(NM);function cX(e){return cX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cX(e)}function fX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hX(r.key),r)}}function hX(e){var t=function(e,t){if("object"!=cX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cX(t)?t:t+""}function dX(e,t,n){return t=yX(t),function(e,t){if(t&&("object"==cX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pX()?Reflect.construct(t,n||[],yX(e).constructor):t.apply(e,n))}function pX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pX=function(){return!!e})()}function vX(){return vX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=yX(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vX.apply(null,arguments)}function yX(e){return yX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yX(e)}function mX(e,t){return mX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mX(e,t)}Object.defineProperty(uX,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PatternSet"}),Object.defineProperty(uX,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([uX.className])});var bX=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dX(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mX(e,t)}(t,e),function(e,t,n){return t&&fX(e.prototype,t),n&&fX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){!function(e,t,n,r){var i=vX(yX(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNewApplyThemes",this,3)([]),this._dirty.colors=!1}},{key:"_beforeChanged",value:function(){this.isDirty("colors")&&this.reset()}},{key:"generateColors",value:function(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);var e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",_A.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);for(var n=this.getPrivate("numColors"),r=this.get("passOptions"),i=this.get("reuse"),o=0;o<n;o++)if(i)t.push(t[o]);else{for(var a=t[o].toHSL(),s=a.h+(r.hue||0)*e;s>1;)s-=1;var l=a.s+(r.saturation||0)*e;l>1&&(l=1),l<0&&(l=0);for(var u=a.l+(r.lightness||0)*e;u>1;)u-=1;t.push(_A.fromHSL(s,l,u))}}},{key:"getIndex",value:function(e){var t=this.get("colors",[]),n=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):null!=n?_A.saturate(t[e],n):t[e]}},{key:"next",value:function(){var e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}},{key:"reset",value:function(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}])}(NM);function gX(e){return gX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gX(e)}function wX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xX(r.key),r)}}function kX(e,t,n){return t&&_X(e.prototype,t),n&&_X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xX(e){var t=function(e,t){if("object"!=gX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gX(t)?t:t+""}Object.defineProperty(bX,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(bX,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([bX.className])});var OX=function(){return kX((function e(){wX(this,e)}),null,[{key:"parse",value:function(e,t){t=this._applyDefaults(t);try{if(Fj(e)){var n=JSON.parse(e);return t.reverse&&qj(n)&&n.reverse(),n}if(qj(e)||Vj(e))return e;throw"Unable to parse JSON data"}catch(e){return}}},{key:"_applyDefaults",value:function(e){var t={};return e||(e={}),jT({reverse:!1},(function(n,r){t[n]=e[n]||r})),t}}])}(),PX=function(){return kX((function e(){wX(this,e)}),null,[{key:"parse",value:function(e,t){t=this._applyDefaults(t);var n,r,i,o=this.CSVToArray(e,t.delimiter),a=[],s=[];for(r=0;r<t.skipRows;r++)o.shift();if(t.useColumnNames){s=o.shift();for(var l=0;l<s.length;l++)""===(n=null!=s[l]?s[l].replace(/^\s+|\s+$/gm,""):"")&&(n="col"+l),s[l]=n}for(;i=t.reverse?o.pop():o.shift();)if(!t.skipEmpty||1!==i.length||""!==i[0]){var u={};for(r=0;r<i.length;r++)u[n=void 0===s[r]?"col"+r:s[r]]=i[r];a.push(u)}return a}},{key:"CSVToArray",value:function(e,t){t=t||",";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],i=null;i=n.exec(e);){var o=i[1];o.length&&o!==t&&r.push([]);var a=void 0;a=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],r[r.length-1].push(a)}return r}},{key:"_applyDefaults",value:function(e){var t={};return e||(e={}),jT({delimiter:",",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},(function(n,r){t[n]=e[n]||r})),t}}])}();function SX(e){return SX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SX(e)}function EX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jX(r.key),r)}}function jX(e){var t=function(e,t){if("object"!=SX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SX(t)?t:t+""}function TX(e,t,n){return t=CX(t),function(e,t){if(t&&("object"==SX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DX()?Reflect.construct(t,n||[],CX(e).constructor):t.apply(e,n))}function DX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DX=function(){return!!e})()}function AX(){return AX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=CX(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},AX.apply(null,arguments)}function CX(e){return CX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CX(e)}function MX(e,t){return MX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MX(e,t)}var LX=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=TX(this,t,arguments),Object.defineProperty(e,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MX(e,t)}(t,e),function(e,t,n){return t&&EX(e.prototype,t),n&&EX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;!function(e,t,n,r){var i=AX(CX(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([]),this._checkFeatures(),this.on("dateFields",(function(){return e._checkFeatures()})),this.on("dateFormat",(function(){return e._checkFeatures()})),this.on("numericFields",(function(){return e._checkFeatures()})),this.on("colorFields",(function(){return e._checkFeatures()})),this.on("emptyAs",(function(){return e._checkFeatures()}))}},{key:"_checkFeatures",value:function(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=null!=this.get("emptyAs")),this._checkDeepFeatures()}},{key:"_checkDeepFeatures",value:function(){var e=this,t=[];Wj(["dateFields","numericFields","colorFields"],(function(n){Wj(e.get(n,[]),(function(e){var n=e.split(".");for(n.pop();n.length>0;)t.push(n.join(".")),n.pop()}))})),this._checkDeep=t.length>0,this.setPrivate("deepFields",t)}},{key:"processMany",value:function(e){var t=this;qj(e)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&Wj(e,(function(e){t.processRow(e)}))}},{key:"processRow",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";jT(e,(function(r,i){var o=n+r;t._checkEmpty&&(e[r]=t._maybeToEmpty(e[r])),t._checkNumbers&&(e[r]=t._maybeToNumber(o,e[r])),t._checkDates&&(e[r]=t._maybeToDate(o,e[r])),t._checkColors&&(e[r]=t._maybeToColor(o,e[r])),t._checkDeep&&-1!==t.getPrivate("deepFields",[]).indexOf(o)&&Vj(e[r])&&t.processRow(e[r],o+".")}))}},{key:"_maybeToNumber",value:function(e,t){return-1!==this.get("numericFields").indexOf(e)?Lj(t):t}},{key:"_maybeToDate",value:function(e,t){return-1!==this.get("dateFields").indexOf(e)?this._root.dateFormatter.parse(t,this.get("dateFormat","")).getTime():t}},{key:"_maybeToEmpty",value:function(e){return null!=e&&""!=e||null==this.get("emptyAs")?e:this.get("emptyAs")}},{key:"_maybeToColor",value:function(e,t){return-1!==this.get("colorFields").indexOf(e)?_A.fromAny(t):t}}])}(NM);function RX(e){return RX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RX(e)}function IX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NX(r.key),r)}}function NX(e){var t=function(e,t){if("object"!=RX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RX(t)?t:t+""}function BX(e,t,n){return t=qX(t),function(e,t){if(t&&("object"==RX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FX()?Reflect.construct(t,n||[],qX(e).constructor):t.apply(e,n))}function FX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FX=function(){return!!e})()}function zX(e,t,n,r){var i=VX(qX(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function VX(){return VX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=qX(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},VX.apply(null,arguments)}function qX(e){return qX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qX(e)}function HX(e,t){return HX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HX(e,t)}var YX=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=BX(this,t,arguments),Object.defineProperty(e,"rectangle",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(KL.new(e._root,{themeTags:["rectangle"],fillOpacity:0,fill:gA(16777215)}))}),Object.defineProperty(e,"gripL",{enumerable:!0,configurable:!0,writable:!0,value:e._createGrip("left")}),Object.defineProperty(e,"gripR",{enumerable:!0,configurable:!0,writable:!0,value:e._createGrip("right")}),Object.defineProperty(e,"gripT",{enumerable:!0,configurable:!0,writable:!0,value:e._createGrip("top")}),Object.defineProperty(e,"gripB",{enumerable:!0,configurable:!0,writable:!0,value:e._createGrip("bottom")}),Object.defineProperty(e,"_is",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_iw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_positionDP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_isHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HX(e,t)}(t,e),function(e,t,n){return t&&IX(e.prototype,t),n&&IX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;zX(t,"_afterNew",this,3)([]),this.addTag("resizer"),this.set("visible",!1),this.gripL.events.on("dragged",(function(t){e._resize(t.target,-1)})),this.gripR.events.on("dragged",(function(t){e._resize(t.target,1)})),this.gripL.events.on("dragstart",(function(t){e._resizeStart(t.target)})),this.gripR.events.on("dragstart",(function(t){e._resizeStart(t.target)})),this.gripT.events.on("dragged",(function(t){e._rotate(t,90)})),this.gripB.events.on("dragged",(function(t){e._rotate(t,-90)})),this.gripT.events.on("dragstart",(function(t){e._resizeStart(t.target)})),this.gripB.events.on("dragstart",(function(t){e._resizeStart(t.target)}))}},{key:"_resizeStart",value:function(e){var t=this.get("sprite");t&&(this._is=t.get("scale",1),this._ix=e.x(),this._iw=this.width()/2)}},{key:"_resize",value:function(e,t){var n=this.get("sprite"),r=this.get("spriteTemplate");if(n){var i=Math.max(.01,this._is*(1+t*(e.x()-this._ix)/this._iw));r?r.set("scale",i):n.set("scale",i),n.states.lookup("default").set("scale",i),this._updatePositions()}}},{key:"_rotate",value:function(e,t){var n=this.get("sprite"),r=this.get("spriteTemplate");if(n){var i=this.parent;if(i){var o=this.get("rotationStep",10),a=Math.round((OC({x:this.x(),y:this.y()},i.toLocal(e.point))+t)/o)*o;r?r.set("rotation",a):n.set("rotation",a),n.states.lookup("default").set("rotation",a),this._updatePositions()}}}},{key:"_createGrip",value:function(e){var t=this.children.push(WR.new(this._root,{themeTags:["grip",e],setStateOnChildren:!0,draggable:!0}));return t.children.push($F.new(this._root,{themeTags:["outline"],centerX:jj,centerY:jj})),t.children.push($F.new(this._root,{centerX:jj,centerY:jj})),t}},{key:"_updateChildren",value:function(){var e=this;if(zX(t,"_updateChildren",this,3)([]),this.isDirty("sprite")){var n=this.get("sprite");if(n){this.show(0),this.setPrivate("visible",!0),this._updatePositions();var r=n.parent;r&&r.children.moveValue(this,0),this._positionDP=n.events.on("positionchanged",(function(){e._updatePositions()})),this._positionDP=n.events.on("boundschanged",(function(){e._updatePositions()}))}else this.hide(0),this.setPrivate("visible",!1),this._positionDP&&this._positionDP.dispose()}(this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation"))&&this._updatePositions()}},{key:"_updatePositions",value:function(){var e=this.get("sprite");if(e){var t=e.localBounds(),n=e.get("scale",1),r=20,i=(t.right-t.left)*n+r,o=(t.bottom-t.top)*n+r,a=e.get("rotation",0),s=this.rectangle,l=e.get("centerX",jj),u=e.get("centerY",jj),c=0;l instanceof Oj&&(c=l.value);var f=0;u instanceof Oj&&(f=u.value),s.setAll({centerX:l,centerY:u,width:i,height:o}),this.setAll({x:e.x()+r*(c-.5)*mC(a)-r*(f-.5)*vC(a),y:e.y()+r*(f-.5)*mC(a)+r*(c-.5)*vC(a),width:i,height:o,rotation:a}),this.gripT.setAll({x:(.5-c)*i,y:-f*o}),this.gripB.setAll({x:(.5-c)*i,y:(1-f)*o}),this.gripL.setAll({x:-c*i,y:(.5-f)*o}),this.gripR.setAll({x:(1-c)*i,y:(.5-f)*o}),this.rectangle.setAll({width:i,height:o})}}}])}(WR);function UX(e,t,n){return new Promise((function(r,i){var o=null!=n&&"blob"==n.responseType,a=new XMLHttpRequest;if(a.onload=function(){if(200===a.status){var e,n;if(o)return void GX(n=a.response).then((function(e){var i={xhr:a,error:!1,response:e,blob:n,type:a.getResponseHeader("Content-Type"),target:t};r(i)}));e=a.responseText||a.response;var s={xhr:a,error:!1,response:e,blob:n,type:a.getResponseHeader("Content-Type"),target:t};r(s)}else i({xhr:a,error:!0,type:a.getResponseHeader("Content-Type"),target:t})},a.onerror=function(){i({xhr:a,error:!0,type:a.getResponseHeader("Content-Type"),target:t})},a.open("GET",e,!0),n&&n.withCredentials&&(a.withCredentials=!0),null!=n){if(null!=n.requestHeaders)for(var s=0;s<n.requestHeaders.length;s++){var l=n.requestHeaders[s];a.setRequestHeader(l.key,l.value)}null!=n.responseType&&(a.responseType=n.responseType)}a.send()}))}function GX(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(r.result)},r.onerror=function(e){n(e)},r.readAsText(e)}))}function XX(e){return XX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XX(e)}function WX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$X(r.key),r)}}function $X(e){var t=function(e,t){if("object"!=XX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XX(t)?t:t+""}function KX(e,t,n){return t=QX(t),function(e,t){if(t&&("object"==XX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZX()?Reflect.construct(t,n||[],QX(e).constructor):t.apply(e,n))}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZX=function(){return!!e})()}function JX(){return JX="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=QX(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},JX.apply(null,arguments)}function QX(e){return QX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QX(e)}function eW(e,t){return eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eW(e,t)}Object.defineProperty(YX,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SpriteResizer"}),Object.defineProperty(YX,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([YX.className])});var tW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),KX(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eW(e,t)}(t,e),function(e,t,n){return t&&WX(e.prototype,t),n&&WX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setupDefaultRules",value:function(){var e=this;!function(e,t,n,r){var i=JX(QX(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"setupDefaultRules",this,3)([]);var n=this._root.interfaceColors,r=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:bX.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:_A.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:bX.new(this._root,{saturation:0})});var o=i("Graphics",["scrollbar","overlay"]);o.setAll({fillOpacity:.5}),nB(o,"fill",n,"background"),i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Ej,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:Ej}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:Ej}),i("AxisLabel",["y"]).setAll({centerX:Ej}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:Ej}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});var a=i("Grid",["cursor","x"]);a.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:r.translate("Use left and right arrows to move selection")}),nB(a,"stroke",n,"alternativeBackground");var s=i("Grid",["cursor","y"]);s.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:r.translate("Use up and down arrows to move selection")}),nB(s,"stroke",n,"alternativeBackground");var l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),nB(l,"fill",n,"alternativeBackground"),i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:jj,centerY:jj,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});var u=i("AxisRenderer");u.setAll({crisp:!0,strokeOpacity:0}),nB(u,"stroke",n,"grid"),i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Ej}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Ej});var c=i("Rectangle",["axis","thumb"]);c.setAll({fillOpacity:0}),nB(c,"fill",n,"alternativeBackground"),c.states.create("hover",{fillOpacity:.1}),i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});var f=i("Grid");f.setAll({location:0,strokeOpacity:.15,crisp:!0}),nB(f,"stroke",n,"grid");var h=i("Grid",["minor"]);h.setAll({location:0,strokeOpacity:.07,crisp:!0}),nB(h,"stroke",n,"grid"),i("Grid",["base"]).setAll({strokeOpacity:.3});var d=i("Graphics",["axis","fill"]);d.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),nB(d,"fill",n,"alternativeBackground"),i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});var p=i("AxisTick");p.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),nB(p,"stroke",n,"grid"),i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:function(e,t){var n=e.get("axisFill");n&&(zj(t)&&t%2!=0?n.setPrivate("visible",!1):n.setPrivate("visible",!0))}});var v=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],y={millisecond:r.translate("_date_millisecond"),second:r.translate("_date_second"),minute:r.translate("_date_minute"),hour:r.translate("_date_hour"),day:r.translate("_date_day"),week:r.translate("_date_day"),month:r.translate("_date_month"),year:r.translate("_date_year")},m={millisecond:r.translate("_date_millisecond"),second:r.translate("_date_second"),minute:r.translate("_date_minute"),hour:r.translate("_date_day"),day:r.translate("_date_day"),week:r.translate("_date_day"),month:r.translate("_date_month")+" "+r.translate("_date_year"),year:r.translate("_date_year")},b={millisecond:r.translate("_date_millisecond_full"),second:r.translate("_date_second_full"),minute:r.translate("_date_minute_full"),hour:r.translate("_date_hour_full"),day:r.translate("_date_day_full"),week:r.translate("_date_week_full"),month:r.translate("_date_month_full"),year:r.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:fT(v),dateFormats:ET(y),periodChangeDateFormats:ET(m)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:fT(v),dateFormats:ET(y),periodChangeDateFormats:ET(m),tooltipDateFormats:b,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:function(t){var n=t.get("axisFill");if(n){var r=t.component,i=t.get("value"),o=t.get("endValue"),a=r.intervalDuration(),s=r.getPrivate("baseInterval"),l=r.getPrivate("gridInterval",s),u=r.getPrivate("min",0);if(u=Eq(new Date(u),l.timeUnit,l.count,e._root.locale.firstDayOfWeek,e._root.utc,void 0,e._root.timezone).getTime(),null!=i&&null!=o){var c=Math.round(Math.round((i-u)/a))/2;c==Math.round(c)?n.setPrivate("visible",!0):n.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:function(e){var t=e.get("axisFill");if(t){var n=e.get("index"),r=!1;zj(n)&&n%2!=0||(r=!0),t.setPrivate("visible",r)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:function(e){var t=e.get("axisFill");if(t){var n=e.component,r=e.get("value"),i=n.getPrivate("step");zj(r)&&zj(i)&&(cC(r/i/2,5)==Math.round(r/i/2)?t.setPrivate("visible",!1):t.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:Pj(70),height:Pj(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:function(e,t){var n=t.parent;if(n){var r=n.height(),i=n.width();e.moveTo(0,r/2),e.lineTo(i,r/2)}}}),nB(i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{}),"stroke",n,"disabled"),i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:function(e,t){var n=t.parent;if(n){var r=n.height(),i=n.width();e.moveTo(0,0),e.lineTo(i,0),e.lineTo(i,r),e.lineTo(0,r),e.lineTo(0,0)}}}),nB(i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{}),"stroke",n,"disabled"),i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:Pj(50),height:Pj(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:Pj(80),height:Pj(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});var g=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});nB(g,"fill",n,"positive"),nB(g,"stroke",n,"positive");var w=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});nB(w,"fill",n,"negative"),nB(w,"stroke",n,"negative"),i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});var _=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});nB(_,"fill",n,"positive"),nB(_,"stroke",n,"positive");var k=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});nB(k,"fill",n,"negative"),nB(k,"stroke",n,"negative"),i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});var x=i("Graphics",["rangegrip","button","icon"]);x.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:function(e){e.moveTo(0,.5),e.lineTo(0,12.5),e.moveTo(2,.5),e.lineTo(2,12.5),e.moveTo(4,.5),e.lineTo(4,12.5)}}),nB(x,"stroke",n,"secondaryButtonText"),i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:jj}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:jj}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:Ej}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:Ej})}}])}(XN);function nW(e){return nW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nW(e)}function rW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iW(r.key),r)}}function iW(e){var t=function(e,t){if("object"!=nW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nW(t)?t:t+""}function oW(e,t,n){return t=uW(t),function(e,t){if(t&&("object"==nW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aW()?Reflect.construct(t,n||[],uW(e).constructor):t.apply(e,n))}function aW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aW=function(){return!!e})()}function sW(e,t,n,r){var i=lW(uW(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function lW(){return lW="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=uW(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lW.apply(null,arguments)}function uW(e){return uW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uW(e)}function cW(e,t){return cW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cW(e,t)}var fW=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=oW(this,t,arguments),Object.defineProperty(e,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new KA}),Object.defineProperty(e,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new KA}),Object.defineProperty(e,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(WR.new(e._root,{width:Ej,layout:e._root.verticalLayout}))}),Object.defineProperty(e,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(WR.new(e._root,{width:Ej,height:Ej,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(WR.new(e._root,{width:Ej,layout:e._root.verticalLayout}))}),Object.defineProperty(e,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(WR.new(e._root,{height:Ej,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(WR.new(e._root,{width:Ej,height:Ej,maskContent:!1}))}),Object.defineProperty(e,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotsContainer.children.push(WR.new(e._root,{width:Ej,height:Ej}))}),Object.defineProperty(e,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotsContainer.children.push(WR.new(e._root,{width:Ej,height:Ej}))}),Object.defineProperty(e,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(WR.new(e._root,{width:Ej,height:Ej,isMeasured:!1}))}),Object.defineProperty(e,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:WR.new(e._root,{width:Ej,height:Ej,isMeasured:!1})}),Object.defineProperty(e,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(WR.new(e._root,{height:Ej,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(WR.new(e._root,{}))}),Object.defineProperty(e,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:e.topPlotContainer.children.push(oz.new(e._root,{themeTags:["zoom"],icon:zL.new(e._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(e,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(e,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cW(e,t)}(t,e),function(e,t,n){return t&&rW(e.prototype,t),n&&rW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;this._defaultThemes.push(tW.new(this._root)),sW(t,"_afterNew",this,3)([]),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);var n=this._root,r=this._root.verticalLayout,i=this.zoomOutButton;i.events.on("click",(function(){e.zoomOut()})),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",r);var o=this.plotContainer;o.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),o.children.push(this.topGridContainer),o.children.push(this.bulletsContainer),o.set("interactive",!0),o.set("interactiveChildren",!1),o.set("background",KL.new(n,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(o.events.on("pointerdown",(function(t){e._handlePlotDown(t)}))),this._disposers.push(o.events.on("globalpointerup",(function(t){e._handlePlotUp(t)}))),this._disposers.push(o.events.on("globalpointermove",(function(t){e._handlePlotMove(t)}))),this._maskGrid(),this._setUpTouch()}},{key:"_beforeChanged",value:function(){sW(t,"_beforeChanged",this,3)([]),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}},{key:"_setUpTouch",value:function(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}},{key:"_maskGrid",value:function(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}},{key:"_removeSeries",value:function(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);var n=e.get("xAxis");n&&(rT(n.series,e),n.markDirtyExtremes());var r=e.get("yAxis");r&&(rT(r.series,e),r.markDirtyExtremes());var i=this.get("cursor");if(i){var o=i.get("snapToSeries");o&&rT(o,e)}sW(t,"_removeSeries",this,3)([e])}},{key:"handleWheel",value:function(e){var t=this,n=this.get("wheelX"),r=this.get("wheelY"),i=this.plotContainer,o=e.originalEvent,a=!1;if(kD(o,this)){a=!0;var s=i.toLocal(e.point),l=this.get("wheelStep",.2),u=o.deltaY/100,c=o.deltaX/100,f=this.get("wheelZoomPositionX"),h=this.get("wheelZoomPositionY");"zoomX"!==n&&"zoomXY"!==n||0==c||this.xAxes.each((function(e){if(e.get("zoomX")){var n=e.get("start"),r=e.get("end"),o=e.fixPosition(s.x/i.width());null!=f&&(o=f);var u=e.get("maxDeviation",0),h=Math.min(1+u,Math.max(-u,n-l*(r-n)*c*o)),d=Math.max(-u,Math.min(1+u,r+l*(r-n)*c*(1-o)));h==n&&d==r&&(a=!1),1/(d-h)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)?t._handleWheelAnimation(e.zoom(h,d)):a=!1}})),"zoomX"!==r&&"zoomXY"!==r||0==u||this.xAxes.each((function(e){if(e.get("zoomX")){var n=e.get("start"),r=e.get("end"),o=e.fixPosition(s.x/i.width());null!=f&&(o=f);var c=e.get("maxDeviation",0),h=Math.min(1+c,Math.max(-c,n-l*(r-n)*u*o)),d=Math.max(-c,Math.min(1+c,r+l*(r-n)*u*(1-o)));h==n&&d==r&&(a=!1),1/(d-h)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)?t._handleWheelAnimation(e.zoom(h,d)):a=!1}})),"zoomY"!==n&&"zoomXY"!==n||0==c||this.yAxes.each((function(e){if(e.get("zoomY")){var n=e.get("start"),r=e.get("end"),o=e.fixPosition(s.y/i.height());null!=h&&(o=h);var u=e.get("maxDeviation",0),f=Math.min(1+u,Math.max(-u,n-l*(r-n)*c*o)),d=Math.max(-u,Math.min(1+u,r+l*(r-n)*c*(1-o)));f==n&&d==r&&(a=!1),1/(d-f)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)?t._handleWheelAnimation(e.zoom(f,d)):a=!1}})),"zoomY"!==r&&"zoomXY"!==r||0==u||this.yAxes.each((function(e){if(e.get("zoomY")){var n=e.get("start"),r=e.get("end"),o=e.fixPosition(s.y/i.height());null!=h&&(o=h);var c=e.get("maxDeviation",0),f=Math.min(1+c,Math.max(-c,n-l*(r-n)*u*o)),d=Math.max(-c,Math.min(1+c,r+l*(r-n)*u*(1-o)));f==n&&d==r&&(a=!1),1/(d-f)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)?t._handleWheelAnimation(e.zoom(f,d)):a=!1}})),"panX"!==n&&"panXY"!==n||0==c||this.xAxes.each((function(e){if(e.get("panX")){var n=e.get("start"),r=e.get("end"),i=t._getWheelSign(e)*l*(r-n)*c,o=n+i,s=r+i,u=t._fixWheel(o,s);o=u[0],s=u[1],o==n&&s==r&&(a=!1),t._handleWheelAnimation(e.zoom(o,s))}})),"panX"!==r&&"panXY"!==r||0==u||this.xAxes.each((function(e){if(e.get("panX")){var n=e.get("start"),r=e.get("end"),i=t._getWheelSign(e)*l*(r-n)*u,o=n+i,s=r+i,c=t._fixWheel(o,s);o=c[0],s=c[1],o==n&&s==r&&(a=!1),t._handleWheelAnimation(e.zoom(o,s))}})),"panY"!==n&&"panXY"!==n||0==c||this.yAxes.each((function(e){if(e.get("panY")){var n=e.get("start"),r=e.get("end"),i=t._getWheelSign(e)*l*(r-n)*c,o=n+i,s=r+i,u=t._fixWheel(o,s);o=u[0],s=u[1],o==n&&s==r&&(a=!1),t._handleWheelAnimation(e.zoom(o,s))}})),"panY"!==r&&"panXY"!==r||0==u||this.yAxes.each((function(e){if(e.get("panY")){var n=e.get("start"),r=e.get("end"),i=t._getWheelSign(e)*l*(r-n)*u,o=n-i,s=r-i,c=t._fixWheel(o,s);o=c[0],s=c[1],o==n&&s==r&&(a=!1),t._handleWheelAnimation(e.zoom(o,s))}})),a&&o.preventDefault()}}},{key:"_handleSetWheel",value:function(){var e=this,t=this.get("wheelX"),n=this.get("wheelY"),r=this.plotContainer;"none"!==t||"none"!==n?(this._wheelDp=r.events.on("wheel",(function(r){var i=r.originalEvent;("none"!==t&&0!=Math.abs(i.deltaX)||"none"!==n&&0!=Math.abs(i.deltaY))&&e.handleWheel(r)})),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}},{key:"_getWheelSign",value:function(e){var t=1;return e.get("renderer").get("inversed")&&(t=-1),t}},{key:"_fixWheel",value:function(e,t){var n=t-e;return e<0&&(t=(e=0)+n),t>1&&(e=(t=1)-n),[e,t]}},{key:"_handlePlotDown",value:function(e){var t=e.originalEvent;if(2!=t.button){var n=this.plotContainer,r=n.toLocal(e.point);if(this.get("pinchZoomX")||this.get("pinchZoomY"))if(t.pointerId&&PT(n._downPoints).length>0){var i=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);i&&(this._downStartX=i.get("start",0),this._downEndX=i.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&r.x>=0&&r.y>=0&&r.x<=n.width()&&r.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};var a=this.get("panX"),s=this.get("panY");a&&this.xAxes.each((function(e){e._panStart=e.get("start"),e._panEnd=e.get("end")})),s&&this.yAxes.each((function(e){e._panStart=e.get("start"),e._panEnd=e.get("end")}));var l="panstarted";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}},{key:"_handleWheelAnimation",value:function(e){var t=this;e?e.events.on("stopped",(function(){t._dispatchWheelAnimation()})):this._dispatchWheelAnimation()}},{key:"_dispatchWheelAnimation",value:function(){var e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}},{key:"_handlePlotUp",value:function(e){var t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){if(e.originalEvent.clientX==t.x&&e.originalEvent.clientY==t.y){var n="pancancelled";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:e.originalEvent})}var r="panended";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each((function(e){e._isPanning=!1})),this.yAxes.each((function(e){e._isPanning=!1}))}},{key:"_handlePlotMove",value:function(e){var t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){var n=e.originalEvent.pointerId;if(n&&(this._movePoints[n]=e.point,PT(t._downPoints).length>1))return void this._handlePinch()}var r=this._downPoint;if(r){r=t.toLocal(this._root.documentPointToRoot(r));var i=t.toLocal(e.point),o=this.get("panX"),a=this.get("panY");if(o){var s=this.get("scrollbarX");s&&s.events.disableType("rangechanged"),this.xAxes.each((function(e){if(e.get("panX")){e._isPanning=!0;var n=e._panStart,o=e._panEnd,a=(o-n)*(r.x-i.x)/t.width();e.get("renderer").get("inversed")&&(a*=-1);var s=n+a,l=o+a;l-s<1+2*e.get("maxDeviation",1)&&(e.set("start",s),e.set("end",l))}})),s&&s.events.enableType("rangechanged")}if(a){var l=this.get("scrollbarY");l&&l.events.disableType("rangechanged"),this.yAxes.each((function(e){if(e.get("panY")){e._isPanning=!0;var n=e._panStart,o=e._panEnd,a=(o-n)*(r.y-i.y)/t.height();e.get("renderer").get("inversed")&&(a*=-1);var s=n-a,l=o-a;l-s<1+2*e.get("maxDeviation",1)&&(e.set("start",s),e.set("end",l))}})),l&&l.events.enableType("rangechanged")}}}},{key:"_handlePinch",value:function(){var e=this,t=this.plotContainer,n=0,r=[],i=[];if(jT(t._downPoints,(function(t,o){r[n]=o;var a=e._movePoints[t];a&&(i[n]=a),n++})),r.length>1&&i.length>1){var o=t.width(),a=t.height(),s=r[0],l=r[1],u=i[0],c=i[1];if(s&&l&&u&&c){if(u=t.toLocal(u),c=t.toLocal(c),s=t.toLocal(s),l=t.toLocal(l),this.get("pinchZoomX")){var f=this._downStartX,h=this._downEndX;if(null!=f&&null!=h){if(s.x>l.x){var d=[l,s];s=d[0],l=d[1];var p=[c,u];u=p[0],c=p[1]}var v=f+s.x/o*(h-f),y=f+l.x/o*(h-f),m=f+u.x/o*(h-f),b=f+c.x/o*(h-f),g=Math.max(.001,y-v)/Math.max(.001,b-m),w=f*g+v-m*g,_=h*g+y-b*g;this.xAxes.each((function(e){var t=e.fixPosition(w),n=e.fixPosition(_);e.zoom(t,n,0)}))}}if(this.get("pinchZoomY")){var k=this._downStartY,x=this._downEndY;if(null!=k&&null!=x){if(s.y<l.y){var O=[l,s];s=O[0],l=O[1];var P=[c,u];u=P[0],c=P[1]}var S=k+(1-s.y/a)*(x-k),E=k+(1-l.y/a)*(x-k),j=k+(1-u.y/a)*(x-k),T=k+(1-c.y/a)*(x-k),D=Math.max(.001,E-S)/Math.max(.001,T-j),A=k*D+S-j*D,C=x*D+E-T*D;this.yAxes.each((function(e){var t=e.fixPosition(A),n=e.fixPosition(C);e.zoom(t,n,0)}))}}}}}},{key:"_handleCursorPosition",value:function(){var e=this.get("cursor");if(e){var t=e.getPrivate("point"),n=e.get("snapToSeries");if(e._downPoint&&(n=void 0),n&&t){var r=e.get("snapToSeriesBy"),i=[];Wj(n,(function(e){if(!e.isHidden()&&!e.isHiding())if("x!"!=r&&"y!"!=r)for(var t=e.startIndex(),n=e.endIndex(),o=t;o<n;o++){var a=e.dataItems[o];a&&!a.isHidden()&&i.push(a)}else{var s=e.get("tooltipDataItem");s&&i.push(s)}}));var o,a=1/0;if(Wj(i,(function(e){var n=e.get("point");if(n){var i=0;(i="x"==r||"x!"==r?Math.abs(t.x-n.x):"y"==r||"y!"==r?Math.abs(t.y-n.y):Math.hypot(t.x-n.x,t.y-n.y))<a&&(a=i,o=e)}})),Wj(n,(function(e){var t=e.get("tooltip");t&&t._setDataItem(void 0)})),o){var s=o.component;s.showDataItemTooltip(o),s.setRaw("tooltipDataItem",o);var l=o.get("point");l&&e.handleMove(s.toGlobal({x:l.x-s.x(),y:l.y-s.y()}),!0)}}}}},{key:"_updateCursor",value:function(){var e=this.get("cursor");e&&e.updateCursor()}},{key:"_addCursor",value:function(e){this.plotContainer.children.push(e)}},{key:"_prepareChildren",value:function(){var e=this;if(sW(t,"_prepareChildren",this,3)([]),this.series.each((function(t){e._colorize(t)})),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){var n=this._prevSettings.cursor,r=this.get("cursor");r!==n&&(this._disposeProperty("cursor"),n&&n.dispose(),r&&(r._setChart(this),this._addCursor(r),this._pushPropertyDisposer("cursor",r.events.on("selectended",(function(){e._handleCursorSelectEnd()})))),this._prevSettings.cursor=r)}if(this.isDirty("scrollbarX")){var i=this._prevSettings.scrollbarX,o=this.get("scrollbarX");o!==i&&(this._disposeProperty("scrollbarX"),i&&i.dispose(),o&&(o.parent||this.topAxesContainer.children.push(o),this._pushPropertyDisposer("scrollbarX",o.events.on("rangechanged",(function(t){e._handleScrollbar(e.xAxes,t.start,t.end,t.grip)}))),this._pushPropertyDisposer("scrollbarX",o.events.on("released",(function(){e.xAxes.each((function(t){t.get("zoomable")&&e._handleAxisSelection(t)}))}))),o.setPrivate("positionTextFunction",(function(t){var n=e.xAxes.getIndex(0);return n&&n.getTooltipText(t,!1)||""}))),this._prevSettings.scrollbarX=o)}if(this.isDirty("scrollbarY")){var a=this._prevSettings.scrollbarY,s=this.get("scrollbarY");s!==a&&(this._disposeProperty("scrollbarY"),a&&a.dispose(),s&&(s.parent||this.rightAxesContainer.children.push(s),this._pushPropertyDisposer("scrollbarY",s.events.on("rangechanged",(function(t){e._handleScrollbar(e.yAxes,t.start,t.end,t.grip)}))),this._pushPropertyDisposer("scrollbarY",s.events.on("released",(function(){e.yAxes.each((function(t){t.get("zoomable")&&e._handleAxisSelection(t)}))}))),s.setPrivate("positionTextFunction",(function(t){var n=e.yAxes.getIndex(0);return n&&n.getTooltipText(t,!1)||""}))),this._prevSettings.scrollbarY=s)}this._handleZoomOut()}},{key:"_processSeries",value:function(e){sW(t,"_processSeries",this,3)([e]);var n=e.get("xAxis"),r=e.get("yAxis");oT(n.series,e),oT(r.series,e),e._posXDp=e.addDisposer(n.events.on("positionchanged",(function(){e._fixPosition()}))),e._posXDp=e.addDisposer(r.events.on("positionchanged",(function(){e._fixPosition()}))),e.get("baseAxis")||(r.isType("CategoryAxis")||r.isType("DateAxis")?e.set("baseAxis",r):e.set("baseAxis",n)),e.get("stacked")&&(e._markDirtyKey("stacked"),Wj(e.dataItems,(function(e){e.set("stackToItemY",void 0),e.set("stackToItemX",void 0)}))),e._markDirtyAxes(),r.markDirtyExtremes(),n.markDirtyExtremes(),n._seriesAdded=!0,r._seriesAdded=!0,this._colorize(e)}},{key:"_colorize",value:function(e){var t=this.get("colors");if(t&&null==e.get("fill")){var n=t.next();e._setSoft("stroke",n),e._setSoft("fill",n)}var r=this.get("patterns");if(r&&null==e.get("fillPattern")){var i=r.next();e._setSoft("fillPattern",i)}}},{key:"_handleCursorSelectEnd",value:function(){var e=this.get("cursor"),t=e.get("behavior"),n=e.getPrivate("downPositionX",0),r=e.getPrivate("downPositionY",0),i=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),o=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each((function(e){if("zoomX"===t||"zoomXY"===t){var r=e.toAxisPosition(n),o=e.toAxisPosition(i);e.zoom(r,o)}e.setPrivate("updateScrollbar",!0)})),this.yAxes.each((function(e){if("zoomY"===t||"zoomXY"===t){var n=e.toAxisPosition(r),i=e.toAxisPosition(o);e.zoom(n,i)}e.setPrivate("updateScrollbar",!0)}))}},{key:"_handleScrollbar",value:function(e,t,n,r){e.each((function(e){var i=e.fixPosition(t),o=e.fixPosition(n),a=e.zoom(i,o,void 0,r),s="updateScrollbar";e.setPrivateRaw(s,!1),a?a.events.on("stopped",(function(){e.setPrivateRaw(s,!0)})):e.setPrivateRaw(s,!0)}))}},{key:"_processAxis",value:function(e,t){var n=this;return e.events.onAll((function(e){if("clear"===e.type)Wj(e.oldValues,(function(e){n._removeAxis(e)}));else if("push"===e.type)t.children.push(e.newValue),e.newValue.processChart(n);else if("setIndex"===e.type)t.children.setIndex(e.index,e.newValue),e.newValue.processChart(n);else if("insertIndex"===e.type)t.children.insertIndex(e.index,e.newValue),e.newValue.processChart(n);else if("removeIndex"===e.type)n._removeAxis(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");t.children.moveValue(e.value,e.newIndex),e.value.processChart(n)}}))}},{key:"_removeAxis",value:function(e){if(!e.isDisposed()){var t=e.parent;t&&t.children.removeValue(e);var n=e.gridContainer,r=n.parent;r&&r.children.removeValue(n);var i=e.topGridContainer,o=i.parent;o&&o.children.removeValue(i)}}},{key:"_updateChartLayout",value:function(){var e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),n=this.bottomAxesContainer;n.set("paddingLeft",e),n.set("paddingRight",t);var r=this.topAxesContainer;r.set("paddingLeft",e),r.set("paddingRight",t)}},{key:"processAxis",value:function(e){var t=this;this.get("cursor")&&(this.addDisposer(e.on("start",(function(){t._updateCursor()}))),this.addDisposer(e.on("end",(function(){t._updateCursor()}))))}},{key:"_handleAxisSelection",value:function(e,t){var n=e.fixPosition(e.get("start",0)),r=e.fixPosition(e.get("end",1));if(n>r){var i=[r,n];n=i[0],r=i[1]}if(-1!=this.xAxes.indexOf(e)){if(t||e.getPrivate("updateScrollbar")){var o=this.get("scrollbarX");!o||o.getPrivate("isBusy")&&!t||(o.setRaw("start",n),o.setRaw("end",r),o.updateGrips())}}else if(-1!=this.yAxes.indexOf(e)&&(t||e.getPrivate("updateScrollbar"))){var a=this.get("scrollbarY");!a||a.getPrivate("isBusy")&&!t||(a.setRaw("start",n),a.setRaw("end",r),a.updateGrips())}this._handleZoomOut()}},{key:"_handleZoomOut",value:function(){var e=this.zoomOutButton;if(e&&e.parent){var t=!1;this.xAxes.each((function(e){0==cC(e.get("start",0),6)&&1==cC(e.get("end",1),6)||(t=!0)})),this.yAxes.each((function(e){0==cC(e.get("start",0),6)&&1==cC(e.get("end",1),6)||(t=!0)})),t?e.isHidden()&&e.show():e.hide()}}},{key:"inPlot",value:function(e){var t=this.plotContainer,n=this.getPrivate("otherCharts",this._otherCharts),r=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(n)for(var i=n.length-1;i>=0;i--){var o=n[i];if(o!=this){var a=o.plotContainer,s=this._root.rootPointToDocument(r),l=o._root.documentPointToRoot(s),u=a.toLocal(l);if(u.x>=-.1&&u.y>=-.1&&u.x<=a.width()+.1&&u.y<=a.height()+.1)return!0}}return!1}},{key:"arrangeTooltips",value:function(){var e=this,t=this.plotContainer,n=t.width(),r=t.height(),i=this.height(),o=this._root.tooltipContainer.get("layerMargin");o&&o.bottom>i&&(i=o.bottom);var a,s,l=t._display.toGlobal({x:0,y:0}),u=t._display.toGlobal({x:n,y:r}),c=[],f=0,h=1/0,d=this._movePoint,p=this.get("maxTooltipDistance"),v=this.get("maxTooltipDistanceBy","xy");zj(p)&&this.series.each((function(e){if(!e.isHidden()){var t=e.get("tooltip");if(t){var n=t.get("pointTo");if(n){var r=Math.hypot(d.x-n.x,d.y-n.y);"x"==v?r=Math.abs(d.x-n.x):"y"==v&&(r=Math.abs(d.y-n.y)),r<h&&(h=r,a=e,s=n)}}}}));var y=[];if(this.series.each((function(t){var n=t.get("tooltip");if(n&&!n.get("forceHidden")){var r=!1,i=n.get("pointTo");if(i){if(p>=0){var o=n.get("pointTo");if(o&&s&&t!=a){var l=Math.hypot(s.x-o.x,s.y-o.y);"x"==v?l=Math.abs(s.x-o.x):"y"==v&&(l=Math.abs(s.y-o.y)),l>p&&(r=!0)}}else-1==p&&t!=a&&(r=!0);e.inPlot(e._tooltipToLocal(i))&&n.dataItem?r||(f+=i.y):r=!0,r||t.isHidden()||t.isHiding()?n.hide(0):(n.show(),c.push(n),y.push(t))}}})),this.setPrivate("tooltipSeries",y),this.get("arrangeTooltips")){var m=this._root.tooltipContainer,b=c.length;if(f/b>r/2+l.y){c.sort((function(e,t){return _M(t.get("pointTo").y,e.get("pointTo").y)}));var g=u.y;if(Wj(c,(function(e){var t=e.height(),n=e.get("centerY");n instanceof Oj&&(t*=n.value),t+=e.get("marginBottom",0),e.set("bounds",{left:l.x,top:l.y,right:u.x,bottom:g}),e.setPrivate("customData",{left:l.x,top:l.y,right:u.x,bottom:g}),g=Math.min(g-t,e._fy-t),e.parent==m&&m.children.moveValue(e,0)})),g<0){c.reverse();var w=g;Wj(c,(function(e){var t=e.get("bounds");if(t){var n=t.top-g,r=t.bottom-g;n<w&&(r=(n=w)+e.height()),e.set("bounds",{left:t.left,top:n,right:t.right,bottom:r}),w=t.bottom-g+e.get("marginBottom",0)}}))}}else{c.reverse(),c.sort((function(e,t){return _M(e.get("pointTo").y,t.get("pointTo").y)}));var _=0;if(Wj(c,(function(e){var t=e.height(),n=e.get("centerY");n instanceof Oj&&(t*=n.value),t+=e.get("marginBottom",0),e.set("bounds",{left:l.x,top:_,right:u.x,bottom:Math.max(l.y+i,_+t)}),e.parent==m&&m.children.moveValue(e,0),_=Math.max(_+t,e._fy+t)})),_>i){c.reverse();var k=i;Wj(c,(function(e){var t=e.get("bounds");if(t){var n=t.top-(i-_),r=t.bottom-(i-_);r>k&&(n=(r=k)-e.height()),e.set("bounds",{left:t.left,top:n,right:t.right,bottom:r}),k=r-e.height()-e.get("marginBottom",0)}}))}}}}},{key:"_tooltipToLocal",value:function(e){return this.plotContainer.toLocal(e)}},{key:"zoomOut",value:function(){this.xAxes.each((function(e){e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})),this.yAxes.each((function(e){e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}))}},{key:"_dispose",value:function(){sW(t,"_dispose",this,3)([]);var e=this.get("cursor");e&&e.dispose()}}])}(CU);function hW(e){return hW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hW(e)}function dW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pW(r.key),r)}}function pW(e){var t=function(e,t){if("object"!=hW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hW(t)?t:t+""}function vW(e,t,n){return t=gW(t),function(e,t){if(t&&("object"==hW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yW()?Reflect.construct(t,n||[],gW(e).constructor):t.apply(e,n))}function yW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yW=function(){return!!e})()}function mW(e,t,n,r){var i=bW(gW(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function bW(){return bW="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=gW(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},bW.apply(null,arguments)}function gW(e){return gW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gW(e)}function wW(e,t){return wW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wW(e,t)}Object.defineProperty(fW,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(fW,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:CU.classNames.concat([fW.className])});var _W=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=vW(this,t,arguments),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(fW.new(e._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(e,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(zL.new(e._root,{themeTags:["overlay"],interactive:!1}))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wW(e,t)}(t,e),function(e,t,n){return t&&dW(e.prototype,t),n&&dW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._addOrientationClass(),this._settings.themeTags=dA(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);var e=this.children;e.moveValue(this.thumb),e.moveValue(this.startGrip),e.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});var n=this.chart.plotContainer;n.set("interactive",!1),n.remove("background"),n.children.removeValue(this.chart.zoomOutButton),mW(t,"_afterNew",this,3)([])}},{key:"_updateThumb",value:function(){var e=this;mW(t,"_updateThumb",this,3)([]),this.overlay.set("draw",(function(t){var n=e.startGrip,r=e.endGrip,i=n.x(),o=n.y(),a=r.x(),s=r.y(),l=e.height(),u=e.width();if(i>a){var c=[a,i];i=c[0],a=c[1]}if(o>s){var f=[s,o];o=f[0],s=f[1]}"horizontal"===e.get("orientation")?(t.moveTo(0,0),t.lineTo(i,0),t.lineTo(i,l),t.lineTo(0,l),t.lineTo(0,0),t.moveTo(a,0),t.lineTo(u,0),t.lineTo(u,l),t.lineTo(a,l),t.lineTo(a,0)):(t.moveTo(0,0),t.lineTo(0,o),t.lineTo(u,o),t.lineTo(u,0),t.lineTo(0,0),t.moveTo(0,s),t.lineTo(0,l),t.lineTo(u,l),t.lineTo(u,s),t.lineTo(0,s))}))}}])}(iY);function kW(e){return kW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kW(e)}function xW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OW(r.key),r)}}function OW(e){var t=function(e,t){if("object"!=kW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kW(t)?t:t+""}function PW(e,t,n){return t=jW(t),function(e,t){if(t&&("object"==kW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SW()?Reflect.construct(t,n||[],jW(e).constructor):t.apply(e,n))}function SW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SW=function(){return!!e})()}function EW(){return EW="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=jW(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},EW.apply(null,arguments)}function jW(e){return jW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jW(e)}function TW(e,t){return TW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TW(e,t)}Object.defineProperty(_W,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(_W,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:iY.classNames.concat([_W.className])});var DW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PW(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TW(e,t)}(t,e),function(e,t,n){return t&&xW(e.prototype,t),n&&xW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){!function(e,t,n,r){var i=EW(jW(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_beforeChanged",this,3)([]),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}])}(zL);function AW(e){return AW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AW(e)}function CW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MW(r.key),r)}}function MW(e){var t=function(e,t){if("object"!=AW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AW(t)?t:t+""}function LW(e,t,n){return t=BW(t),function(e,t){if(t&&("object"==AW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RW()?Reflect.construct(t,n||[],BW(e).constructor):t.apply(e,n))}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(RW=function(){return!!e})()}function IW(e,t,n,r){var i=NW(BW(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function NW(){return NW="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=BW(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},NW.apply(null,arguments)}function BW(e){return BW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BW(e)}function FW(e,t){return FW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FW(e,t)}Object.defineProperty(DW,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(DW,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([DW.className])});var zW=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=LW(this,t,arguments),Object.defineProperty(e,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(DW.new(e._root,{themeTags:["x"]}))}),Object.defineProperty(e,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(DW.new(e._root,{themeTags:["y"]}))}),Object.defineProperty(e,"selection",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(zL.new(e._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(e,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(e,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(e,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FW(e,t)}(t,e),function(e,t,n){return t&&CW(e.prototype,t),n&&CW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;this._settings.themeTags=dA(this._settings.themeTags,["xy","cursor"]),IW(t,"_afterNew",this,3)([]),this.setAll({width:Ej,height:Ej,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout((function(){e.setPrivate("visible",!0)}),500)),this._disposers.push(this.lineX.events.on("positionchanged",(function(){e._handleXLine()}))),this._disposers.push(this.lineY.events.on("positionchanged",(function(){e._handleYLine()}))),this._disposers.push(this.lineX.events.on("focus",(function(){return e._handleLineFocus()}))),this._disposers.push(this.lineX.events.on("blur",(function(){return e._handleLineBlur()}))),this._disposers.push(this.lineY.events.on("focus",(function(){return e._handleLineFocus()}))),this._disposers.push(this.lineY.events.on("blur",(function(){return e._handleLineBlur()}))),hD("keyboardevents")&&this._disposers.push(cD(document,"keydown",(function(t){e._handleLineMove(OD(t),t.ctrlKey)})))}},{key:"_setUpTouch",value:function(){var e=this.chart;e&&(e.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}},{key:"_handleXLine",value:function(){var e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}},{key:"_handleYLine",value:function(){var e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}},{key:"_handleLineMove",value:function(e,t){var n,r="",i=this.chart;if(i&&i.xAxes.length){this._root.focused(this.lineX)?(r="positionX",n=i.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(n=i.yAxes.getIndex(0),r="positionY");var o=1;if(t&&(o=5),n){var a,s=n.get("renderer").get("inversed",!1);"ArrowRight"==e||"ArrowDown"==e?a=1:"ArrowLeft"==e||"ArrowUp"==e?a=-1:"Tab"==e&&(a=0),null!=a&&(s&&(a*=-1),this.set(r,n.nextPosition(a*o)))}}}},{key:"_handleLineFocus",value:function(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}},{key:"_handleLineBlur",value:function(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}},{key:"_prepareChildren",value:function(){var e=this;if(IW(t,"_prepareChildren",this,3)([]),this.isDirty("xAxis")){this._tooltipX=!1;var n=this.get("xAxis");if(n){var r=n.get("tooltip");r&&(this._tooltipX=!0,this._disposers.push(r.on("pointTo",(function(){e._updateXLine(r)}))))}}if(this.isDirty("yAxis")){this._tooltipY=!1;var i=this.get("yAxis");if(i){var o=i.get("tooltip");o&&(this._tooltipY=!0,this._disposers.push(o.on("pointTo",(function(){e._updateYLine(o)}))))}}}},{key:"_handleSyncWith",value:function(){var e=this.chart;if(e){var t=this.get("syncWith"),n=[];t&&Wj(t,(function(e){var t=e.chart;t&&n.push(t)})),e._otherCharts=n}}},{key:"_updateChildren",value:function(){if(IW(t,"_updateChildren",this,3)([]),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){var e=this.get("positionX"),n=this.get("positionY");null==e&&null==n?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}},{key:"_updateXLine",value:function(e){var t=cC(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,3);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}},{key:"_updateYLine",value:function(e){var t=cC(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,3);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}},{key:"_drawLines",value:function(){var e=this;this.lineX.set("draw",(function(t){t.moveTo(0,0),t.lineTo(0,e.height())})),this.lineY.set("draw",(function(t){t.moveTo(0,0),t.lineTo(e.width(),0)}))}},{key:"updateCursor",value:function(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}},{key:"_setChart",value:function(e){var t=this;this.chart=e,this._handleSyncWith();var n=e.plotContainer;this.events.on("boundschanged",(function(){t._disposers.push(t.setTimeout((function(){t.updateCursor()}),50))})),hD("touchevents")&&(this._disposers.push(n.events.on("click",(function(e){mD(e.originalEvent)&&t._handleMove(e)}))),this._setUpTouch()),this._disposers.push(n.events.on("pointerdown",(function(e){t._handleCursorDown(e)}))),this._disposers.push(n.events.on("globalpointerup",(function(e){t._handleCursorUp(e),e.native||t.isHidden()||t._handleMove(e)}))),this._disposers.push(n.events.on("globalpointermove",(function(e){(t.get("syncWith")||0!=PT(n._downPoints).length||e.native||!t.isHidden())&&(t._handleMove(e),Math.hypot(t._lastPoint2.x-e.point.x,t._lastPoint2.y-e.point.y)>1&&(t._handleLineBlur(),t._lastPoint2=e.point))})));var r=this.parent;r&&r.children.moveValue(this.selection)}},{key:"_inPlot",value:function(e){var t=this.chart;return!!t&&t.inPlot(e)}},{key:"_handleCursorDown",value:function(e){if(2!=e.originalEvent.button){var t=e.point,n=this._display.toLocal(t),r=this.chart;if(this.selection.set("draw",(function(){})),r&&this._inPlot(n)){if(this._downPoint=n,"none"!=this.get("behavior")){this.selection.show();var i="selectstarted";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent})}var o=this._getPosition(n).x,a=this._getPosition(n).y;this.setPrivate("downPositionX",o),this.setPrivate("downPositionY",a)}}}},{key:"_handleCursorUp",value:function(e){if(this._downPoint){var t=this.get("behavior","none");if("none"!=t){"z"===t.charAt(0)&&this.selection.hide();var n=e.point,r=this._display.toLocal(n),i=this._downPoint,o=this.get("moveThreshold",1);if(r&&i){var a=!1;if("zoomX"!==t&&"zoomXY"!==t&&"selectX"!==t&&"selectXY"!==t||Math.abs(r.x-i.x)>o&&(a=!0),"zoomY"!==t&&"zoomXY"!==t&&"selectY"!==t&&"selectXY"!==t||Math.abs(r.y-i.y)>o&&(a=!0),a){var s="selectended";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent})}else{var l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}},{key:"_handleMove",value:function(e){if(this.getPrivate("visible")){var t=this.chart;if(t&&PT(t.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);var n=e.point,r=this._lastPoint;if(Math.round(r.x)===Math.round(n.x)&&Math.round(r.y)===Math.round(n.y))return;this._lastPoint=n,this.setPrivate("lastPoint",n),this.handleMove({x:n.x,y:n.y},!1,e.originalEvent)}}},{key:"_getPosition",value:function(e){return{x:e.x/this.width(),y:e.y/this.height()}}},{key:"handleMove",value:function(e,t,n){e||(e=this._movePoint);var r=this.get("alwaysShow");if(e){this._movePoint=e;var i=this._display.toLocal(e),o=this.chart;if(o&&(this._inPlot(i)||this._downPoint)){if(o._movePoint=e,this.isHidden())this.show(),"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",(function(){}));var a=i.x,s=i.y,l=this._getPosition(i);this.setPrivate("point",i);var u=this.get("snapToSeries");this._downPoint&&(u=void 0);var c=this.get("positionX"),f=l.x;zj(c)&&(f=c);var h=this.get("positionY"),d=l.y;zj(h)&&(d=h),this.setPrivate("positionX",f),this.setPrivate("positionY",d);var p=this._getPoint(f,d);if(a=p.x,s=p.y,o.xAxes.each((function(e){e._handleCursorPosition(f,u),r&&e.handleCursorShow()})),o.yAxes.each((function(e){e._handleCursorPosition(d,u),r&&e.handleCursorShow()})),!t){o._handleCursorPosition();var v="cursormoved";this.events.isEnabled(v)&&this.events.dispatch(v,{type:v,target:this,point:e,originalEvent:n})}this._updateLines(a,s),o.arrangeTooltips()}else if(!this._downPoint&&!r){this.hide(0);var y="cursorhidden";this.events.isEnabled(y)&&this.events.dispatch(y,{type:y,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(i)}else this.hide(0)}},{key:"_getPoint",value:function(e,t){return{x:this.width()*e,y:this.height()*t}}},{key:"_updateLines",value:function(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}},{key:"_updateSelection",value:function(e){var t=this,n=this.selection,r=this.get("behavior"),i=this.width(),o=this.height();e.x<0&&(e.x=0),e.x>i&&(e.x=i),e.y<0&&(e.y=0),e.y>o&&(e.y=o),n.set("draw",(function(n){var a=t._downPoint;a&&("zoomXY"===r||"selectXY"===r?(n.moveTo(a.x,a.y),n.lineTo(a.x,e.y),n.lineTo(e.x,e.y),n.lineTo(e.x,a.y),n.lineTo(a.x,a.y)):"zoomX"===r||"selectX"===r?(n.moveTo(a.x,0),n.lineTo(a.x,o),n.lineTo(e.x,o),n.lineTo(e.x,0),n.lineTo(a.x,0)):"zoomY"!==r&&"selectY"!==r||(n.moveTo(0,a.y),n.lineTo(i,a.y),n.lineTo(i,e.y),n.lineTo(0,e.y),n.lineTo(0,a.y)))}))}},{key:"_onHide",value:function(){if(this.isHidden()){var e=this.chart;e&&(e.xAxes.each((function(e){e.handleCursorHide()})),e.yAxes.each((function(e){e.handleCursorHide()})),e.series.each((function(e){e.handleCursorHide()})))}IW(t,"_onHide",this,3)([])}},{key:"_onShow",value:function(){if(!this.isHidden()){var e=this.chart;e&&(e.xAxes.each((function(e){e.handleCursorShow()})),e.yAxes.each((function(e){e.handleCursorShow()})))}IW(t,"_onShow",this,3)([])}},{key:"_dispose",value:function(){IW(t,"_dispose",this,3)([]),this.selection.dispose()}}])}(WR);function VW(e){return VW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VW(e)}function qW(){qW=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==VW(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(VW(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function HW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YW(r.key),r)}}function YW(e){var t=function(e,t){if("object"!=VW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VW(t)?t:t+""}function UW(e,t,n){return t=$W(t),function(e,t){if(t&&("object"==VW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,GW()?Reflect.construct(t,n||[],$W(e).constructor):t.apply(e,n))}function GW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(GW=function(){return!!e})()}function XW(e,t,n,r){var i=WW($W(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function WW(){return WW="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$W(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},WW.apply(null,arguments)}function $W(e){return $W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$W(e)}function KW(e,t){return KW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KW(e,t)}Object.defineProperty(zW,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(zW,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:WR.classNames.concat([zW.className])});var ZW=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=UW(this,t,arguments),Object.defineProperty(e,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{}))}),Object.defineProperty(e,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new $A}),Object.defineProperty(e,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(e,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(e,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new bV(e,void 0,{})}),Object.defineProperty(e,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KW(e,t)}(t,e),function(e,t,n){return t&&HW(e.prototype,t),n&&HW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),XW(t,"_afterNew",this,3)([]),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll((function(t){if("clear"===t.type)Wj(t.oldValues,(function(t){e._removeAxisRange(t)}));else if("push"===t.type)e._processAxisRange(t.newValue);else if("setIndex"===t.type)e._processAxisRange(t.newValue);else if("insertIndex"===t.type)e._processAxisRange(t.newValue);else if("removeIndex"===t.type)e._removeAxisRange(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");e._processAxisRange(t.value)}}))),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",(function(){e.root.events.once("frameended",(function(){e.updateLegendValue()}))})),this.onPrivate("endIndex",(function(){e.root.events.once("frameended",(function(){e.updateLegendValue()}))})),this._makeFieldNames()}},{key:"_processAxisRange",value:function(e){var t=WR.new(this._root,{});e.container=t,this.children.push(t),e.series=this;var n=e.axisDataItem;n.setRaw("isRange",!0);var r=n.component;if(r){r._processAxisRange(n,["range","series"]);var i=n.get("bullet");if(i){var o=i.get("sprite");o&&o.setPrivate("visible",!1)}var a=n.get("axisFill");a&&t.set("mask",a),r._seriesAxisRanges.push(n)}}},{key:"_removeAxisRange",value:function(e){var t=e.axisDataItem,n=t.component;n.disposeDataItem(t),rT(n._seriesAxisRanges,t);var r=e.container;r&&r.dispose()}},{key:"_updateFields",value:function(){var e=this;XW(t,"_updateFields",this,3)([]),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&Wj(this.valueXFields,(function(t){if(e.get(t+"Field")){e._valueXFields.push(t);var n=e.get(t+"Show");e.__valueXShowFields.push(n),-1!=n.indexOf("Working")?e._valueXShowFields.push(n.split("Working")[0]):e._valueXShowFields.push(n)}})),this.valueYFields&&Wj(this.valueYFields,(function(t){if(e.get(t+"Field")){e._valueYFields.push(t);var n=e.get(t+"Show");e.__valueYShowFields.push(n),-1!=n.indexOf("Working")?e._valueYShowFields.push(n.split("Working")[0]):e._valueYShowFields.push(n)}}))}},{key:"_dispose",value:function(){XW(t,"_dispose",this,3)([]),this._bullets={};var e=this.chart;e&&e.series.removeValue(this),iT(this.get("xAxis").series,this),iT(this.get("yAxis").series,this)}},{key:"_min",value:function(e,t){var n=function(e,t){return null==e?t:null==t?e:t<e?t:e}(this.getPrivate(e),t);this.setPrivate(e,n)}},{key:"_max",value:function(e,t){var n=function(e,t){return null==e?t:null==t?e:t>e?t:e}(this.getPrivate(e),t);this.setPrivate(e,n)}},{key:"_shouldMakeBullet",value:function(e){var t=this.get("xAxis"),n=this.get("yAxis"),r=this.get("baseAxis");if(!t.inited||!n.inited)return!1;var i=this.get("minBulletDistance",0);if(i>0){var o=this.startIndex(),a=this.endIndex()-o;if(t==r){if(t.get("renderer").axisLength()/a<i/5)return!1}else if(n==r&&n.get("renderer").axisLength()/a<i/5)return!1}return null!=e.get(this._xField)&&null!=e.get(this._yField)}},{key:"_makeFieldNames",value:function(){var e=this.get("xAxis"),t=this.get("yAxis"),n=e.getPrivate("name"),r=tA(n),i=t.getPrivate("name"),o=tA(i),a=e.get("renderer").getPrivate("letter"),s=t.get("renderer").getPrivate("letter"),l="open",u="low",c="high",f="Show";"ValueAxis"===e.className?(this._xField=this.get(n+a+f),this._xOpenField=this.get(l+r+a+f),this._xLowField=this.get(u+r+a+f),this._xHighField=this.get(c+r+a+f)):(this._xField=n+a,this._xOpenField=l+r+a,this._xLowField=u+r+a,this._xHighField=c+r+a),"ValueAxis"===t.className?(this._yField=this.get(i+s+f),this._yOpenField=this.get(l+o+s+f),this._yLowField=this.get(u+o+s+f),this._yHighField=this.get(c+o+s+f)):(this._yField=i+s,this._yOpenField=l+o+s,this._yLowField=u+o+s,this._yHighField=c+o+s)}},{key:"_fixVC",value:function(){var e=this.get("xAxis"),t=this.get("yAxis"),n=this.get("baseAxis"),r=this.states.lookup("hidden"),i=this.get("sequencedInterpolation");if(r){var o=0;i&&(o=.999999999999),e===n?r.set("vcy",o):(t===n||r.set("vcy",o),r.set("vcx",o))}}},{key:"_handleMaskBullets",value:function(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}},{key:"_fixPosition",value:function(){var e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-MD(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-MD(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}},{key:"_prepareChildren",value:function(){var e=this;XW(t,"_prepareChildren",this,3)([]),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();var n,r,i=this.get("xAxis"),o=this.get("yAxis"),a=this.get("baseAxis");switch(this.get("tooltipPositionX")){case"open":n=this._xOpenField;break;case"low":n=this._xLowField;break;case"high":n=this._xHighField;break;default:n=this._xField}switch(this._tooltipFieldX=n,this.get("tooltipPositionY")){case"open":r=this._yOpenField;break;case"low":r=this._yLowField;break;case"high":r=this._yHighField;break;default:r=this._yField}this._tooltipFieldY=r,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();var s=this.get("stacked");if(this.isDirty("stacked")&&(s?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,s&&this._stack(),Wj(this.dataItems,(function(t){Wj(e._valueXShowFields,(function(n){var r=t.get(n);null!=r&&(s&&(r+=e.getStackedXValue(t,n)),e._min("minX",r),e._max("maxX",r))})),Wj(e._valueYShowFields,(function(n){var r=t.get(n);null!=r&&(s&&(r+=e.getStackedYValue(t,n)),e._min("minY",r),e._max("maxY",r))})),i.processSeriesDataItem(t,e._valueXFields),o.processSeriesDataItem(t,e._valueYFields)})),i._seriesValuesDirty=!0,o._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&i.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&o.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(i._groupSeriesData(this),o._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){var l=this.startIndex(),u=this.endIndex(),c=this.get("minBulletDistance",0);if(c>0&&a&&(a.get("renderer").axisLength()/(u-l)>c?this._showBullets=!0:this._showBullets=!1),(this._psi!=l||this._pei!=u||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;var f=this.get("vcx",1),h=this.get("vcy",1),d=this.get("stacked",!1),p=this.getPrivate("outOfSelection");if(a===i||!a)if(o._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),p)o.markDirtySelectionExtremes();else for(var v=l;v<u;v++)this.processYSelectionDataItem(this.dataItems[v],h,d);if(a===o||!a)if(i._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),p)o.markDirtySelectionExtremes();else for(var y=l;y<u;y++)this.processXSelectionDataItem(this.dataItems[y],f,d);if((a===i||!a)&&"valueYWorking"!==this.get("valueYShow")){var m=this.getPrivate("selectionMinY");null!=m&&(this.setPrivateRaw("minY",m),o.markDirtyExtremes());var b=this.getPrivate("selectionMaxY");null!=b&&(this.setPrivateRaw("maxY",b),o.markDirtyExtremes())}if((a===o||!a)&&("valueXWorking"!==this.get("valueXShow")||this.get("useSelectionExtremes"))){var g=this.getPrivate("selectionMinX");null!=g&&(this.setPrivateRaw("minX",g),o.markDirtyExtremes());var w=this.getPrivate("selectionMaxX");null!=w&&(this.setPrivateRaw("maxX",w),i.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&i.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&o.markDirtySelectionExtremes()}}}},{key:"_makeRangeMask",value:function(){var e=this;if(this.axisRanges.length>0){var t=this._mainContainerMask;null==t&&(t=this.children.push(zL.new(this._root,{})),this._mainContainerMask=t,t.set("draw",(function(n,r){var i=e.parent;if(i){var o=e._root.container.width(),a=e._root.container.height();n.moveTo(-o,-a),n.lineTo(-o,2*a),n.lineTo(2*o,2*a),n.lineTo(2*o,-a),n.lineTo(-o,-a),e.axisRanges.each((function(e){var t=e.axisDataItem.get("axisFill");if(i&&t){var o=t.get("draw");o&&o(n,r)}}))}e.mainContainer._display.mask=t._display}))),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}},{key:"_updateChildren",value:function(){XW(t,"_updateChildren",this,3)([]),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}},{key:"_stack",value:function(){var e=this.chart;if(e){var t=e.series.indexOf(this);if(this._couldStackTo=[],t>0)for(var n,r=t-1;r>=0&&((n=e.series.getIndex(r)).get("xAxis")!==this.get("xAxis")||n.get("yAxis")!==this.get("yAxis")||n.className!==this.className||(this._couldStackTo.push(n),n.get("stacked")));r--);this._stackDataItems()}}},{key:"_unstack",value:function(){var e=this;jT(this._reallyStackedTo,(function(t,n){delete n._stackedSeries[e.uid]})),this._reallyStackedTo={},Wj(this.dataItems,(function(e){e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)}))}},{key:"_stackDataItems",value:function(){var e,t,n=this,r=this.get("baseAxis"),i=this.get("xAxis"),o=this.get("yAxis");r===i?(e="valueY",t="stackToItemY"):r===o&&(e="valueX",t="stackToItemX");var a=this._couldStackTo.length,s=0,l=this.get("stackToNegative");this._reallyStackedTo={},Wj(this.dataItems,(function(r){for(var i=0;i<a;i++){var o=n._couldStackTo[i],u=o.dataItems[s],c=r.get(e);if(u){var f=u.get(e);if(l){if(!zj(c))break;if(zj(f)){if(c>=0&&f>=0){r.setRaw(t,u),n._reallyStackedTo[o.uid]=o,o._stackedSeries[n.uid]=n;break}if(c<0&&f<0){r.setRaw(t,u),n._reallyStackedTo[o.uid]=o,o._stackedSeries[n.uid]=n;break}}}else if(zj(c)&&zj(f)){r.setRaw(t,u),n._reallyStackedTo[o.uid]=o,o._stackedSeries[n.uid]=n;break}}}s++}))}},{key:"processXSelectionDataItem",value:function(e,t,n){var r=this;Wj(this.__valueXShowFields,(function(i){var o=e.get(i);null!=o&&(n&&(o+=r.getStackedXValueWorking(e,i)),r._min("selectionMinX",o),r._max("selectionMaxX",o*t))}))}},{key:"processYSelectionDataItem",value:function(e,t,n){var r=this;Wj(this.__valueYShowFields,(function(i){var o=e.get(i);null!=o&&(n&&(o+=r.getStackedYValueWorking(e,i)),r._min("selectionMinY",o),r._max("selectionMaxY",o*t))}))}},{key:"getStackedYValueWorking",value:function(e,t){var n=e.get("stackToItemY");if(n){var r=n.component;return n.get(t,0)*r.get("vcy",1)+this.getStackedYValueWorking(n,t)}return 0}},{key:"getStackedXValueWorking",value:function(e,t){var n=e.get("stackToItemX");if(n){var r=n.component;return n.get(t,0)*r.get("vcx",1)+this.getStackedXValueWorking(n,t)}return 0}},{key:"getStackedYValue",value:function(e,t){var n=e.get("stackToItemY");return n?n.get(t,0)+this.getStackedYValue(n,t):0}},{key:"getStackedXValue",value:function(e,t){var n=e.get("stackToItemX");return n?n.get(t,0)+this.getStackedXValue(n,t):0}},{key:"createLegendMarker",value:function(e){this.updateLegendMarker()}},{key:"_markDirtyAxes",value:function(){this._axesDirty=!0,this.markDirty()}},{key:"_markDataSetDirty",value:function(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}},{key:"_clearDirty",value:function(){XW(t,"_clearDirty",this,3)([]),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}},{key:"_positionBullet",value:function(e){var t=e.get("sprite");if(t){var n=t.dataItem,r=e.get("locationX",n.get("locationX",.5)),i=e.get("locationY",n.get("locationY",.5)),o=this.get("xAxis"),a=this.get("yAxis"),s=o.getDataItemPositionX(n,this._xField,r,this.get("vcx",1)),l=a.getDataItemPositionY(n,this._yField,i,this.get("vcy",1)),u=this.getPoint(s,l),c=n.get("left",u.x),f=n.get("right",u.x),h=n.get("top",u.y),d=n.get("bottom",u.y),p=0,v=0,y=f-c,m=d-h;if(this._shouldShowBullet(s,l)){t.setPrivate("visible",!e.getPrivate("hidden"));var b,g=e.get("field"),w=this.get("baseAxis"),_=this.get("xAxis"),k=this.get("yAxis");if(null!=g)w==_?("value"==g?b=this._yField:"open"==g?b=this._yOpenField:"high"==g?b=this._yHighField:"low"==g&&(b=this._yLowField),b&&(l=k.getDataItemPositionY(n,b,0,this.get("vcy",1)),v=(u=k.get("renderer").positionToPoint(l)).y,p=c+y*r)):("value"==g?b=this._xField:"open"==g?b=this._xOpenField:"high"==g?b=this._xHighField:"low"==g&&(b=this._xLowField),b&&(s=_.getDataItemPositionX(n,b,0,this.get("vcx",1)),p=(u=_.get("renderer").positionToPoint(s)).x,v=d-m*i));else p=c+y*r,v=d-m*i;var x=e.get("stacked");if(x){var O=this.chart;if(w==_){var P=this._bullets[s+"_"+l];if(P){var S=P.bounds(),E=t.localBounds(),j=v;v=S.top,"down"==x?v=S.bottom-E.top:"auto"==x?O&&(j<O.plotContainer.height()/2?v=S.bottom-E.top:v+=E.bottom):v+=E.bottom}this._bullets[s+"_"+l]=t}else{var T=this._bullets[s+"_"+l];if(T){var D=T.bounds(),A=t.localBounds(),C=p;p=D.right,"down"==x?p=D.left-A.right:"auto"==x?O&&(C<O.plotContainer.width()/2?p=D.left-A.right:p-=A.left):p-=A.left}this._bullets[s+"_"+l]=t}}t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(y)),t.setPrivate("maxHeight",Math.abs(m))),t.setAll({x:p,y:v})}else t.setPrivate("visible",!1)}}},{key:"_shouldShowBullet",value:function(e,t){return this._showBullets}},{key:"setDataSet",value:function(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;var t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}},{key:"resetGrouping",value:function(){var e=this;jT(this._dataSets,(function(t,n){n!=e._mainDataItems&&Wj(n,(function(t){e.disposeDataItem(t)}))})),this._dataSets={},this._dataItems=this.mainDataItems}},{key:"_handleDataSetChange",value:function(){Wj(this._dataItems,(function(e){var t=e.bullets;t&&Wj(t,(function(e){if(e){var t=e.get("sprite");t&&t.setPrivate("visible",!1)}}))})),this._selectionProcessed=!1}},{key:"show",value:function(e){var n=this,r=Object.create(null,{show:{get:function(){return XW(t,"show",n,1)}}});return wj(this,void 0,void 0,qW().mark((function t(){var n,i=this;return qW().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._fixVC(),(n=[]).push(r.show.call(this,e).then((function(){i._isShowing=!1;var e=i.get("xAxis"),t=i.get("yAxis"),n=i.get("baseAxis");t!==n&&t.markDirtySelectionExtremes(),e!==n&&e.markDirtySelectionExtremes()}))),n.push(this.bulletsContainer.show(e)),n.push(this._sequencedShowHide(!0,e)),t.next=7,Promise.all(n);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"hide",value:function(e){var n=this,r=Object.create(null,{hide:{get:function(){return XW(t,"hide",n,1)}}});return wj(this,void 0,void 0,qW().mark((function t(){var n,i=this;return qW().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._fixVC(),(n=[]).push(r.hide.call(this,e).then((function(){i._isHiding=!1}))),n.push(this.bulletsContainer.hide(e)),n.push(this._sequencedShowHide(!1,e)),t.next=7,Promise.all(n);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"showDataItem",value:function(e,n){var r=this,i=Object.create(null,{showDataItem:{get:function(){return XW(t,"showDataItem",r,1)}}});return wj(this,void 0,void 0,qW().mark((function t(){var r,o;return qW().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.showDataItem.call(this,e,n)],zj(n)||(n=this.get("stateAnimationDuration",0)),o=this.get("stateAnimationEasing"),Wj(this._valueFields,(function(t){r.push(e.animate({key:t+"Working",to:e.get(t),duration:n,easing:o}).waitForStop())})),t.next=6,Promise.all(r);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"hideDataItem",value:function(e,n){var r=this,i=Object.create(null,{hideDataItem:{get:function(){return XW(t,"hideDataItem",r,1)}}});return wj(this,void 0,void 0,qW().mark((function t(){var r,o,a,s,l,u,c,f,h;return qW().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.hideDataItem.call(this,e,n)],o=this.states.create("hidden",{}),zj(n)||(n=o.get("stateAnimationDuration",this.get("stateAnimationDuration",0))),a=o.get("stateAnimationEasing",this.get("stateAnimationEasing")),s=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),c=this.get("stacked"),u!==s&&u||Wj(this._valueYFields,(function(t){var i=l.getPrivate("min"),o=l.baseValue();zj(i)&&i>o&&(o=i),c&&(o=0),null!=e.get(t)&&r.push(e.animate({key:t+"Working",to:o,duration:n,easing:a}).waitForStop())})),u!==l&&u||(f=s.getPrivate("min"),h=s.baseValue(),zj(f)&&f>h&&(h=f),c&&(h=0),Wj(this._valueXFields,(function(t){null!=e.get(t)&&r.push(e.animate({key:t+"Working",to:h,duration:n,easing:a}).waitForStop())}))),t.next=12,Promise.all(r);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_markDirtyStack",value:function(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}},{key:"_markStakedDirtyStack",value:function(){var e=this._stackedSeries;e&&jT(e,(function(e,t){t._stackDirty||t._markDirtyStack()}))}},{key:"_afterChanged",value:function(){XW(t,"_afterChanged",this,3)([]),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}},{key:"showDataItemTooltip",value:function(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));var t=this.get("tooltip");if(t)if(!this.isHidden()&&this.get("visible")){if(t._setDataItem(e),e){var n=this.get("locationX",0),r=this.get("locationY",1),i=e.get("locationX",n),o=e.get("locationY",r),a=this.get("xAxis"),s=this.get("yAxis"),l=this.get("vcx",1),u=this.get("vcy",1),c=a.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*i,l),f=s.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*o,u),h=this.getPoint(c,f),d=!0;if(Wj(this._valueFields,(function(t){null==e.get(t)&&(d=!1)})),d){var p=this.chart;p&&p.inPlot(h)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:h.x,y:h.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}else this.hideTooltip()}},{key:"hideTooltip",value:function(){var e=this.get("tooltip");return e&&e.set("tooltipTarget",this),XW(t,"hideTooltip",this,3)([])}},{key:"_getTooltipTarget",value:function(e){if("bullet"==this.get("seriesTooltipTarget")){var t=e.bullets;if(t&&t.length>0){var n=t[0].get("sprite");if(n)return n}}return this}},{key:"updateLegendValue",value:function(e){var t=this.get("legendDataItem");if(t){var n=t.get("label");if(n){var r="";e?(n._setDataItem(e),r=this.get("legendLabelText",n.get("text",this.get("name","")))):(n._setDataItem(this._emptyDataItem),r=this.get("legendRangeLabelText",this.get("legendLabelText",n.get("text",this.get("name",""))))),n.set("text",r)}var i=t.get("valueLabel");if(i){var o="";e?(i._setDataItem(e),o=this.get("legendValueText",i.get("text",""))):(i._setDataItem(this._emptyDataItem),o=this.get("legendRangeValueText",i.get("text",""))),i.set("text",o)}}}},{key:"_getItemReaderLabel",value:function(){var e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}"}},{key:"getPoint",value:function(e,t){var n=this.get("xAxis").get("renderer").positionToCoordinate(e),r=this.get("yAxis").get("renderer").positionToCoordinate(t),i=999999999;return r<-i&&(r=-i),r>i&&(r=i),n<-i&&(n=-i),n>i&&(n=i),{x:n,y:r}}},{key:"_shouldInclude",value:function(e){return!0}},{key:"handleCursorHide",value:function(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}},{key:"_afterDataChange",value:function(){XW(t,"_afterDataChange",this,3)([]),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}},{key:"resetExtremes",value:function(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}},{key:"createAxisRange",value:function(e){return this.axisRanges.push({axisDataItem:e})}},{key:"mainDataItems",get:function(){return this._mainDataItems}},{key:"_adjustStartIndex",value:function(e){var t=this.get("xAxis");if(this.get("baseAxis")==t&&t.isType("DateAxis"))for(var n=t.baseDuration(),r=t.getPrivate("selectionMin",t.getPrivate("min",0)),i=n*this.get("locationX",.5),o=-1/0;o<r;){var a=this.dataItems[e];if(!a)break;var s=a.open;if(o=s?s.valueX:a.get("valueX",0),!((o+=i)<r))break;e++}return e}}])}(zq);function JW(e){return JW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JW(e)}function QW(){QW=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==JW(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(JW(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function e$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t$(r.key),r)}}function t$(e){var t=function(e,t){if("object"!=JW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JW(t)?t:t+""}function n$(e,t,n){return t=a$(t),function(e,t){if(t&&("object"==JW(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,r$()?Reflect.construct(t,n||[],a$(e).constructor):t.apply(e,n))}function r$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(r$=function(){return!!e})()}function i$(e,t,n,r){var i=o$(a$(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function o$(){return o$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=a$(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o$.apply(null,arguments)}function a$(e){return a$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a$(e)}function s$(e,t){return s$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s$(e,t)}Object.defineProperty(ZW,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(ZW,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zq.classNames.concat([ZW.className])});var l$=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=n$(this,t,arguments),Object.defineProperty(e,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s$(e,t)}(t,e),function(e,t,n){return t&&e$(e.prototype,t),n&&e$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_makeGraphics",value:function(e,t){return this.makeColumn(t,e)}},{key:"_makeFieldNames",value:function(){i$(t,"_makeFieldNames",this,3)([]);var e=this.get("xAxis"),n=this.get("yAxis"),r="CategoryAxis",i="ValueAxis";e.isType(r)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(i)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),n.isType(r)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),n.isType(i)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}},{key:"_prepareChildren",value:function(){i$(t,"_prepareChildren",this,3)([]);var e=this.get("xAxis"),n=this.get("yAxis"),r=this.dataItems.length,i=Math.max(0,this.startIndex()-2),o=Math.min(this.endIndex()+2,r-1);if(e.inited&&n.inited)for(var a=i;a<=o;a++){var s=this.dataItems[a];this._createGraphics(s)}}},{key:"_updateChildren",value:function(){var e=this,n=this.chart;n&&(this._ph=n.plotContainer.height(),this._pw=n.plotContainer.width());var r=this.get("xAxis"),i=this.get("yAxis"),o=this.get("baseAxis"),a=this.columns.template;this.isDirty("fill")&&null==a.get("fill")&&a.set("fill",this.get("fill")),this.isDirty("fillPattern")&&null==a.get("fillPattern")&&a.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&null==a.get("stroke")&&a.set("stroke",this.get("stroke"));var s=0,l=0,u=0;Wj(o.series,(function(n){if(n instanceof t){var r=n.get("stacked");r&&0==u&&l++,!r&&n.get("clustered")&&l++}n===e&&(s=l-1),u++})),this.get("clustered")||(s=0,l=1),0===l&&(l=1,s=0);var c=r.get("renderer"),f=i.get("renderer"),h="cellStartLocation",d="cellEndLocation",p=c.get(h,0),v=c.get(d,1),y=f.get(h,0),m=f.get(d,1);if(this._aLocationX0=p+s/l*(v-p),this._aLocationX1=p+(s+1)/l*(v-p),this._aLocationY0=y+s/l*(m-y),this._aLocationY1=y+(s+1)/l*(m-y),r.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){for(var b=this.dataItems.length,g=Math.max(0,this.startIndex()-2),w=Math.min(this.endIndex()+2,b-1),_=0;_<g;_++)this._toggleColumn(this.dataItems[_],!1);for(var k=this.dataItems[g],x=g;x<=w;x++){var O=this.dataItems[x];if(null!=O.get("valueX")&&null!=O.get("valueY")){if(k=O,x>0&&g>0)for(var P=x-1;P>=0;P--){var S=this.dataItems[P];if(null!=S.get("valueX")&&null!=S.get("valueY")){k=S;break}}break}this._toggleColumn(O,!1)}for(var E=g;E<=w;E++){var j=this.dataItems[E];this._updateGraphics(j,k),null!=j.get("valueX")&&null!=j.get("valueY")&&(k=j)}for(var T=w+1;T<b;T++)this._toggleColumn(this.dataItems[T],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),i$(t,"_updateChildren",this,3)([])}},{key:"_createGraphics",value:function(e){var t=this,n=e.get("graphics");if(!n){n=this._makeGraphics(this.columns,e),e.set("graphics",n),n._setDataItem(e);var r=e.get("legendDataItem");if(r){var i=r.get("markerRectangle");if(i){var o=i.states.lookup("default");Wj(FL,(function(e){var r=n.get(e,t.get(e));i.set(e,r),o.set(e,r)}))}}var a=e.get("rangeGraphics");a&&Wj(a,(function(e){e.dispose()})),a=[],e.setRaw("rangeGraphics",a),this.axisRanges.each((function(n){var r=n.container,i=t._makeGraphics(n.columns,e);a&&a.push(i),i.setPrivate("list",n.columns),r.children.push(i)}))}}},{key:"createAxisRange",value:function(e){return Wj(this.dataItems,(function(e){var t=e.get("graphics");t&&(t.dispose(),e.set("graphics",void 0))})),i$(t,"createAxisRange",this,3)([e])}},{key:"_updateGraphics",value:function(e,t){var n=this,r=e.get("graphics"),i=this._xField,o=this._yField,a=e.get(i),s=e.get(o);if(null!=a&&null!=s){var l,u,c,f,h=this._xOpenField,d=this._yOpenField,p=this.get("locationX",e.get("locationX",.5)),v=this.get("locationY",e.get("locationY",.5)),y=this.get("openLocationX",e.get("openLocationX",p)),m=this.get("openLocationY",e.get("openLocationY",v)),b=r.get("width"),g=r.get("height"),w=this.get("stacked"),_=this.get("xAxis"),k=this.get("yAxis"),x=this.get("baseAxis"),O=_.get("start"),P=_.get("end"),S=k.get("start"),E=k.get("end"),j=this.get("vcy",1),T=this.get("vcx",1),D=!1,A=!1;if(k.isType("CategoryAxis")&&_.isType("CategoryAxis")){var C=this._aLocationX0+y-.5,M=this._aLocationX1+p-.5;if(b instanceof Oj){var L=(M-C)*(1-b.value)/2;C+=L,M-=L}if(l=_.getDataItemPositionX(e,h,C,T),u=_.getDataItemPositionX(e,i,M,T),C=this._aLocationY0+m-.5,M=this._aLocationY1+v-.5,g instanceof Oj){var R=(M-C)*(1-g.value)/2;C+=R,M-=R}c=k.getDataItemPositionY(e,d,C,j),f=k.getDataItemPositionY(e,o,M,j),e.setRaw("point",{x:l+(u-l)/2,y:c+(f-c)/2})}else if(_===x){var I=this._aLocationX0+y-.5,N=this._aLocationX1+p-.5;if(b instanceof Oj){var B=(N-I)*(1-b.value)/2;I+=B,N-=B}if(l=_.getDataItemPositionX(e,h,I,T),u=_.getDataItemPositionX(e,i,N,T),c=k.getDataItemPositionY(e,o,v,j),this._yOpenField!==this._yField)f=k.getDataItemPositionY(e,d,m,j);else if(w){var F=e.get("stackToItemY");f=F?k.getDataItemPositionY(F,o,m,F.component.get("vcy")):k.basePosition()}else f=k.basePosition();e.setRaw("point",{x:l+(u-l)/2,y:c}),A=!0}else if(k===x){var z=this._aLocationY0+m-.5,V=this._aLocationY1+v-.5;if(g instanceof Oj){var q=(V-z)*(1-g.value)/2;z+=q,V-=q}if(c=k.getDataItemPositionY(e,d,z,j),f=k.getDataItemPositionY(e,o,V,j),u=_.getDataItemPositionX(e,i,p,T),this._xOpenField!==this._xField)l=_.getDataItemPositionX(e,h,y,T);else if(w){var H=e.get("stackToItemX");l=H?_.getDataItemPositionX(H,i,y,H.component.get("vcx")):_.basePosition()}else l=_.basePosition();D=!0,e.setRaw("point",{x:u,y:c+(f-c)/2})}this._updateSeriesGraphics(e,r,l,u,c,f,D,A),l<O&&u<O||l>P&&u>P||c<S&&f<=S||c>=E&&f>E||Aj(l)||Aj(c)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);var Y=e.get("rangeGraphics");Y&&Wj(Y,(function(t){n._updateSeriesGraphics(e,t,l,u,c,f,D,A)})),this._applyGraphicsStates(e,t)}else this._toggleColumn(e,!1)}},{key:"_updateSeriesGraphics",value:function(e,t,n,r,i,o,a,s){var l=t.get("width"),u=t.get("height"),c=t.get("maxWidth"),f=t.get("maxHeight"),h=this.getPoint(n,i),d=this.getPoint(r,o),p=e.get("point");if(p){var v=this.getPoint(p.x,p.y);p.x=v.x+this._x,p.y=v.y+this._y}if(n=h.x,r=d.x,i=h.y,o=d.y,zj(l)){var y=(r-n-l)/2;n+=y,r-=y}if(zj(c)&&c<Math.abs(r-n)){var m=(r-n-c)/2;n+=m,r-=m}if(zj(u)){var b=(o-i-u)/2;i+=b,o-=b}if(zj(f)&&f<Math.abs(o-i)){var g=(o-i-f)/2;i+=g,o-=g}this.get("adjustBulletPosition")&&(a&&(r=Math.min(Math.max(0,r),this._pw),n=Math.min(Math.max(0,n),this._pw)),s&&(i=Math.min(Math.max(0,i),this._ph),o=Math.min(Math.max(0,o),this._ph))),e.setRaw("left",n),e.setRaw("right",r),e.setRaw("top",i),e.setRaw("bottom",o),t.setPrivate("width",r-n),t.setPrivate("height",o-i),t.set("x",n),t.set("y",o-(o-i))}},{key:"_handleDataSetChange",value:function(){var e=this;i$(t,"_handleDataSetChange",this,3)([]),Wj(this._dataItems,(function(t){e._toggleColumn(t,!1)}))}},{key:"_applyGraphicsStates",value:function(e,t){var n=e.get("graphics"),r=n.states.lookup("dropFromOpen"),i=n.states.lookup("riseFromOpen"),o=n.states.lookup("dropFromPrevious"),a=n.states.lookup("riseFromPrevious");if(r||o||i||a){var s,l,u,c=this.get("xAxis"),f=this.get("yAxis"),h=this.get("baseAxis");h===c&&f.isType("ValueAxis")?(s=e.get(this._yOpenField),l=e.get(this._yField),u=t.get(this._yField)):h===f&&c.isType("ValueAxis")&&(s=e.get(this._xOpenField),l=e.get(this._xField),u=t.get(this._xField)),zj(s)&&zj(l)&&(l<s?r&&r.apply():i&&i.apply(),zj(u)&&(l<u?o&&o.apply():a&&a.apply()))}}},{key:"disposeDataItem",value:function(e){i$(t,"disposeDataItem",this,3)([e]);var n=e.get("graphics");n&&(this.columns.removeValue(n),n.dispose());var r=e.get("rangeGraphics");r&&Wj(r,(function(e){var t=e.getPrivate("list");t&&t.removeValue(e),e.dispose()}))}},{key:"hideDataItem",value:function(e,n){var r=this,i=Object.create(null,{hideDataItem:{get:function(){return i$(t,"hideDataItem",r,1)}}});return wj(this,void 0,void 0,QW().mark((function t(){var r,o,a;return QW().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.hideDataItem.call(this,e,n)],(o=e.get("graphics"))&&r.push(o.hide(n)),(a=e.get("rangeGraphics"))&&Wj(a,(function(e){r.push(e.hide(n))})),t.next=7,Promise.all(r);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_toggleColumn",value:function(e,t){var n=e.get("graphics");n&&n.setPrivate("visible",t);var r=e.get("rangeGraphics");r&&Wj(r,(function(e){e.setPrivate("visible",t)}));var i=e.bullets;i&&Wj(i,(function(e){e.setPrivate("hidden",!t)}))}},{key:"showDataItem",value:function(e,n){var r=this,i=Object.create(null,{showDataItem:{get:function(){return i$(t,"showDataItem",r,1)}}});return wj(this,void 0,void 0,QW().mark((function t(){var r,o,a;return QW().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.showDataItem.call(this,e,n)],(o=e.get("graphics"))&&r.push(o.show(n)),(a=e.get("rangeGraphics"))&&Wj(a,(function(e){r.push(e.show(n))})),t.next=7,Promise.all(r);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"updateLegendMarker",value:function(e){var t=this,n=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){var r=this.dataItems[this.endIndex()-1];r&&(e=r)}if(n){var i=this.columns.template;if(e){var o=e.get("graphics");o&&(i=o)}var a=n.get("markerRectangle");if(a&&!n.get("itemContainer").get("disabled")){var s=a.states.lookup("default");Wj(FL,(function(e){var n=i.get(e,t.get(e));a.set(e,n),s.set(e,n)}))}}}},{key:"_getTooltipTarget",value:function(e){if("bullet"==this.get("seriesTooltipTarget"))return i$(t,"_getTooltipTarget",this,3)([e]);var n=e.get("graphics");return n||this}}])}(ZW);function u$(e){return u$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u$(e)}function c$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f$(r.key),r)}}function f$(e){var t=function(e,t){if("object"!=u$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u$(t)?t:t+""}function h$(e,t,n){return t=y$(t),function(e,t){if(t&&("object"==u$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d$()?Reflect.construct(t,n||[],y$(e).constructor):t.apply(e,n))}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d$=function(){return!!e})()}function p$(e,t,n,r){var i=v$(y$(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function v$(){return v$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=y$(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},v$.apply(null,arguments)}function y$(e){return y$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y$(e)}function m$(e,t){return m$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m$(e,t)}Object.defineProperty(l$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(l$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ZW.classNames.concat([l$.className])});var b$=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=h$(this,t,arguments),Object.defineProperty(e,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{}))}),Object.defineProperty(e,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:WR.new(e._root,{width:Ej,height:Ej})}),Object.defineProperty(e,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:WR.new(e._root,{width:Ej,height:Ej})}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{isMeasured:!1,width:Ej,height:Ej,position:"absolute"}))}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new $A}),Object.defineProperty(e,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(e,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{themeTags:["axis","header"],position:"absolute",background:KL.new(e._root,{themeTags:["header","background"],fill:e._root.interfaceColors.get("background")})}))}),Object.defineProperty(e,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m$(e,t)}(t,e),function(e,t,n){return t&&c$(e.prototype,t),n&&c$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_dispose",value:function(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),p$(t,"_dispose",this,3)([])}},{key:"_afterNew",value:function(){var e=this;p$(t,"_afterNew",this,3)([]),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll((function(t){if("clear"===t.type)Wj(t.oldValues,(function(t){e.disposeDataItem(t)}));else if("push"===t.type)e._processAxisRange(t.newValue,["range"]);else if("setIndex"===t.type)e._processAxisRange(t.newValue,["range"]);else if("insertIndex"===t.type)e._processAxisRange(t.newValue,["range"]);else if("removeIndex"===t.type)e.disposeDataItem(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IStreamEvent type");e._processAxisRange(t.value,["range"])}})));var n=this.get("renderer");n&&(n.axis=this,n.processAxis()),this.children.push(n),this.ghostLabel=n.makeLabel(new bV(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}},{key:"_updateFinals",value:function(e,t){}},{key:"zoom",value:function(e,t,n,r){if(this.get("zoomable",!0))if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){var i=this._sAnimation,o=this._eAnimation,a=this.get("maxDeviation",.5)*Math.min(1,t-e);if(e<-a&&(e=-a),t>1+a&&(t=1+a),e>t){var s=[t,e];e=s[0],t=s[1]}zj(n)||(n=this.get("interpolationDuration",0)),r||(r="end");var l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;1===t&&0!==e&&(r=e<this.get("start",0)?"start":"end"),0===e&&1!==t&&(r=t>this.get("end",1)?"end":"start");var c=this.get("minZoomCount",0),f=this.get("maxZoomCount",1/0);zj(c)&&(l=u/c);var h=1;if(zj(f)&&(h=u/f),"start"===r?(f>0&&1/(t-e)<h&&(t=e+1/h),1/(t-e)>l&&(t=e+1/l),t>1&&t-e<1/l&&(e=t-1/l)):(f>0&&1/(t-e)<h&&(e=t-1/h),1/(t-e)>l&&(e=t-1/l),e<0&&t-e<1/l&&(t=e+1/l)),1/(t-e)>l&&(t=e+1/l),1/(t-e)>l&&(e=t-1/l),null!=f&&null!=c&&e==this.get("start")&&t==this.get("end")){var d=this.chart;d&&d._handleAxisSelection(this,!0)}if((i&&i.playing&&i.to==e||this.get("start")==e)&&(o&&o.playing&&o.to==t||this.get("end")==t))return;if(n>0){var p,v,y=this.get("interpolationEasing");if(this.get("start")!=e&&(p=this.animate({key:"start",to:e,duration:n,easing:y})),this.get("end")!=t&&(v=this.animate({key:"end",to:t,duration:n,easing:y})),this._sAnimation=p,this._eAnimation=v,p)return p;if(v)return v}else this.set("start",e),this.set("end",t)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}},{key:"series",get:function(){return this._series}},{key:"_processAxisRange",value:function(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);var n=e.get("above"),r=this.topGridContainer,i=e.get("grid");n&&i&&r.children.moveValue(i);var o=e.get("axisFill");n&&o&&r.children.moveValue(o)}},{key:"_prepareDataItem",value:function(e,t){}},{key:"markDirtyExtremes",value:function(){}},{key:"markDirtySelectionExtremes",value:function(){}},{key:"_calculateTotals",value:function(){}},{key:"_updateAxisRanges",value:function(){var e=this;this._bullets={},this.axisRanges.each((function(t){e._prepareDataItem(t)})),Wj(this._seriesAxisRanges,(function(t){e._prepareDataItem(t)}))}},{key:"_prepareChildren",value:function(){if(p$(t,"_prepareChildren",this,3)([]),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){var e=this.chart;e&&e._updateCursor();var n=this.get("start",0),r=this.get("end",1),i=this.get("maxDeviation",.5)*Math.min(1,r-n);if(n<-i){var o=n+i;n=-i,this.setRaw("start",n),this.isDirty("end")&&this.setRaw("end",r-o)}if(r>1+i){var a=r-1-i;r=1+i,this.setRaw("end",r),this.isDirty("start")&&this.setRaw("start",n-a)}}var s=this.get("renderer");if(s._start=this.get("start"),s._end=this.get("end"),s._inversed=s.get("inversed",!1),s._axisLength=s.axisLength()/(s._end-s._start),s._updateLC(),this.isDirty("tooltip")){var l=this.get("tooltip");if(l){var u=s.get("themeTags");l.addTag("axis"),l.addTag(this.className.toLowerCase()),l._applyThemes(),u&&(l.set("themeTags",dA(l.get("themeTags"),u)),l.label._applyThemes())}}}},{key:"_updateTooltipBounds",value:function(){var e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}},{key:"_updateBounds",value:function(){p$(t,"_updateBounds",this,3)([]),this._updateTooltipBounds()}},{key:"processChart",value:function(e){var t=this;this.chart=e,this.get("renderer").chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",(function(){e._handleAxisSelection(t)})),this.on("end",(function(){e._handleAxisSelection(t)})),e.plotContainer.onPrivate("width",(function(){t.markDirtySize()})),e.plotContainer.onPrivate("height",(function(){t.markDirtySize()})),e.processAxis(this)}},{key:"hideDataItem",value:function(e){return this._toggleFHDataItem(e,!0),p$(t,"hideDataItem",this,3)([e])}},{key:"showDataItem",value:function(e){return this._toggleFHDataItem(e,!1),p$(t,"showDataItem",this,3)([e])}},{key:"_toggleFHDataItem",value:function(e,t){var n="forceHidden",r=e.get("label");r&&r.set(n,t);var i=e.get("grid");i&&i.set(n,t);var o=e.get("tick");o&&o.set(n,t);var a=e.get("axisFill");a&&a.set(n,t);var s=e.get("bullet");if(s){var l=s.get("sprite");l&&l.set(n,t)}}},{key:"_toggleDataItem",value:function(e,t){var n=e.get("label"),r="visible";n&&n.setPrivate(r,t);var i=e.get("grid");i&&i.setPrivate(r,t);var o=e.get("tick");o&&o.setPrivate(r,t);var a=e.get("axisFill");a&&a.setPrivate(r,t);var s=e.get("bullet");if(s){var l=s.get("sprite");l&&l.setPrivate(r,t)}}},{key:"_createAssets",value:function(e,t,n){var r,i,o,a=this.get("renderer"),s="minor",l=e.get("label");if(l){var u=l.get("themeTags"),c=!1;n?-1==(null==u?void 0:u.indexOf(s))&&(c=!0):-1!=(null==u?void 0:u.indexOf(s))&&(c=!0),c&&(null===(r=l.parent)||void 0===r||r.children.removeValue(l),a.makeLabel(e,t),l.dispose(),a.labels.removeValue(l))}else a.makeLabel(e,t);var f=e.get("grid");if(f){var h=f.get("themeTags"),d=!1;n?-1==(null==h?void 0:h.indexOf(s))&&(d=!0):-1!=(null==h?void 0:h.indexOf(s))&&(d=!0),d&&(null===(i=f.parent)||void 0===i||i.children.removeValue(f),a.makeGrid(e,t),f.dispose(),a.grid.removeValue(f))}else a.makeGrid(e,t);var p=e.get("tick");if(p){var v=!1,y=p.get("themeTags");n?-1==(null==y?void 0:y.indexOf(s))&&(v=!0):-1!=(null==y?void 0:y.indexOf(s))&&(v=!0),v&&(null===(o=p.parent)||void 0===o||o.children.removeValue(p),a.makeTick(e,t),p.dispose(),a.ticks.removeValue(p))}else a.makeTick(e,t);n||e.get("axisFill")||a.makeAxisFill(e,t),this._processBullet(e)}},{key:"_processBullet",value:function(e){var t=e.get("bullet"),n=this.get("bullet");if(t||!n||e.get("isRange")||(t=n(this._root,this,e)),t){t.axis=this;var r=t.get("sprite");r&&(r._setDataItem(e),e.setRaw("bullet",t),r.parent||this.bulletsContainer.children.push(r))}}},{key:"_afterChanged",value:function(){p$(t,"_afterChanged",this,3)([]);var e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}},{key:"disposeDataItem",value:function(e){p$(t,"disposeDataItem",this,3)([e]);var n=this.get("renderer"),r=e.get("label");r&&(n.labels.removeValue(r),r.dispose());var i=e.get("tick");i&&(n.ticks.removeValue(i),i.dispose());var o=e.get("grid");o&&(n.grid.removeValue(o),o.dispose());var a=e.get("axisFill");a&&(n.axisFills.removeValue(a),a.dispose());var s=e.get("bullet");s&&s.dispose()}},{key:"_updateGhost",value:function(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());var e=this.ghostLabel;if(!e.isHidden()){var t=e.localBounds(),n=Math.ceil(t.right-t.left),r=e.get("text");Wj(this.dataItems,(function(e){var t=e.get("label");if(t&&!t.isHidden()){var i=t.localBounds();Math.ceil(i.right-i.left)>n&&(r=t.text._getText())}})),e.set("text",r)}var i=this.get("start",0),o=this.get("end",1);this.get("renderer").updateLabel(e,i+.5*(o-i))}},{key:"_handleCursorPosition",value:function(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}},{key:"updateTooltip",value:function(){var e=this,t=this._snapToSeries,n=this._cursorPosition,r=this.get("tooltip"),i=this.get("renderer");zj(n)&&(Wj(this.series,(function(r){if(r.get("baseAxis")===e){var i=e.getSeriesItem(r,n,e.get("tooltipLocation"));t&&-1!=t.indexOf(r)?(r.updateLegendMarker(i),r.updateLegendValue(i),r._settings.tooltipDataItem=i):(r.showDataItemTooltip(i),r.setRaw("tooltipDataItem",i))}})),this.get("snapTooltip")&&(n=this.roundAxisPosition(n,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",n),r&&(i.updateTooltipBounds(r),Aj(n)?r.hide(0):(this._updateTooltipText(r,n),i.positionTooltip(r,n),n<this.get("start",0)||n>this.get("end",1)?r.hide(0):r.show(0))))}},{key:"_updateTooltipText",value:function(e,t){e.label.set("text",this.getTooltipText(t))}},{key:"roundAxisPosition",value:function(e,t){return e}},{key:"handleCursorShow",value:function(){var e=this.get("tooltip");e&&e.show()}},{key:"handleCursorHide",value:function(){var e=this.get("tooltip");e&&e.hide()}},{key:"processSeriesDataItem",value:function(e,t){}},{key:"_clearDirty",value:function(){p$(t,"_clearDirty",this,3)([]),this._sizeDirty=!1,this._rangesDirty=!1}},{key:"coordinateToPosition",value:function(e){var t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}},{key:"toAxisPosition",value:function(e){return this.get("renderer").toAxisPosition(e)}},{key:"toGlobalPosition",value:function(e){return this.get("renderer").toGlobalPosition(e)}},{key:"fixPosition",value:function(e){return this.get("renderer").fixPosition(e)}},{key:"shouldGap",value:function(e,t,n,r){return!1}},{key:"createAxisRange",value:function(e){return this.axisRanges.push(e)}},{key:"_groupSeriesData",value:function(e){}},{key:"getCellWidthPosition",value:function(){return.05}}])}(gV);function g$(e){return g$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g$(e)}function w$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_$(r.key),r)}}function _$(e){var t=function(e,t){if("object"!=g$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g$(t)?t:t+""}function k$(e,t,n){return t=S$(t),function(e,t){if(t&&("object"==g$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x$()?Reflect.construct(t,n||[],S$(e).constructor):t.apply(e,n))}function x$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x$=function(){return!!e})()}function O$(e,t,n,r){var i=P$(S$(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function P$(){return P$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=S$(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},P$.apply(null,arguments)}function S$(e){return S$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S$(e)}function E$(e,t){return E$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E$(e,t)}Object.defineProperty(b$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(b$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gV.classNames.concat([b$.className])});var j$=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=k$(this,t,arguments),Object.defineProperty(e,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E$(e,t)}(t,e),function(e,t,n){return t&&w$(e.prototype,t),n&&w$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"markDirtyExtremes",value:function(){this._dirtyExtremes=!0,this.markDirty()}},{key:"markDirtySelectionExtremes",value:function(){this._dirtySelectionExtremes=!0,this.markDirty()}},{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),O$(t,"_afterNew",this,3)([])}},{key:"_prepareChildren",value:function(){var e=this;if(O$(t,"_prepareChildren",this,3)([]),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();var n=this.get("syncWithAxis");n&&(this._syncDp=new XT([n.onPrivate("selectionMinFinal",(function(){e._dirtySelectionExtremes=!0})),n.onPrivate("selectionMaxFinal",(function(){e._dirtySelectionExtremes=!0}))]))}var r=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(r=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||r||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){var i=this.chart,o=!1;if(i){var a=this.get("renderer").getPrivate("letter");"Y"==a?i.xAxes.each((function(e){"ValueAxis"!=e.className&&(o=!0)})):"X"==a&&i.yAxes.each((function(e){"ValueAxis"!=e.className&&(o=!0)}))}o&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}},{key:"_handleSizeDirty",value:function(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0)}},{key:"_clearDirty",value:function(){O$(t,"_clearDirty",this,3)([]),this._dseHandled=!1}},{key:"_groupData",value:function(){}},{key:"_formatText",value:function(e){var t=this.get("numberFormat"),n=this.getNumberFormatter();return t?n.format(e,t):n.format(e,void 0,this.getPrivate("stepDecimalPlaces"))}},{key:"_prepareAxisItems",value:function(){var e=this.getPrivate("min"),t=this.getPrivate("max");if(zj(e)&&zj(t)){var n=this.get("logarithmic"),r=this.getPrivate("step"),i=this.getPrivate("selectionMin"),o=this.getPrivate("selectionMax")+r,a=i-r,s=1,l=e;if(n){if((a=this._minLogAdjusted)<i)for(;a<i;)a+=r;(l=a)<=0&&(l=1,r<1&&(l=zj(this._minRealLog)?this._minRealLog:Math.pow(10,-50))),(s=Math.log(o-r)*Math.LOG10E-Math.log(l)*Math.LOG10E)>2&&(a=Math.pow(10,Math.log(l)*Math.LOG10E-50))}var u=this.get("renderer"),c=u.get("minorLabelsEnabled"),f=u.get("minorGridEnabled",c),h=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E)),d=Math.round(r/h),p=2;cC(d/5,10)%1==0&&(p=5),cC(d/10,10)%1==0&&(p=10);for(var v=r/p,y=0,m=0,b=-1/0;a<o;){var g=void 0;this.dataItems.length<y+1?(g=new bV(this,void 0,{}),this._dataItems.push(g),this.processDataItem(g)):g=this.dataItems[y],this._createAssets(g,[]),this._toggleDataItem(g,!0),g.setRaw("value",a);var w=g.get("label");w&&w.set("text",this._formatText(a)),this._prepareDataItem(g);var _=a;if(n&&s>2?_=Math.pow(10,Math.log(l)*Math.LOG10E+y-50):_+=r,f){var k=a+v;if(n){if(s>2)v=this._adjustMinMax(a,_,10).step;k=a+v}for(;k<_-1e-11*r;){var x=void 0;this.minorDataItems.length<m+1?(x=new bV(this,void 0,{}),this.minorDataItems.push(x),this.processDataItem(x)):x=this.minorDataItems[m],this._createAssets(x,["minor"],!0),this._toggleDataItem(x,!0),x.setRaw("value",k);var O=x.get("label");O&&(c?O.set("text",this._formatText(k)):O.setPrivate("visible",!1)),this._prepareDataItem(x),k+=v,m++}}if(b==(a=_))break;var P=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E));if(P<1&&!n)a=cC(a,Math.round(Math.abs(Math.log(Math.abs(P))*Math.LOG10E))+2);y++,b=a}for(var S=y;S<this.dataItems.length;S++)this._toggleDataItem(this.dataItems[S],!1);for(var E=m;E<this.minorDataItems.length;E++)this._toggleDataItem(this.minorDataItems[E],!1);Wj(this.series,(function(e){e.inited&&e._markDirtyAxes()})),this._updateGhost()}}},{key:"_prepareDataItem",value:function(e,t){var n=this.get("renderer"),r=e.get("value"),i=e.get("endValue"),o=this.valueToPosition(r),a=o,s=this.valueToPosition(r+this.getPrivate("step"));zj(i)&&(s=a=this.valueToPosition(i)),e.get("isRange")&&null==i&&(s=o);var l=a,u=e.get("labelEndValue");null!=u&&(l=this.valueToPosition(u)),n.updateLabel(e.get("label"),o,l,t);var c=e.get("grid");if(n.updateGrid(c,o,a),c&&(r==this.get("baseValue",0)?(c.addTag("base"),c._applyThemes()):c.hasTag("base")&&(c.removeTag("base"),c._applyThemes())),n.updateTick(e.get("tick"),o,l,t),n.updateFill(e.get("axisFill"),o,s),this._processBullet(e),n.updateBullet(e.get("bullet"),o,a),!e.get("isRange")){var f=this.get("fillRule");f&&f(e)}}},{key:"_handleRangeChange",value:function(){var e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1)),n=this.get("renderer").gridCount(),r=this._adjustMinMax(e,t,n,!0),i=LD(r.step);this.setPrivateRaw("stepDecimalPlaces",i),e=cC(e,i),t=cC(t,i);var o=(r=this._adjustMinMax(e,t,n,!0)).step;e=r.min,t=r.max,this.getPrivate("selectionMin")===e&&this.getPrivate("selectionMax")===t&&this.getPrivate("step")===o||(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",o))}},{key:"positionToValue",value:function(e){var t=this.getPrivate("min"),n=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(n)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(n-t)+t}},{key:"valueToPosition",value:function(e){var t=this.getPrivate("min"),n=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){var r=this.get("treatZeroAs");zj(r)&&(e=r)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(n)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(n-t)}},{key:"valueToFinalPosition",value:function(e){var t=this.getPrivate("minFinal"),n=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){var r=this.get("treatZeroAs");zj(r)&&(e=r)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(n)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(n-t)}},{key:"getX",value:function(e,t,n){e=n+(e-n)*t;var r=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(r)}},{key:"getY",value:function(e,t,n){e=n+(e-n)*t;var r=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(r)}},{key:"getDataItemCoordinateX",value:function(e,t,n,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,n,r))}},{key:"getDataItemPositionX",value:function(e,t,n,r){var i=e.get(t);e.get("stackToItemX")?i=i*r+e.component.getStackedXValueWorking(e,t):i=this._baseValue+(i-this._baseValue)*r;return this.valueToPosition(i)}},{key:"getDataItemCoordinateY",value:function(e,t,n,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,n,r))}},{key:"getDataItemPositionY",value:function(e,t,n,r){var i=e.get(t);e.get("stackToItemY")?i=i*r+e.component.getStackedYValueWorking(e,t):i=this._baseValue+(i-this._baseValue)*r;return this.valueToPosition(i)}},{key:"basePosition",value:function(){return this.valueToPosition(this.baseValue())}},{key:"baseValue",value:function(){var e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0)),n=this.get("baseValue",0);return n<e&&(n=e),n>t&&(n=t),n}},{key:"cellEndValue",value:function(e){return e}},{key:"fixSmallStep",value:function(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}},{key:"_fixMin",value:function(e){return e}},{key:"_fixMax",value:function(e){return e}},{key:"_calculateTotals",value:function(){var e=this;if(this.get("calculateTotals")){var t=this.series[0];if(t){var n=t.startIndex();if(t.dataItems.length>0){n>0&&n--;var r,i,o=t.endIndex();o<t.dataItems.length&&o++,t.get("yAxis")==this?(r="valueY",i="vcy"):t.get("xAxis")==this&&(r="valueX",i="vcx");var a=r+"Working";if(r)for(var s=function(t){var n=0,o=0;Wj(e.series,(function(e){if(!e.get("excludeFromTotal")){var r=e.dataItems[t];if(r){var s=r.get(a)*e.get(i);Aj(s)||(n+=s,o+=Math.abs(s))}}})),Wj(e.series,(function(e){if(!e.get("excludeFromTotal")){var s=e.dataItems[t];if(s){var l=s.get(a)*e.get(i);Aj(l)||(s.set(r+"Total",o),s.set(r+"Sum",n),s.set(r+"TotalPercent",l/o*100))}}}))},l=n;l<o;l++)s(l)}}}}},{key:"_getSelectionMinMax",value:function(){var e=this,t=this.getPrivate("minFinal"),n=this.getPrivate("maxFinal"),r=this.get("min"),i=this.get("max"),o=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(o=.1),null==this.get("extraMax")&&(a=.2));var s=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection"),u=this.get("strictMinMax");if(zj(t)&&zj(n)){var c=n,f=t;if(Wj(this.series,(function(t){if(!t.get("ignoreMinMax")){var n,r,i=t.getPrivate("outOfSelection");if(t.get("xAxis")===e){if(!i){var o=t.getPrivate("minX"),a=t.getPrivate("maxX");0==t.startIndex()&&t.endIndex()==t.dataItems.length||(o=void 0,a=void 0),n=t.getPrivate("selectionMinX",o),r=t.getPrivate("selectionMaxX",a)}}else if(t.get("yAxis")===e&&!i){var s=t.getPrivate("minY"),l=t.getPrivate("maxY");0==t.startIndex()&&t.endIndex()==t.dataItems.length||(s=void 0,l=void 0),n=t.getPrivate("selectionMinY",s),r=t.getPrivate("selectionMaxY",l)}t.isHidden()||t.isShowing()||(zj(n)&&(c=Math.min(c,n)),zj(r)&&(f=Math.max(f,r)))}})),this.axisRanges.each((function(e){if(e.get("affectsMinMax")){var t=e.get("value");null!=t&&(c=Math.min(c,t),f=Math.max(f,t)),null!=(t=e.get("endValue"))&&(c=Math.min(c,t),f=Math.max(f,t))}})),c>f){var h=[f,c];c=h[0],f=h[1]}if(zj(r)?c=u?r:t:u&&zj(this._minReal)&&(c=this._minReal),zj(i)?f=u?i:n:u&&zj(this._maxReal)&&(f=this._maxReal),c===f){var d=c;if(c-=this._deltaMinMax,f+=this._deltaMinMax,c<t){var p=d-t;0==p&&(p=this._deltaMinMax),c=d-p,f=d+p,u=!0}var v=this._adjustMinMax(c,f,s,u);c=v.min,f=v.max}var y=c,m=f,b=f-c;c-=b*o,f+=b*a;var g=this._adjustMinMax(c,f,s);c=g.min,f=g.max,c=pC(c,t,n),f=pC(f,t,n),g=this._adjustMinMax(c,f,s,!0),u||(c=g.min,f=g.max);var w=this.get("syncWithAxis");if(w&&((g=this._syncAxes(c,f,g.step,w.getPrivate("selectionMinFinal",w.getPrivate("minFinal",0)),w.getPrivate("selectionMaxFinal",w.getPrivate("maxFinal",1)),w.getPrivate("selectionStepFinal",w.getPrivate("step",1)))).min<t&&(g.min=t),g.max>n&&(g.max=n),c=g.min,f=g.max),u&&(zj(r)&&(c=Math.max(c,r)),zj(i)&&(f=Math.min(f,i))),l&&(c=y-(m-y)*o,f=m+(m-y)*a),u){c=zj(r)?r:y,(f=zj(i)?i:m)-c<=1e-8&&(c-=this._deltaMinMax,f+=this._deltaMinMax);var _=f-c;c-=_*o,f+=_*a}this.get("logarithmic")&&(c<=0&&(c=y*(1-Math.min(o,.99))),c<t&&(c=t),f>n&&(f=n));var k=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),x=cC(this.valueToFinalPosition(c),k),O=cC(this.valueToFinalPosition(f),k);this.setPrivateRaw("selectionMinFinal",c),this.setPrivateRaw("selectionMaxFinal",f),this.setPrivateRaw("selectionStepFinal",g.step),this.zoom(x,O)}}},{key:"_getMinMax",value:function(){var e=this,t=this.get("min"),n=this.get("max"),r=1/0,i=-1/0,o=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(o=.1),null==this.get("extraMax")&&(a=.2));var s=1/0;if(Wj(this.series,(function(t){var n,o;if(!t.get("ignoreMinMax")&&(t.get("xAxis")===e?(n=t.getPrivate("minX"),o=t.getPrivate("maxX")):t.get("yAxis")===e&&(n=t.getPrivate("minY"),o=t.getPrivate("maxY")),zj(n)&&zj(o))){r=Math.min(r,n),i=Math.max(i,o);var a=o-n;a<=0&&(a=Math.abs(o/100)),a<s&&(s=a)}})),this.axisRanges.each((function(e){if(e.get("affectsMinMax")){var t=e.get("value");null!=t&&(r=Math.min(r,t),i=Math.max(i,t)),null!=(t=e.get("endValue"))&&(r=Math.min(r,t),i=Math.max(i,t))}})),this.get("logarithmic")){var l=this.get("treatZeroAs");zj(l)&&r<=0&&(r=l),r<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(0===r&&0===i&&(i=.9,r=-.9),zj(t)&&(r=t),zj(n)&&(i=n),r===1/0||i===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);if(r>i){var u=[i,r];r=u[0],i=u[1]}var c=r,f=i,h=this.adapters.fold("min",r),d=this.adapters.fold("max",i);this._minRealLog=r,zj(h)&&(r=h),zj(d)&&(i=d),r=this._fixMin(r),(i=this._fixMax(i))-r<=1/Math.pow(10,15)&&(i-r!=0?this._deltaMinMax=(i-r)/2:this._getDelta(i),r-=this._deltaMinMax,i+=this._deltaMinMax),i+=(i-(r-=(i-r)*o))*a,this.get("logarithmic")&&(r<0&&c>=0&&(r=0),i>0&&f<=0&&(i=0)),this._minReal=r,this._maxReal=i;var p=this.get("strictMinMax"),v=this.get("strictMinMaxSelection",!1);v&&(p=v);var y=p;zj(n)&&(y=!0);var m=this.get("renderer").gridCount(),b=this._adjustMinMax(r,i,m,y);if(r=b.min,i=b.max,b=this._adjustMinMax(r,i,m,!0),r=b.min,i=b.max,p){r=zj(t)?t:this._minReal,(i=zj(n)?n:this._maxReal)-r<=1e-8&&(r-=this._deltaMinMax,i+=this._deltaMinMax);var g=i-r;r-=g*o,i+=g*a}h=this.adapters.fold("min",r),d=this.adapters.fold("max",i),zj(h)&&(r=h),zj(d)&&(i=d),s==1/0&&(s=i-r);var w=Math.round(Math.abs(Math.log(Math.abs(i-r))*Math.LOG10E))+5;r=cC(r,w),i=cC(i,w);var _=this.get("syncWithAxis");if(_&&(b=this._syncAxes(r,i,b.step,_.getPrivate("minFinal",_.getPrivate("min",0)),_.getPrivate("maxFinal",_.getPrivate("max",1)),_.getPrivate("step",1)),r=b.min,i=b.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((i-r)/s*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=r,r=this._minReal,i=this._maxReal,r<=0&&(r=c*(1-Math.min(o,.99)))),zj(r)&&zj(i)&&(this.getPrivate("minFinal")!==r||this.getPrivate("maxFinal")!==i)){this.setPrivate("minFinal",r),this.setPrivate("maxFinal",i),this._saveMinMax(r,i);var k=this.get("interpolationDuration",0),x=this.get("interpolationEasing");this.animatePrivate({key:"min",to:r,duration:k,easing:x}),this.animatePrivate({key:"max",to:i,duration:k,easing:x})}}},{key:"_fixZoomFactor",value:function(){}},{key:"_getDelta",value:function(e){var t=Math.log(Math.abs(e))*Math.LOG10E,n=Math.pow(10,Math.floor(t));n/=10,this._deltaMinMax=n}},{key:"_saveMinMax",value:function(e,t){}},{key:"_adjustMinMax",value:function(e,t,n,r){n<=1&&(n=1),n=Math.round(n);var i=e,o=t,a=t-e;0===a&&(a=Math.abs(t));var s=Math.log(Math.abs(a))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),u=l/=10;r&&(u=0),r?(e=Math.floor(e/l)*l,t=Math.ceil(t/l)*l):(e=Math.ceil(e/l)*l-u,t=Math.floor(t/l)*l+u),e<0&&i>=0&&(e=0),t>0&&o<=0&&(t=0),s=Math.log(Math.abs(a))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),l/=100;var c=Math.ceil(a/n/l)*l,f=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),h=Math.ceil(c/f);h>5?h=10:h<=5&&h>2&&(h=5),c=Math.ceil(c/(f*h))*f*h;var d=this.get("maxPrecision");if(zj(d)){var p=fC(c,d);d<Number.MAX_VALUE&&c!==p&&0==(c=p)&&(c=1)}var v=0;f<1&&(c=cC(c,v=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1));var y,m=Math.floor(e/c);return e=cC(c*m,v),(y=r?Math.floor(t/c):Math.ceil(t/c))===m&&y++,(t=cC(c*y,v))<o&&(t+=c),e>i&&(e-=c),{min:e,max:t,step:c=this.fixSmallStep(c)}}},{key:"getTooltipText",value:function(e,t){var n=this.get("tooltipNumberFormat",this.get("numberFormat")),r=this.getNumberFormatter(),i=this.get("extraTooltipPrecision",0),o=this.getPrivate("stepDecimalPlaces",0)+i,a=cC(this.positionToValue(e),o);return n?r.format(a,n):r.format(a,void 0,o)}},{key:"getSeriesItem",value:function(e,t){var n,r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),i=this.positionToValue(t),o=void 0;if(Wj(e.dataItems,(function(e,t){var a=Math.abs(e.get(r)-i);(void 0===o||a<n)&&(o=t,n=a)})),null!=o)return e.dataItems[o]}},{key:"zoomToValues",value:function(e,t,n){var r=this.getPrivate("minFinal",0),i=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((e-r)/(i-r),(t-r)/(i-r),n)}},{key:"_syncAxes",value:function(e,t,n,r,i,o){if(this.get("syncWithAxis")){var a=Math.round(i-r)/o,s=Math.round((t-e)/n),l=this.get("renderer").gridCount();if(zj(a)&&zj(s))for(var u=!1,c=0,f=.01*(t-e),h=e,d=t,p=n;1!=u;)if(u=this._checkSync(h,d,p,a),++c>500&&(u=!0),u)e=h,t=d,n=p;else{c/3==Math.round(c/3)?(h=e-f*c,e>=0&&h<0&&(h=0)):(d=t+f*c)<=0&&d>0&&(d=0);var v=this._adjustMinMax(h,d,l,!0);h=v.min,d=v.max,p=v.step}}return{min:e,max:t,step:n}}},{key:"_checkSync",value:function(e,t,n,r){for(var i=(t-e)/n,o=1;o<r;o++)if(cC(i/o,1)==r||i*o==r)return!0;return!1}},{key:"getCellWidthPosition",value:function(){var e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return zj(e)&&zj(t)?this.getPrivate("step",1)/(e-t):.05}},{key:"nextPosition",value:function(e){null==e&&(e=1),"Y"==this.get("renderer").getPrivate("letter")&&(e*=-1);var t=this.positionToValue(this.getPrivate("tooltipPosition",0));return t=pC(t+=this.getPrivate("step",1)*e,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(t))}}])}(b$);function T$(e){return T$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T$(e)}function D$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A$(r.key),r)}}function A$(e){var t=function(e,t){if("object"!=T$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T$(t)?t:t+""}function C$(e,t,n){return t=I$(t),function(e,t){if(t&&("object"==T$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M$()?Reflect.construct(t,n||[],I$(e).constructor):t.apply(e,n))}function M$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M$=function(){return!!e})()}function L$(e,t,n,r){var i=R$(I$(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function R$(){return R$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=I$(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},R$.apply(null,arguments)}function I$(e){return I$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I$(e)}function N$(e,t){return N$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N$(e,t)}Object.defineProperty(j$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(j$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b$.classNames.concat([j$.className])});var B$=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=C$(this,t,arguments),Object.defineProperty(e,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N$(e,t)}(t,e),function(e,t,n){return t&&D$(e.prototype,t),n&&D$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),L$(t,"_afterNew",this,3)([])}},{key:"_prepareChildren",value:function(){var e=this;L$(t,"_prepareChildren",this,3)([]);var n=this.dataItems.length,r=0;this._valuesDirty&&(this._itemMap={},Wj(this.dataItems,(function(t){t.setRaw("index",r),e._itemMap[t.get("category")]=t,r++})),this.setPrivateRaw("maxZoomFactor",n)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*n),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*n),n)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}},{key:"_handleRangeChange",value:function(){var e=this;Wj(this.series,(function(n){var r=e.dataItems[e.startIndex()].get("category"),i=e.dataItems[e.endIndex()-1].get("category"),o=n.get("baseAxis"),a=n.get("xAxis"),s=n.get("yAxis");if(a instanceof t&&s instanceof t)n._markDirtyAxes();else if(o===e){var l,u,c=s;if(a===o?(n.get("categoryXField")&&(l="categoryX"),n.get("openCategoryXField")&&(u="openCategoryX")):s===o&&(n.get("categoryYField")&&(l="categoryY"),n.get("openCategoryYField")&&(u="openCategoryY"),c=a),c instanceof j$&&(l||u)){for(var f,h,d=0,p=n.dataItems.length;d<p;d++){var v=n.dataItems[d];if(l&&v.get(l)===r){f=v;break}if(u&&v.get(u)===r){f=v;break}}for(var y=n.dataItems.length-1;y>=0;y--){var m=n.dataItems[y];if(l&&m.get(l)===i){h=m;break}if(u&&m.get(u)===i){h=m;break}}var b=0,g=n.dataItems.length;f&&(b=n.dataItems.indexOf(f)),h&&(g=n.dataItems.indexOf(h)+1),n.setPrivate("startIndex",b),n.setPrivate("endIndex",g);for(var w=!1,_=function(){var e=n.dataItems[k];if(Wj(n.__valueXShowFields,(function(t){null!=e.get(t)&&(w=!0)})),Wj(n.__valueYShowFields,(function(t){null!=e.get(t)&&(w=!0)})),w)return 1},k=b;k<g&&!_();k++);n.setPrivate("outOfSelection",!w)}n._markDirtyAxes()}}))}},{key:"_prepareAxisItems",value:function(){var e,t=this.get("renderer"),n=this.dataItems.length,r=this.startIndex();r>0&&r--;var i=this.endIndex();i<n&&i++;var o=t.get("minorLabelsEnabled"),a=t.get("minorGridEnabled",o),s=t.axisLength()/Math.max(t.get("minGridDistance"),1),l=Math.max(1,Math.min(n,Math.ceil((i-r)/s)));r=Math.floor(r/l)*l,this._frequency=l;for(var u=0;u<n;u++)this._toggleDataItem(this.dataItems[u],!1);for(var c=this.dataItems[r].get("index",0),f=r;f<i;f+=l){var h=this.dataItems[f];this._createAssets(h,[]),this._toggleDataItem(h,!0);var d=l;a&&(d=1),this._prepareDataItem(h,c,d),c++}if(t.get("minorGridEnabled"))for(var p=r;p<i;p++){var v=this.dataItems[p];p%l!=0&&(this._createAssets(v,["minor"],!0),this._toggleDataItem(v,!0),this._prepareDataItem(v,0,1),o||null===(e=v.get("label"))||void 0===e||e.setPrivate("visible",!1))}this._updateGhost()}},{key:"_prepareDataItem",value:function(e,t,n){var r=this.get("renderer"),i=e.get("categoryLocation",0),o=e.get("endCategoryLocation",1),a=e.get("index");zj(a)||(a=this.categoryToIndex(e.get("category")));var s,l=this.indexToPosition(a,i),u=e.get("endCategory");u&&zj(s=this.categoryToIndex(u))||(s=a);var c,f,h=this.indexToPosition(s,o);c=e.get("isRange")?s:a+this._frequency-1,f=this.indexToPosition(c,o),r.updateLabel(e.get("label"),l,h,n),r.updateGrid(e.get("grid"),l,h),r.updateTick(e.get("tick"),l,h,n),r.updateFill(e.get("axisFill"),l,f),this._processBullet(e),r.updateBullet(e.get("bullet"),l,h);var d=this.get("fillRule");d&&d(e,t)}},{key:"startIndex",value:function(){var e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}},{key:"endIndex",value:function(){var e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}},{key:"baseValue",value:function(){}},{key:"basePosition",value:function(){return 0}},{key:"getX",value:function(e){var t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}},{key:"getY",value:function(e){var t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}},{key:"getDataItemPositionX",value:function(e,t,n,r){var i=e.get(t),o=this._itemMap[i];return o?this.indexToPosition(o.get("index",0),n):NaN}},{key:"getDataItemCoordinateX",value:function(e,t,n,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,n,r))}},{key:"getDataItemPositionY",value:function(e,t,n,r){var i=e.get(t),o=this._itemMap[i];return o?this.indexToPosition(o.get("index",0),n):NaN}},{key:"getDataItemCoordinateY",value:function(e,t,n,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,n,r))}},{key:"indexToPosition",value:function(e,t){zj(t)||(t=.5);var n=this.dataItems.length,r=this.get("startLocation",0);n-=r;var i=(e+t-r)/(n-=1-this.get("endLocation",1)),o=this.dataItems[e];return o&&(i+=o.get("deltaPosition",0)),i}},{key:"categoryToIndex",value:function(e){var t=this._itemMap[e];return t?t.get("index"):NaN}},{key:"dataItemToPosition",value:function(e){return this.indexToPosition(e.get("index"))}},{key:"roundAxisPosition",value:function(e,t){return e+=(.5-t)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),t)}},{key:"axisPositionToIndex",value:function(e){var t=this.dataItems.length;return pC(Math.floor(e*t),0,t-1)}},{key:"getTooltipText",value:function(e,t){var n=this.dataItems[this.axisPositionToIndex(e)];if(n){var r=n.get("label");if(r)return RR(r,this.get("tooltipText",""))}}},{key:"_updateTooltipText",value:function(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}},{key:"getSeriesItem",value:function(e,t){if(this.dataItems.length>0){var n=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.axisPositionToIndex(t),i=e.dataItems[r],o=this.dataItems[r],a=o.get("category");if(i&&o&&i.get(n)===a)return i;for(var s=0,l=e.dataItems.length;s<l;s++){var u=e.dataItems[s];if(u.get(n)===a)return u}}}},{key:"zoomToIndexes",value:function(e,t,n){var r=this.dataItems.length;this.zoom(e/r,t/r,n)}},{key:"zoomToCategories",value:function(e,t,n){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,n)}},{key:"getCellWidthPosition",value:function(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}},{key:"nextPosition",value:function(e){null==e&&(e=1),"Y"==this.get("renderer").getPrivate("letter")&&(e*=-1);var t=this.getPrivate("tooltipPosition",0),n=pC(this.axisPositionToIndex(t)+e,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(n))}}])}(b$);function F$(e){return F$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F$(e)}function z$(){return z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z$.apply(null,arguments)}function V$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q$(r.key),r)}}function q$(e){var t=function(e,t){if("object"!=F$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F$(t)?t:t+""}function H$(e,t,n){return t=G$(t),function(e,t){if(t&&("object"==F$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Y$()?Reflect.construct(t,n||[],G$(e).constructor):t.apply(e,n))}function Y$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y$=function(){return!!e})()}function U$(){return U$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=G$(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},U$.apply(null,arguments)}function G$(e){return G$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G$(e)}function X$(e,t){return X$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X$(e,t)}Object.defineProperty(B$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(B$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b$.classNames.concat([B$.className])});var W$=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=H$(this,t,arguments),Object.defineProperty(e,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X$(e,t)}(t,e),function(e,t,n){return t&&V$(e.prototype,t),n&&V$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["axis"]),this.fields.push("category"),function(e,t,n,r){var i=U$(G$(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([])}},{key:"_prepareAxisItems",value:function(){var e=this;this.setPrivateRaw("baseInterval",this.get("baseInterval"));var t=this.get("renderer"),n=this.dataItems.length,r=this.startIndex();r>0&&r--;var i=this.endIndex();i<n&&i++;var o=t.axisLength()/Math.max(t.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),a=Math.min(n,Math.ceil((i-r)/o));r=Math.floor(r/a)*a,this._frequency=a;for(var s=0;s<n;s++)this._toggleDataItem(this.dataItems[s],!1);var l=Number(this.dataItems[r].get("category")),u=Number(this.dataItems[i-1].get("category")),c=u-l;i-r<o&&(c=u-l-((u-l)/this.baseDuration()-(i-r))*this.baseDuration());var f=jq(0,c,o,this.get("gridIntervals")),h=mq(f.timeUnit),d=this.getPrivate("baseInterval");gq(f)<this.baseDuration()&&(f=z$({},d));for(var p,v=this.get("dateFormats"),y=-1/0,m=-1/0,b=-1/0,g=[],w=!1,_=r;_<i;_++){var k=this.dataItems[_],x=k.get("index"),O=!1,P=Number(k.get("category")),S=Tq(new Date(P),f.timeUnit);p=v[f.timeUnit];var E=!1;"year"!=f.timeUnit&&"week"!=f.timeUnit&&h&&this.get("markUnitChange")&&zj(y)&&Oq(P,y,h,this._root.utc)&&(p=this.get("periodChangeDateFormats")[f.timeUnit],x-.5*a<m&&g.pop(),g.push({format:p,dataItem:k}),w=!0,E=!0,m=x,b=S);var j=!1;"day"===f.timeUnit||"week"===f.timeUnit?x-m>=a&&(j=!0):S%f.count==0&&S!=b&&(j=!0),!E&&j&&(x-.7*a<m&&w&&(O=!0),O||(g.push({format:p,dataItem:k}),m=x,b=S),w=!1),y=P}if(g.length>0){var T=g[0].dataItem.get("index",0);Wj(g,(function(t){var n=t.dataItem,r=t.format;e._createAssets(n,[]),e._toggleDataItem(n,!0);var i=Number(n.get("category")),o=new Date(i),s=n.get("label");s&&s.set("text",e._root.dateFormatter.format(o,r)),T++,e._prepareDataItem(n,T,a)}))}}},{key:"baseDuration",value:function(){return gq(this.getPrivate("baseInterval"))}},{key:"getTooltipText",value:function(e,t){var n=this.dataItems[this.axisPositionToIndex(e)];if(n){var r=this.get("dateFormats")[this.getPrivate("baseInterval").timeUnit];return this._root.dateFormatter.format(new Date(n.get("category",0)),this.get("tooltipDateFormat",r))}}},{key:"_updateTooltipText",value:function(e,t){e.label.set("text",this.getTooltipText(t))}}])}(B$);function $$(e){return $$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$$(e)}function K$(){return K$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K$.apply(null,arguments)}function Z$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J$(r.key),r)}}function J$(e){var t=function(e,t){if("object"!=$$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$$(t)?t:t+""}function Q$(e,t,n){return t=rK(t),function(e,t){if(t&&("object"==$$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eK()?Reflect.construct(t,n||[],rK(e).constructor):t.apply(e,n))}function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eK=function(){return!!e})()}function tK(e,t,n,r){var i=nK(rK(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function nK(){return nK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=rK(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nK.apply(null,arguments)}function rK(e){return rK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rK(e)}function iK(e,t){return iK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iK(e,t)}Object.defineProperty(W$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryDateAxis"}),Object.defineProperty(W$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:B$.classNames.concat([W$.className])});var oK=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=Q$(this,t,arguments),Object.defineProperty(e,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iK(e,t)}(t,e),function(e,t,n){return t&&Z$(e.prototype,t),n&&Z$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;this._settings.themeTags=dA(this._settings.themeTags,["axis"]),tK(t,"_afterNew",this,3)([]),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",(function(){e._setBaseInterval(e.get("baseInterval"))}))}},{key:"_setBaseInterval",value:function(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=gq(e)}},{key:"_fixZoomFactor",value:function(){var e=this.get("maxZoomFactor");null!=e&&e!=1/0?this.setPrivateRaw("maxZoomFactor",e):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}},{key:"_groupData",value:function(){var e=this,t=this.getPrivate("min"),n=this.getPrivate("max");if(zj(t)&&zj(n)){this._fixZoomFactor();var r=this.getPrivate("groupInterval");if(r?this._setBaseInterval(r):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){var i=this.get("groupInterval");i&&(this.setRaw("groupIntervals",[i]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))Wj(this.series,(function(t){e._groupSeriesData(t)})),this._handleRangeChange();else{var o=this.get("baseInterval"),a=o.timeUnit+o.count;Wj(this.series,(function(e){e.setDataSet(a),e.resetGrouping()})),this._setBaseInterval(o),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}},{key:"_groupSeriesData",value:function(e){var t=this;if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;var n=[],r=this.baseMainDuration(),i=this.get("groupIntervals");Wj(i,(function(e){gq(e)>r&&n.push(e)})),e._dataSets={};var o,a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=e.get("baseAxis");e.get("xAxis")===s?o=e._valueYFields:e.get("yAxis")===s&&(o=e._valueXFields);var l=e._mainDataItems,u=this.get("baseInterval"),c=u.timeUnit+u.count;e._dataSets[c]=l;var f=e.get("groupDataCallback"),h=e.get("groupDataWithOriginals",!1);f&&(h=!0),Wj(n,(function(n){var r,i=-1/0,s=n.timeUnit+n.count;e._dataSets[s]=[];var u={},c={},d={},p={};Wj(o,(function(t){u[t]=0,c[t]=0,d[t]=e.get(t+"Grouped"),p[t]=t+"Working"}));var v,y,m=bq(n.timeUnit);l[0]&&(v=l[0].get(a)),Wj(l,(function(l){var b,g=Sq(l.get(a),n.timeUnit,n.count,t._root,v);i<g-m/24?(b=ET(l.dataContext),(r=new bV(e,b,e._makeDataItem(b))).setRaw(a,g),e._dataSets[s].push(r),Wj(o,(function(e){var t=l.get(e);zj(t)?(r.setRaw(e,t),r.setRaw(p[e],t),c[e]=1,u[e]=t):(u[e]=0,c[e]=0)})),h&&r.set("originals",[l]),f&&y&&f(y,n),y=r):(Wj(o,(function(e){var t=d[e],n=l.get(e);if(null!=n){var i=r.get(e);switch(t){case"close":r.setRaw(e,n);break;case"sum":r.setRaw(e,i+n);break;case"open":break;case"low":n<i&&r.setRaw(e,n);break;case"high":n>i&&r.setRaw(e,n);break;case"average":c[e]++,u[e]+=n;var o=u[e]/c[e];r.setRaw(e,o);break;case"extreme":Math.abs(n)>Math.abs(i)&&r.setRaw(e,n)}r.setRaw(p[e],r.get(e));var s=ET(l.dataContext);s[a]=g,r.dataContext=s}})),h&&r.get("originals").push(l)),i=g})),f&&y&&f(y,n)})),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",(function(){t.markDirtySize()}))}}},{key:"_clearDirty",value:function(){tK(t,"_clearDirty",this,3)([]),this._groupingCalculated=!1,this._dataGrouped=!1}},{key:"getGroupInterval",value:function(e){var t=this.get("baseInterval"),n=jq(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return gq(n)<gq(t)&&(n=K$({},t)),n}},{key:"getIntervalMax",value:function(e){return this._intervalMax[e.timeUnit+e.count]}},{key:"getIntervalMin",value:function(e){return this._intervalMin[e.timeUnit+e.count]}},{key:"_handleRangeChange",value:function(){var e=this;tK(t,"_handleRangeChange",this,3)([]);var n=Math.round(this.getPrivate("selectionMin")),r=Math.round(this.getPrivate("selectionMax"));if(zj(n)&&zj(r)){if(0==this.get("endLocation")&&(r+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;var i=this.get("groupInterval"),o=this.getPrivate("groupInterval"),a=r-n+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(o){var s=gq(o);a=Math.ceil(a/s)*s}if(i||(i=this.getGroupInterval(a)),i&&(!o||o.timeUnit!==i.timeUnit||o.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);var l=i.timeUnit+i.count;Wj(this.series,(function(t){t.get("baseAxis")===e&&t.setDataSet(l)})),this.markDirtyExtremes(),this._root.events.once("frameended",(function(){e._root.events.once("frameended",(function(){var t="groupintervalchanged";e.events.isEnabled(t)&&e.events.dispatch(t,{type:t,target:e})}))}))}}Wj(this.series,(function(t){if(t.get("baseAxis")===e){var i=e.getPrivate("name")+e.get("renderer").getPrivate("letter"),o=kT(t.dataItems,(function(e){return gM(e.get(i),n)})).index;o>0&&(o-=1),r+=e.baseDuration()*(1-e.get("endLocation",1));var a=_T(t.dataItems,(function(e){return gM(e.get(i),r)})).index,s=a;s>1&&s--;var l,u,c=t.dataItems[o],f=t.dataItems[s];c&&(u=c.get(i)),f&&(l=f.get(i));var h=!1;null!=l&&null!=u&&(l<n||u>r)&&(h=!0),t.setPrivate("outOfSelection",h),t.setPrivate("startIndex",o),t.setPrivate("adjustedStartIndex",t._adjustStartIndex(o)),t.setPrivate("endIndex",a),e.root.events.once("frameended",(function(){t._markDirtyPrivateKey("adjustedStartIndex")}))}}))}}},{key:"_adjustMinMax",value:function(e,t,n,r){return{min:e,max:t,step:(t-e)/n}}},{key:"intervalDuration",value:function(){return this._intervalDuration}},{key:"_saveMinMax",value:function(e,t){var n=this.getPrivate("groupInterval");n||(n=this.get("baseInterval"));var r=n.timeUnit+n.count;this._intervalMin[r]=e,this._intervalMax[r]=t}},{key:"_getM",value:function(e){return"month"==e||"year"==e||"day"==e?1.05:1.01}},{key:"_getMinorInterval",value:function(e){var t,n,r=e.count,i=e.timeUnit;return r>1&&(10==r||15==r?r=5:12==r?r=2:6==r?r=1:30==r?r=10:r<10&&(r=1),n={timeUnit:i,count:r}),"week"==i&&(n="week"!=(null===(t=this.getPrivate("baseInterval"))||void 0===t?void 0:t.timeUnit)?{timeUnit:"day",count:1}:{timeUnit:"week",count:1}),n}},{key:"_prepareAxisItems",value:function(){var e=this.getPrivate("min"),t=this.getPrivate("max");if(zj(e)&&zj(t)){var n=this._root,r=Math.round(this.getPrivate("selectionMin")),i=Math.round(this.getPrivate("selectionMax")),o=this.get("renderer"),a=this.getPrivate("baseInterval"),s=r,l=0,u=this.get("gridIntervals"),c=jq(0,i-r,o.gridCount(),u);gq(c)<this.baseDuration()&&(c=K$({},a));var f=gq(c);this._intervalDuration=f;var h,d=mq(c.timeUnit),p=n.utc,v=n.timezone,y=(s=Sq(r-f,c.timeUnit,c.count,n,e))-f,m=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);var b,g=o.get("minorLabelsEnabled"),w=o.get("minorGridEnabled",g),_=0;w&&(_=gq(b=this._getMinorInterval(c)));for(var k=0;s<i+f;){var x=void 0;this.dataItems.length<l+1?(x=new bV(this,void 0,{}),this._dataItems.push(x),this.processDataItem(x)):x=this.dataItems[l],this._createAssets(x,[]),this._toggleDataItem(x,!0),x.setRaw("value",s),x.setRaw("labelEndValue",void 0);var O=s+bq(c.timeUnit,c.count*this._getM(c.timeUnit));O=Sq(O,c.timeUnit,1,n),x.setRaw("endValue",O);var P=new Date(s);h=m[c.timeUnit],d&&this.get("markUnitChange")&&zj(y)&&"year"!=c.timeUnit&&Oq(s,y,d,p,v)&&(h=this.get("periodChangeDateFormats")[c.timeUnit]);var S=x.get("label");S&&S.set("text",n.dateFormatter.format(P,h));var E=c.count;if("week"==c.timeUnit&&x.setRaw("labelEndValue",s),w){E=1;var j=c.timeUnit;"week"==j&&(j="day");var T=s+bq(j,this._getM(j));T=Sq(T,j,1,n),x.setRaw("labelEndValue",T)}if(this._prepareDataItem(x,E),y=s,s=O,b)for(var D=b.timeUnit,A=b.count,C=this._getM(D),M=Sq(y+_*C,D,A,n,y),L=void 0,R=this.get("minorDateFormats",this.get("dateFormats"));M<s-.01*_;){var I=void 0;this.minorDataItems.length<k+1?(I=new bV(this,void 0,{}),this.minorDataItems.push(I),this.processDataItem(I)):I=this.minorDataItems[k],this._createAssets(I,["minor"],!0),this._toggleDataItem(I,!0),I.setRaw("value",M);var N=M+bq(D,A*C);N=Sq(N,D,1,n),I.setRaw("endValue",N);var B=new Date(M);h=R[D];var F=I.get("label");if(F&&(g?F.set("text",n.dateFormatter.format(B,h)):F.setPrivate("visible",!1)),this._prepareDataItem(I,1),M==L)break;L=M,M=N,k++}if(s==y)break;l++}for(var z=l;z<this.dataItems.length;z++)this._toggleDataItem(this.dataItems[z],!1);for(var V=k;V<this.minorDataItems.length;V++)this._toggleDataItem(this.minorDataItems[V],!1);Wj(this.series,(function(e){e.inited&&e._markDirtyAxes()}))}this._updateGhost()}},{key:"_updateFinals",value:function(e,t){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(t))}},{key:"_getDelta",value:function(){this._deltaMinMax=this.baseDuration()/2}},{key:"_fixMin",value:function(e){var t=this.getPrivate("baseInterval"),n=t.timeUnit,r=Sq(e,n,t.count,this._root),i=r+bq(n,t.count*this._getM(n));return r+((i=Sq(i,n,1,this._root))-r)*this.get("startLocation",0)}},{key:"_fixMax",value:function(e){var t=this.getPrivate("baseInterval"),n=t.timeUnit,r=Sq(e,n,t.count,this._root),i=r+bq(n,t.count*this._getM(n));return r+((i=Sq(i,n,1,this._root))-r)*this.get("endLocation",1)}},{key:"_updateDates",value:function(e,t){}},{key:"baseDuration",value:function(){return this._baseDuration}},{key:"baseMainDuration",value:function(){return gq(this.get("baseInterval"))}},{key:"processSeriesDataItem",value:function(e,t){var n=this,r=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),Wj(t,(function(t){var i=e.get(t);if(zj(i)){var o=e.open[t],a=e.close[t];if(i>=o&&i<=a);else{var s=r.timeUnit,l=r.count;o=Sq(i,s,l,n._root),a=Sq(a=o+bq(s,l*n._getM(s)),s,1,n._root),e.open[t]=o,e.close[t]=a}n._updateDates(o,e.component)}}))}},{key:"_handleSizeDirty",value:function(){}},{key:"getDataItemPositionX",value:function(e,t,n,r){var i,o;e.open&&e.close?(i=e.open[t],o=e.close[t]):o=i=e.get(t);var a=i+(o-i)*n;return a=this._baseValue+(a-this._baseValue)*r,this.valueToPosition(a)}},{key:"getDataItemCoordinateX",value:function(e,t,n,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,n,r))}},{key:"getDataItemPositionY",value:function(e,t,n,r){var i,o;e.open&&e.close?(i=e.open[t],o=e.close[t]):o=i=e.get(t);var a=i+(o-i)*n;return a=this._baseValue+(a-this._baseValue)*r,this.valueToPosition(a)}},{key:"getDataItemCoordinateY",value:function(e,t,n,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,n,r))}},{key:"roundAxisPosition",value:function(e,t){var n=this.positionToValue(e);n-=(t-.5)*this.baseDuration();var r=this.getPrivate("baseInterval");if(!Aj(n)){var i=this._root.locale.firstDayOfWeek,o=r.timeUnit,a=this._root.utc,s=this._root.timezone,l=r.count;n=Sq(n,o,l,this._root,this.getPrivate("min",0));var u=wq(r,new Date(n),i,a,s);return s&&(n=Sq(n+.05*this.baseDuration(),o,l,this._root,this.getPrivate("min",0)),u=wq(r,new Date(n+u*t),i,a,s)),this.valueToPosition(n+u*t)}return NaN}},{key:"getTooltipText",value:function(e,t){if(null!=this.getPrivate("min")){var n=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],r=this.positionToValue(e);if(zj(r)){var i=new Date(r),o=wq(this.getPrivate("baseInterval"),i,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==t&&(i=new Date(r+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(i,this.get("tooltipDateFormat",n))}}return""}},{key:"getSeriesItem",value:function(e,t,n,r){var i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.positionToValue(t);null==n&&(n=.5),o-=(n-.5)*this.baseDuration();var a=_T(e.dataItems,(function(e){var t=0;return e.open&&(t=e.open[i]),gM(t,o)}));if(r||e.get("snapTooltip")){var s=e.dataItems[a.index-1],l=e.dataItems[a.index];if(s&&l&&s.open&&l.close){var u=s.open[i],c=l.close[i];if(Math.abs(o-u)>Math.abs(o-c))return l}if(s)return s;if(l)return l}else{var f=e.dataItems[a.index-1];if(f&&f.open&&f.close){var h=f.open[i],d=f.close[i];if(o>=h&&o<=d)return f}}}},{key:"shouldGap",value:function(e,t,n,r){var i=e.get(r);return t.get(r)-i>this.baseDuration()*n}},{key:"zoomToDates",value:function(e,t,n){this.zoomToValues(e.getTime(),t.getTime(),n)}},{key:"zoomToValues",value:function(e,t,n){var r=this.getPrivate("minFinal",0),i=this.getPrivate("maxFinal",0);if(null!=this.getPrivate("min")&&null!=this.getPrivate("max"))if(this.get("groupData")){var o=this.getGroupInterval(t-e),a=this.get("baseInterval"),s=this.getIntervalMin(a),l=this.getIntervalMax(a)-1;l=Sq(l,o.timeUnit,o.count,this.root),l=Sq(l+=this._getM(o.timeUnit)*gq(o),o.timeUnit,o.count,this.root);var u=Sq(s,o.timeUnit,o.count,this.root),c=Sq(l,o.timeUnit,o.count,this.root),f=(e-u)/(c-u),h=(t-u)/(c-u);this.zoom(f,h,n)}else this.zoom((e-r)/(i-r),(t-r)/(i-r),n)}},{key:"positionToDate",value:function(e){return new Date(this.positionToValue(e))}},{key:"dateToPosition",value:function(e){return this.valueToPosition(e.getTime())}},{key:"getCellWidthPosition",value:function(){var e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return zj(e)&&zj(t)?this._intervalDuration/(e-t):.05}},{key:"nextPosition",value:function(e){null==e&&(e=1);var t=this.get("tooltipLocation",.5)*this.baseDuration();"Y"==this.get("renderer").getPrivate("letter")&&(e*=-1);var n=this.positionToValue(this.getPrivate("tooltipPosition",0)),r=this.getPrivate("baseInterval"),i=this._nextTime(n,e,r),o=this.getPrivate("selectionMin",0),a=this.getPrivate("selectionMax",0);return i=pC(i+=t,Sq(o,r.timeUnit,r.count,this._root)+t,Sq(a,r.timeUnit,r.count,this._root)-t),this.toGlobalPosition(this.valueToPosition(i))}},{key:"_nextTime",value:function(e,t,n){return Sq(e+t*this.baseDuration(),n.timeUnit,n.count,this._root)}}])}(j$);function aK(e){return aK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aK(e)}function sK(){return sK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sK.apply(null,arguments)}function lK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uK(r.key),r)}}function uK(e){var t=function(e,t){if("object"!=aK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aK(t)?t:t+""}function cK(e,t,n){return t=dK(t),function(e,t){if(t&&("object"==aK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fK()?Reflect.construct(t,n||[],dK(e).constructor):t.apply(e,n))}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fK=function(){return!!e})()}function hK(){return hK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=dK(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hK.apply(null,arguments)}function dK(e){return dK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dK(e)}function pK(e,t){return pK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pK(e,t)}Object.defineProperty(oK,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(oK,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:j$.classNames.concat([oK.className])});var vK=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=cK(this,t,arguments),Object.defineProperty(e,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_m",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_dates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_customDates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pK(e,t)}(t,e),function(e,t,n){return t&&lK(e.prototype,t),n&&lK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this.valueFields.push("date"),function(e,t,n,r){var i=hK(dK(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([])}},{key:"_getDates",value:function(){return this._customDates?this._customDates:this._dates}},{key:"_updateDates",value:function(e,t){if(!t.get("ignoreMinMax")){var n=this._getDates(),r=_T(n,(function(t){return gM(t,e)}));r.found||dT(n,r.index,e)}}},{key:"_updateAllDates",value:function(){var e=this;if(!this._customDates){var t=this._dates;t.length=0,Wj(this.series,(function(t){var n="valueX";t.get("yAxis")==e&&(n="valueY"),Wj(t.dataItems,(function(r){zj(r.get(n))&&r.open&&e._updateDates(r.open[n],t)}))}));var n=this.get("extraMax",0),r=this.get("extraMin",0),i=t.length,o=this.getPrivate("baseInterval"),a=o.count,s=o.timeUnit;if(n>0){var l=i*n,u=t[i-1];if(zj(u))for(var c=i-1;c<i+l;c++)u=Sq(u+=bq(s,a*this._getM(s)),s,a,this._root),t.push(u)}if(r>0){var f=i*r,h=t[0];if(zj(h))for(var d=0;d<f;d++)h=Sq(h-=bq(s,a),s,a,this._root),t.unshift(h)}}}},{key:"valueToPosition",value:function(e){var t=this._getDates(),n=this.get("startLocation",0),r=this.get("endLocation",1),i=t.length-n-(1-r),o=_T(t,(function(t){return gM(t,e)})),a=o.index;if(o.found)return(a-n)/i;a>0&&(a-=1);var s=t[a],l=t[a+1];if(l){var u=l;Math.abs(u-e)<Math.abs(s-e)&&(s=u,a++)}return(a-n)/i+(e-s)/this.baseDuration()/i}},{key:"valueToIndex",value:function(e){var t=_T(this._getDates(),(function(t){return gM(t,e)})),n=t.index;return t.found||n>0&&(n-=1),n}},{key:"positionToValue",value:function(e){var t=this.get("startLocation",0),n=this.get("endLocation",1),r=this._getDates(),i=Math.round(r.length-t-(1-n)),o=e*i,a=Math.floor(o);return a<0&&(a=0),a>i-1&&(a=i-1),r[a]+(o-a+t)*this.baseDuration()}},{key:"_fixZoomFactor",value:function(){this.setPrivateRaw("maxZoomFactor",this._getDates().length-this.get("startLocation",0)-(1-this.get("endLocation",1)))}},{key:"zoomToDates",value:function(e,t,n){var r=this._getDates(),i=r.length,o=_T(r,(function(t){return gM(t,e.getTime())})),a=r[Math.min(o.index,i-1)];o=_T(r,(function(e){return gM(e,t.getTime())}));var s=r[o.index];o.index>=i&&(s=r[i-1]+this.baseDuration()),this.zoomToValues(a,s,n)}},{key:"zoomToValues",value:function(e,t,n){var r=this.getPrivate("min",0),i=this.getPrivate("max",0);e=pC(e,r,i),t=pC(t,r,i),this.zoom(this.valueToPosition(e),this.valueToPosition(t),n)}},{key:"_prepareAxisItems",value:function(){var e=this,t=this.getPrivate("selectionMin",0),n=this.getPrivate("selectionMax",0);if(zj(t)&&zj(n)){this._seriesValuesDirty&&(this._seriesValuesDirty=!1,this._updateAllDates());var r=this._root,i=r.utc,o=r.timezone,a=this._getDates(),s=this.get("renderer"),l=a.length,u=this.baseDuration(),c=this.valueToIndex(t);c>0&&c--;var f=this.valueToIndex(n);f<l-1&&f++;var h=s.axisLength()/Math.max(s.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),d=Math.min(l,Math.ceil((f-c)/h));d=Math.max(1,d),c=Math.floor(c/d)*d,this._frequency=d,Wj(this.dataItems,(function(t){e._toggleDataItem(t,!1)})),Wj(this.minorDataItems,(function(t){e._toggleDataItem(t,!1)}));var p=jq(0,n-t-((n-t)/u-(f-c))*u,h,this.get("gridIntervals")),v=this.getPrivate("baseInterval"),y=gq(p);y<u&&(p=sK({},v),y=gq(p)),this._intervalDuration=y;var m=p.timeUnit,b=this.get("dateFormats"),g=Date.now();a[0]&&(g=a[0]);var w,_,k=Sq(this.getPrivate("selectionMin",0),m,p.count,r,g),x=s.get("minorLabelsEnabled"),O=s.get("minorGridEnabled",x),P=0;O&&(w=this._getMinorInterval(p),P=gq(w));var S=this._getIndexes(k,this.getPrivate("selectionMax",k)+y,p,this.getPrivate("min",k));if(S.length>0){var E=0;this._m=0;var j=k-10*y,T=mq(m);if(w){var D=a[S[0]];this._addMinorGrid(D-y,D,P,w)}var A=s.axisLength()/s.gridCount()*.5;Wj(S,(function(t){var n,l;e.dataItems.length<E+1?(l=new bV(e,void 0,{}),e._dataItems.push(l),e.processDataItem(l)):l=e.dataItems[E];var u=a[t],c=new Date(u),f=u;E<S.length-1?f=a[S[E+1]]:f+=y,l.setRaw("value",u),l.setRaw("endValue",f),l.setRaw("index",E),l.setRaw("labelEndValue",void 0);var h=b[m];T&&e.get("markUnitChange")&&zj(j)&&"year"!=m&&Oq(u,j,T,i,o)&&(h=e.get("periodChangeDateFormats")[m]),e._createAssets(l,[]);var d=l.get("label");d&&d.set("text",r.dateFormatter.format(c,h)),e._toggleDataItem(l,!0);var v=p.count;if("week"==m&&l.setRaw("labelEndValue",u),O){var g=p.timeUnit;if("week"==g&&(g="day"),v>1||"week"==p.timeUnit){var k=Sq(u,g,1,r)+bq(g,e._getM(g)),x=e.valueToIndex(k);if((k=a[x])==u){var D=a[x+1];D?k=D:k+=P}l.setRaw("labelEndValue",k)}v=1}if(e._prepareDataItem(l,v),d&&_&&"X"==s.getPrivate("letter")){var C=_.get("label");if(C)if(d.x()-C.x()<A){var M=e._pickWorse(_,l,p);M&&(null===(n=M.get("label"))||void 0===n||n.setPrivate("visible",!1))}}w&&e._addMinorGrid(u,f,P,w),E++,d&&d.getPrivate("visible")&&(_=l),j=u}))}Wj(this.series,(function(e){e.inited&&e._markDirtyAxes()}))}this._updateGhost()}},{key:"_pickWorse",value:function(e,t,n){var r=n.timeUnit,i=e.get("value",0),o=t.get("value",0);return"hour"==r&&new Date(i).getDate()!=new Date(o).getDate()?e:t}},{key:"_addMinorGrid",value:function(e,t,n,r){var i=this,o=this.get("minorDateFormats",this.get("dateFormats")),a=r.timeUnit,s=e+bq(a,this._getM(a));s=Sq(s,a,1,this._root);var l=t-.5*n,u=this._getIndexes(s,l,r,s),c=this._getDates();Wj(u,(function(e){var t;i.minorDataItems.length<i._m+1?(t=new bV(i,void 0,{}),i.minorDataItems.push(t),i.processDataItem(t)):t=i.minorDataItems[i._m],s=c[e],t.setRaw("value",s),t.setRaw("endValue",s+n),t.setRaw("index",e),i._createAssets(t,["minor"],!0);var r=t.get("label");if(r)if(i.get("renderer").get("minorLabelsEnabled")){var l=new Date(s),u=o[a];r.set("text",i._root.dateFormatter.format(l,u))}else r.setPrivate("visible",!1);i._toggleDataItem(t,!0),i._prepareDataItem(t,1),i._m++}))}},{key:"_getIndexes",value:function(e,t,n,r){var i=[],o=n.timeUnit,a=n.count,s=this._getM(o),l=this.getPrivate("baseInterval"),u=this._root,c=this._getDates(),f=a-1,h=-1/0,d=bq(o,s),p=bq(o,a*s),v=e;for("day"==o&&(e=r);e<=t;){e=Sq(e,o,a,u);var y=this.valueToIndex(e),m=c[y];if("day"==o&&"day"==l.timeUnit)this._hasDate(e)&&f++,f==a&&(e>=v-2*p&&oT(i,y),f=0),e=Sq(e+=d,o,1,u);else{if(m<e)for(var b=y,g=c.length;b<g;b++)if((m=c[b])>=e){y=b;break}oT(i,y),e=Sq(e+=p,o,a,u)}if(e==h&&(e=Sq(e+=p+d,o,a,u)),e==h)break;h=e}return i}},{key:"_hasDate",value:function(e){return _T(this._getDates(),(function(t){return _M(t,e)})).found}},{key:"_nextTime",value:function(e,t,n){var r=pC(this.valueToIndex(e)+t,0,this._dates.length-1);return this._dates[r]}}])}(oK);function yK(e){return yK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yK(e)}function mK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bK(r.key),r)}}function bK(e){var t=function(e,t){if("object"!=yK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yK(t)?t:t+""}function gK(e,t,n){return t=xK(t),function(e,t){if(t&&("object"==yK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wK()?Reflect.construct(t,n||[],xK(e).constructor):t.apply(e,n))}function wK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wK=function(){return!!e})()}function _K(e,t,n,r){var i=kK(xK(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function kK(){return kK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=xK(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kK.apply(null,arguments)}function xK(e){return xK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xK(e)}function OK(e,t){return OK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OK(e,t)}Object.defineProperty(vK,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GaplessDateAxis"}),Object.defineProperty(vK,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:oK.classNames.concat([vK.className])});var PK=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=gK(this,t,arguments),Object.defineProperty(e,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OK(e,t)}(t,e),function(e,t,n){return t&&mK(e.prototype,t),n&&mK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["axis"]),_K(t,"_afterNew",this,3)([])}},{key:"_adjustMinMax",value:function(e,n,r,i){var o,a=this.getDurationFormatter(),s=this.get("baseUnit");if(this.setRaw("maxPrecision",0),"millisecond"==s||"second"==s||"minute"==s||"hour"==s){r<=1&&(r=1),r=Math.round(r);var l=n-e;0===l&&(l=Math.abs(n));var u,c=[60,30,20,15,10,2,1],f=1;"hour"==s&&(c=[24,12,6,4,2,1]);for(var h=0,d=c;h<d.length;h++){var p=d[h];if(l/p>r){f=p;break}}var v=Math.ceil((n-e)/f/r),y=Math.log(Math.abs(v))*Math.LOG10E,m=Math.pow(10,Math.floor(y))/10;u=f*(v=EC(c,v/m)*m),o={min:e=Math.floor(e/u)*u,max:n=Math.ceil(n/u)*u,step:u}}else o=_K(t,"_adjustMinMax",this,3)([e,n,r,i]);return this.setPrivateRaw("durationFormat",a.getFormat(o.step,o.max,s)),o}},{key:"_formatText",value:function(e){return this.getDurationFormatter().format(e,this.getPrivate("durationFormat"),this.get("baseUnit"))}},{key:"getTooltipText",value:function(e,t){var n=this.getDurationFormatter(),r=this.get("extraTooltipPrecision",0),i=this.getPrivate("stepDecimalPlaces",0)+r,o=cC(this.positionToValue(e),i);return n.format(o,this.getPrivate("durationFormat"),this.get("baseUnit"))}}])}(j$);function SK(e){return SK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SK(e)}function EK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jK(r.key),r)}}function jK(e){var t=function(e,t){if("object"!=SK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SK(t)?t:t+""}function TK(e,t,n){return t=MK(t),function(e,t){if(t&&("object"==SK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DK()?Reflect.construct(t,n||[],MK(e).constructor):t.apply(e,n))}function DK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DK=function(){return!!e})()}function AK(e,t,n,r){var i=CK(MK(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function CK(){return CK="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=MK(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},CK.apply(null,arguments)}function MK(e){return MK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MK(e)}function LK(e,t){return LK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LK(e,t)}Object.defineProperty(PK,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DurationAxis"}),Object.defineProperty(PK,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:j$.classNames.concat([PK.className])});var RK=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=TK(this,t,arguments),Object.defineProperty(e,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LK(e,t)}(t,e),function(e,t,n){return t&&EK(e.prototype,t),n&&EK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){AK(t,"_beforeChanged",this,3)([]);var e=this.get("sprite");if(this.isDirty("sprite")&&e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e)),this.isDirty("location")){var n=e.dataItem;this.axis&&e&&n&&this.axis._prepareDataItem(n)}}},{key:"_dispose",value:function(){var e=this,n=this.axis;n&&jT(n._bullets,(function(t,r){r.uid==e.uid&&delete n._bullets[t]})),AK(t,"_dispose",this,3)([])}}])}(NM);function IK(e){return IK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IK(e)}function NK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BK(r.key),r)}}function BK(e){var t=function(e,t){if("object"!=IK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IK(t)?t:t+""}function FK(e,t,n){return t=VK(t),function(e,t){if(t&&("object"==IK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zK()?Reflect.construct(t,n||[],VK(e).constructor):t.apply(e,n))}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zK=function(){return!!e})()}function VK(e){return VK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VK(e)}function qK(e,t){return qK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qK(e,t)}Object.defineProperty(RK,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(RK,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:NM.classNames.concat([RK.className])});var HK=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=FK(this,t,arguments),Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qK(e,t)}(t,e),function(e,t,n){return t&&NK(e.prototype,t),n&&NK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(AI);function YK(e){return YK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YK(e)}function UK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GK(r.key),r)}}function GK(e){var t=function(e,t){if("object"!=YK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YK(t)?t:t+""}function XK(e,t,n){return t=$K(t),function(e,t){if(t&&("object"==YK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WK()?Reflect.construct(t,n||[],$K(e).constructor):t.apply(e,n))}function WK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(WK=function(){return!!e})()}function $K(e){return $K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$K(e)}function KK(e,t){return KK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KK(e,t)}Object.defineProperty(HK,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(HK,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:AI.classNames.concat([HK.className])});var ZK=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=XK(this,t,arguments),Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KK(e,t)}(t,e),function(e,t,n){return t&&UK(e.prototype,t),n&&UK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(BH);function JK(e){return JK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JK(e)}function QK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eZ(r.key),r)}}function eZ(e){var t=function(e,t){if("object"!=JK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JK(t)?t:t+""}function tZ(e,t,n){return t=rZ(t),function(e,t){if(t&&("object"==JK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nZ()?Reflect.construct(t,n||[],rZ(e).constructor):t.apply(e,n))}function nZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nZ=function(){return!!e})()}function rZ(e){return rZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rZ(e)}function iZ(e,t){return iZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iZ(e,t)}Object.defineProperty(ZK,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"}),Object.defineProperty(ZK,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:BH.classNames.concat([ZK.className])});var oZ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=tZ(this,t,arguments),Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iZ(e,t)}(t,e),function(e,t,n){return t&&QK(e.prototype,t),n&&QK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}(zU);function aZ(e){return aZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aZ(e)}function sZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lZ(r.key),r)}}function lZ(e){var t=function(e,t){if("object"!=aZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aZ(t)?t:t+""}function uZ(e,t,n){return t=dZ(t),function(e,t){if(t&&("object"==aZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cZ()?Reflect.construct(t,n||[],dZ(e).constructor):t.apply(e,n))}function cZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cZ=function(){return!!e})()}function fZ(e,t,n,r){var i=hZ(dZ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function hZ(){return hZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=dZ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hZ.apply(null,arguments)}function dZ(e){return dZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dZ(e)}function pZ(e,t){return pZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pZ(e,t)}Object.defineProperty(oZ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(oZ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zU.classNames.concat([oZ.className])});var vZ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=uZ(this,t,arguments),Object.defineProperty(e,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(e,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return oZ._new(e._root,{themeTags:dA(e.ticks.template.get("themeTags",[]),e.get("themeTags",[]))},[e.ticks.template])})))}),Object.defineProperty(e,"grid",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return DW._new(e._root,{themeTags:dA(e.grid.template.get("themeTags",[]),e.get("themeTags",[]))},[e.grid.template])})))}),Object.defineProperty(e,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return zL._new(e._root,{themeTags:dA(e.axisFills.template.get("themeTags",["axis","fill"]),e.get("themeTags",[]))},[e.axisFills.template])})))}),Object.defineProperty(e,"labels",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return HK._new(e._root,{themeTags:dA(e.labels.template.get("themeTags",[]),e.get("themeTags",[]))},[e.labels.template])})))}),Object.defineProperty(e,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pZ(e,t)}(t,e),function(e,t,n){return t&&sZ(e.prototype,t),n&&sZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"makeTick",value:function(e,t){var n=this.ticks.make();return n._setDataItem(e),e.setRaw("tick",n),n.set("themeTags",dA(n.get("themeTags"),t)),this.axis.labelsContainer.children.push(n),this.ticks.push(n),n}},{key:"makeGrid",value:function(e,t){var n=this.grid.make();return n._setDataItem(e),e.setRaw("grid",n),n.set("themeTags",dA(n.get("themeTags"),t)),this.axis.gridContainer.children.push(n),this.grid.push(n),n}},{key:"makeAxisFill",value:function(e,t){var n=this.axisFills.make();return n._setDataItem(e),n.set("themeTags",dA(n.get("themeTags"),t)),this.axis.gridContainer.children.push(n),e.setRaw("axisFill",n),this.axisFills.push(n),n}},{key:"makeLabel",value:function(e,t){var n=this.labels.make();return n.set("themeTags",dA(n.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(n,0),n._setDataItem(e),e.setRaw("label",n),this.labels.push(n),n}},{key:"axisLength",value:function(){return 0}},{key:"gridCount",value:function(){return this.axisLength()/this.get("minGridDistance",50)}},{key:"_updatePositions",value:function(){}},{key:"_afterNew",value:function(){var e=this;fZ(t,"_afterNew",this,3)([]),this.set("isMeasured",!1);var n=this.thumb;n&&(this._disposers.push(n.events.on("pointerdown",(function(t){e._handleThumbDown(t)}))),this._disposers.push(n.events.on("globalpointerup",(function(t){e._handleThumbUp(t)}))),this._disposers.push(n.events.on("globalpointermove",(function(t){e._handleThumbMove(t)}))))}},{key:"_beforeChanged",value:function(){var e=this;fZ(t,"_beforeChanged",this,3)([]),this.isDirty("minGridDistance")&&this.root.events.once("frameended",(function(){e.axis.markDirtySize()}))}},{key:"_changed",value:function(){if(fZ(t,"_changed",this,3)([]),this.isDirty("pan")){var e=this.thumb;if(e){var n=this.axis.labelsContainer,r=this.get("pan");"zoom"==r?n.children.push(e):"none"==r&&n.children.removeValue(e)}}}},{key:"_handleThumbDown",value:function(e){this._thumbDownPoint=this.toLocal(e.point);var t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}},{key:"_handleThumbUp",value:function(e){this._thumbDownPoint=void 0}},{key:"_handleThumbMove",value:function(e){var t=this._thumbDownPoint;if(t){var n=this.toLocal(e.point),r=this._downStart,i=this._downEnd,o=this._getPan(n,t)*Math.min(1,i-r)/2*this.get("panSensitivity",1);this.axis.zoom(r-o,i+o,0)}}},{key:"_getPan",value:function(e,t){return 0}},{key:"positionToCoordinate",value:function(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}},{key:"updateTooltipBounds",value:function(e){}},{key:"_updateSize",value:function(){this.markDirty(),this._clear=!0}},{key:"toAxisPosition",value:function(e){var t=this._start||0,n=this._end||1;return e*=n-t,e=this.get("inversed")?n-e:t+e}},{key:"toGlobalPosition",value:function(e){var t=this._start||0,n=this._end||1;return this.get("inversed")?e=n-e:e-=t,e/=n-t}},{key:"fixPosition",value:function(e){return this.get("inversed")?1-e:e}},{key:"_updateLC",value:function(){}},{key:"toggleVisibility",value:function(e,t,n,r){var i=this.axis,o=i.get("start",0),a=i.get("end",1);t<o+(a-o)*(n-1e-4)||t>o+(a-o)*(r+1e-4)?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}},{key:"_positionTooltip",value:function(e,t){var n=this.chart;n&&(e.set("pointTo",this._display.toGlobal(t)),n.inPlot(t)||e.hide())}},{key:"processAxis",value:function(){}}])}(zL);function yZ(e){return yZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yZ(e)}function mZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bZ(r.key),r)}}function bZ(e){var t=function(e,t){if("object"!=yZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yZ(t)?t:t+""}function gZ(e,t,n){return t=xZ(t),function(e,t){if(t&&("object"==yZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wZ()?Reflect.construct(t,n||[],xZ(e).constructor):t.apply(e,n))}function wZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wZ=function(){return!!e})()}function _Z(e,t,n,r){var i=kZ(xZ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function kZ(){return kZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=xZ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kZ.apply(null,arguments)}function xZ(e){return xZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xZ(e)}function OZ(e,t){return OZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OZ(e,t)}Object.defineProperty(vZ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(vZ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([vZ.className])});var PZ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=gZ(this,t,arguments),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:KL.new(e._root,{width:Ej,isMeasured:!1,themeTags:["axis","x","thumb"]})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OZ(e,t)}(t,e),function(e,t,n){return t&&mZ(e.prototype,t),n&&mZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["renderer","x"]),_Z(t,"_afterNew",this,3)([]),this.setPrivateRaw("letter","X");var e=this.grid.template;e.set("height",Ej),e.set("width",0),e.set("draw",(function(e,t){e.moveTo(0,0),e.lineTo(0,t.height())})),this.set("draw",(function(e,t){e.moveTo(0,0),e.lineTo(t.width(),0)}))}},{key:"_changed",value:function(){_Z(t,"_changed",this,3)([]);var e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);var n="opposite",r="inside";if(this.isDirty(n)||this.isDirty(r)){var i=this.chart,o=e.children;if(this.get(r)?e.addTag(r):e.removeTag(r),i){if(this.get(n)){var a=i.topAxesContainer.children;-1==a.indexOf(e)&&a.insertIndex(0,e),e.addTag(n),o.moveValue(this)}else{var s=i.bottomAxesContainer.children;-1==s.indexOf(e)&&s.moveValue(e),e.removeTag(n),o.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each((function(e){e._applyThemes()})),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}},{key:"_getPan",value:function(e,t){return(t.x-e.x)/this.width()}},{key:"toAxisPosition",value:function(e){var t=this._start||0,n=this._end||1;return e=(e-=this._ls)*(n-t)/this._lc,e=this.get("inversed")?n-e:t+e}},{key:"toGlobalPosition",value:function(e){var t=this._start||0,n=this._end||1;return this.get("inversed")?e=n-e:e-=t,e=e/(n-t)*this._lc,e+=this._ls}},{key:"_updateLC",value:function(){var e=this.axis,t=e.parent;if(t){var n=t.innerWidth();this._lc=this.axisLength()/n,this._ls=(e.x()-t.get("paddingLeft",0))/n}}},{key:"_updatePositions",value:function(){var e=this.axis,t=e.x()-MD(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());var n=e.chart;if(n){var r=n.plotContainer,i=e.axisHeader,o=e.get("marginLeft",0),a=e.x()-o,s=e.parent;s&&(a-=s.get("paddingLeft",0)),i.children.length>0?(o=e.axisHeader.width(),e.set("marginLeft",o+1)):i.set("width",o),i.setAll({x:a,y:-1,height:r.height()+2})}}},{key:"processAxis",value:function(){_Z(t,"processAxis",this,3)([]);var e=this.axis;null==e.get("width")&&e.set("width",Ej);var n=this._root.verticalLayout;e.set("layout",n),e.labelsContainer.set("width",Ej),e.axisHeader.setAll({layout:n})}},{key:"axisLength",value:function(){return this.axis.width()}},{key:"positionToPoint",value:function(e){return{x:this.positionToCoordinate(e),y:0}}},{key:"updateTick",value:function(e,t,n,r){if(e){zj(t)||(t=0);var i=.5;i=zj(r)&&r>1?e.get("multiLocation",i):e.get("location",i),zj(n)&&n!=t&&(t+=(n-t)*i),e.set("x",this.positionToCoordinate(t));var o=e.get("length",0),a=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",Ej),a||(o*=-1)):(e.set("y",0),a&&(o*=-1)),e.set("draw",(function(e){e.moveTo(0,0),e.lineTo(0,o)})),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}},{key:"updateLabel",value:function(e,t,n,r){if(e){var i=.5;i=zj(r)&&r>1?e.get("multiLocation",i):e.get("location",i),zj(t)||(t=0);var o=e.get("inside",this.get("inside",!1));this.get("opposite")?o?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",Ej)):o?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),zj(n)&&n!=t&&(t+=(n-t)*i),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}},{key:"updateGrid",value:function(e,t,n){if(e){zj(t)||(t=0);var r=e.get("location",.5);zj(n)&&n!=t&&(t+=(n-t)*r),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}},{key:"updateBullet",value:function(e,t,n){if(e){var r=e.get("sprite");if(r){zj(t)||(t=0);var i=e.get("location",.5);zj(n)&&n!=t&&(t+=(n-t)*i);var o=this.axis.roundAxisPosition(t,i),a=this.axis._bullets[o],s=-1;if(this.get("opposite")&&(s=1),e.get("stacked"))if(a){var l=a.get("sprite");l&&r.set("y",l.y()+l.height()*s)}else r.set("y",0);this.axis._bullets[o]=e,r.set("x",this.positionToCoordinate(t)),this.toggleVisibility(r,t,0,1)}}}},{key:"updateFill",value:function(e,t,n){if(e){zj(t)||(t=0),zj(n)||(n=1);var r=this.positionToCoordinate(t),i=this.positionToCoordinate(n);this.fillDrawMethod(e,r,i)}}},{key:"fillDrawMethod",value:function(e,t,n){var r=this;e.set("draw",(function(e){var i=r.axis.gridContainer.height(),o=r.width();if(n<t){var a=[t,n];n=a[0],t=a[1]}t>o||n<0||(e.moveTo(t,0),e.lineTo(n,0),e.lineTo(n,i),e.lineTo(t,i),e.lineTo(t,0))}))}},{key:"positionTooltip",value:function(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}},{key:"updateTooltipBounds",value:function(e){var t=this.get("inside"),n=1e5,r=this._display.toGlobal({x:0,y:0}),i=r.x,o=0,a=this.axisLength(),s=n,l="up";this.get("opposite")?t?(l="up",o=r.y,s=n):(l="down",o=r.y-n,s=n):t?(l="down",o=r.y-n,s=n):(l="up",o=r.y,s=n);var u={left:i,right:i+a,top:o,bottom:o+s};pA(u,e.get("bounds"))||(e.set("bounds",u),e.set("pointerOrientation",l))}}])}(vZ);function SZ(e){return SZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SZ(e)}function EZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jZ(r.key),r)}}function jZ(e){var t=function(e,t){if("object"!=SZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SZ(t)?t:t+""}function TZ(e,t,n){return t=MZ(t),function(e,t){if(t&&("object"==SZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DZ()?Reflect.construct(t,n||[],MZ(e).constructor):t.apply(e,n))}function DZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DZ=function(){return!!e})()}function AZ(e,t,n,r){var i=CZ(MZ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function CZ(){return CZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=MZ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},CZ.apply(null,arguments)}function MZ(e){return MZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MZ(e)}function LZ(e,t){return LZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LZ(e,t)}Object.defineProperty(PZ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(PZ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vZ.classNames.concat([PZ.className])});var RZ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=TZ(this,t,arguments),Object.defineProperty(e,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:KL.new(e._root,{height:Ej,isMeasured:!1,themeTags:["axis","y","thumb"]})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LZ(e,t)}(t,e),function(e,t,n){return t&&EZ(e.prototype,t),n&&EZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._settings.themeTags=dA(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),AZ(t,"_afterNew",this,3)([]),this.setPrivateRaw("letter","Y");var e=this.grid.template;e.set("width",Ej),e.set("height",0),e.set("draw",(function(e,t){e.moveTo(0,0),e.lineTo(t.width(),0)})),this.set("draw",(function(e,t){e.moveTo(0,0),e.lineTo(0,t.height())}))}},{key:"_getPan",value:function(e,t){return(e.y-t.y)/this.height()}},{key:"_changed",value:function(){AZ(t,"_changed",this,3)([]);var e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);var n=this.thumb,r="opposite",i="inside",o=this.chart;if(this.isDirty(r)||this.isDirty(i)){var a=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),o){if(this.get(r)){var s=o.rightAxesContainer.children;-1==s.indexOf(e)&&s.moveValue(e,0),e.addTag(r),a.moveValue(this,0)}else{var l=o.leftAxesContainer.children;-1==l.indexOf(e)&&l.moveValue(e),e.removeTag(r),a.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each((function(e){e._applyThemes()})),this.root._markDirtyRedraw()}e.markDirtySize()}var u=e.labelsContainer.width();o&&(this.get(r)?n.set("centerX",0):n.set("centerX",u)),n.setPrivate("width",u)}},{key:"processAxis",value:function(){AZ(t,"processAxis",this,3)([]);var e=this.axis;null==e.get("height")&&e.set("height",Ej);var n=this._root.horizontalLayout;e.set("layout",n),e.labelsContainer.set("height",Ej),e.axisHeader.set("layout",n)}},{key:"_updatePositions",value:function(){var e=this.axis,t=e.y()-MD(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());var n=e.chart;if(n){var r=n.plotContainer,i=e.axisHeader,o=e.get("marginTop",0);i.children.length>0?(o=e.axisHeader.height(),e.set("marginTop",o+1)):i.set("height",o),i.setAll({y:e.y()-o,x:-1,width:r.width()+2})}}},{key:"axisLength",value:function(){return this.axis.innerHeight()}},{key:"positionToPoint",value:function(e){return{x:0,y:this.positionToCoordinate(e)}}},{key:"updateLabel",value:function(e,t,n,r){if(e){zj(t)||(t=0);var i=.5;i=zj(r)&&r>1?e.get("multiLocation",i):e.get("location",i);var o=this.get("opposite"),a=e.get("inside",this.get("inside",!1));o?(e.set("x",0),a?e.set("position","absolute"):e.set("position","relative")):a?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),zj(n)&&n!=t&&(t+=(n-t)*i),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}},{key:"updateGrid",value:function(e,t,n){if(e){zj(t)||(t=0);var r=e.get("location",.5);zj(n)&&n!=t&&(t+=(n-t)*r),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}},{key:"updateTick",value:function(e,t,n,r){if(e){zj(t)||(t=0);var i=.5;i=zj(r)&&r>1?e.get("multiLocation",i):e.get("location",i),zj(n)&&n!=t&&(t+=(n-t)*i),e.set("y",this.positionToCoordinate(t));var o=e.get("length",0),a=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),a&&(o*=-1)):a||(o*=-1),e.set("draw",(function(e){e.moveTo(0,0),e.lineTo(o,0)})),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}},{key:"updateBullet",value:function(e,t,n){if(e){var r=e.get("sprite");if(r){zj(t)||(t=0);var i=e.get("location",.5);zj(n)&&n!=t&&(t+=(n-t)*i);var o=this.axis.roundAxisPosition(t,i),a=this.axis._bullets[o],s=1;if(this.get("opposite")&&(s=-1),e.get("stacked"))if(a){var l=a.get("sprite");l&&r.set("x",l.x()+l.width()*s)}else r.set("x",0);this.axis._bullets[o]=e,r.set("y",this.positionToCoordinate(t)),this.toggleVisibility(r,t,0,1)}}}},{key:"updateFill",value:function(e,t,n){if(e){zj(t)||(t=0),zj(n)||(n=1);var r=this.positionToCoordinate(t),i=this.positionToCoordinate(n);this.fillDrawMethod(e,r,i)}}},{key:"fillDrawMethod",value:function(e,t,n){var r=this;e.set("draw",(function(e){var i=r.axis.gridContainer.width(),o=r.height();if(n<t){var a=[t,n];n=a[0],t=a[1]}t>o||n<0||(e.moveTo(0,t),e.lineTo(i,t),e.lineTo(i,n),e.lineTo(0,n),e.lineTo(0,t))}))}},{key:"positionToCoordinate",value:function(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}},{key:"positionTooltip",value:function(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}},{key:"updateTooltipBounds",value:function(e){var t=this.get("inside"),n=1e5,r=this._display.toGlobal({x:0,y:0}),i=r.y,o=0,a=this.axisLength(),s=n,l="right";this.get("opposite")?t?(l="right",o=r.x-n,s=n):(l="left",o=r.x,s=n):t?(l="left",o=r.x,s=n):(l="right",o=r.x-n,s=n);var u={left:o,right:o+s,top:i,bottom:i+a};pA(u,e.get("bounds"))||(e.set("bounds",u),e.set("pointerOrientation",l))}},{key:"_updateLC",value:function(){var e=this.axis,t=e.parent;if(t){var n=t.innerHeight();this._lc=this.axisLength()/n,this._ls=e.y()/n}}},{key:"toAxisPosition",value:function(e){var t=this._start||0,n=this._end||1;return e=(e-=this._ls)*(n-t)/this._lc,e=this.get("inversed")?t+e:n-e}},{key:"toGlobalPosition",value:function(e){var t=this._start||0,n=this._end||1;return this.get("inversed")?e-=t:e=n-e,e=e/(n-t)*this._lc,e+=this._ls}},{key:"fixPosition",value:function(e){return this.get("inversed")?e:1-e}}])}(vZ);function IZ(e){return IZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IZ(e)}function NZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BZ(r.key),r)}}function BZ(e){var t=function(e,t){if("object"!=IZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IZ(t)?t:t+""}function FZ(e,t,n){return t=HZ(t),function(e,t){if(t&&("object"==IZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zZ()?Reflect.construct(t,n||[],HZ(e).constructor):t.apply(e,n))}function zZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zZ=function(){return!!e})()}function VZ(e,t,n,r){var i=qZ(HZ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function qZ(){return qZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=HZ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qZ.apply(null,arguments)}function HZ(e){return HZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HZ(e)}function YZ(e,t){return YZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YZ(e,t)}Object.defineProperty(RZ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(RZ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vZ.classNames.concat([RZ.className])});var UZ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FZ(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YZ(e,t)}(t,e),function(e,t,n){return t&&NZ(e.prototype,t),n&&NZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_beforeChanged",value:function(){VZ(t,"_beforeChanged",this,3)([]),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}},{key:"_draw",value:function(){VZ(t,"_draw",this,3)([]);var e=this._display;e.moveTo(this.get("lowX0",0),this.get("lowY0",0)),e.lineTo(this.get("lowX1",0),this.get("lowY1",0)),e.moveTo(this.get("highX0",0),this.get("highY0",0)),e.lineTo(this.get("highX1",0),this.get("highY1",0))}}])}($F);function GZ(e){return GZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GZ(e)}function XZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WZ(r.key),r)}}function WZ(e){var t=function(e,t){if("object"!=GZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GZ(t)?t:t+""}function $Z(e,t,n){return t=JZ(t),function(e,t){if(t&&("object"==GZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KZ()?Reflect.construct(t,n||[],JZ(e).constructor):t.apply(e,n))}function KZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(KZ=function(){return!!e})()}function ZZ(){return ZZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=JZ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ZZ.apply(null,arguments)}function JZ(e){return JZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JZ(e)}function QZ(e,t){return QZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QZ(e,t)}Object.defineProperty(UZ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"}),Object.defineProperty(UZ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$F.classNames.concat([UZ.className])});var eJ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=$Z(this,t,arguments),Object.defineProperty(e,"columns",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return $F._new(e._root,{position:"absolute",themeTags:dA(e.columns.template.get("themeTags",[]),["series","column"])},[e.columns.template])})))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QZ(e,t)}(t,e),function(e,t,n){return t&&XZ(e.prototype,t),n&&XZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"makeColumn",value:function(e,t){var n=this.mainContainer.children.push(t.make());return n._setDataItem(e),t.push(n),n}},{key:"_processAxisRange",value:function(e){var n=this;!function(e,t,n,r){var i=ZZ(JZ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_processAxisRange",this,3)([e]),e.columns=new ZA(XM.new({}),(function(){return $F._new(n._root,{position:"absolute",themeTags:dA(e.columns.template.get("themeTags",[]),["series","column"])},[n.columns.template,e.columns.template])}))}}])}(l$);function tJ(e){return tJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tJ(e)}function nJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rJ(r.key),r)}}function rJ(e){var t=function(e,t){if("object"!=tJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tJ(t)?t:t+""}function iJ(e,t,n){return t=lJ(t),function(e,t){if(t&&("object"==tJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oJ()?Reflect.construct(t,n||[],lJ(e).constructor):t.apply(e,n))}function oJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oJ=function(){return!!e})()}function aJ(e,t,n,r){var i=sJ(lJ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function sJ(){return sJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=lJ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sJ.apply(null,arguments)}function lJ(e){return lJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lJ(e)}function uJ(e,t){return uJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uJ(e,t)}Object.defineProperty(eJ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(eJ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l$.classNames.concat([eJ.className])});var cJ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=iJ(this,t,arguments),Object.defineProperty(e,"columns",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({themeTags:["autocolor"]}),(function(){return UZ._new(e._root,{themeTags:dA(e.columns.template.get("themeTags",[]),["candlestick","series","column"])},[e.columns.template])})))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uJ(e,t)}(t,e),function(e,t,n){return t&&nJ(e.prototype,t),n&&nJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"makeColumn",value:function(e,t){var n=this.mainContainer.children.push(t.make());return n._setDataItem(e),t.push(n),n}},{key:"_updateGraphics",value:function(e,n){aJ(t,"_updateGraphics",this,3)([e,n]);var r,i,o,a,s,l,u,c,f,h=this.getRaw("xAxis"),d=this.getRaw("yAxis"),p=this.getRaw("baseAxis"),v=this.get("vcy",1),y=this.get("vcx",1),m=this.get("locationX",e.get("locationX",.5)),b=this.get("locationY",e.get("locationY",.5)),g=this.get("openLocationX",e.get("openLocationX",m)),w=this.get("openLocationY",e.get("openLocationY",b));if(d===p){var _=h.getDataItemPositionX(e,this._xOpenField,1,y),k=h.getDataItemPositionX(e,this._xField,1,y);i=h.getDataItemPositionX(e,this._xLowField,1,y),l=h.getDataItemPositionX(e,this._xHighField,1,y),s=Math.max(_,k),r=Math.min(_,k);var x=this._aLocationY0+w-.5,O=this._aLocationY1+b-.5;a=o=d.getDataItemPositionY(e,this._yField,x+(O-x)/2,v),u=o,c=o,f="horizontal"}else{var P=d.getDataItemPositionY(e,this._yOpenField,1,v),S=d.getDataItemPositionY(e,this._yField,1,v);a=d.getDataItemPositionY(e,this._yLowField,1,v),c=d.getDataItemPositionY(e,this._yHighField,1,v),u=Math.max(P,S),o=Math.min(P,S);var E=this._aLocationX0+g-.5,j=this._aLocationX1+m-.5;i=r=h.getDataItemPositionX(e,this._xField,E+(j-E)/2,y),s=r,l=r,f="vertical"}this._updateCandleGraphics(e,r,i,o,a,s,l,u,c,f)}},{key:"_updateCandleGraphics",value:function(e,t,n,r,i,o,a,s,l,u){var c=e.get("graphics");if(c){var f=this.getPoint(t,r),h=this.getPoint(n,i),d=this.getPoint(o,s),p=this.getPoint(a,l),v=c.x(),y=c.y();c.set("lowX0",f.x-v),c.set("lowY0",f.y-y),c.set("lowX1",h.x-v),c.set("lowY1",h.y-y),c.set("highX0",d.x-v),c.set("highY0",d.y-y),c.set("highX1",p.x-v),c.set("highY1",p.y-y),c.set("orientation",u);var m=e.get("rangeGraphics");m&&Wj(m,(function(e){e.set("lowX0",f.x-v),e.set("lowY0",f.y-y),e.set("lowX1",h.x-v),e.set("lowY1",h.y-y),e.set("highX0",d.x-v),e.set("highY0",d.y-y),e.set("highX1",p.x-v),e.set("highY1",p.y-y),e.set("orientation",u)}))}}},{key:"_processAxisRange",value:function(e){var n=this;aJ(t,"_processAxisRange",this,3)([e]),e.columns=new ZA(XM.new({}),(function(){return UZ._new(n._root,{themeTags:dA(e.columns.template.get("themeTags",[]),["candlestick","series","column"])},[n.columns.template,e.columns.template])}))}}])}(eJ);function fJ(e){return fJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fJ(e)}function hJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dJ(r.key),r)}}function dJ(e){var t=function(e,t){if("object"!=fJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fJ(t)?t:t+""}function pJ(e,t,n){return t=yJ(t),function(e,t){if(t&&("object"==fJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vJ()?Reflect.construct(t,n||[],yJ(e).constructor):t.apply(e,n))}function vJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vJ=function(){return!!e})()}function yJ(e){return yJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yJ(e)}function mJ(e,t){return mJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mJ(e,t)}Object.defineProperty(cJ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"}),Object.defineProperty(cJ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:eJ.classNames.concat([cJ.className])});var bJ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pJ(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mJ(e,t)}(t,e),function(e,t,n){return t&&hJ(e.prototype,t),n&&hJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_draw",value:function(){var e=this._display;e.moveTo(this.get("lowX1",0),this.get("lowY1",0)),e.lineTo(this.get("highX1",0),this.get("highY1",0));var t=this.width(),n=this.height();if("vertical"==this.get("orientation")){var r=n;e.moveTo(0,r),e.lineTo(t/2,r),e.moveTo(t/2,0),e.lineTo(t,0)}else{var i=t;e.moveTo(0,0),e.lineTo(0,n/2),e.moveTo(i,n/2),e.lineTo(i,n)}}}])}(UZ);function gJ(e){return gJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gJ(e)}function wJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_J(r.key),r)}}function _J(e){var t=function(e,t){if("object"!=gJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gJ(t)?t:t+""}function kJ(e,t,n){return t=PJ(t),function(e,t){if(t&&("object"==gJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xJ()?Reflect.construct(t,n||[],PJ(e).constructor):t.apply(e,n))}function xJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xJ=function(){return!!e})()}function OJ(){return OJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=PJ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},OJ.apply(null,arguments)}function PJ(e){return PJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PJ(e)}function SJ(e,t){return SJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SJ(e,t)}Object.defineProperty(bJ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLC"}),Object.defineProperty(bJ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:UZ.classNames.concat([bJ.className])});var EJ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=kJ(this,t,arguments),Object.defineProperty(e,"columns",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({themeTags:["autocolor"]}),(function(){return bJ._new(e._root,{themeTags:dA(e.columns.template.get("themeTags",[]),["ohlc","series","column"])},[e.columns.template])})))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SJ(e,t)}(t,e),function(e,t,n){return t&&wJ(e.prototype,t),n&&wJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"makeColumn",value:function(e,t){var n=this.mainContainer.children.push(t.make());return n._setDataItem(e),t.push(n),n}},{key:"_processAxisRange",value:function(e){var n=this;!function(e,t,n,r){var i=OJ(PJ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_processAxisRange",this,3)([e]),e.columns=new ZA(XM.new({}),(function(){return bJ._new(n._root,{themeTags:dA(e.columns.template.get("themeTags",[]),["ohlc","series","column"])},[n.columns.template,e.columns.template])}))}}])}(cJ);function jJ(e){return jJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jJ(e)}Object.defineProperty(EJ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"OHLCSeries"}),Object.defineProperty(EJ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cJ.classNames.concat([EJ.className])});Array.prototype.slice;function TJ(e){return"object"===jJ(e)&&"length"in e?e:Array.from(e)}function DJ(e){this._context=e}function AJ(e){return new DJ(e)}function CJ(e){return e[0]}function MJ(e){return e[1]}function LJ(e,t){var n=vY(!0),r=null,i=AJ,o=null,a=JY(s);function s(s){var l,u,c,f=(s=TJ(s)).length,h=!1;for(null==r&&(o=i(c=a())),l=0;l<=f;++l)!(l<f&&n(u=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,l,s),+t(u,l,s));if(c)return o=null,c+""||null}return e="function"==typeof e?e:void 0===e?CJ:vY(e),t="function"==typeof t?t:void 0===t?MJ:vY(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:vY(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:vY(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:vY(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function RJ(e,t,n){var r=null,i=vY(!0),o=null,a=AJ,s=null,l=JY(u);function u(u){var c,f,h,d,p,v=(u=TJ(u)).length,y=!1,m=new Array(v),b=new Array(v);for(null==o&&(s=a(p=l())),c=0;c<=v;++c){if(!(c<v&&i(d=u[c],c,u))===y)if(y=!y)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=f;--h)s.point(m[h],b[h]);s.lineEnd(),s.areaEnd()}y&&(m[c]=+e(d,c,u),b[c]=+t(d,c,u),s.point(r?+r(d,c,u):m[c],n?+n(d,c,u):b[c]))}if(p)return s=null,p+""||null}function c(){return LJ().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?CJ:vY(+e),t="function"==typeof t?t:vY(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?MJ:vY(+n),u.x=function(t){return arguments.length?(e="function"==typeof t?t:vY(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:vY(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:vY(+e),u):r},u.y=function(e){return arguments.length?(t="function"==typeof e?e:vY(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:vY(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:vY(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:vY(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}function IJ(e){return IJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IJ(e)}function NJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BJ(r.key),r)}}function BJ(e){var t=function(e,t){if("object"!=IJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IJ(t)?t:t+""}function FJ(e,t,n){return t=HJ(t),function(e,t){if(t&&("object"==IJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zJ()?Reflect.construct(t,n||[],HJ(e).constructor):t.apply(e,n))}function zJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zJ=function(){return!!e})()}function VJ(e,t,n,r){var i=qJ(HJ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function qJ(){return qJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=HJ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qJ.apply(null,arguments)}function HJ(e){return HJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HJ(e)}function YJ(e,t){return YJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YJ(e,t)}DJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var UJ=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=FJ(this,t,arguments),Object.defineProperty(e,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:LJ()}),Object.defineProperty(e,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:RJ()}),Object.defineProperty(e,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return zL._new(e._root,{themeTags:dA(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[e.strokes.template])})))}),Object.defineProperty(e,"fills",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(new ZA(XM.new({}),(function(){return zL._new(e._root,{themeTags:dA(e.strokes.template.get("themeTags",[]),["line","series","fill"])},[e.fills.template])})))}),Object.defineProperty(e,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(e,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YJ(e,t)}(t,e),function(e,t,n){return t&&NJ(e.prototype,t),n&&NJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._fillGenerator.y0((function(e){return e[3]})),this._fillGenerator.x0((function(e){return e[2]})),this._fillGenerator.y1((function(e){return e[1]})),this._fillGenerator.x1((function(e){return e[0]})),VJ(t,"_afterNew",this,3)([])}},{key:"makeStroke",value:function(e){var t=this.mainContainer.children.push(e.make());return e.push(t),t}},{key:"makeFill",value:function(e){var t=this.mainContainer.children.push(e.make());return e.push(t),t}},{key:"_updateChildren",value:function(){var e=this;this._strokeTemplate=void 0,this._fillTemplate=void 0;var n=this.get("xAxis"),r=this.get("yAxis");if(this.isDirty("stroke")){var i=this.get("stroke");this.strokes.template.set("stroke",i);var o=this._legendStroke;o&&o.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){var a=this.get("fill");this.fills.template.set("fill",a);var s=this._legendFill;s&&s.states.lookup("default").set("fill",a)}if(this.isDirty("fillPattern")){var l=this.get("fillPattern");this.fills.template.set("fillPattern",l);var u=this._legendFill;u&&u.states.lookup("default").set("fillPattern",l)}if(this.isDirty("curveFactory")){var c=this.get("curveFactory");c&&(this._strokeGenerator.curve(c),this._fillGenerator.curve(c))}if(n.inited&&r.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each((function(e){e.setPrivate("visible",!1)})),this.strokes.each((function(e){e.setPrivate("visible",!1)})),this.axisRanges.each((function(e){var t=e.fills;t&&t.each((function(e){e.setPrivate("visible",!1)}));var n=e.strokes;n&&n.each((function(e){e.setPrivate("visible",!1)}))}));var f=this.startIndex(),h=this.strokes.template.get("templateField"),d=this.fills.template.get("templateField"),p=!0,v=!0;h&&(p=!1),d&&(v=!1);for(var y=function(){var t=e.dataItems[m],n=!0,r=t.dataContext;if(h&&r[h]&&(p=!0),d&&r[d]&&(v=!0),Wj(e._valueFields,(function(e){zj(t.get(e))||(n=!1)})),n&&p&&v)return f=m,1},m=f-1;m>=0&&!y();m--);var b=this.dataItems.length,g=this.endIndex();if(g<b)for(var w=function(){var t=e.dataItems[_],n=!0;if(Wj(e._valueFields,(function(e){zj(t.get(e))||(n=!1)})),n)return g=_+1,1},_=++g;_<b&&!w();_++);if(f>0&&f--,this._endIndex=g,this._clearGraphics(),this._sindex=0,this._dindex=f,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<g-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;VJ(t,"_updateChildren",this,3)([])}},{key:"_clearGraphics",value:function(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each((function(e){e.fills.clear(),e.strokes.clear()}))}},{key:"_startSegment",value:function(e){var t=this,n=this._endIndex,r=n,i=this.get("autoGapCount"),o=this.get("connect"),a=this.makeFill(this.fills),s=this._fillTemplate,l=this.fills.template;s&&s!=l&&(a.template=s),a.setPrivate("visible",!0);var u=this.makeStroke(this.strokes),c=this._strokeTemplate;c&&c!=this.strokes.template&&(u.template=c),u.setPrivate("visible",!0);var f=this.get("xAxis"),h=this.get("yAxis"),d=this.get("baseAxis"),p=this.get("vcx",1),v=this.get("vcy",1),y=this._xField,m=this._yField,b=this._xOpenField,g=this._yOpenField,w=this.get("openValueXField"),_=this.get("openValueYField");w||(b=this._xField),_||(g=this._yField);var k,x=this.get("stacked"),O=f.basePosition(),P=h.basePosition();k=d===h?this._yField:this._xField;var S=[],E=[];S.push(E);var j,T=this.strokes.template.get("templateField"),D=this.fills.template.get("templateField"),A=this.get("locationX",.5),C=this.get("locationY",.5),M=this.get("openLocationX",A),L=this.get("openLocationY",C),R=this.get("minDistance",0),I=this.fills.template.get("visible");this.axisRanges.length>0&&(I=!0);var N=!1;(x||w||_)&&(N=!0);var B={points:E,segments:S,stacked:x,getOpen:N,basePosX:O,basePosY:P,fillVisible:I,xField:y,yField:m,xOpenField:b,yOpenField:g,vcx:p,vcy:v,baseAxis:d,xAxis:f,yAxis:h,locationX:A,locationY:C,openLocationX:M,openLocationY:L,minDistance:R},F=this._strokeTemplate,z=this._fillTemplate;for(j=e;j<r;j++){this._dindex=j;var V=this._dataItems[j],q=V.get(y),H=V.get(m);if(null==q||null==H?o||(E=[],S.push(E),B.points=E):this._getPoints(V,B),T){var Y=V.dataContext[T];if(Y){if(Y instanceof XM||(Y=XM.new(Y)),this._strokeTemplate=Y,j>e){r=j;break}F=Y,u.template=Y}}if(D){var U=V.dataContext[D];if(U){if(U instanceof XM||(U=XM.new(U)),this._fillTemplate=U,j>e){r=j;break}z=U,a.template=U}}if(!o){var G=this.dataItems[j+1];G&&d.shouldGap(V,G,i,k)&&(E=[],S.push(E),B.points=E)}}a.setRaw("userData",[e,j]),u.setRaw("userData",[e,j]),j===n&&this._endLine(E,S[0][0]),u&&this._drawStroke(u,S),a&&this._drawFill(a,S),this.axisRanges.each((function(n){var r=n.container,i=n.fills,o=t.makeFill(i);r&&r.children.push(o),o.setPrivate("visible",!0),t._drawFill(o,S);var a=n.strokes,s=t.makeStroke(a);r&&r.children.push(s),F&&F!=t.strokes.template&&(s.template=F),z&&z!=t.fills.template&&(o.template=z),s.setPrivate("visible",!0),t._drawStroke(s,S),o.setRaw("userData",[e,j]),s.setRaw("userData",[e,j])}))}},{key:"_getPoints",value:function(e,t){var n=t.points,r=e.get("locationX",t.locationX),i=e.get("locationY",t.locationY),o=t.xAxis.getDataItemPositionX(e,t.xField,r,t.vcx),a=t.yAxis.getDataItemPositionY(e,t.yField,i,t.vcy);if(this._shouldInclude(o)){var s=this.getPoint(o,a),l=[s.x,s.y];if(s.x+=this._x,s.y+=this._y,e.set("point",s),t.fillVisible){var u=o,c=a;if(t.baseAxis===t.xAxis?c=t.basePosY:t.baseAxis===t.yAxis&&(u=t.basePosX),t.getOpen){var f=e.get(t.xOpenField),h=e.get(t.yOpenField);if(null!=f&&null!=h){var d=e.get("openLocationX",t.openLocationX),p=e.get("openLocationY",t.openLocationY);if(t.stacked){var v=e.get("stackToItemX"),y=e.get("stackToItemY");v?Aj(u=t.xAxis.getDataItemPositionX(v,t.xField,d,v.component.get("vcx")))&&(u=t.basePosX):u=t.yAxis===t.baseAxis?t.basePosX:t.xAxis.getDataItemPositionX(e,t.xOpenField,d,t.vcx),y?Aj(c=t.yAxis.getDataItemPositionY(y,t.yField,p,y.component.get("vcy")))&&(c=t.basePosY):c=t.xAxis===t.baseAxis?t.basePosY:t.yAxis.getDataItemPositionY(e,t.yOpenField,p,t.vcy)}else u=t.xAxis.getDataItemPositionX(e,t.xOpenField,d,t.vcx),c=t.yAxis.getDataItemPositionY(e,t.yOpenField,p,t.vcy)}}var m=this.getPoint(u,c);l[2]=m.x,l[3]=m.y}if(t.minDistance>0){var b=l[0],g=l[1],w=l[2],_=l[3],k=this._previousPoint,x=k[0],O=k[1],P=k[2],S=k[3];(Math.hypot(b-x,g-O)>t.minDistance||w&&_&&Math.hypot(w-P,_-S)>t.minDistance)&&(n.push(l),this._previousPoint=l)}else n.push(l)}}},{key:"_endLine",value:function(e,t){}},{key:"_drawStroke",value:function(e,t){var n=this;e.get("visible")&&!e.get("forceHidden")&&e.set("draw",(function(e){Wj(t,(function(t){n._strokeGenerator.context(e),n._strokeGenerator(t)}))}))}},{key:"_drawFill",value:function(e,t){var n=this;e.get("visible")&&!e.get("forceHidden")&&e.set("draw",(function(e){Wj(t,(function(t){n._fillGenerator.context(e),n._fillGenerator(t)}))}))}},{key:"_processAxisRange",value:function(e){var n=this;VJ(t,"_processAxisRange",this,3)([e]),e.fills=new ZA(XM.new({}),(function(){return zL._new(n._root,{themeTags:dA(e.fills.template.get("themeTags",[]),["line","series","fill"])},[n.fills.template,e.fills.template])})),e.strokes=new ZA(XM.new({}),(function(){return zL._new(n._root,{themeTags:dA(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[n.strokes.template,e.strokes.template])}))}},{key:"createLegendMarker",value:function(e){var t=this.get("legendDataItem");if(t){var n=t.get("marker"),r=t.get("markerRectangle");r&&r.setPrivate("visible",!1),n.set("background",KL.new(n._root,{fillOpacity:0,fill:gA(0)}));var i=n.children.push(zL._new(n._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=i;var o=n.children.push(zL._new(n._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=o;var a=this._root.interfaceColors.get("disabled");if(i.states.create("disabled",{fill:a,stroke:a}),o.states.create("disabled",{fill:a,stroke:a}),this.bullets.length>0){var s=this.bullets.getIndex(0);if(s){var l=s(n._root,this,new bV(this,{legend:!0},{}));if(l){var u=l.get("sprite");u instanceof zL&&u.states.create("disabled",{fill:a,stroke:a}),u&&(u.set("tooltipText",void 0),u.set("tooltipHTML",void 0),n.children.push(u),u.setAll({x:n.width()/2,y:n.height()/2}),n.events.on("boundschanged",(function(){u.setAll({x:n.width()/2,y:n.height()/2})})))}}}}}}])}(ZW);function GJ(e){return GJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GJ(e)}function XJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WJ(r.key),r)}}function WJ(e){var t=function(e,t){if("object"!=GJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GJ(t)?t:t+""}Object.defineProperty(UJ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(UJ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ZW.classNames.concat([UJ.className])});var $J=function(){return function(e,t,n){return t&&XJ(e.prototype,t),n&&XJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=t,this._tension=n}),[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}},{key:"lineEnd",value:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eQ(this,this._t0,QJ(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}},{key:"point",value:function(e,t){var n=[t,e],r=NaN;if(t=+(t=n[1]),(e=+(e=n[0]))!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eQ(this,QJ(this,r=JJ(this,e,t)),r);break;default:eQ(this,this._t0,r=JJ(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}}])}();function KJ(e){function t(t){return new $J(t,e)}return t.tension=function(e){return KJ(+e)},t}function ZJ(e){return e<0?-1:1}function JJ(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ZJ(o)+ZJ(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function QJ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function eQ(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/1.5*(1-e._tension);e._context.bezierCurveTo(i+s*t,r+s,a-s*n,o-s,a,o)}function tQ(e){return tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tQ(e)}function nQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rQ(r.key),r)}}function rQ(e){var t=function(e,t){if("object"!=tQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tQ(t)?t:t+""}function iQ(e,t,n){return t=lQ(t),function(e,t){if(t&&("object"==tQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oQ()?Reflect.construct(t,n||[],lQ(e).constructor):t.apply(e,n))}function oQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oQ=function(){return!!e})()}function aQ(e,t,n,r){var i=sQ(lQ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function sQ(){return sQ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=lQ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sQ.apply(null,arguments)}function lQ(e){return lQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lQ(e)}function uQ(e,t){return uQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uQ(e,t)}var cQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),iQ(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uQ(e,t)}(t,e),function(e,t,n){return t&&nQ(e.prototype,t),n&&nQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._setDefault("curveFactory",KJ(this.get("tension",.5))),aQ(t,"_afterNew",this,3)([])}},{key:"_updateChildren",value:function(){this.isDirty("tension")&&(this.set("curveFactory",KJ(this.get("tension",.5))),this._valuesDirty=!0),aQ(t,"_updateChildren",this,3)([])}}])}(UJ);function fQ(e){return fQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fQ(e)}function hQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dQ(r.key),r)}}function dQ(e){var t=function(e,t){if("object"!=fQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fQ(t)?t:t+""}Object.defineProperty(cQ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedYLineSeries"}),Object.defineProperty(cQ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:UJ.classNames.concat([cQ.className])});var pQ=function(){return function(e,t,n){return t&&hQ(e.prototype,t),n&&hQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_line",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_point",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_x1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_t0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tension",{enumerable:!0,configurable:!0,writable:!0,value:0}),this._context=t,this._tension=n}),[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}},{key:"lineEnd",value:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gQ(this,this._t0,bQ(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}},{key:"point",value:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gQ(this,bQ(this,n=mQ(this,e,t)),n);break;default:gQ(this,this._t0,n=mQ(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}}])}();function vQ(e){return function(t){return new pQ(t,e)}}function yQ(e){return e<0?-1:1}function mQ(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(yQ(o)+yQ(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function bQ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gQ(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/1.5*(1-e._tension);e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function wQ(e){return wQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wQ(e)}function _Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kQ(r.key),r)}}function kQ(e){var t=function(e,t){if("object"!=wQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wQ(t)?t:t+""}function xQ(e,t,n){return t=EQ(t),function(e,t){if(t&&("object"==wQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OQ()?Reflect.construct(t,n||[],EQ(e).constructor):t.apply(e,n))}function OQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OQ=function(){return!!e})()}function PQ(e,t,n,r){var i=SQ(EQ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function SQ(){return SQ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=EQ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},SQ.apply(null,arguments)}function EQ(e){return EQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EQ(e)}function jQ(e,t){return jQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jQ(e,t)}var TQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xQ(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jQ(e,t)}(t,e),function(e,t,n){return t&&_Q(e.prototype,t),n&&_Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._setDefault("curveFactory",vQ(this.get("tension",.5))),PQ(t,"_afterNew",this,3)([])}},{key:"_updateChildren",value:function(){this.isDirty("tension")&&(this.set("curveFactory",vQ(this.get("tension",.5))),this._valuesDirty=!0),PQ(t,"_updateChildren",this,3)([])}}])}(UJ);function DQ(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function AQ(e,t){this._context=e,this._k=(1-t)/6}Object.defineProperty(TQ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXLineSeries"}),Object.defineProperty(TQ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:UJ.classNames.concat([TQ.className])}),AQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:DQ(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:DQ(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const CQ=function e(t){function n(e){return new AQ(e,t)}return n.tension=function(t){return e(+t)},n}(0);function MQ(e){return MQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MQ(e)}function LQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RQ(r.key),r)}}function RQ(e){var t=function(e,t){if("object"!=MQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MQ(t)?t:t+""}function IQ(e,t,n){return t=zQ(t),function(e,t){if(t&&("object"==MQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NQ()?Reflect.construct(t,n||[],zQ(e).constructor):t.apply(e,n))}function NQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NQ=function(){return!!e})()}function BQ(e,t,n,r){var i=FQ(zQ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function FQ(){return FQ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=zQ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},FQ.apply(null,arguments)}function zQ(e){return zQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zQ(e)}function VQ(e,t){return VQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VQ(e,t)}var qQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),IQ(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VQ(e,t)}(t,e),function(e,t,n){return t&&LQ(e.prototype,t),n&&LQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._setDefault("curveFactory",CQ.tension(this.get("tension",.5))),BQ(t,"_afterNew",this,3)([])}},{key:"_updateChildren",value:function(){this.isDirty("tension")&&(this.set("curveFactory",CQ.tension(this.get("tension",.5))),this._valuesDirty=!0),BQ(t,"_updateChildren",this,3)([])}}])}(UJ);function HQ(e,t){this._context=e,this._t=t}function YQ(e){return new HQ(e,1)}function UQ(e){return UQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UQ(e)}function GQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XQ(r.key),r)}}function XQ(e){var t=function(e,t){if("object"!=UQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UQ(t)?t:t+""}function WQ(e,t,n){return t=ZQ(t),function(e,t){if(t&&("object"==UQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$Q()?Reflect.construct(t,n||[],ZQ(e).constructor):t.apply(e,n))}function $Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($Q=function(){return!!e})()}function KQ(){return KQ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ZQ(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},KQ.apply(null,arguments)}function ZQ(e){return ZQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZQ(e)}function JQ(e,t){return JQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JQ(e,t)}Object.defineProperty(qQ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SmoothedXYLineSeries"}),Object.defineProperty(qQ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:UJ.classNames.concat([qQ.className])}),HQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var QQ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WQ(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JQ(e,t)}(t,e),function(e,t,n){return t&&GQ(e.prototype,t),n&&GQ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._setDefault("curveFactory",YQ),function(e,t,n,r){var i=KQ(ZQ(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([])}},{key:"_getPoints",value:function(e,t){var n=t.points,r=this.get("stepWidth",Ej).value/2,i=e.get("locationX",t.locationX),o=e.get("locationY",t.locationY),a=i,s=o;t.baseAxis===t.xAxis?(i-=r,a+=r):t.baseAxis===t.yAxis&&(o-=r,s+=r);var l=t.xAxis.getDataItemPositionX(e,t.xField,i,t.vcx),u=t.yAxis.getDataItemPositionY(e,t.yField,o,t.vcy),c=t.xAxis.getDataItemPositionX(e,t.xField,a,t.vcx),f=t.yAxis.getDataItemPositionY(e,t.yField,s,t.vcy);if(this._shouldInclude(l)){var h=this.getPoint(l,u),d=[h.x,h.y],p=this.getPoint(c,f),v=[p.x,p.y];if(t.fillVisible){var y=l,m=u,b=c,g=f;if(t.baseAxis===t.xAxis?(m=t.basePosY,g=t.basePosY):t.baseAxis===t.yAxis&&(y=t.basePosX,b=t.basePosX),t.getOpen){var w=e.get(t.xOpenField),_=e.get(t.yOpenField);if(null!=w&&null!=_)if(a=i=e.get("openLocationX",t.openLocationX),s=o=e.get("openLocationY",t.openLocationY),t.baseAxis===t.xAxis?(i-=r,a+=r):t.baseAxis===t.yAxis&&(o-=r,s+=r),t.stacked){var k=e.get("stackToItemX"),x=e.get("stackToItemY");k?(y=t.xAxis.getDataItemPositionX(k,t.xField,i,k.component.get("vcx")),b=t.xAxis.getDataItemPositionX(k,t.xField,a,k.component.get("vcx"))):t.yAxis===t.baseAxis?(y=t.basePosX,b=t.basePosX):t.baseAxis===t.yAxis&&(y=t.xAxis.getDataItemPositionX(e,t.xOpenField,i,t.vcx),b=t.xAxis.getDataItemPositionX(e,t.xOpenField,a,t.vcx)),x?(m=t.yAxis.getDataItemPositionY(x,t.yField,o,x.component.get("vcy")),g=t.yAxis.getDataItemPositionY(x,t.yField,s,x.component.get("vcy"))):t.xAxis===t.baseAxis?(m=t.basePosY,g=t.basePosY):t.baseAxis===t.yAxis&&(m=t.yAxis.getDataItemPositionY(e,t.yOpenField,o,t.vcy),g=t.yAxis.getDataItemPositionY(e,t.yOpenField,s,t.vcy))}else y=t.xAxis.getDataItemPositionX(e,t.xOpenField,i,t.vcx),m=t.yAxis.getDataItemPositionY(e,t.yOpenField,o,t.vcy),b=t.xAxis.getDataItemPositionX(e,t.xOpenField,a,t.vcx),g=t.yAxis.getDataItemPositionY(e,t.yOpenField,s,t.vcy)}var O=this.getPoint(y,m),P=this.getPoint(b,g);d[2]=O.x,d[3]=O.y,v[2]=P.x,v[3]=P.y}n.push(d),n.push(v),e.set("point",{x:d[0]+(v[0]-d[0])/2,y:d[1]+(v[1]-d[1])/2})}this.get("noRisers")&&(t.points=[],t.segments.push(n))}}])}(UJ);function e0(e){return e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(e)}function t0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n0(r.key),r)}}function n0(e){var t=function(e,t){if("object"!=e0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e0(t)?t:t+""}function r0(e,t,n){return t=a0(t),function(e,t){if(t&&("object"==e0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i0()?Reflect.construct(t,n||[],a0(e).constructor):t.apply(e,n))}function i0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i0=function(){return!!e})()}function o0(){return o0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=a0(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o0.apply(null,arguments)}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a0(e)}function s0(e,t){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s0(e,t)}Object.defineProperty(QQ,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"}),Object.defineProperty(QQ,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:UJ.classNames.concat([QQ.className])});var l0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r0(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s0(e,t)}(t,e),function(e,t,n){return t&&t0(e.prototype,t),n&&t0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setupDefaultRules",value:function(){!function(e,t,n,r){var i=o0(a0(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"setupDefaultRules",this,3)([]);var e=this._root.interfaceColors,n=this.rule.bind(this);n("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:bX.new(this._root,{}),width:Ej,height:Ej}),n("PieChart").setAll({radius:Pj(80),startAngle:-90,endAngle:270}),n("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),n("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),n("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),n("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),n("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),n("Slice",["pie"]).states.create("hover",{scale:1.04}),n("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),n("Tick",["pie"]).setAll({location:1}),n("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),n("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),n("FunnelSlice").setAll({interactive:!0,expandDistance:0}),n("FunnelSlice").states.create("hover",{expandDistance:.15}),n("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:jj}),n("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:jj,rotation:-90}),n("Label",["funnel","vertical"]).setAll({centerY:jj,centerX:0}),n("Tick",["funnel"]).setAll({location:1}),n("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),n("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),n("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),n("PyramidSeries").setAll({valueIs:"area"}),n("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),n("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),n("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),n("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),n("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),n("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:jj}),n("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:jj,rotation:-90}),n("Label",["pyramid","vertical"]).setAll({centerY:jj,centerX:0}),n("Tick",["pyramid"]).setAll({location:1}),n("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),n("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:jj}),n("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:jj,rotation:-90}),n("Label",["pictorial","vertical"]).setAll({centerY:jj,centerX:0}),n("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),n("Tick",["pictorial"]).setAll({location:.5});var r=n("Graphics",["pictorial","background"]);r.setAll({fillOpacity:.2}),nB(r,"fill",e,"alternativeBackground")}}])}(XN);function u0(e){return u0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(e)}function c0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f0(r.key),r)}}function f0(e){var t=function(e,t){if("object"!=u0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u0(t)?t:t+""}function h0(e,t,n){return t=y0(t),function(e,t){if(t&&("object"==u0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d0()?Reflect.construct(t,n||[],y0(e).constructor):t.apply(e,n))}function d0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d0=function(){return!!e})()}function p0(e,t,n,r){var i=v0(y0(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function v0(){return v0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=y0(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},v0.apply(null,arguments)}function y0(e){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y0(e)}function m0(e,t){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m0(e,t)}var b0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h0(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m0(e,t)}(t,e),function(e,t,n){return t&&c0(e.prototype,t),n&&c0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){this._defaultThemes.push(l0.new(this._root)),p0(t,"_afterNew",this,3)([]),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}},{key:"_processSeries",value:function(e){p0(t,"_processSeries",this,3)([e]),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}])}(CU);function g0(e){return g0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(e)}function w0(){w0=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==g0(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(g0(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function _0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k0(r.key),r)}}function k0(e){var t=function(e,t){if("object"!=g0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g0(t)?t:t+""}function x0(e,t,n){return t=E0(t),function(e,t){if(t&&("object"==g0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,O0()?Reflect.construct(t,n||[],E0(e).constructor):t.apply(e,n))}function O0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O0=function(){return!!e})()}function P0(e,t,n,r){var i=S0(E0(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function S0(){return S0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=E0(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},S0.apply(null,arguments)}function E0(e){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E0(e)}function j0(e,t){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j0(e,t)}Object.defineProperty(b0,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"}),Object.defineProperty(b0,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:CU.classNames.concat([b0.className])});var T0=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=x0(this,t,arguments),Object.defineProperty(e,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(e,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(e,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(WR.new(e._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(e,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"slices",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(e._makeSlices())}),Object.defineProperty(e,"labels",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(e._makeLabels())}),Object.defineProperty(e,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(e._makeTicks())}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j0(e,t)}(t,e),function(e,t,n){return t&&_0(e.prototype,t),n&&_0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"makeSlice",value:function(e){var t=this,n=this.slicesContainer.children.push(this.slices.make());return n.on("fill",(function(){t.updateLegendMarker(e)})),n.on("fillPattern",(function(){t.updateLegendMarker(e)})),n.on("stroke",(function(){t.updateLegendMarker(e)})),n._setDataItem(e),e.set("slice",n),this.slices.push(n),n}},{key:"makeLabel",value:function(e){var t=this.labelsContainer.children.push(this.labels.make());return t._setDataItem(e),e.set("label",t),this.labels.push(t),t}},{key:"_shouldMakeBullet",value:function(e){return null!=e.get("value")}},{key:"makeTick",value:function(e){var t=this.ticksContainer.children.push(this.ticks.make());return t._setDataItem(e),e.set("tick",t),this.ticks.push(t),t}},{key:"_afterNew",value:function(){this.fields.push("category","fill"),P0(t,"_afterNew",this,3)([])}},{key:"_onDataClear",value:function(){var e=this.get("colors");e&&e.reset();var t=this.get("patterns");t&&t.reset()}},{key:"_prepareChildren",value:function(){if(P0(t,"_prepareChildren",this,3)([]),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){var e=0,n=0,r=0,i=1/0,o=0;Wj(this._dataItems,(function(t){var r=t.get("valueWorking",0);e+=r,n+=Math.abs(r)})),Wj(this._dataItems,(function(e){var t=e.get("valueWorking",0);t>r&&(r=t),t<i&&(i=t),o++;var a=t/n;0==n&&(a=0),e.setRaw("valuePercentTotal",100*a)})),this.setPrivateRaw("valueLow",i),this.setPrivateRaw("valueHigh",r),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/o),this.setPrivateRaw("valueAbsoluteSum",n)}}},{key:"show",value:function(e){var n=this,r=Object.create(null,{show:{get:function(){return P0(t,"show",n,1)}}});return wj(this,void 0,void 0,w0().mark((function t(){var n;return w0().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=[]).push(r.show.call(this,e)),n.push(this._sequencedShowHide(!0,e)),t.next=5,Promise.all(n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"hide",value:function(e){var n=this,r=Object.create(null,{hide:{get:function(){return P0(t,"hide",n,1)}}});return wj(this,void 0,void 0,w0().mark((function t(){var n;return w0().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=[]).push(r.hide.call(this,e)),n.push(this._sequencedShowHide(!1,e)),t.next=5,Promise.all(n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"_updateChildren",value:function(){var e=this;P0(t,"_updateChildren",this,3)([]),this._valuesDirty&&Wj(this._dataItems,(function(e){e.get("label").text.markDirtyText()})),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&Wj(this._dataItems,(function(t){e.updateLegendValue(t)})),this._arrange()}},{key:"_arrange",value:function(){var e=this;this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),Wj(this.dataItems,(function(t){e._updateTick(t)}))}},{key:"_afterChanged",value:function(){P0(t,"_afterChanged",this,3)([]),this._arrange()}},{key:"processDataItem",value:function(e){if(P0(t,"processDataItem",this,3)([e]),null==e.get("fill")){var n=this.get("colors");n&&e.setRaw("fill",n.next())}if(null==e.get("fillPattern")){var r=this.get("patterns");r&&e.setRaw("fillPattern",r.next())}}},{key:"showDataItem",value:function(e,n){var r=this,i=Object.create(null,{showDataItem:{get:function(){return P0(t,"showDataItem",r,1)}}});return wj(this,void 0,void 0,w0().mark((function t(){var r,o,a,s,l,u,c;return w0().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.showDataItem.call(this,e,n)],zj(n)||(n=this.get("stateAnimationDuration",0)),o=this.get("stateAnimationEasing"),a=e.get("value"),(s=e.animate({key:"valueWorking",to:a,duration:n,easing:o}))&&r.push(s.waitForStop()),(l=e.get("tick"))&&r.push(l.show(n)),(u=e.get("label"))&&r.push(u.show(n)),(c=e.get("slice"))&&r.push(c.show(n)),c.get("active")&&c.states.applyAnimate("active"),t.next=15,Promise.all(r);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"hideDataItem",value:function(e,n){var r=this,i=Object.create(null,{hideDataItem:{get:function(){return P0(t,"hideDataItem",r,1)}}});return wj(this,void 0,void 0,w0().mark((function t(){var r,o,a,s,l,u,c;return w0().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[i.hideDataItem.call(this,e,n)],o=this.states.create("hidden",{}),zj(n)||(n=o.get("stateAnimationDuration",this.get("stateAnimationDuration",0))),a=o.get("stateAnimationEasing",this.get("stateAnimationEasing")),(s=e.animate({key:"valueWorking",to:0,duration:n,easing:a}))&&r.push(s.waitForStop()),(l=e.get("tick"))&&r.push(l.hide(n)),(u=e.get("label"))&&r.push(u.hide(n)),(c=e.get("slice")).hideTooltip(),c&&r.push(c.hide(n)),t.next=15,Promise.all(r);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"disposeDataItem",value:function(e){P0(t,"disposeDataItem",this,3)([e]);var n=e.get("label");n&&(this.labels.removeValue(n),n.dispose());var r=e.get("tick");r&&(this.ticks.removeValue(r),r.dispose());var i=e.get("slice");i&&(this.slices.removeValue(i),i.dispose())}},{key:"hoverDataItem",value:function(e){var t=e.get("slice");t&&!t.isHidden()&&t.hover()}},{key:"unhoverDataItem",value:function(e){var t=e.get("slice");t&&t.unhover()}},{key:"updateLegendMarker",value:function(e){if(e){var t=e.get("slice");if(t){var n=e.get("legendDataItem");if(n){var r=n.get("markerRectangle");Wj(FL,(function(e){null!=t.get(e)&&r.set(e,t.get(e))}))}}}}},{key:"_arrangeDown",value:function(e){if(e){var t=this._getNextDown();e.sort((function(e,t){return e.y>t.y?1:e.y<t.y?-1:0})),Wj(e,(function(e){var n=e.label.adjustedLocalBounds(),r=n.top;e.y+r<t&&(e.y=t-r),e.label.set("y",e.y),t=e.y+n.bottom}))}}},{key:"_getNextUp",value:function(){return this.labelsContainer.maxHeight()}},{key:"_getNextDown",value:function(){return 0}},{key:"_arrangeUp",value:function(e){if(e){var t=this._getNextUp();e.sort((function(e,t){return e.y<t.y?1:e.y>t.y?-1:0})),Wj(e,(function(e){var n=e.label.adjustedLocalBounds(),r=n.bottom;e.y+r>t&&(e.y=t-r),e.label.set("y",e.y),t=e.y+n.top}))}}},{key:"_arrangeRight",value:function(e){if(e){var t=0;e.sort((function(e,t){return e.y>t.y?1:e.y<t.y?-1:0})),Wj(e,(function(e){var n=e.label.adjustedLocalBounds(),r=n.left;e.y+r<t&&(e.y=t-r),e.label.set("x",e.y),t=e.y+n.right}))}}},{key:"_arrangeLeft",value:function(e){if(e){var t=this.labelsContainer.maxWidth();e.sort((function(e,t){return e.y<t.y?1:e.y>t.y?-1:0})),Wj(e,(function(e){var n=e.label.adjustedLocalBounds(),r=n.right;e.y+r>t&&(e.y=t-r),e.label.set("x",e.y),t=e.y+n.left}))}}},{key:"_updateSize",value:function(){P0(t,"_updateSize",this,3)([]),this.markDirty()}},{key:"_updateTick",value:function(e){}},{key:"_dispose",value:function(){P0(t,"_dispose",this,3)([]);var e=this.chart;e&&e.series.removeValue(this)}}])}(zq);function D0(e){return D0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(e)}function A0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C0(r.key),r)}}function C0(e){var t=function(e,t){if("object"!=D0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D0(t)?t:t+""}function M0(e,t,n){return t=N0(t),function(e,t){if(t&&("object"==D0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L0()?Reflect.construct(t,n||[],N0(e).constructor):t.apply(e,n))}function L0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L0=function(){return!!e})()}function R0(e,t,n,r){var i=I0(N0(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function I0(){return I0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=N0(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},I0.apply(null,arguments)}function N0(e){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N0(e)}function B0(e,t){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B0(e,t)}Object.defineProperty(T0,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"}),Object.defineProperty(T0,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zq.classNames.concat([T0.className])});var F0=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=M0(this,t,arguments),Object.defineProperty(e,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B0(e,t)}(t,e),function(e,t,n){return t&&A0(e.prototype,t),n&&A0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){R0(t,"_afterNew",this,3)([]),this.seriesContainer.setAll({x:jj,y:jj})}},{key:"_prepareChildren",value:function(){R0(t,"_prepareChildren",this,3)([]);var e=this.chartContainer,n=e.innerWidth(),r=e.innerHeight(),i=this.get("startAngle",0),o=this.get("endAngle",0),a=this.get("innerRadius"),s=gC(0,0,i,o,1),l=n/(s.right-s.left),u=r/(s.bottom-s.top),c={left:0,right:0,top:0,bottom:0};if(a instanceof Oj){var f=a.value,h=Math.min(l,u);c=gC(0,0,i,o,f=Math.max(h*f,h-Math.min(r,n))/h),this.setPrivateRaw("irModifyer",f/a.value)}s=_C([s,c]);var d=this._maxRadius;this._maxRadius=Math.min(l,u);var p=MD(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-p*(s.bottom+s.top)/2,dx:-p*(s.right+s.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||d!=this._maxRadius)&&this.series.each((function(e){e._markDirtyKey("startAngle")})),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each((function(e){e._markDirtyKey("innerRadius")}))}},{key:"radius",value:function(e){var t=MD(this.get("radius",0),this._maxRadius),n=MD(this.get("innerRadius",0),t);if(e){var r=this.series.indexOf(e),i=this.series.length,o=e.get("radius");return null!=o?n+MD(o,t-n):n+(t-n)/i*(r+1)}return t}},{key:"innerRadius",value:function(e){var t=this.radius(),n=MD(this.get("innerRadius",0),t);if(n<0&&(n=t+n),e){var r=this.series.indexOf(e),i=this.series.length,o=e.get("innerRadius");return null!=o?n+MD(o,t-n):n+(t-n)/i*r}return n}},{key:"_updateSize",value:function(){R0(t,"_updateSize",this,3)([]),this.markDirtyKey("radius")}}])}(b0);function z0(e){return z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(e)}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q0(r.key),r)}}function q0(e){var t=function(e,t){if("object"!=z0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z0(t)?t:t+""}function H0(e,t,n){return t=X0(t),function(e,t){if(t&&("object"==z0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Y0()?Reflect.construct(t,n||[],X0(e).constructor):t.apply(e,n))}function Y0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y0=function(){return!!e})()}function U0(e,t,n,r){var i=G0(X0(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function G0(){return G0="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=X0(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},G0.apply(null,arguments)}function X0(e){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X0(e)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W0(e,t)}Object.defineProperty(F0,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"}),Object.defineProperty(F0,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b0.classNames.concat([F0.className])});var $0=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H0(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}(t,e),function(e,t,n){return t&&V0(e.prototype,t),n&&V0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_makeSlices",value:function(){var e=this;return new ZA(XM.new({}),(function(){return vU._new(e._root,{themeTags:dA(e.slices.template.get("themeTags",[]),["pie","series"])},[e.slices.template])}))}},{key:"_makeLabels",value:function(){var e=this;return new ZA(XM.new({}),(function(){return BH._new(e._root,{themeTags:dA(e.labels.template.get("themeTags",[]),["pie","series"])},[e.labels.template])}))}},{key:"_makeTicks",value:function(){var e=this;return new ZA(XM.new({}),(function(){return zU._new(e._root,{themeTags:dA(e.ticks.template.get("themeTags",[]),["pie","series"])},[e.ticks.template])}))}},{key:"processDataItem",value:function(e){var n=this;U0(t,"processDataItem",this,3)([e]);var r=this.makeSlice(e);r.on("scale",(function(){n._updateTick(e)})),r.on("shiftRadius",(function(){n._updateTick(e)})),r.events.on("positionchanged",(function(){n._updateTick(e)}));var i=this.makeLabel(e);i.events.on("positionchanged",(function(){n._updateTick(e)})),this.makeTick(e),r.events.on("positionchanged",(function(){i.markDirty()}))}},{key:"_getNextUp",value:function(){var e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}},{key:"_getNextDown",value:function(){var e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}},{key:"_prepareChildren",value:function(){var e=this;U0(t,"_prepareChildren",this,3)([]);var n=this.chart;if(n){if(this.isDirty("alignLabels")){var r=this.labels.template;if(this.get("alignLabels"))r.set("textType","aligned");else{var i=r.get("textType");null!=i&&"aligned"!=i||r.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();var o=this.get("startAngle",n.get("startAngle",-90)),a=this.get("endAngle",n.get("endAngle",270))-o,s=o,l=n.radius(this);this.setPrivateRaw("radius",l);var u=n.innerRadius(this)*n.getPrivate("irModifyer",1);u<0&&(u=l+u),Wj(this._dataItems,(function(t){e.updateLegendValue(t);var n=a*t.get("valuePercentTotal")/100,r=t.get("slice");if(r){r.set("radius",l),r.set("innerRadius",u),r.set("startAngle",s),r.set("arc",n);var i=t.get("fill");r._setDefault("fill",i),r._setDefault("stroke",i);var o=t.get("fillPattern");r._setDefault("fillPattern",o)}var c=bC(s+n/2),f=t.get("label");if(f&&(f.setPrivate("radius",l),f.setPrivate("innerRadius",u),f.set("labelAngle",c),"aligned"==f.get("textType"))){var h=l+f.get("radius",0),d=l*vC(c);c>90&&c<=270?(f.isHidden()||f.isHiding()||e._lLabels.push({label:f,y:d}),h*=-1,h-=e.labelsContainer.get("paddingLeft",0),f.set("centerX",Ej),f.setPrivateRaw("left",!0)):(f.isHidden()||f.isHiding()||e._rLabels.push({label:f,y:d}),h+=e.labelsContainer.get("paddingRight",0),f.set("centerX",0),f.setPrivateRaw("left",!1)),f.set("x",h),f.set("y",l*vC(c))}s+=n,e._updateTick(t)}))}}}},{key:"_updateTick",value:function(e){var t=e.get("tick"),n=e.get("label"),r=e.get("slice"),i=t.get("location",1);if(t&&n&&r){var o=(r.get("shiftRadius",0)+r.get("radius",0))*r.get("scale",1)*i,a=n.get("labelAngle",0),s=mC(a),l=vC(a),u=this.labelsContainer,c=u.get("paddingLeft",0),f=u.get("paddingRight",0),h=0,d=0;h=n.x(),d=n.y();var p=[];if(0!=h||0!=d){if("circular"==n.get("textType")){var v=n.radius()-n.get("paddingBottom",0),y=n.get("labelAngle",0);h=v*mC(y),d=v*vC(y)}var m=-f;n.getPrivate("left")&&(m=c),p=[{x:r.x()+o*s,y:r.y()+o*l},{x:h+m,y:d},{x:h,y:d}]}t.set("points",p)}}},{key:"_positionBullet",value:function(e){var t=e.get("sprite");if(t){var n=t.dataItem.get("slice");if(n){var r=n.get("innerRadius",0),i=n.get("radius",0),o=n.get("startAngle",0)+n.get("arc",0)*e.get("locationX",.5),a=r+(i-r)*e.get("locationY",.5);t.setAll({x:mC(o)*a,y:vC(o)*a})}}}}])}(T0);function K0(e){return K0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(e)}function Z0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J0(r.key),r)}}function J0(e){var t=function(e,t){if("object"!=K0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=K0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K0(t)?t:t+""}function Q0(e,t,n){return t=r1(t),function(e,t){if(t&&("object"==K0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,e1()?Reflect.construct(t,n||[],r1(e).constructor):t.apply(e,n))}function e1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(e1=function(){return!!e})()}function t1(e,t,n,r){var i=n1(r1(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function n1(){return n1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=r1(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},n1.apply(null,arguments)}function r1(e){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r1(e)}function i1(e,t){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i1(e,t)}Object.defineProperty($0,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"}),Object.defineProperty($0,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T0.classNames.concat([$0.className])});var o1=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=Q0(this,t,arguments),Object.defineProperty(e,"_projectionDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_tlx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_tly",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_trx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_try",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_blx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_bly",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_brx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_bry",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_cprx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_cplx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_cpry",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_cply",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i1(e,t)}(t,e),function(e,t,n){return t&&Z0(e.prototype,t),n&&Z0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){var e=this;t1(t,"_afterNew",this,3)([]),this.set("draw",(function(t){t.moveTo(e._tlx,e._tly),t.lineTo(e._trx,e._try),t.quadraticCurveTo(e._cprx,e._cpry,e._brx,e._bry),t.lineTo(e._blx,e._bly),t.quadraticCurveTo(e._cplx,e._cply,e._tlx,e._tly)}))}},{key:"getPoint",value:function(e,t){var n=this.width(),r=this.height(),i=this.get("topWidth",0),o=this.get("bottomWidth",0);if("vertical"==this.get("orientation")){var a=-i/2,s=i/2,l=a+(-o/2-a)*t;return{x:l+(s+(o/2-s)*t-l)*e,y:r*t}}var u=-i/2,c=i/2,f=u+(-o/2-u)*e;return{x:n*e,y:f+(c+(o/2-c)*e-f)*t}}},{key:"_changed",value:function(){if(this.isDirty("topWidth")||this.isDirty("bottomWidth")||this.isDirty("expandDistance")||this.isDirty("orientation")||this.isDirty("width")||this.isDirty("height")){var e=this.width(),n=this.height(),r=this.get("topWidth",0),i=this.get("bottomWidth",0);this._clear=!0;var o=this.get("expandDistance",0);"vertical"==this.get("orientation")?(this._tlx=-r/2,this._tly=0,this._trx=r/2,this._try=0,this._brx=i/2,this._bry=n,this._blx=-i/2,this._bly=n,this._cprx=this._trx+(this._brx-this._trx)/2+o*n,this._cpry=this._try+.5*n,this._cplx=this._tlx+(this._blx-this._tlx)/2-o*n,this._cply=this._tly+.5*n):(this._tly=-r/2,this._tlx=0,this._try=r/2,this._trx=0,this._bry=i/2,this._brx=e,this._bly=-i/2,this._blx=e,this._cpry=this._try+(this._bry-this._try)/2+o*e,this._cprx=this._trx+.5*e,this._cply=this._tly+(this._bly-this._tly)/2-o*e,this._cplx=this._tlx+.5*e)}t1(t,"_changed",this,3)([])}}])}(zL);function a1(e){return a1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a1(e)}function s1(){s1=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),s=new D(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(A([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(i,o,a,s){var l=f(e[i],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==a1(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(t,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=E(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(a1(t)+" is not iterable")}return b.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(P.prototype),u(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new P(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u1(r.key),r)}}function u1(e){var t=function(e,t){if("object"!=a1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a1(t)?t:t+""}function c1(e,t,n){return t=p1(t),function(e,t){if(t&&("object"==a1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f1()?Reflect.construct(t,n||[],p1(e).constructor):t.apply(e,n))}function f1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f1=function(){return!!e})()}function h1(e,t,n,r){var i=d1(p1(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function d1(){return d1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=p1(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d1.apply(null,arguments)}function p1(e){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p1(e)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v1(e,t)}Object.defineProperty(o1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"FunnelSlice"}),Object.defineProperty(o1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:zL.classNames.concat([o1.className])});var y1=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=c1(this,t,arguments),Object.defineProperty(e,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"funnel"}),Object.defineProperty(e,"links",{enumerable:!0,configurable:!0,writable:!0,value:e.addDisposer(e._makeLinks())}),Object.defineProperty(e,"_total",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_count",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_nextCoord",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_opposite",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}(t,e),function(e,t,n){return t&&l1(e.prototype,t),n&&l1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_makeSlices",value:function(){var e=this;return new ZA(XM.new({}),(function(){return o1._new(e._root,{themeTags:dA(e.slices.template.get("themeTags",[]),[e._tag,"series","slice",e.get("orientation")])},[e.slices.template])}))}},{key:"_makeLabels",value:function(){var e=this;return new ZA(XM.new({}),(function(){return AI._new(e._root,{themeTags:dA(e.labels.template.get("themeTags",[]),[e._tag,"series","label",e.get("orientation")])},[e.labels.template])}))}},{key:"_makeTicks",value:function(){var e=this;return new ZA(XM.new({}),(function(){return zU._new(e._root,{themeTags:dA(e.ticks.template.get("themeTags",[]),[e._tag,"series","tick",e.get("orientation")])},[e.ticks.template])}))}},{key:"_makeLinks",value:function(){var e=this;return new ZA(XM.new({}),(function(){return o1._new(e._root,{themeTags:dA(e.links.template.get("themeTags",[]),[e._tag,"series","link",e.get("orientation")])},[e.links.template])}))}},{key:"makeLink",value:function(e){var t=this.slicesContainer.children.push(this.links.make());return t._setDataItem(e),e.set("link",t),this.links.push(t),t}},{key:"_afterNew",value:function(){var e=this;h1(t,"_afterNew",this,3)([]);var n=this.slicesContainer;n.setAll({isMeasured:!0,position:"relative",width:Pj(100),height:Pj(100)}),n.onPrivate("width",(function(){e.markDirtySize()})),n.onPrivate("height",(function(){e.markDirtySize()})),"vertical"==this.get("orientation")?this.set("layout",this._root.horizontalLayout):this.set("layout",this._root.verticalLayout)}},{key:"processDataItem",value:function(e){var n=this;h1(t,"processDataItem",this,3)([e]);var r=this.makeSlice(e);r._setDataItem(e),e.set("slice",r),this.makeLink(e);var i=this.makeLabel(e);i.on("x",(function(){n._updateTick(e)})),i.on("y",(function(){n._updateTick(e)})),this.makeTick(e),r.events.on("positionchanged",(function(){i.markDirty()})),r.events.on("boundschanged",(function(){var e=r.dataItem;e&&n._updateTick(e)}))}},{key:"_updateChildren",value:function(){var e=this;this._opposite=!1,0==this.children.indexOf(this.labelsContainer)&&(this._opposite=!0);var n=0,r=0;if(Wj(this.dataItems,(function(t){var i=t.get("value");zj(i)&&(r++,i>0?n+=Math.abs(t.get("valueWorking",i)/i):e.get("ignoreZeroValues",!1)||t.isHidden()?r--:n+=1)})),this._total=1/r*n,this._count=r,this.isDirty("alignLabels")&&this._fixLayout(),this._total>0&&(this._valuesDirty||this._sizeDirty)){var i,o=this.slicesContainer;i="vertical"==this.get("orientation")?o.innerHeight():o.innerWidth(),this._nextCoord=this.get("startLocation",0)*i,this.markDirtyBounds();var a=0;Wj(this._dataItems,(function(t){e.updateLegendValue(t),t.set("index",a),a++;var n=t.get("slice"),r=t.get("tick"),i=t.get("label"),o=t.get("link"),s=t.get("fill"),l=t.get("fillPattern");n._setDefault("fill",s),n._setDefault("stroke",s),n._setDefault("fillPattern",l),o._setDefault("fill",s),o._setDefault("stroke",s);var u=t.get("value");zj(u)&&(0==u&&e.get("ignoreZeroValues")?(n.setPrivate("visible",!1),r.setPrivate("visible",!1),i.setPrivate("visible",!1)):(n.setPrivate("visible",!0),r.setPrivate("visible",!0),i.setPrivate("visible",!0),e.decorateSlice(t),e.isLast(t)?o.setPrivate("visible",!1):t.isHidden()||o.setPrivate("visible",!0)))}))}h1(t,"_updateChildren",this,3)([])}},{key:"_fixLayout",value:function(){var e=this.get("orientation"),t=this.labelsContainer,n=this.labels.template;this.get("alignLabels")?(t.set("position","relative"),t.setAll({isMeasured:!0}),"vertical"==e?(this.set("layout",this._root.horizontalLayout),n.setAll({centerX:Ej,x:Ej})):(this.set("layout",this._root.verticalLayout),n.setAll({centerX:0,x:0}))):(t.setAll({isMeasured:!1,position:"absolute"}),"vertical"==e?(t.setAll({x:jj}),n.setAll({centerX:jj,x:0})):(t.setAll({y:jj}),n.setAll({centerX:jj,y:0}))),this.markDirtySize()}},{key:"getNextValue",value:function(e){var t=e.get("index"),n=e.get("valueWorking",0);if(t<this.dataItems.length-1){var r=this.dataItems[t+1];if(n=r.get("valueWorking",0),r.isHidden()||0==r.get("value")&&this.get("ignoreZeroValues"))return this.getNextValue(r)}return n}},{key:"isLast",value:function(e){var t=e.get("index");if(t==this.dataItems.length-1)return!0;for(var n=t+1;n<this.dataItems.length;n++)if(!this.dataItems[n].isHidden())return!1;return!0}},{key:"decorateSlice",value:function(e){var t=this.get("orientation"),n=e.get("slice"),r=e.get("label"),i=e.get("link"),o=this.slicesContainer,a=o.innerWidth(),s=o.innerHeight(),l=a;"horizontal"==t&&(l=s);var u=this.getNextValue(e),c=e.get("value",0),f=Math.abs(e.get("valueWorking",c)),h=this.get("bottomRatio",0),d=this.getPrivate("valueHigh",0),p=1;0!=c?p=f/Math.abs(c):e.isHidden()&&(p=1e-6),this._nextCoord==1/0&&(this._nextCoord=0);var v=f/d*l,y=(f-(f-u)*h)/d*l;n.setAll({topWidth:v,bottomWidth:y,orientation:t}),i.setAll({topWidth:y,bottomWidth:(f-(f-u))/d*l,orientation:t});var m=this.get("startLocation",0),b=this.get("endLocation",1);if("vertical"==t){var g=i.height()*p;s=s*(b-m)+g,n.set("y",this._nextCoord);var w=Math.min(1e5,Math.max(0,s/this._count*p/this._total-g));n.setAll({height:w,x:a/2});var _=this._nextCoord+w/2;r.set("y",_),this._nextCoord+=w+g,i.setAll({y:this._nextCoord-g,x:a/2})}else{var k=i.width()*p;a=a*(b-m)+k,n.set("x",this._nextCoord);var x=Math.min(1e5,Math.max(0,a/this._count*p/this._total-k));n.setAll({width:x,y:s/2});var O=this._nextCoord+x/2;r.set("x",O),this._nextCoord+=x+k,i.setAll({x:this._nextCoord-k,y:s/2})}}},{key:"hideDataItem",value:function(e,n){var r=this,i=Object.create(null,{hideDataItem:{get:function(){return h1(t,"hideDataItem",r,1)}}});return wj(this,void 0,void 0,s1().mark((function t(){return s1().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.get("link").hide(n),t.abrupt("return",i.hideDataItem.call(this,e,n));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"showDataItem",value:function(e,n){var r=this,i=Object.create(null,{showDataItem:{get:function(){return h1(t,"showDataItem",r,1)}}});return wj(this,void 0,void 0,s1().mark((function t(){return s1().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.get("link").show(n),t.abrupt("return",i.showDataItem.call(this,e,n));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"_updateTick",value:function(e){if(this.get("alignLabels")){var t=e.get("tick"),n=e.get("label"),r=e.get("slice");if(t&&r&&n){var i=this.labelsContainer,o=this.slicesContainer,a=t.get("location",.5),s=i.width(),l=i.height(),u=i.get("paddingLeft",0),c=i.get("paddingRight",0),f=i.get("paddingTop",0),h=i.get("paddingBottom",0),d={x:0,y:0},p={x:0,y:0},v={x:0,y:0};this._opposite&&(a=1-a),"vertical"==this.get("orientation")?((d=r.getPoint(a,.5)).x+=r.x()+o.x(),d.y+=r.y()+o.y(),this._opposite?(p.x=s,p.y=n.y(),v.x=s-u,v.y=p.y):(p.x=o.x()+o.width(),p.y=n.y(),v.x=p.x+s-n.width()-c,v.y=p.y)):((d=r.getPoint(.5,a)).x+=r.x()+o.x(),d.y+=r.y()+o.y(),this._opposite?(p.y=l,p.x=n.x(),v.y=l-f,v.x=p.x):(p.y=o.y()+o.height(),p.x=n.x(),v.y=p.y+l-n.height()-h,v.x=p.x)),t.set("points",[d,p,v])}}}},{key:"disposeDataItem",value:function(e){h1(t,"disposeDataItem",this,3)([e]);var n=e.get("link");n&&(this.links.removeValue(n),n.dispose())}},{key:"_positionBullet",value:function(e){var t=e.get("sprite");if(t){var n=t.dataItem.get("slice");if(n){var r=n.width(),i=n.height(),o=e.get("locationX",.5),a=e.get("locationY",.5),s=0,l=0;"horizontal"==this.get("orientation")?l=i/2:s=r/2,t.setAll({x:n.x()+r*o-s,y:n.y()-l+i*a})}}}}])}(T0);function m1(e){return m1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(e)}function b1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g1(r.key),r)}}function g1(e){var t=function(e,t){if("object"!=m1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m1(t)?t:t+""}function w1(e,t,n){return t=x1(t),function(e,t){if(t&&("object"==m1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_1()?Reflect.construct(t,n||[],x1(e).constructor):t.apply(e,n))}function _1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_1=function(){return!!e})()}function k1(){return k1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=x1(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},k1.apply(null,arguments)}function x1(e){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x1(e)}function O1(e,t){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O1(e,t)}Object.defineProperty(y1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"FunnelSeries"}),Object.defineProperty(y1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T0.classNames.concat([y1.className])});var P1=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=w1(this,t,arguments),Object.defineProperty(e,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"pyramid"}),Object.defineProperty(e,"_nextSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O1(e,t)}(t,e),function(e,t,n){return t&&b1(e.prototype,t),n&&b1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_prepareChildren",value:function(){!function(e,t,n,r){var i=k1(x1(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_prepareChildren",this,3)([]),this._nextSize=void 0}},{key:"decorateSlice",value:function(e){var t=this.get("orientation"),n=this.slicesContainer,r=e.get("slice"),i=e.get("label"),o=e.get("link"),a=this.get("valueIs","area"),s=this.getPrivate("valueAbsoluteSum",0);if(0!=s){var l,u,c=this.get("startLocation",0),f=this.get("endLocation",1),h=this.get("topWidth",0),d=this.get("bottomWidth",Ej),p=Math.abs(e.get("valueWorking",0)),v=e.get("value",0),y=n.innerHeight(),m=n.innerWidth(),b=o.width(),g=o.height();if("horizontal"==t){var w=[y,m];m=w[0],y=w[1];var _=[g,b];b=_[0],g=_[1]}var k=m/2,x=1;0!=v?x=p/Math.abs(v):e.isHidden()&&(x=1e-6),y=y*(f-c)-(g*=x)*(this._count*this._total-1);var O=MD(h,m);zj(this._nextSize)||(this._nextSize=O);var P=MD(d,m),S=this._nextSize,E=Math.atan2(y,O-P),j=Math.tan(Math.PI/2-E);if(0==j&&(j=1e-8),"area"==a){var T=(O+P)/2*y*p/s,D=Math.abs(S*S-2*T*j);u=(l=(S-Math.sqrt(D))/j)>0?(2*T-l*S)/l:S}else u=S-(l=y*p/s)*j;var A=this._nextCoord+l/2,C=k,M=this._nextCoord,L=k,R=M+l;if("vertical"==t)i.set("y",A),i.get("opacity")>0&&this._rLabels.push({label:i,y:A}),r.set("height",l);else{i.set("x",A),i.get("opacity")>0&&this._hLabels.push({label:i,y:A});var I=[M,C];C=I[0],M=I[1];var N=[R,L];L=N[0],R=N[1],r.set("width",l)}r.setAll({orientation:t,bottomWidth:u,topWidth:S,x:C,y:M}),o.setAll({orientation:t,x:L,y:R,topWidth:u,bottomWidth:u}),this._nextSize=u,this._nextCoord+=l+g}}}])}(y1);function S1(e){return S1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S1(e)}function E1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j1(r.key),r)}}function j1(e){var t=function(e,t){if("object"!=S1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S1(t)?t:t+""}function T1(e,t,n){return t=M1(t),function(e,t){if(t&&("object"==S1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,D1()?Reflect.construct(t,n||[],M1(e).constructor):t.apply(e,n))}function D1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D1=function(){return!!e})()}function A1(e,t,n,r){var i=C1(M1(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function C1(){return C1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=M1(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},C1.apply(null,arguments)}function M1(e){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M1(e)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L1(e,t)}Object.defineProperty(P1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PyramidSeries"}),Object.defineProperty(P1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:y1.classNames.concat([P1.className])});var R1=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=T1(this,t,arguments),Object.defineProperty(e,"_tag",{enumerable:!0,configurable:!0,writable:!0,value:"pictorial"}),Object.defineProperty(e,"seriesMask",{enumerable:!0,configurable:!0,writable:!0,value:zL.new(e._root,{position:"absolute",x:jj,y:jj,centerX:jj,centerY:jj})}),Object.defineProperty(e,"seriesGraphics",{enumerable:!0,configurable:!0,writable:!0,value:e.slicesContainer.children.push(zL.new(e._root,{themeTags:["pictorial","background"],position:"absolute",x:jj,y:jj,centerX:jj,centerY:jj}))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}(t,e),function(e,t,n){return t&&E1(e.prototype,t),n&&E1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){A1(t,"_afterNew",this,3)([]),this.set("topWidth",Ej),this.set("bottomWidth",Ej),this.set("valueIs","height"),this.slicesContainer.set("mask",this.seriesMask)}},{key:"_updateScale",value:function(){var e=this.slicesContainer,t=e.innerWidth(),n=e.innerHeight(),r=this.seriesMask,i=this.seriesGraphics,o=r.get("scale",1),a=r.localBounds(),s=a.right-a.left,l=a.bottom-a.top;(o="horizontal"==this.get("orientation")?t/s:n/l)!=1/0&&NaN!=o&&(r.set("scale",o),r.set("x",t/2),r.set("y",n/2),i.set("scale",o),i.set("x",t/2),i.set("y",n/2))}},{key:"_prepareChildren",value:function(){if(A1(t,"_prepareChildren",this,3)([]),this.isDirty("svgPath")){var e=this.get("svgPath");this.seriesMask.set("svgPath",e),this.seriesGraphics.set("svgPath",e)}this._updateScale()}}])}(P1);function I1(e){return I1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I1(e)}function N1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B1(r.key),r)}}function B1(e){var t=function(e,t){if("object"!=I1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I1(t)?t:t+""}function F1(e,t,n){return t=q1(t),function(e,t){if(t&&("object"==I1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,z1()?Reflect.construct(t,n||[],q1(e).constructor):t.apply(e,n))}function z1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z1=function(){return!!e})()}function V1(){return V1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=q1(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},V1.apply(null,arguments)}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q1(e)}function H1(e,t){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H1(e,t)}Object.defineProperty(R1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PictorialStackedSeries"}),Object.defineProperty(R1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:P1.classNames.concat([R1.className])});var Y1=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F1(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H1(e,t)}(t,e),function(e,t,n){return t&&N1(e.prototype,t),n&&N1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_afterNew",value:function(){!function(e,t,n,r){var i=V1(q1(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"_afterNew",this,3)([]),this.seriesContainer.setAll({isMeasured:!0,layout:this._root.horizontalLayout})}}])}(b0);function U1(e){return U1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U1(e)}function G1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X1(r.key),r)}}function X1(e){var t=function(e,t){if("object"!=U1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U1(t)?t:t+""}function W1(e,t,n){return t=Z1(t),function(e,t){if(t&&("object"==U1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$1()?Reflect.construct(t,n||[],Z1(e).constructor):t.apply(e,n))}function $1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($1=function(){return!!e})()}function K1(){return K1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Z1(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},K1.apply(null,arguments)}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z1(e)}function J1(e,t){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J1(e,t)}Object.defineProperty(Y1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SlicedChart"}),Object.defineProperty(Y1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b0.classNames.concat([Y1.className])});var Q1=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W1(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J1(e,t)}(t,e),function(e,t,n){return t&&G1(e.prototype,t),n&&G1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setupDefaultRules",value:function(){!function(e,t,n,r){var i=K1(Z1(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}(t,"setupDefaultRules",this,3)([]),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}])}(XN);const e2=Q1;function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t2.apply(null,arguments)}t2(gj.locales,{ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",format:"dd.mm.yyyy",weekStart:1,monthsTitle:"Месяцы"}}),window.Swiper=zn,window.Quill=lw,window.Choices=kP,window.tippy=Mt,window.inputmask=cw(),window.Fancybox=Qk,window.autocomplete=xP,window.Datepicker=gj,window.am5=u,window.am5xy=c,window.am5percent=f,window.am5themes_Animated=e2;var n2=__webpack_require__(8797),r2=function(){console.log("test")},i2=function(e,t,n){console.log(e),console.log(t),console.log(n)},o2=function(e){return e.newparam="new value",e},a2=function(e,t,n){console.log(e),console.log(t),console.log(n)},s2=function(){var e,t=document.querySelector("#datepicker-payment"),n=t.value,r=document.querySelector("#datepicker-info").textContent,i=3===(e=n.split(".")).length?new Date("".concat(e[2],"-").concat(e[1],"-").concat(e[0])):null;if(t){if(i){var o=new Date(i);o.setMonth(o.getMonth()-1);var a=new Date(i);a.setMonth(a.getMonth()+1);new Datepicker(t,{title:r,autohide:!1,format:"dd.mm.yyyy",defaultViewDate:n,maxDate:a,minDate:o,language:"ru",daysOfWeekDisabled:[6,0]})}var s=document.querySelector("#save-date");s&&s.addEventListener("click",(function(){var e=datePicker.getDate();console.log("Сохраненная дата:",e)}))}},l2=function(e,t,n){cdscore.methods.initCustomSelect()},u2=function(e,t,n){cdscore.methods.initTabs(),cdscore.methods.initCustomSelect(),cdscore.methods.initPaymentOptionsSliders(),cdscore.methods.initSmsPay(),cdscore.methods.validRadioInputPaymentAmount()},c2=function(e){document.querySelector(".main").innerHTML=e},f2=function(e,t,n){var r=t.closest(".upload-field");if(null!=r){var i=r.querySelector(".upload-field__wrap-files"),o=r.querySelectorAll("[data-upload-invalid-files]");o.length>=1&&o.forEach((function(e){e.closest(".upload-field__wrap-files__file").remove()})),i.classList.remove("hidden"),i.insertAdjacentHTML("beforeend",e),cdscore.methods.initCustomSelect(),cdscore.methods.setSizeSvg(),0==r.querySelectorAll("[data-upload-invalid-files]").length?r.classList.remove("invalid"):r.classList.add("invalid")}},h2=function(e,t){t.closest(".field-spec").querySelector("[data-specialization-result]").innerHTML=e},d2=function(e){var t=e.querySelector("select").value;cdscore.methods.uploadFileUpdateRequiredTypes(e.closest(".upload-field"),t)},p2=function(e,t){var n=t.closest(".field-spec"),r=t.closest("[data-specialization-result]");n.querySelector("[data-specialization-choosen-value]").innerHTML=e,n.querySelectorAll("[data-specialization-choose]").forEach((function(e){e.classList.remove("btn","btn--bg_secondary_blue"),e.removeAttribute("data-specialization-choosen"),delete e.dataset.specializationChoosen})),t.classList.add("btn","btn--bg_secondary_blue"),t.setAttribute("data-specialization-choosen",""),t.dataset.specializationChoosen="",setTimeout((function(){r.innerHTML=""}),1e3)},v2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";e.querySelector(".form-"+t).classList.remove("hidden")},y2=function(e,t,n){cdscore.methods.initCustomSelect(),cdscore.methods.initCustomDatepicker()},m2=__webpack_require__(9591);function b2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g2(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g2(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w2(e){return w2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(e)}function _2(e){return"string"==typeof e||e instanceof String}function k2(e){var t;return"object"===w2(e)&&null!=e&&"Object"===(null==e||null==(t=e.constructor)?void 0:t.name)}function x2(e,t){return Array.isArray(t)?x2(e,(function(e,n){return t.includes(n)})):Object.entries(e).reduce((function(e,n){var r=b2(n,2),i=r[0],o=r[1];return t(o,i)&&(e[i]=o),e}),{})}var O2="NONE",P2="LEFT",S2="FORCE_LEFT",E2="RIGHT",j2="FORCE_RIGHT";function T2(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function D2(e,t){if(t===e)return!0;var n,r=Array.isArray(t),i=Array.isArray(e);if(r&&i){if(t.length!=e.length)return!1;for(n=0;n<t.length;n++)if(!D2(t[n],e[n]))return!1;return!0}if(r!=i)return!1;if(t&&e&&"object"===w2(t)&&"object"===w2(e)){var o=t instanceof Date,a=e instanceof Date;if(o&&a)return t.getTime()==e.getTime();if(o!=a)return!1;var s=t instanceof RegExp,l=e instanceof RegExp;if(s&&l)return t.toString()==e.toString();if(s!=l)return!1;var u=Object.keys(t);for(n=0;n<u.length;n++)if(!Object.prototype.hasOwnProperty.call(e,u[n]))return!1;for(n=0;n<u.length;n++)if(!D2(e[u[n]],t[u[n]]))return!1;return!0}return!(!t||!e||"function"!=typeof t||"function"!=typeof e)&&t.toString()===e.toString()}function A2(e){return A2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A2(e)}function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C2.apply(null,arguments)}function M2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L2(r.key),r)}}function L2(e){var t=function(e,t){if("object"!=A2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A2(t)?t:t+""}var R2=function(){return function(e,t,n){return t&&M2(e.prototype,t),n&&M2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){for(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C2(this,t);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}),[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?O2:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?P2:E2}}])}();function I2(e,t){return new I2.InputMask(e,t)}function N2(e){return N2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N2(e)}var B2=["mask"];function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F2(Object(n),!0).forEach((function(t){V2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=N2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N2(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q2(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?I2.MaskedRegExp:_2(e)?I2.MaskedPattern:e===Date?I2.MaskedDate:e===Number?I2.MaskedNumber:Array.isArray(e)||e===Array?I2.MaskedDynamic:I2.Masked&&e.prototype instanceof I2.Masked?e:I2.Masked&&e instanceof I2.Masked?e.constructor:e instanceof Function?I2.MaskedFunction:(console.warn("Mask not found for mask",e),I2.Masked)}function H2(e){if(!e)throw new Error("Options in not defined");if(I2.Masked){if(e.prototype instanceof I2.Masked)return{mask:e};var t=e instanceof I2.Masked?{mask:e}:k2(e)&&e.mask instanceof I2.Masked?e:{},n=t.mask,r=void 0===n?void 0:n,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,B2);if(r){var o=r.mask;return z2(z2({},x2(r,(function(e,t){return!t.startsWith("_")}))),{},{mask:r.constructor,_mask:o},i)}}return k2(e)?z2({},e):{mask:e}}function Y2(e){if(I2.Masked&&e instanceof I2.Masked)return e;var t=H2(e),n=q2(t.mask);if(!n)throw new Error("Masked class is not found for provided mask "+t.mask+", appropriate module needs to be imported manually before creating mask.");return t.mask===n&&delete t.mask,t._mask&&(t.mask=t._mask,delete t._mask),new n(t)}function U2(e){return U2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(e)}function G2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X2(r.key),r)}}function X2(e){var t=function(e,t){if("object"!=U2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U2(t)?t:t+""}I2.createMask=Y2;var W2=function(){return function(e,t,n){return t&&G2(e.prototype,t),n&&G2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),[{key:"selectionStart",get:function(){var e;try{e=this._unsafeSelectionStart}catch(e){}return null!=e?e:this.value.length}},{key:"selectionEnd",get:function(){var e;try{e=this._unsafeSelectionEnd}catch(e){}return null!=e?e:this.value.length}},{key:"select",value:function(e,t){if(null!=e&&null!=t&&(e!==this.selectionStart||t!==this.selectionEnd))try{this._unsafeSelect(e,t)}catch(e){}}},{key:"isActive",get:function(){return!1}}])}();function $2(e){return $2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$2(e)}function K2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z2(r.key),r)}}function Z2(e){var t=function(e,t){if("object"!=$2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$2(t)?t:t+""}function J2(e,t,n){return t=e3(t),function(e,t){if(t&&("object"==$2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Q2()?Reflect.construct(t,n||[],e3(e).constructor):t.apply(e,n))}function Q2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q2=function(){return!!e})()}function e3(e){return e3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e3(e)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t3(e,t)}I2.MaskElement=W2;var n3=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J2(this,t)).input=e,n._onKeydown=n._onKeydown.bind(n),n._onInput=n._onInput.bind(n),n._onBeforeinput=n._onBeforeinput.bind(n),n._onCompositionEnd=n._onCompositionEnd.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}(t,e),function(e,t,n){return t&&K2(e.prototype,t),n&&K2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"rootElement",get:function(){var e,t,n;return null!=(e=null==(t=(n=this.input).getRootNode)?void 0:t.call(n))?e:document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"bindEvents",value:function(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}},{key:"_onKeydown",value:function(e){return this._handlers.redo&&(90===e.keyCode&&e.shiftKey&&(e.metaKey||e.ctrlKey)||89===e.keyCode&&e.ctrlKey)?(e.preventDefault(),this._handlers.redo(e)):this._handlers.undo&&90===e.keyCode&&(e.metaKey||e.ctrlKey)?(e.preventDefault(),this._handlers.undo(e)):void(e.isComposing||this._handlers.selectionChange(e))}},{key:"_onBeforeinput",value:function(e){return"historyUndo"===e.inputType&&this._handlers.undo?(e.preventDefault(),this._handlers.undo(e)):"historyRedo"===e.inputType&&this._handlers.redo?(e.preventDefault(),this._handlers.redo(e)):void 0}},{key:"_onCompositionEnd",value:function(e){this._handlers.input(e)}},{key:"_onInput",value:function(e){e.isComposing||this._handlers.input(e)}},{key:"unbindEvents",value:function(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}])}(W2);function r3(e){return r3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r3(e)}function i3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o3(r.key),r)}}function o3(e){var t=function(e,t){if("object"!=r3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=r3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r3(t)?t:t+""}function a3(e,t,n){return t=l3(t),function(e,t){if(t&&("object"==r3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s3()?Reflect.construct(t,n||[],l3(e).constructor):t.apply(e,n))}function s3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s3=function(){return!!e})()}function l3(e){return l3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l3(e)}function u3(e,t){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u3(e,t)}I2.HTMLMaskElement=n3;var c3=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a3(this,t,[e])).input=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}(t,e),function(e,t,n){return t&&i3(e.prototype,t),n&&i3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_unsafeSelectionStart",get:function(){return null!=this.input.selectionStart?this.input.selectionStart:this.value.length}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(e,t){this.input.setSelectionRange(e,t)}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}}])}(n3);function f3(e){return f3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f3(e)}function h3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d3(r.key),r)}}function d3(e){var t=function(e,t){if("object"!=f3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f3(t)?t:t+""}function p3(e,t,n){return t=y3(t),function(e,t){if(t&&("object"==f3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v3()?Reflect.construct(t,n||[],y3(e).constructor):t.apply(e,n))}function v3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v3=function(){return!!e})()}function y3(e){return y3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y3(e)}function m3(e,t){return m3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m3(e,t)}I2.HTMLMaskElement=n3;var b3=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p3(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m3(e,t)}(t,e),function(e,t,n){return t&&h3(e.prototype,t),n&&h3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_unsafeSelectionStart",get:function(){var e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,r=t&&t.focusOffset;return null==r||null==n||n<r?n:r}},{key:"_unsafeSelectionEnd",get:function(){var e=this.rootElement,t=e.getSelection&&e.getSelection(),n=t&&t.anchorOffset,r=t&&t.focusOffset;return null==r||null==n||n>r?n:r}},{key:"_unsafeSelect",value:function(e,t){if(this.rootElement.createRange){var n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,e),n.setEnd(this.input.lastChild||this.input,t);var r=this.rootElement,i=r.getSelection&&r.getSelection();i&&(i.removeAllRanges(),i.addRange(n))}}},{key:"value",get:function(){return this.input.textContent||""},set:function(e){this.input.textContent=e}}])}(n3);function g3(e){return g3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g3(e)}function w3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_3(r.key),r)}}function _3(e){var t=function(e,t){if("object"!=g3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g3(t)?t:t+""}I2.HTMLContenteditableMaskElement=b3;var k3=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.states=[],this.currentIndex=0}return function(e,t,n){return t&&w3(e.prototype,t),n&&w3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"currentState",get:function(){return this.states[this.currentIndex]}},{key:"isEmpty",get:function(){return 0===this.states.length}},{key:"push",value:function(t){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(t),this.states.length>e.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}},{key:"go",value:function(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}},{key:"undo",value:function(){return this.go(-1)}},{key:"redo",value:function(){return this.go(1)}},{key:"clear",value:function(){this.states.length=0,this.currentIndex=0}}])}();k3.MAX_LENGTH=100;var x3=["mask"];function O3(e){return O3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O3(e)}function P3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S3(r.key),r)}}function S3(e){var t=function(e,t){if("object"!=O3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O3(t)?t:t+""}var E3=function(){return function(e,t,n){return t&&P3(e.prototype,t),n&&P3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t instanceof W2?t:t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?new b3(t):new c3(t),this.masked=Y2(n),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new k3,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}),[{key:"maskEquals",value:function(e){var t;return null==e||(null==(t=this.masked)?void 0:t.maskEquals(e))}},{key:"mask",get:function(){return this.masked.mask},set:function(e){if(!this.maskEquals(e))if(e instanceof I2.Masked||this.masked.constructor!==q2(e)){var t=e instanceof I2.Masked?e:Y2({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}else this.masked.updateOptions({mask:e})}},{key:"value",get:function(){return this._value},set:function(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}},{key:"rawInputValue",get:function(){return this._rawInputValue},set:function(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}},{key:"displayValue",get:function(){return this.masked.displayValue}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(e,t){var n=this._listeners[e];n&&n.forEach((function(e){return e(t)}))}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(e){this.el&&this.el.isActive&&(this.el.select(e,e),this._saveSelection())}},{key:"_saveSelection",value:function(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}},{key:"updateControl",value:function(e){var t=this.masked.unmaskedValue,n=this.masked.value,r=this.masked.rawInputValue,i=this.displayValue,o=this.unmaskedValue!==t||this.value!==n||this._rawInputValue!==r;this._unmaskedValue=t,this._value=n,this._rawInputValue=r,this.el.value!==i&&(this.el.value=i),"auto"===e?this.alignCursor():null!=e&&(this.cursorPos=e),o&&this._fireChangeEvents(),this._historyChanging||!o&&!this.history.isEmpty||this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}},{key:"updateOptions",value:function(e){var t=e.mask,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,x3),r=!this.maskEquals(t),i=this.masked.optionsIsChanged(n);r&&(this.mask=t),i&&this.masked.updateOptions(n),(r||i)&&this.updateControl()}},{key:"updateCursor",value:function(e){null!=e&&(this.cursorPos=e,this._delayUpdateCursor(e))}},{key:"_delayUpdateCursor",value:function(e){var t=this;this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout((function(){t.el&&(t.cursorPos=t._changingCursorPos,t._abortUpdateCursor())}),10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,P2))}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}},{key:"off",value:function(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;var n=this._listeners[e].indexOf(t);return n>=0&&this._listeners[e].splice(n,1),this}},{key:"_onInput",value:function(e){this._inputEvent=e,this._abortUpdateCursor();var t=new R2({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),n=this.masked.rawInputValue,r=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,i=n===this.masked.rawInputValue?t.removeDirection:O2,o=this.masked.nearestInputPos(t.startChangePos+r,i);i!==O2&&(o=this.masked.nearestInputPos(o,O2)),this.updateControl(o),delete this._inputEvent}},{key:"_onChange",value:function(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_onFocus",value:function(e){this.alignCursorFriendly()}},{key:"_onClick",value:function(e){this.alignCursorFriendly()}},{key:"_onUndo",value:function(){this._applyHistoryState(this.history.undo())}},{key:"_onRedo",value:function(){this._applyHistoryState(this.history.redo())}},{key:"_applyHistoryState",value:function(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}])}();function j3(e){return j3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j3(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T3.apply(null,arguments)}function D3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A3(r.key),r)}}function A3(e){var t=function(e,t){if("object"!=j3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j3(t)?t:t+""}I2.InputMask=E3;var C3=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T3(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},t)}return function(e,t,n){return t&&D3(e.prototype,t),n&&D3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"aggregate",value:function(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}},{key:"consumed",get:function(){return Boolean(this.rawInserted)||this.skip}},{key:"equals",value:function(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}],[{key:"normalize",value:function(t){return Array.isArray(t)?t:[t,new e]}}])}();function M3(e){return M3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M3(e)}function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L3.apply(null,arguments)}function R3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I3(r.key),r)}}function I3(e){var t=function(e,t){if("object"!=M3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=M3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M3(t)?t:t+""}I2.ChangeDetails=C3;var N3=function(){return function(e,t,n){return t&&R3(e.prototype,t),n&&R3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t&&(t=""),void 0===n&&(n=0),this.value=t,this.from=n,this.stop=r}),[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(e){this.value+=String(e)}},{key:"appendTo",value:function(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(e){L3(this,e)}},{key:"unshift",value:function(e){if(!this.value.length||null!=e&&this.from>=e)return"";var t=this.value[0];return this.value=this.value.slice(1),t}},{key:"shift",value:function(){if(!this.value.length)return"";var e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}])}();function B3(e){return B3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B3(e)}function F3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z3(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z3(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V3.apply(null,arguments)}function q3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q3(Object(n),!0).forEach((function(t){Y3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y3(e,t,n){return(t=G3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G3(r.key),r)}}function G3(e){var t=function(e,t){if("object"!=B3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B3(t)?t:t+""}var X3=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value="",this._update(H3(H3({},e.DEFAULTS),t)),this._initialized=!0}return function(e,t,n){return t&&U3(e.prototype,t),n&&U3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"updateOptions",value:function(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}},{key:"_update",value:function(e){V3(this,e)}},{key:"state",get:function(){return{_value:this.value,_rawInputValue:this.rawInputValue}},set:function(e){this._value=e._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(e){this.resolve(e,{input:!0})}},{key:"resolve",value:function(e,t){void 0===t&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}},{key:"unmaskedValue",get:function(){return this.value},set:function(e){this.resolve(e,{})}},{key:"typedValue",get:function(){return this.parse?this.parse(this.value,this):this.unmaskedValue},set:function(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.displayValue.length,{raw:!0})},set:function(e){this.resolve(e,{raw:!0})}},{key:"displayValue",get:function(){return this.value}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return this.isComplete}},{key:"nearestInputPos",value:function(e,t){return e}},{key:"totalInputPositions",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}},{key:"extractInput",value:function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),this.displayValue.slice(e,t)}},{key:"extractTail",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),new N3(this.extractInput(e,t),e)}},{key:"appendTail",value:function(e){return _2(e)&&(e=new N3(String(e))),e.appendTo(this)}},{key:"_appendCharRaw",value:function(e,t){return e?(this._value+=e,new C3({inserted:e,rawInserted:e})):new C3}},{key:"_appendChar",value:function(e,t,n){void 0===t&&(t={});var r,i=this.state,o=F3(this.doPrepareChar(e,t),2);if(e=o[0],r=o[1],e&&!(r=r.aggregate(this._appendCharRaw(e,t))).rawInserted&&"pad"===this.autofix){var a=this.state;this.state=i;var s=this.pad(t),l=this._appendCharRaw(e,t);s=s.aggregate(l),l.rawInserted||s.equals(r)?r=s:this.state=a}if(r.inserted){var u,c=!1!==this.doValidate(t);if(c&&null!=n){var f=this.state;if(!0===this.overwrite){u=n.state;for(var h=0;h<r.rawInserted.length;++h)n.unshift(this.displayValue.length-r.tailShift)}var d=this.appendTail(n);if(!((c=d.rawInserted.length===n.toString().length)&&d.inserted||"shift"!==this.overwrite)){this.state=f,u=n.state;for(var p=0;p<r.rawInserted.length;++p)n.shift();c=(d=this.appendTail(n)).rawInserted.length===n.toString().length}c&&d.inserted&&(this.state=f)}c||(r=new C3,this.state=i,n&&u&&(n.state=u))}return r}},{key:"_appendPlaceholder",value:function(){return new C3}},{key:"_appendEager",value:function(){return new C3}},{key:"append",value:function(e,t,n){if(!_2(e))throw new Error("value should be string");var r,i=_2(n)?new N3(String(n)):n;null!=t&&t.tail&&(t._beforeTailState=this.state);var o=F3(this.doPrepare(e,t),2);e=o[0],r=o[1];for(var a=0;a<e.length;++a){var s=this._appendChar(e[a],t,i);if(!s.rawInserted&&!this.doSkipInvalid(e[a],t,i))break;r.aggregate(s)}return(!0===this.eager||"append"===this.eager)&&null!=t&&t.input&&e&&r.aggregate(this._appendEager()),null!=i&&(r.tailShift+=this.appendTail(i).tailShift),r}},{key:"remove",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new C3}},{key:"withValueRefresh",value:function(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;var t=this.rawInputValue,n=this.value,r=e();return this.rawInputValue=t,this.value&&this.value!==n&&0===n.indexOf(this.value)&&(this.append(n.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,r}},{key:"runIsolated",value:function(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;var t=this.state,n=e(this);return this.state=t,delete this._isolated,n}},{key:"doSkipInvalid",value:function(e,t,n){return Boolean(this.skipInvalid)}},{key:"doPrepare",value:function(e,t){return void 0===t&&(t={}),C3.normalize(this.prepare?this.prepare(e,this,t):e)}},{key:"doPrepareChar",value:function(e,t){return void 0===t&&(t={}),C3.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}},{key:"doValidate",value:function(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"splice",value:function(e,t,n,r,i){void 0===n&&(n=""),void 0===r&&(r=O2),void 0===i&&(i={input:!0});var o,a=e+t,s=this.extractTail(a),l=!0===this.eager||"remove"===this.eager;l&&(r=function(e){switch(e){case P2:return S2;case E2:return j2;default:return e}}(r),o=this.extractInput(0,a,{raw:!0}));var u=e,c=new C3;if(r!==O2&&(u=this.nearestInputPos(e,t>1&&0!==e&&!l?O2:r),c.tailShift=u-e),c.aggregate(this.remove(u)),l&&r!==O2&&o===this.rawInputValue)if(r===S2)for(var f;o===this.rawInputValue&&(f=this.displayValue.length);)c.aggregate(new C3({tailShift:-1})).aggregate(this.remove(f-1));else r===j2&&s.unshift();return c.aggregate(this.append(n,i,s))}},{key:"maskEquals",value:function(e){return this.mask===e}},{key:"optionsIsChanged",value:function(e){return!D2(this,e)}},{key:"typedValueEquals",value:function(t){var n=this.typedValue;return t===n||e.EMPTY_VALUES.includes(t)&&e.EMPTY_VALUES.includes(n)||!!this.format&&this.format(t,this)===this.format(this.typedValue,this)}},{key:"pad",value:function(e){return new C3}}])}();X3.DEFAULTS={skipInvalid:!0},X3.EMPTY_VALUES=[void 0,null,""],I2.Masked=X3;var W3=["chunks"];function $3(e){return $3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$3(e)}function K3(){return K3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K3.apply(null,arguments)}function Z3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J3(r.key),r)}}function J3(e){var t=function(e,t){if("object"!=$3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$3(t)?t:t+""}var Q3=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t&&(t=[]),void 0===n&&(n=0),this.chunks=t,this.from=n}return function(e,t,n){return t&&Z3(e.prototype,t),n&&Z3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(t){if(String(t)){t=_2(t)?new N3(String(t)):t;var n=this.chunks[this.chunks.length-1],r=n&&(n.stop===t.stop||null==t.stop)&&t.from===n.from+n.toString().length;if(t instanceof N3)r?n.extend(t.toString()):this.chunks.push(t);else if(t instanceof e){if(null==t.stop)for(var i;t.chunks.length&&null==t.chunks[0].stop;)(i=t.chunks.shift()).from+=t.from,this.extend(i);t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}}},{key:"appendTo",value:function(t){if(!(t instanceof I2.MaskedPattern))return new N3(this.toString()).appendTo(t);for(var n=new C3,r=0;r<this.chunks.length;++r){var i=this.chunks[r],o=t._mapPosToBlock(t.displayValue.length),a=i.stop,s=void 0;if(null!=a&&(!o||o.index<=a)&&((i instanceof e||t._stops.indexOf(a)>=0)&&n.aggregate(t._appendPlaceholder(a)),s=i instanceof e&&t._blocks[a]),s){var l=s.appendTail(i);n.aggregate(l);var u=i.toString().slice(l.rawInserted.length);u&&n.aggregate(t.append(u,{tail:!0}))}else n.aggregate(t.append(i.toString(),{tail:!0}))}return n}},{key:"state",get:function(){return{chunks:this.chunks.map((function(e){return e.state})),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(t){var n=t.chunks,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,W3);K3(this,r),this.chunks=n.map((function(t){var n="chunks"in t?new e:new N3;return n.state=t,n}))}},{key:"unshift",value:function(e){if(!this.chunks.length||null!=e&&this.from>=e)return"";for(var t=null!=e?e-this.from:e,n=0;n<this.chunks.length;){var r=this.chunks[n],i=r.unshift(t);if(r.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}},{key:"shift",value:function(){if(!this.chunks.length)return"";for(var e=this.chunks.length-1;0<=e;){var t=this.chunks[e],n=t.shift();if(t.toString()){if(!n)break;--e}else this.chunks.splice(e,1);if(n)return n}return""}}])}();function e5(e){return e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e5(e)}function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t5.apply(null,arguments)}function n5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r5(r.key),r)}}function r5(e){var t=function(e,t){if("object"!=e5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e5(t)?t:t+""}var i5=function(){return function(e,t,n){return t&&n5(e.prototype,t),n&&n5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.masked=t,this._log=[];var r=t._mapPosToBlock(n)||(n<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),i=r.offset,o=r.index;this.offset=i,this.index=o,this.ok=!1}),[{key:"block",get:function(){return this.masked._blocks[this.index]}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset}},{key:"state",get:function(){return{index:this.index,offset:this.offset,ok:this.ok}},set:function(e){t5(this,e)}},{key:"pushState",value:function(){this._log.push(this.state)}},{key:"popState",value:function(){var e=this._log.pop();return e&&(this.state=e),e}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}},{key:"_pushLeft",value:function(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null==(t=this.block)?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}},{key:"_pushRight",value:function(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}},{key:"pushLeftBeforeFilled",value:function(){var e=this;return this._pushLeft((function(){if(!e.block.isFixed&&e.block.value)return e.offset=e.block.nearestInputPos(e.offset,S2),0!==e.offset||void 0}))}},{key:"pushLeftBeforeInput",value:function(){var e=this;return this._pushLeft((function(){if(!e.block.isFixed)return e.offset=e.block.nearestInputPos(e.offset,P2),!0}))}},{key:"pushLeftBeforeRequired",value:function(){var e=this;return this._pushLeft((function(){if(!(e.block.isFixed||e.block.isOptional&&!e.block.value))return e.offset=e.block.nearestInputPos(e.offset,P2),!0}))}},{key:"pushRightBeforeFilled",value:function(){var e=this;return this._pushRight((function(){if(!e.block.isFixed&&e.block.value)return e.offset=e.block.nearestInputPos(e.offset,j2),e.offset!==e.block.value.length||void 0}))}},{key:"pushRightBeforeInput",value:function(){var e=this;return this._pushRight((function(){if(!e.block.isFixed)return e.offset=e.block.nearestInputPos(e.offset,O2),!0}))}},{key:"pushRightBeforeRequired",value:function(){var e=this;return this._pushRight((function(){if(!(e.block.isFixed||e.block.isOptional&&!e.block.value))return e.offset=e.block.nearestInputPos(e.offset,O2),!0}))}}])}();function o5(e){return o5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o5(e)}function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a5.apply(null,arguments)}function s5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l5(r.key),r)}}function l5(e){var t=function(e,t){if("object"!=o5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o5(t)?t:t+""}var u5=function(){return function(e,t,n){return t&&s5(e.prototype,t),n&&s5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a5(this,t),this._value="",this.isFixed=!0}),[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"rawInputValue",get:function(){return this._isRawInput?this.value:""}},{key:"displayValue",get:function(){return this.value}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new C3}},{key:"nearestInputPos",value:function(e,t){void 0===t&&(t=O2);var n=this._value.length;switch(t){case P2:case S2:return 0;default:return n}}},{key:"totalInputPositions",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),this._isRawInput?t-e:0}},{key:"extractInput",value:function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this._value.length),void 0===n&&(n={}),n.raw&&this._isRawInput&&this._value.slice(e,t)||""}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return Boolean(this._value)}},{key:"_appendChar",value:function(e,t){if(void 0===t&&(t={}),this.isFilled)return new C3;var n=!0===this.eager||"append"===this.eager,r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!n)&&!t.tail,i=new C3({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),i}},{key:"_appendEager",value:function(){return this._appendChar(this.char,{tail:!0})}},{key:"_appendPlaceholder",value:function(){var e=new C3;return this.isFilled||(this._value=e.inserted=this.char),e}},{key:"extractTail",value:function(){return new N3("")}},{key:"appendTail",value:function(e){return _2(e)&&(e=new N3(String(e))),e.appendTo(this)}},{key:"append",value:function(e,t,n){var r=this._appendChar(e[0],t);return null!=n&&(r.tailShift+=this.appendTail(n).tailShift),r}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_rawInputValue:this.rawInputValue}},set:function(e){this._value=e._value,this._isRawInput=Boolean(e._rawInputValue)}},{key:"pad",value:function(e){return this._appendPlaceholder()}}])}(),c5=["parent","isOptional","placeholderChar","displayChar","lazy","eager"];function f5(e){return f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f5(e)}function h5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h5(Object(n),!0).forEach((function(t){p5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p5(e,t,n){return(t=m5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v5(){return v5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v5.apply(null,arguments)}function y5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m5(r.key),r)}}function m5(e){var t=function(e,t){if("object"!=f5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f5(t)?t:t+""}var b5=function(){return function(e,t,n){return t&&y5(e.prototype,t),n&&y5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.parent,r=t.isOptional,i=t.placeholderChar,o=t.displayChar,a=t.lazy,s=t.eager,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,c5);this.masked=Y2(l),v5(this,{parent:n,isOptional:r,placeholderChar:i,displayChar:o,lazy:a,eager:s})}),[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset()}},{key:"remove",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),0===e&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new C3}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"rawInputValue",get:function(){return this.masked.rawInputValue}},{key:"displayValue",get:function(){return this.masked.value&&this.displayChar||this.value}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(e,t){if(void 0===t&&(t={}),this.isFilled)return new C3;var n=this.masked.state,r=this.masked._appendChar(e,this.currentMaskFlags(t));return r.inserted&&!1===this.doValidate(t)&&(r=new C3,this.masked.state=n),r.inserted||this.isOptional||this.lazy||t.input||(r.inserted=this.placeholderChar),r.skip=!r.inserted&&!this.isOptional,this.isFilled=Boolean(r.inserted),r}},{key:"append",value:function(e,t,n){return this.masked.append(e,this.currentMaskFlags(t),n)}},{key:"_appendPlaceholder",value:function(){return this.isFilled||this.isOptional?new C3:(this.isFilled=!0,new C3({inserted:this.placeholderChar}))}},{key:"_appendEager",value:function(){return new C3}},{key:"extractTail",value:function(e,t){return this.masked.extractTail(e,t)}},{key:"appendTail",value:function(e){return this.masked.appendTail(e)}},{key:"extractInput",value:function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),this.masked.extractInput(e,t,n)}},{key:"nearestInputPos",value:function(e,t){void 0===t&&(t=O2);var n=this.value.length,r=Math.min(Math.max(e,0),n);switch(t){case P2:case S2:return this.isComplete?r:0;case E2:case j2:return this.isComplete?r:n;default:return r}}},{key:"totalInputPositions",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.value.length),this.value.slice(e,t).length}},{key:"doValidate",value:function(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}},set:function(e){this.masked.state=e.masked,this.isFilled=e.isFilled}},{key:"currentMaskFlags",value:function(e){var t;return d5(d5({},e),{},{_beforeTailState:(null==e||null==(t=e._beforeTailState)?void 0:t.masked)||(null==e?void 0:e._beforeTailState)})}},{key:"pad",value:function(e){return new C3}}])}();function g5(e){return g5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g5(e)}function w5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_5(r.key),r)}}function _5(e){var t=function(e,t){if("object"!=g5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g5(t)?t:t+""}function k5(e,t,n){return t=S5(t),function(e,t){if(t&&("object"==g5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x5()?Reflect.construct(t,n||[],S5(e).constructor):t.apply(e,n))}function x5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x5=function(){return!!e})()}function O5(e,t,n,r){var i=P5(S5(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function P5(){return P5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=S5(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},P5.apply(null,arguments)}function S5(e){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S5(e)}function E5(e,t){return E5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E5(e,t)}b5.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};var j5=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k5(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E5(e,t)}(t,e),function(e,t,n){return t&&w5(e.prototype,t),n&&w5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){O5(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){var n=e.mask;n&&(e.validate=function(e){return e.search(n)>=0}),O5(t,"_update",this,3)([e])}}])}(X3);function T5(e){return T5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T5(e)}I2.MaskedRegExp=j5;var D5=["expose","repeat"],A5=["_blocks"];function C5(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M5.apply(null,arguments)}function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L5(Object(n),!0).forEach((function(t){V5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q5(r.key),r)}}function N5(e,t,n){return t=G5(t),function(e,t){if(t&&("object"==T5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B5()?Reflect.construct(t,n||[],G5(e).constructor):t.apply(e,n))}function B5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B5=function(){return!!e})()}function F5(e,t,n,r,i,o){return function(e,t,n,r,i){if(!z5(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}(G5(o?e.prototype:e),t,n,r,i)}function z5(e,t,n,r){return z5="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,o=U5(e,t);if(o){if((i=Object.getOwnPropertyDescriptor(o,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else V5(r,t,n);return!0},z5(e,t,n,r)}function V5(e,t,n){return(t=q5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q5(e){var t=function(e,t){if("object"!=T5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T5(t)?t:t+""}function H5(e,t,n,r){var i=Y5(G5(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function Y5(){return Y5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=U5(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Y5.apply(null,arguments)}function U5(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=G5(e)););return e}function G5(e){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G5(e)}function X5(e,t){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X5(e,t)}var W5=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N5(this,t,[R5(R5(R5({},t.DEFAULTS),e),{},{definitions:M5({},b5.DEFAULT_DEFINITIONS,null==e?void 0:e.definitions)})])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X5(e,t)}(t,e),function(e,t,n){return t&&I5(e.prototype,t),n&&I5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){H5(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){e.definitions=M5({},this.definitions,e.definitions),H5(t,"_update",this,3)([e]),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var e=this,n=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};var r=this.mask;if(r&&n)for(var i,o=!1,a=!1,s=function(i){if(e.blocks){var s=r.slice(i),u=Object.keys(e.blocks).filter((function(e){return 0===s.indexOf(e)}));u.sort((function(e,t){return t.length-e.length}));var c=u[0];if(c){var f=H2(e.blocks[c]),h=f.expose,d=f.repeat,p=C5(f,D5),v=R5(R5({lazy:e.lazy,eager:e.eager,placeholderChar:e.placeholderChar,displayChar:e.displayChar,overwrite:e.overwrite,autofix:e.autofix},p),{},{repeat:d,parent:e}),y=null!=d?new I2.RepeatBlock(v):Y2(v);return y&&(e._blocks.push(y),h&&(e.exposeBlock=y),e._maskedBlocks[c]||(e._maskedBlocks[c]=[]),e._maskedBlocks[c].push(e._blocks.length-1)),i+=c.length-1,l=i,0}}var m=r[i],b=m in n;if(m===t.STOP_CHAR)return e._stops.push(e._blocks.length),l=i,0;if("{"===m||"}"===m)return o=!o,l=i,0;if("["===m||"]"===m)return a=!a,l=i,0;if(m===t.ESCAPE_CHAR){if(++i,!(m=r[i]))return l=i,1;b=!1}var g=b?new b5(R5(R5({isOptional:a,lazy:e.lazy,eager:e.eager,placeholderChar:e.placeholderChar,displayChar:e.displayChar},H2(n[m])),{},{parent:e})):new u5({char:m,eager:e.eager,isUnmasking:o});e._blocks.push(g),l=i},l=0;l<r.length&&(0===(i=s(l))||1!==i);++l);}},{key:"state",get:function(){return R5(R5({},H5(t,"state",this,1)),{},{_blocks:this._blocks.map((function(e){return e.state}))})},set:function(e){if(e){var n=e._blocks,r=C5(e,A5);this._blocks.forEach((function(e,t){return e.state=n[t]})),F5(t,"state",r,this,1,1)}else this.reset()}},{key:"reset",value:function(){H5(t,"reset",this,3)([]),this._blocks.forEach((function(e){return e.reset()}))}},{key:"isComplete",get:function(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every((function(e){return e.isComplete}))}},{key:"isFilled",get:function(){return this._blocks.every((function(e){return e.isFilled}))}},{key:"isFixed",get:function(){return this._blocks.every((function(e){return e.isFixed}))}},{key:"isOptional",get:function(){return this._blocks.every((function(e){return e.isOptional}))}},{key:"doCommit",value:function(){this._blocks.forEach((function(e){return e.doCommit()})),H5(t,"doCommit",this,3)([])}},{key:"unmaskedValue",get:function(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((function(e,t){return e+t.unmaskedValue}),"")},set:function(e){if(this.exposeBlock){var n=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(n),this.doCommit()}else F5(t,"unmaskedValue",e,this,1,1)}},{key:"value",get:function(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((function(e,t){return e+t.value}),"")},set:function(e){if(this.exposeBlock){var n=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(n),this.doCommit()}else F5(t,"value",e,this,1,1)}},{key:"typedValue",get:function(){return this.exposeBlock?this.exposeBlock.typedValue:H5(t,"typedValue",this,1)},set:function(e){if(this.exposeBlock){var n=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(n),this.doCommit()}else F5(t,"typedValue",e,this,1,1)}},{key:"displayValue",get:function(){return this._blocks.reduce((function(e,t){return e+t.displayValue}),"")}},{key:"appendTail",value:function(e){return H5(t,"appendTail",this,3)([e]).aggregate(this._appendPlaceholder())}},{key:"_appendEager",value:function(){var e,t=new C3,n=null==(e=this._mapPosToBlock(this.displayValue.length))?void 0:e.index;if(null==n)return t;this._blocks[n].isFilled&&++n;for(var r=n;r<this._blocks.length;++r){var i=this._blocks[r]._appendEager();if(!i.inserted)break;t.aggregate(i)}return t}},{key:"_appendCharRaw",value:function(e,t){void 0===t&&(t={});var n=this._mapPosToBlock(this.displayValue.length),r=new C3;if(!n)return r;for(var i,o=n.index;i=this._blocks[o];++o){var a,s=i._appendChar(e,R5(R5({},t),{},{_beforeTailState:null==(a=t._beforeTailState)||null==(a=a._blocks)?void 0:a[o]}));if(r.aggregate(s),s.consumed)break}return r}},{key:"extractTail",value:function(e,t){var n=this;void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);var r=new Q3;return e===t||this._forEachBlocksInRange(e,t,(function(e,t,i,o){var a=e.extractTail(i,o);a.stop=n._findStopBefore(t),a.from=n._blockStartPos(t),a instanceof Q3&&(a.blockIndex=t),r.extend(a)})),r}},{key:"extractInput",value:function(e,t,n){if(void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),void 0===n&&(n={}),e===t)return"";var r="";return this._forEachBlocksInRange(e,t,(function(e,t,i,o){r+=e.extractInput(i,o,n)})),r}},{key:"_findStopBefore",value:function(e){for(var t,n=0;n<this._stops.length;++n){var r=this._stops[n];if(!(r<=e))break;t=r}return t}},{key:"_appendPlaceholder",value:function(e){var t=new C3;if(this.lazy&&null==e)return t;var n=this._mapPosToBlock(this.displayValue.length);if(!n)return t;var r=n.index,i=null!=e?e:this._blocks.length;return this._blocks.slice(r,i).forEach((function(n){var r;n.lazy&&null==e||t.aggregate(n._appendPlaceholder(null==(r=n._blocks)?void 0:r.length))})),t}},{key:"_mapPosToBlock",value:function(e){for(var t="",n=0;n<this._blocks.length;++n){var r=this._blocks[n],i=t.length;if(e<=(t+=r.displayValue).length)return{index:n,offset:e-i}}}},{key:"_blockStartPos",value:function(e){return this._blocks.slice(0,e).reduce((function(e,t){return e+t.displayValue.length}),0)}},{key:"_forEachBlocksInRange",value:function(e,t,n){void 0===t&&(t=this.displayValue.length);var r=this._mapPosToBlock(e);if(r){var i=this._mapPosToBlock(t),o=i&&r.index===i.index,a=r.offset,s=i&&o?i.offset:this._blocks[r.index].displayValue.length;if(n(this._blocks[r.index],r.index,a,s),i&&!o){for(var l=r.index+1;l<i.index;++l)n(this._blocks[l],l,0,this._blocks[l].displayValue.length);n(this._blocks[i.index],i.index,0,i.offset)}}}},{key:"remove",value:function(e,n){void 0===e&&(e=0),void 0===n&&(n=this.displayValue.length);var r=H5(t,"remove",this,3)([e,n]);return this._forEachBlocksInRange(e,n,(function(e,t,n,i){r.aggregate(e.remove(n,i))})),r}},{key:"nearestInputPos",value:function(e,t){if(void 0===t&&(t=O2),!this._blocks.length)return 0;var n=new i5(this,e);if(t===O2)return n.pushRightBeforeInput()?n.pos:(n.popState(),n.pushLeftBeforeInput()?n.pos:this.displayValue.length);if(t===P2||t===S2){if(t===P2){if(n.pushRightBeforeFilled(),n.ok&&n.pos===e)return e;n.popState()}if(n.pushLeftBeforeInput(),n.pushLeftBeforeRequired(),n.pushLeftBeforeFilled(),t===P2){if(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.ok&&n.pos<=e)return n.pos;if(n.popState(),n.ok&&n.pos<=e)return n.pos;n.popState()}return n.ok?n.pos:t===S2?0:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:0))}return t===E2||t===j2?(n.pushRightBeforeInput(),n.pushRightBeforeRequired(),n.pushRightBeforeFilled()?n.pos:t===j2?this.displayValue.length:(n.popState(),n.ok?n.pos:(n.popState(),n.ok?n.pos:this.nearestInputPos(e,P2)))):e}},{key:"totalInputPositions",value:function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);var n=0;return this._forEachBlocksInRange(e,t,(function(e,t,r,i){n+=e.totalInputPositions(r,i)})),n}},{key:"maskedBlock",value:function(e){return this.maskedBlocks(e)[0]}},{key:"maskedBlocks",value:function(e){var t=this,n=this._maskedBlocks[e];return n?n.map((function(e){return t._blocks[e]})):[]}},{key:"pad",value:function(e){var t=new C3;return this._forEachBlocksInRange(0,this.displayValue.length,(function(n){return t.aggregate(n.pad(e))})),t}}])}(X3);function $5(e){return $5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$5(e)}W5.DEFAULTS=R5(R5({},X3.DEFAULTS),{},{lazy:!0,placeholderChar:"_"}),W5.STOP_CHAR="`",W5.ESCAPE_CHAR="\\",W5.InputDefinition=b5,W5.FixedDefinition=u5,I2.MaskedPattern=W5;var K5=["to","from","maxLength","autofix"];function Z5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J5(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J5(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Q5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e4(r.key),r)}}function e4(e){var t=function(e,t){if("object"!=$5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$5(t)?t:t+""}function t4(e,t,n){return t=o4(t),function(e,t){if(t&&("object"==$5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n4()?Reflect.construct(t,n||[],o4(e).constructor):t.apply(e,n))}function n4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n4=function(){return!!e})()}function r4(e,t,n,r){var i=i4(o4(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function i4(){return i4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=o4(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},i4.apply(null,arguments)}function o4(e){return o4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o4(e)}function a4(e,t){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a4(e,t)}var s4=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t4(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a4(e,t)}(t,e),function(e,t,n){return t&&Q5(e.prototype,t),n&&Q5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"updateOptions",value:function(e){r4(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){var n=e.to,r=void 0===n?this.to||0:n,i=e.from,o=void 0===i?this.from||0:i,a=e.maxLength,s=void 0===a?this.maxLength||0:a,l=e.autofix,u=void 0===l?this.autofix:l,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,K5);this.to=r,this.from=o,this.maxLength=Math.max(String(r).length,s),this.autofix=u;for(var f=String(this.from).padStart(this.maxLength,"0"),h=String(this.to).padStart(this.maxLength,"0"),d=0;d<h.length&&h[d]===f[d];)++d;c.mask=h.slice(0,d).replace(/0/g,"\\0")+"0".repeat(this.maxLength-d),r4(t,"_update",this,3)([c])}},{key:"isComplete",get:function(){return r4(t,"isComplete",this,1)&&Boolean(this.value)}},{key:"boundaries",value:function(e){var t="",n="",r=Z5(e.match(/^(\D*)(\d*)(\D*)/)||[],3),i=r[1],o=r[2];return o&&(t="0".repeat(i.length)+o,n="9".repeat(i.length)+o),[t=t.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9")]}},{key:"doPrepareChar",value:function(e,n){var r;void 0===n&&(n={});var i=Z5(r4(t,"doPrepareChar",this,3)([e.replace(/\D/g,""),n]),2);return e=i[0],r=i[1],e||(r.skip=!this.isComplete),[e,r]}},{key:"_appendCharRaw",value:function(e,n){if(void 0===n&&(n={}),!this.autofix||this.value.length+1>this.maxLength)return r4(t,"_appendCharRaw",this,3)([e,n]);var r=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),o=Z5(this.boundaries(this.value+e),2),a=o[0],s=o[1];return Number(s)<this.from?r4(t,"_appendCharRaw",this,3)([r[this.value.length],n]):Number(a)>this.to?!n.tail&&"pad"===this.autofix&&this.value.length+1<this.maxLength?r4(t,"_appendCharRaw",this,3)([r[this.value.length],n]).aggregate(this._appendCharRaw(e,n)):r4(t,"_appendCharRaw",this,3)([i[this.value.length],n]):r4(t,"_appendCharRaw",this,3)([e,n])}},{key:"doValidate",value:function(e){var n=this.value;if(-1===n.search(/[^0]/)&&n.length<=this._matchFrom)return!0;var r=Z5(this.boundaries(n),2),i=r[0],o=r[1];return this.from<=Number(o)&&Number(i)<=this.to&&r4(t,"doValidate",this,3)([e])}},{key:"pad",value:function(e){var n=this,r=new C3;if(this.value.length===this.maxLength)return r;var i=this.value,o=this.maxLength-this.value.length;if(o){this.reset();for(var a=0;a<o;++a)r.aggregate(r4(t,"_appendCharRaw",this,3)(["0",e]));i.split("").forEach((function(e){return n._appendCharRaw(e)}))}return r}}])}(W5);function l4(e){return l4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l4(e)}I2.MaskedRange=s4;var u4=["mask","pattern","blocks"],c4=["mask","pattern"];function f4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h4(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h4(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d4(){return d4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d4.apply(null,arguments)}function p4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v4(Object(n),!0).forEach((function(t){k4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x4(r.key),r)}}function b4(e,t,n){return t=E4(t),function(e,t){if(t&&("object"==l4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g4()?Reflect.construct(t,n||[],E4(e).constructor):t.apply(e,n))}function g4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g4=function(){return!!e})()}function w4(e,t,n,r,i,o){return function(e,t,n,r,i){if(!_4(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}(E4(o?e.prototype:e),t,n,r,i)}function _4(e,t,n,r){return _4="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,o=S4(e,t);if(o){if((i=Object.getOwnPropertyDescriptor(o,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else k4(r,t,n);return!0},_4(e,t,n,r)}function k4(e,t,n){return(t=x4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x4(e){var t=function(e,t){if("object"!=l4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l4(t)?t:t+""}function O4(e,t,n,r){var i=P4(E4(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function P4(){return P4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=S4(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},P4.apply(null,arguments)}function S4(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=E4(e)););return e}function E4(e){return E4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E4(e)}function j4(e,t){return j4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j4(e,t)}var T4=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b4(this,t,[t.extractPatternOptions(y4(y4({},t.DEFAULTS),e))])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j4(e,t)}(t,e),function(e,t,n){return t&&m4(e.prototype,t),n&&m4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){O4(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){var n=y4(y4({},t.DEFAULTS),e),r=n.mask,i=n.pattern,o=n.blocks,a=p4(n,u4),s=d4({},t.GET_DEFAULT_BLOCKS());e.min&&(s.Y.from=e.min.getFullYear()),e.max&&(s.Y.to=e.max.getFullYear()),e.min&&e.max&&s.Y.from===s.Y.to&&(s.m.from=e.min.getMonth()+1,s.m.to=e.max.getMonth()+1,s.m.from===s.m.to&&(s.d.from=e.min.getDate(),s.d.to=e.max.getDate())),d4(s,this.blocks,o),O4(t,"_update",this,3)([y4(y4({},a),{},{mask:_2(r)?r:i,blocks:s})])}},{key:"doValidate",value:function(e){var n=this.date;return O4(t,"doValidate",this,3)([e])&&(!this.isComplete||this.isDateExist(this.value)&&null!=n&&(null==this.min||this.min<=n)&&(null==this.max||n<=this.max))}},{key:"isDateExist",value:function(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}},{key:"date",get:function(){return this.typedValue},set:function(e){this.typedValue=e}},{key:"typedValue",get:function(){return this.isComplete?O4(t,"typedValue",this,1):null},set:function(e){w4(t,"typedValue",e,this,1,1)}},{key:"maskEquals",value:function(e){return e===Date||O4(t,"maskEquals",this,3)([e])}},{key:"optionsIsChanged",value:function(e){return O4(t,"optionsIsChanged",this,3)([t.extractPatternOptions(e)])}}],[{key:"extractPatternOptions",value:function(e){var t=e.mask,n=e.pattern;return y4(y4({},p4(e,c4)),{},{mask:_2(t)?t:n})}}])}(W5);function D4(e){return D4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D4(e)}T4.GET_DEFAULT_BLOCKS=function(){return{d:{mask:s4,from:1,to:31,maxLength:2},m:{mask:s4,from:1,to:12,maxLength:2},Y:{mask:s4,from:1900,to:9999}}},T4.DEFAULTS=y4(y4({},W5.DEFAULTS),{},{mask:Date,pattern:"d{.}`m{.}`Y",format:function(e,t){return e?[String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear()].join("."):""},parse:function(e,t){var n=f4(e.split(".").map(Number),3),r=n[0],i=n[1],o=n[2];return new Date(o,i-1,r)}}),I2.MaskedDate=T4;var A4=["expose"],C4=["compiledMasks","currentMaskRef","currentMask"],M4=["mask"];function L4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R4(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R4(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N4(Object(n),!0).forEach((function(t){Y4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U4(r.key),r)}}function z4(e,t,n){return t=$4(t),function(e,t){if(t&&("object"==D4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V4()?Reflect.construct(t,n||[],$4(e).constructor):t.apply(e,n))}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(V4=function(){return!!e})()}function q4(e,t,n,r,i,o){return function(e,t,n,r,i){if(!H4(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}($4(o?e.prototype:e),t,n,r,i)}function H4(e,t,n,r){return H4="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,o=W4(e,t);if(o){if((i=Object.getOwnPropertyDescriptor(o,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else Y4(r,t,n);return!0},H4(e,t,n,r)}function Y4(e,t,n){return(t=U4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U4(e){var t=function(e,t){if("object"!=D4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D4(t)?t:t+""}function G4(e,t,n,r){var i=X4($4(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function X4(){return X4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=W4(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},X4.apply(null,arguments)}function W4(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$4(e)););return e}function $4(e){return $4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$4(e)}function K4(e,t){return K4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K4(e,t)}var Z4=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=z4(this,t,[B4(B4({},t.DEFAULTS),e)])).currentMask=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K4(e,t)}(t,e),function(e,t,n){return t&&F4(e.prototype,t),n&&F4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){G4(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){var n=this;G4(t,"_update",this,3)([e]),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map((function(e){var t=H2(e),r=t.expose,i=I4(t,A4),o=Y2(B4({overwrite:n._overwrite,eager:n._eager,skipInvalid:n._skipInvalid},i));return r&&(n.exposeMask=o),o})):[])}},{key:"_appendCharRaw",value:function(e,t){void 0===t&&(t={});var n=this._applyDispatch(e,t);return this.currentMask&&n.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),n}},{key:"_applyDispatch",value:function(e,t,n){void 0===e&&(e=""),void 0===t&&(t={}),void 0===n&&(n="");var r=t.tail&&null!=t._beforeTailState?t._beforeTailState._value:this.value,i=this.rawInputValue,o=t.tail&&null!=t._beforeTailState?t._beforeTailState._rawInputValue:i,a=i.slice(o.length),s=this.currentMask,l=new C3,u=null==s?void 0:s.state;return this.currentMask=this.doDispatch(e,B4({},t),n),this.currentMask&&(this.currentMask!==s?(this.currentMask.reset(),o&&(this.currentMask.append(o,{raw:!0}),l.tailShift=this.currentMask.value.length-r.length),a&&(l.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):u&&(this.currentMask.state=u)),l}},{key:"_appendPlaceholder",value:function(){var e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}},{key:"_appendEager",value:function(){var e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}},{key:"appendTail",value:function(e){var n=new C3;return e&&n.aggregate(this._applyDispatch("",{},e)),n.aggregate(this.currentMask?this.currentMask.appendTail(e):G4(t,"appendTail",this,3)([e]))}},{key:"currentMaskFlags",value:function(e){var t,n;return B4(B4({},e),{},{_beforeTailState:(null==(t=e._beforeTailState)?void 0:t.currentMaskRef)===this.currentMask&&(null==(n=e._beforeTailState)?void 0:n.currentMask)||e._beforeTailState})}},{key:"doDispatch",value:function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=""),this.dispatch(e,this,t,n)}},{key:"doValidate",value:function(e){return G4(t,"doValidate",this,3)([e])&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}},{key:"doPrepare",value:function(e,n){void 0===n&&(n={});var r=L4(G4(t,"doPrepare",this,3)([e,n]),2),i=r[0],o=r[1];if(this.currentMask){var a,s=L4(G4(t,"doPrepare",this,3)([i,this.currentMaskFlags(n)]),2);i=s[0],a=s[1],o=o.aggregate(a)}return[i,o]}},{key:"doPrepareChar",value:function(e,n){void 0===n&&(n={});var r=L4(G4(t,"doPrepareChar",this,3)([e,n]),2),i=r[0],o=r[1];if(this.currentMask){var a,s=L4(G4(t,"doPrepareChar",this,3)([i,this.currentMaskFlags(n)]),2);i=s[0],a=s[1],o=o.aggregate(a)}return[i,o]}},{key:"reset",value:function(){var e;null==(e=this.currentMask)||e.reset(),this.compiledMasks.forEach((function(e){return e.reset()}))}},{key:"value",get:function(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""},set:function(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):q4(t,"value",e,this,1,1)}},{key:"unmaskedValue",get:function(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""},set:function(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):q4(t,"unmaskedValue",e,this,1,1)}},{key:"typedValue",get:function(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""},set:function(e){if(this.exposeMask)return this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,void this._applyDispatch();var t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}},{key:"displayValue",get:function(){return this.currentMask?this.currentMask.displayValue:""}},{key:"isComplete",get:function(){var e;return Boolean(null==(e=this.currentMask)?void 0:e.isComplete)}},{key:"isFilled",get:function(){var e;return Boolean(null==(e=this.currentMask)?void 0:e.isFilled)}},{key:"remove",value:function(e,t){var n=new C3;return this.currentMask&&n.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),n}},{key:"state",get:function(){var e;return B4(B4({},G4(t,"state",this,1)),{},{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(e){return e.state})),currentMaskRef:this.currentMask,currentMask:null==(e=this.currentMask)?void 0:e.state})},set:function(e){var n=e.compiledMasks,r=e.currentMaskRef,i=e.currentMask,o=I4(e,C4);n&&this.compiledMasks.forEach((function(e,t){return e.state=n[t]})),null!=r&&(this.currentMask=r,this.currentMask.state=i),q4(t,"state",o,this,1,1)}},{key:"extractInput",value:function(e,t,n){return this.currentMask?this.currentMask.extractInput(e,t,n):""}},{key:"extractTail",value:function(e,n){return this.currentMask?this.currentMask.extractTail(e,n):G4(t,"extractTail",this,3)([e,n])}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),G4(t,"doCommit",this,3)([])}},{key:"nearestInputPos",value:function(e,n){return this.currentMask?this.currentMask.nearestInputPos(e,n):G4(t,"nearestInputPos",this,3)([e,n])}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:this._overwrite},set:function(e){this._overwrite=e}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:this._eager},set:function(e){this._eager=e}},{key:"skipInvalid",get:function(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid},set:function(e){this._skipInvalid=e}},{key:"autofix",get:function(){return this.currentMask?this.currentMask.autofix:this._autofix},set:function(e){this._autofix=e}},{key:"maskEquals",value:function(e){return Array.isArray(e)?this.compiledMasks.every((function(t,n){if(e[n]){var r=e[n],i=r.mask;return D2(t,I4(r,M4))&&t.maskEquals(i)}})):G4(t,"maskEquals",this,3)([e])}},{key:"typedValueEquals",value:function(e){var t;return Boolean(null==(t=this.currentMask)?void 0:t.typedValueEquals(e))}}])}(X3);function J4(e){return J4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J4(e)}Z4.DEFAULTS=B4(B4({},X3.DEFAULTS),{},{dispatch:function(e,t,n,r){if(t.compiledMasks.length){var i=t.rawInputValue,o=t.compiledMasks.map((function(o,a){var s=t.currentMask===o,l=s?o.displayValue.length:o.nearestInputPos(o.displayValue.length,S2);return o.rawInputValue!==i?(o.reset(),o.append(i,{raw:!0})):s||o.remove(l),o.append(e,t.currentMaskFlags(n)),o.appendTail(r),{index:a,weight:o.rawInputValue.length,totalInputPositions:o.totalInputPositions(0,Math.max(l,o.nearestInputPos(o.displayValue.length,S2)))}}));return o.sort((function(e,t){return t.weight-e.weight||t.totalInputPositions-e.totalInputPositions})),t.compiledMasks[o[0].index]}}}),I2.MaskedDynamic=Z4;var Q4=["enum"];function e9(e){return function(e){if(Array.isArray(e))return t9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return t9(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t9(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(n),!0).forEach((function(t){i9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i9(e,t,n){return(t=a9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a9(r.key),r)}}function a9(e){var t=function(e,t){if("object"!=J4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J4(t)?t:t+""}function s9(e,t,n){return t=f9(t),function(e,t){if(t&&("object"==J4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l9()?Reflect.construct(t,n||[],f9(e).constructor):t.apply(e,n))}function l9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l9=function(){return!!e})()}function u9(e,t,n,r){var i=c9(f9(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function c9(){return c9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=f9(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c9.apply(null,arguments)}function f9(e){return f9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f9(e)}function h9(e,t){return h9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h9(e,t)}var d9=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s9(this,t,[r9(r9({},t.DEFAULTS),e)])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h9(e,t)}(t,e),function(e,t,n){return t&&o9(e.prototype,t),n&&o9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){u9(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){var n=e.enum,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Q4);if(n){var i=n.map((function(e){return e.length})),o=Math.min.apply(Math,e9(i)),a=Math.max.apply(Math,e9(i))-o;r.mask="*".repeat(o),a&&(r.mask+="["+"*".repeat(a)+"]"),this.enum=n}u9(t,"_update",this,3)([r])}},{key:"_appendCharRaw",value:function(e,n){var r=this;void 0===n&&(n={});var i=Math.min(this.nearestInputPos(0,j2),this.value.length),o=this.enum.filter((function(t){return r.matchValue(t,r.unmaskedValue+e,i)}));if(o.length){1===o.length&&this._forEachBlocksInRange(0,this.value.length,(function(e,t){var i=o[0][t];t>=r.value.length||i===e.value||(e.reset(),e._appendChar(i,n))}));var a=u9(t,"_appendCharRaw",this,3)([o[0][this.value.length],n]);return 1===o.length&&o[0].slice(this.unmaskedValue.length).split("").forEach((function(e){return a.aggregate(u9(t,"_appendCharRaw",r,3)([e]))})),a}return new C3({skip:!this.isComplete})}},{key:"extractTail",value:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length),new N3("",e)}},{key:"remove",value:function(e,n){var r=this;if(void 0===e&&(e=0),void 0===n&&(n=this.displayValue.length),e===n)return new C3;var i,o=Math.min(u9(t,"nearestInputPos",this,3)([0,j2]),this.value.length);for(i=e;i>=0;--i){var a=this.enum.filter((function(e){return r.matchValue(e,r.value.slice(o,i),o)}));if(a.length>1)break}var s=u9(t,"remove",this,3)([i,n]);return s.tailShift+=i-e,s}},{key:"isComplete",get:function(){return this.enum.indexOf(this.value)>=0}}])}(W5);function p9(e){return p9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p9(e)}function v9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v9(Object(n),!0).forEach((function(t){m9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m9(e,t,n){return(t=g9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g9(r.key),r)}}function g9(e){var t=function(e,t){if("object"!=p9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p9(t)?t:t+""}function w9(e,t,n){return t=O9(t),function(e,t){if(t&&("object"==p9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_9()?Reflect.construct(t,n||[],O9(e).constructor):t.apply(e,n))}function _9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_9=function(){return!!e})()}function k9(e,t,n,r){var i=x9(O9(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function x9(){return x9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=O9(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},x9.apply(null,arguments)}function O9(e){return O9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O9(e)}function P9(e,t){return P9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P9(e,t)}d9.DEFAULTS=r9(r9({},W5.DEFAULTS),{},{matchValue:function(e,t,n){return e.indexOf(t,n)===n}}),I2.MaskedEnum=d9;var S9,E9=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w9(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P9(e,t)}(t,e),function(e,t,n){return t&&b9(e.prototype,t),n&&b9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){k9(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){k9(t,"_update",this,3)([y9(y9({},e),{},{validate:e.mask})])}}])}(X3);function j9(e){return j9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j9(e)}function T9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||D9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D9(e,t){if(e){if("string"==typeof e)return A9(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A9(e,t):void 0}}function A9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function C9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C9(Object(n),!0).forEach((function(t){F9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z9(r.key),r)}}function R9(e,t,n){return t=Y9(t),function(e,t){if(t&&("object"==j9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I9()?Reflect.construct(t,n||[],Y9(e).constructor):t.apply(e,n))}function I9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I9=function(){return!!e})()}function N9(e,t,n,r,i,o){return function(e,t,n,r,i){if(!B9(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}(Y9(o?e.prototype:e),t,n,r,i)}function B9(e,t,n,r){return B9="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,o=H9(e,t);if(o){if((i=Object.getOwnPropertyDescriptor(o,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else F9(r,t,n);return!0},B9(e,t,n,r)}function F9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=function(e,t){if("object"!=j9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j9(t)?t:t+""}function V9(e,t,n,r){var i=q9(Y9(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function q9(){return q9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=H9(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},q9.apply(null,arguments)}function H9(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Y9(e)););return e}function Y9(e){return Y9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y9(e)}function U9(e,t){return U9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U9(e,t)}I2.MaskedFunction=E9;var G9=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R9(this,t,[M9(M9({},t.DEFAULTS),e)])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U9(e,t)}(t,e),function(e,t,n){return t&&L9(e.prototype,t),n&&L9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"updateOptions",value:function(e){V9(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){V9(t,"_update",this,3)([e]),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var e="^"+(this.allowNegative?"[+|\\-]?":""),t=(this.scale?"("+T2(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+"\\d*"+t),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(T2).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(T2(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(e){return e.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(e){var t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}},{key:"doPrepareChar",value:function(e,n){void 0===n&&(n={});var r=T9(V9(t,"doPrepareChar",this,3)([this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(n.input&&n.raw||!n.input&&!n.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),n]),2),i=r[0],o=r[1];return e&&!i&&(o.skip=!0),!i||this.allowPositive||this.value||"-"===i||o.aggregate(this._appendChar("-")),[i,o]}},{key:"_separatorsCount",value:function(e,t){void 0===t&&(t=!1);for(var n=0,r=0;r<e;++r)this._value.indexOf(this.thousandsSeparator,r)===r&&(++n,t&&(e+=this.thousandsSeparator.length));return n}},{key:"_separatorsCountFromSlice",value:function(e){return void 0===e&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}},{key:"extractInput",value:function(e,n,r){void 0===e&&(e=0),void 0===n&&(n=this.displayValue.length);var i=T9(this._adjustRangeWithSeparators(e,n),2);return e=i[0],n=i[1],this._removeThousandsSeparators(V9(t,"extractInput",this,3)([e,n,r]))}},{key:"_appendCharRaw",value:function(e,n){void 0===n&&(n={});var r=n.tail&&n._beforeTailState?n._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);var o=this._value;this._value+=e;var a,s,l=this.number,u=!isNaN(l),c=!1;u&&(null!=this.min&&this.min<0&&this.number<this.min&&(a=this.min),null!=this.max&&this.max>0&&this.number>this.max&&(a=this.max),null!=a&&(this.autofix?(this._value=this.format(a,this).replace(t.UNMASKED_RADIX,this.radix),c||(c=o===this._value&&!n.tail)):u=!1),u&&(u=Boolean(this._value.match(this._numberRegExp))));u?s=new C3({inserted:this._value.slice(o.length),rawInserted:c?"":e,skip:c}):(this._value=o,s=new C3),this._value=this._insertThousandsSeparators(this._value);var f=n.tail&&n._beforeTailState?n._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(f);return s.tailShift+=(h-i)*this.thousandsSeparator.length,s}},{key:"_findSeparatorAround",value:function(e){if(this.thousandsSeparator){var t=e-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,t);if(n<=e)return n}return-1}},{key:"_adjustRangeWithSeparators",value:function(e,t){var n=this._findSeparatorAround(e);n>=0&&(e=n);var r=this._findSeparatorAround(t);return r>=0&&(t=r+this.thousandsSeparator.length),[e,t]}},{key:"remove",value:function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.displayValue.length);var n=T9(this._adjustRangeWithSeparators(e,t),2);e=n[0],t=n[1];var r=this.value.slice(0,e),i=this.value.slice(t),o=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+i));var a=this._separatorsCountFromSlice(r);return new C3({tailShift:(a-o)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(e,t){if(!this.thousandsSeparator)return e;switch(t){case O2:case P2:case S2:var n=this._findSeparatorAround(e-1);if(n>=0){var r=n+this.thousandsSeparator.length;if(e<r||this.value.length<=r||t===S2)return n}break;case E2:case j2:var i=this._findSeparatorAround(e);if(i>=0)return i+this.thousandsSeparator.length}return e}},{key:"doCommit",value:function(){if(this.value){var e=this.number,n=e;null!=this.min&&(n=Math.max(n,this.min)),null!=this.max&&(n=Math.min(n,this.max)),n!==e&&(this.unmaskedValue=this.format(n,this));var r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&this.scale>0&&(r=this._padFractionalZeros(r)),this._value=r}V9(t,"doCommit",this,3)([])}},{key:"_normalizeZeros",value:function(e){var t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(function(e,t,n,r){return t+r})),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}},{key:"_padFractionalZeros",value:function(e){if(!e)return e;var t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}},{key:"doSkipInvalid",value:function(e,n,r){void 0===n&&(n={});var i=0===this.scale&&e!==this.thousandsSeparator&&(e===this.radix||e===t.UNMASKED_RADIX||this.mapToRadix.includes(e));return V9(t,"doSkipInvalid",this,3)([e,n,r])&&!i}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,t.UNMASKED_RADIX)},set:function(e){N9(t,"unmaskedValue",e,this,1,1)}},{key:"typedValue",get:function(){return this.parse(this.unmaskedValue,this)},set:function(e){this.rawInputValue=this.format(e,this).replace(t.UNMASKED_RADIX,this.radix)}},{key:"number",get:function(){return this.typedValue},set:function(e){this.typedValue=e}},{key:"allowNegative",get:function(){return null!=this.min&&this.min<0||null!=this.max&&this.max<0}},{key:"allowPositive",get:function(){return null!=this.min&&this.min>0||null!=this.max&&this.max>0}},{key:"typedValueEquals",value:function(e){return(V9(t,"typedValueEquals",this,3)([e])||t.EMPTY_VALUES.includes(e)&&t.EMPTY_VALUES.includes(this.typedValue))&&!(0===e&&""===this.value)}}])}(X3);S9=G9,G9.UNMASKED_RADIX=".",G9.EMPTY_VALUES=[].concat(function(e){return function(e){if(Array.isArray(e))return A9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D9(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(X3.EMPTY_VALUES),[0]),G9.DEFAULTS=M9(M9({},X3.DEFAULTS),{},{mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[S9.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:function(e){return e.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})}}),I2.MaskedNumber=G9;var X9={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function W9(e,t,n){void 0===t&&(t=X9.MASKED),void 0===n&&(n=X9.MASKED);var r=Y2(e);return function(e){return r.runIsolated((function(r){return r[t]=e,r[n]}))}}function $9(e){return $9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$9(e)}I2.PIPE_TYPE=X9,I2.createPipe=W9,I2.pipe=function(e,t,n,r){return W9(t,n,r)(e)};var K9=["repeat"];function Z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z9(Object(n),!0).forEach((function(t){o6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q9(){return Q9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q9.apply(null,arguments)}function e6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a6(r.key),r)}}function t6(e,t,n){return t=c6(t),function(e,t){if(t&&("object"==$9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n6()?Reflect.construct(t,n||[],c6(e).constructor):t.apply(e,n))}function n6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n6=function(){return!!e})()}function r6(e,t,n,r,i,o){return function(e,t,n,r,i){if(!i6(e,t,n,r||e)&&i)throw new TypeError("failed to set property");return n}(c6(o?e.prototype:e),t,n,r,i)}function i6(e,t,n,r){return i6="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var i,o=u6(e,t);if(o){if((i=Object.getOwnPropertyDescriptor(o,t)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,t)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,t,i)}else o6(r,t,n);return!0},i6(e,t,n,r)}function o6(e,t,n){return(t=a6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a6(e){var t=function(e,t){if("object"!=$9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$9(t)?t:t+""}function s6(e,t,n,r){var i=l6(c6(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function l6(){return l6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=u6(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},l6.apply(null,arguments)}function u6(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=c6(e)););return e}function c6(e){return c6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c6(e)}function f6(e,t){return f6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f6(e,t)}var h6=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t6(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f6(e,t)}(t,e),function(e,t,n){return t&&e6(e.prototype,t),n&&e6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"repeatFrom",get:function(){var e;return null!=(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)?e:0}},{key:"repeatTo",get:function(){var e;return null!=(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)?e:1/0}},{key:"updateOptions",value:function(e){s6(t,"updateOptions",this,3)([e])}},{key:"_update",value:function(e){var n,r,i,o=H2(e),a=o.repeat,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(o,K9);this._blockOpts=Q9({},this._blockOpts,s);var l=Y2(this._blockOpts);this.repeat=null!=(n=null!=(r=null!=a?a:l.repeat)?r:this.repeat)?n:1/0,s6(t,"_update",this,3)([{mask:"m".repeat(Math.max(this.repeatTo===1/0&&(null==(i=this._blocks)?void 0:i.length)||0,this.repeatFrom)),blocks:{m:l},eager:l.eager,overwrite:l.overwrite,skipInvalid:l.skipInvalid,lazy:l.lazy,placeholderChar:l.placeholderChar,displayChar:l.displayChar}])}},{key:"_allocateBlock",value:function(e){return e<this._blocks.length?this._blocks[e]:this.repeatTo===1/0||this._blocks.length<this.repeatTo?(this._blocks.push(Y2(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]):void 0}},{key:"_appendCharRaw",value:function(e,t){void 0===t&&(t={});for(var n,r,i=new C3,o=null!=(a=null==(s=this._mapPosToBlock(this.displayValue.length))?void 0:s.index)?a:Math.max(this._blocks.length-1,0);n=null!=(l=this._blocks[o])?l:r=!r&&this._allocateBlock(o);++o){var a,s,l,u,c=n._appendChar(e,J9(J9({},t),{},{_beforeTailState:null==(u=t._beforeTailState)||null==(u=u._blocks)?void 0:u[o]}));if(c.skip&&r){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(i.aggregate(c),c.consumed)break}return i}},{key:"_trimEmptyTail",value:function(e,t){var n,r;void 0===e&&(e=0);var i,o=Math.max((null==(n=this._mapPosToBlock(e))?void 0:n.index)||0,this.repeatFrom,0);null!=t&&(i=null==(r=this._mapPosToBlock(t))?void 0:r.index),null==i&&(i=this._blocks.length-1);for(var a=0,s=i;o<=s&&!this._blocks[s].unmaskedValue;--s,++a);a&&(this._blocks.splice(i-a+1,a),this.mask=this.mask.slice(a))}},{key:"reset",value:function(){s6(t,"reset",this,3)([]),this._trimEmptyTail()}},{key:"remove",value:function(e,n){void 0===e&&(e=0),void 0===n&&(n=this.displayValue.length);var r=s6(t,"remove",this,3)([e,n]);return this._trimEmptyTail(e,n),r}},{key:"totalInputPositions",value:function(e,n){return void 0===e&&(e=0),null==n&&this.repeatTo===1/0?1/0:s6(t,"totalInputPositions",this,3)([e,n])}},{key:"state",get:function(){return s6(t,"state",this,1)},set:function(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),r6(t,"state",e,this,1,1)}}])}(W5);I2.RepeatBlock=h6;try{globalThis.IMask=I2}catch(e){}({init:function(){document.addEventListener("input",this.handleInput.bind(this)),document.addEventListener("blur",this.handleBlur.bind(this),!0),document.addEventListener("focus",this.handleFocus.bind(this),!0)},handleInput:function(e){var t=e.target;t.hasAttribute("data-cdsmask-number")?this.applyMask(t,/^\d+$/):t.hasAttribute("data-cdsmask-phone")?this.applyMask(t,"+{7}(000)000-00-00"):t.hasAttribute("data-cdsmask-alphabet")?this.applyMask(t,/^[a-zA-Zа-яА-ЯЁё \-]+$/):t.hasAttribute("data-cdsmask-password")&&this.applyMask(t,/^[a-zA-Z0-9!@#$%^&*(),.?":{}|<>_\-]+$/)},handleBlur:function(e){var t=e.target;t.hasAttribute("data-cdsmask-email")&&this.validateEmail(t),this.updateLabelActiveStateOnBlur(t)},handleFocus:function(e){this.updateLabelActiveStateOnFocus(e.target)},applyMask:function(e,t){e.hasAttribute("data-initialized-mask")||(I2(e,{mask:t}),e.setAttribute("data-initialized-mask",""))},validateEmail:function(e){var t=e.closest(".form-wrap__input-wrap");""===e.value||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.value)?(null==t||t.classList.remove("required-error-field"),e.classList.remove("required-error")):(null==t||t.classList.add("required-error-field"),e.classList.add("required-error"))},updateLabelActiveStateOnFocus:function(e){var t=e.previousElementSibling;t&&"LABEL"===t.tagName&&t.classList.add("active")},updateLabelActiveStateOnBlur:function(e){var t=e.previousElementSibling;t&&"LABEL"===t.tagName&&(e.value||t.classList.remove("active"))}}).init();var d6=__webpack_require__(2969),p6=function(e){var t=document.createElement("div");t.className="cdsformhelper-animate";var n=document.createElement("div");n.className="cdsformhelprt-animate-wrapper";var r=document.createElement("div");r.className="cdsformhelper-animate-wrapper__loader";var i=document.createElement("div");i.className="cdsformhelper-animate-wrapper__notify",console.log(e.dataset.cdsformhelperAnimatenotify),i.textContent=e.dataset.cdsformhelperAnimatenotify,n.appendChild(r),n.appendChild(i),t.appendChild(n),e.style.pointerEvents="none",e.appendChild(t)},v6=function(e){var t=e.querySelector(".cdsformhelper-animate");t&&(e.style.pointerEvents="auto",t.remove())};function y6(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&t&&"string"==typeof t.message){n&&window.cdscore.cdsformhelper.hideLoader(e);var r=document.createElement("div");r.classList.add("cdsformhelper-message");var i="error"===t.type?"cdsformhelper-message-error":"cdsformhelper-message-success";r.classList.add(i);var o=document.createElement("div");o.classList.add("cdsformhelper-message__icon"),r.appendChild(o);var a=document.createElement("div");a.classList.add("cdsformhelper-message__text"),a.innerHTML=t.message,r.appendChild(a);var s=document.createElement("div");if(s.classList.add("cdsformhelper-message__close"),s.setAttribute("data-cdsformhelper-message-close",""),r.appendChild(s),""!==t.message){var l=e.querySelector("[data-cdsformhelper-message]");l?(l.innerHTML="",l.appendChild(r)):e.appendChild(r)}s.addEventListener("click",(function(){r.remove()})),t.error_fields&&Array.isArray(t.error_fields)&&t.error_fields.length>0&&b6(e,t.error_fields),t.reset_fields&&m6(e,t.reset_fields_ignore||[]),t.redirect?setTimeout((function(){window.location.href=t.redirect}),1e3*(t.timeout||3)):t.timeout&&setTimeout((function(){r.remove()}),1e3*t.timeout)}else console.error("Неверные параметры функции showMessage.")}function m6(e,t){for(var n=new Set(t),r=e.elements,i=0;i<r.length;i++){var o=r[i];"INPUT"!==o.tagName&&"SELECT"!==o.tagName&&"TEXTAREA"!==o.tagName||n.has(o.name)||("checkbox"===o.type||"radio"===o.type?o.checked=!1:o.value="")}}var b6=function(e,t){t.forEach((function(t){var n=e.querySelector("[name='".concat(t,"']")),r=n.closest("div");r&&r.classList.add("required-error-field"),n.classList.add("required-error")}))},g6=__webpack_require__(8622);window.cdscore={callbacks:h,methods:n2,repeater:m2,modal:g6.A,cdsmask:d,cdsvalidator:d6,cdsformhelper:p}})()})();